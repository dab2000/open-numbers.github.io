{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///vizabi.min.js","webpack:///webpack/bootstrap 8136d7fbb01ffd955f78","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./src/base/utils.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./src/base/component.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./src/components/dialogs/_dialog.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./src/base/iconset.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./src/base/class.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_metadata.js","webpack:///./src/components/indicatorpicker/indicatorpicker.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./src/models/hook.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./src/base/model.js","webpack:///./src/base/events.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./src/models/dataconnected.js","webpack:///./src/components/simpleslider/simpleslider.js","webpack:///./src/components/simplecheckbox/simplecheckbox.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/_object-forced-pam.js","webpack:///./src/base/reader.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/_math-expm1.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./src/helpers/requireAll.js","webpack:///./src/models/axis.js","webpack:///./src/models/data.js","webpack:///./src/base/globals.js","webpack:///./src/components/bubblesize/bubblesize.js","webpack:///./src/components/colorlegend/colorlegend.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./node_modules/core-js/modules/_bind.js","webpack:///./node_modules/core-js/modules/_parse-int.js","webpack:///./node_modules/core-js/modules/_parse-float.js","webpack:///./node_modules/core-js/modules/_a-number-value.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/_math-log1p.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_array-reduce.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/_collection-to-json.js","webpack:///./node_modules/core-js/modules/_array-from-iterable.js","webpack:///./src/base/tool.js","webpack:///./src/models/color.js","webpack:///./src/models/entities.js","webpack:///./src/models/group.js","webpack:///./src/models/label.js","webpack:///./src/models/locale.js","webpack:///./src/models/marker.js","webpack:///./src/models/side.js","webpack:///./src/models/size.js","webpack:///./src/models/stack.js","webpack:///./src/models/time.js","webpack:///./src/models/ui.js","webpack:///./src/helpers/d3.genericLogScale.js","webpack:///./src/helpers/d3.touchEvents.js","webpack:///./src/readers/csv/csv.js","webpack:///./src/components/buttonlist/buttonlist.js","webpack:///./src/components/buttonlist/optionsbuttonlist/optionsbuttonlist.js","webpack:///./src/helpers/d3.colorPicker.js","webpack:///./src/helpers/d3.axisWithLabelPicker.js","webpack:///./src/components/dialogs/about/about.js","webpack:///./src/components/dialogs/axes/axes.js","webpack:///./src/components/minmaxinputs/minmaxinputs.js","webpack:///./src/components/dialogs/colors/colors.js","webpack:///./src/components/dialogs/dialogs.js","webpack:///./src/components/dialogs/find/find.js","webpack:///./src/components/dialogs/grouping/grouping.js","webpack:///./src/components/dialogs/label/label.js","webpack:///./src/components/sizeslider/sizeslider.js","webpack:///./src/components/dialogs/moreoptions/moreoptions.js","webpack:///./src/components/dialogs/opacity/opacity.js","webpack:///./src/components/dialogs/presentation/presentation.js","webpack:///./src/components/dialogs/show/show.js","webpack:///./src/components/dialogs/side/side.js","webpack:///./src/components/dialogs/size/size.js","webpack:///./src/components/dialogs/speed/speed.js","webpack:///./src/components/dialogs/stack/stack.js","webpack:///./src/components/draggablelist/draggablelist.js","webpack:///./src/components/dialogs/timedisplay/timedisplay.js","webpack:///./src/helpers/d3.dynamicBackground.js","webpack:///./src/components/dialogs/zoom/zoom.js","webpack:///./src/components/zoombuttonlist/zoombuttonlist.js","webpack:///./src/vizabi-gapminder.js","webpack:///./node_modules/babel-polyfill/lib/index.js","webpack:///./node_modules/core-js/shim.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/_keyof.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/es6.object.create.js","webpack:///./node_modules/core-js/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js","webpack:///./node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.object.is-frozen.js","webpack:///./node_modules/core-js/modules/es6.object.is-sealed.js","webpack:///./node_modules/core-js/modules/es6.object.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///./node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/es6.function.bind.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.function.has-instance.js","webpack:///./node_modules/core-js/modules/es6.parse-int.js","webpack:///./node_modules/core-js/modules/es6.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/es6.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es6.number.to-precision.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/core-js/modules/es6.number.is-finite.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/modules/es6.math.acosh.js","webpack:///./node_modules/core-js/modules/es6.math.asinh.js","webpack:///./node_modules/core-js/modules/es6.math.atanh.js","webpack:///./node_modules/core-js/modules/es6.math.cbrt.js","webpack:///./node_modules/core-js/modules/es6.math.clz32.js","webpack:///./node_modules/core-js/modules/es6.math.cosh.js","webpack:///./node_modules/core-js/modules/es6.math.expm1.js","webpack:///./node_modules/core-js/modules/es6.math.fround.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/core-js/modules/es6.math.imul.js","webpack:///./node_modules/core-js/modules/es6.math.log10.js","webpack:///./node_modules/core-js/modules/es6.math.log1p.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.math.sinh.js","webpack:///./node_modules/core-js/modules/es6.math.tanh.js","webpack:///./node_modules/core-js/modules/es6.math.trunc.js","webpack:///./node_modules/core-js/modules/es6.string.from-code-point.js","webpack:///./node_modules/core-js/modules/es6.string.raw.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/es6.string.code-point-at.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/core-js/modules/es6.string.big.js","webpack:///./node_modules/core-js/modules/es6.string.blink.js","webpack:///./node_modules/core-js/modules/es6.string.bold.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/core-js/modules/es6.string.fontcolor.js","webpack:///./node_modules/core-js/modules/es6.string.fontsize.js","webpack:///./node_modules/core-js/modules/es6.string.italics.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/es6.string.small.js","webpack:///./node_modules/core-js/modules/es6.string.strike.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.string.sup.js","webpack:///./node_modules/core-js/modules/es6.date.now.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-primitive.js","webpack:///./node_modules/core-js/modules/_date-to-primitive.js","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/core-js/modules/es6.array.join.js","webpack:///./node_modules/core-js/modules/es6.array.slice.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.for-each.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/es6.array.map.js","webpack:///./node_modules/core-js/modules/es6.array.filter.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/es6.array.every.js","webpack:///./node_modules/core-js/modules/es6.array.reduce.js","webpack:///./node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/core-js/modules/es6.array.index-of.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/es6.array.copy-within.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/core-js/modules/es6.array.species.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/core-js/modules/es6.typed.array-buffer.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.reflect.apply.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/core-js/modules/es6.reflect.define-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.delete-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.enumerate.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.has.js","webpack:///./node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.reflect.set.js","webpack:///./node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/es7.string.at.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/es7.string.pad-end.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/core-js/modules/es7.string.match-all.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/es7.symbol.observable.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/es7.object.define-getter.js","webpack:///./node_modules/core-js/modules/es7.object.define-setter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-getter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-setter.js","webpack:///./node_modules/core-js/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/modules/es7.system.global.js","webpack:///./node_modules/core-js/modules/es7.error.is-error.js","webpack:///./node_modules/core-js/modules/es7.math.iaddh.js","webpack:///./node_modules/core-js/modules/es7.math.isubh.js","webpack:///./node_modules/core-js/modules/es7.math.imulh.js","webpack:///./node_modules/core-js/modules/es7.math.umulh.js","webpack:///./node_modules/core-js/modules/es7.reflect.define-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.delete-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.metadata.js","webpack:///./node_modules/core-js/modules/es7.asap.js","webpack:///./node_modules/core-js/modules/es7.observable.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/modules/_partial.js","webpack:///./node_modules/core-js/modules/_path.js","webpack:///./node_modules/core-js/modules/web.immediate.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/fn/regexp/escape.js","webpack:///./node_modules/core-js/modules/core.regexp.escape.js","webpack:///./node_modules/core-js/modules/_replacer.js","webpack:///./src/vizabi.js","webpack:///./node_modules/vizabi-interpolators/interpolators.js","webpack:///./src/base/intervals.js","webpack:///./src/models ^\\.\\/.*$","webpack:///./src/base/datastorage.js","webpack:///./src/readers \\.js$","webpack:///./src/readers/csv-time_in_columns/csv-time_in_columns.js","webpack:///./node_modules/parse-decimal-number/dist/parse-decimal-number.js","webpack:///./src/readers/inline/inline.js","webpack:///./src/components \\.js$","webpack:///./src/components/bubblesize/bubblesize.html","webpack:///./src/components/datanotes/datanotes.js","webpack:///./src/components/datawarning/datawarning.js","webpack:///./src/components/dialogs \\.html$","webpack:///./src/components/dialogs/about/about.html","webpack:///./src/components/dialogs/axes/axes.html","webpack:///./src/components/dialogs/colors/colors.html","webpack:///./src/components/dialogs/find/find.html","webpack:///./src/components/dialogs/grouping/grouping.html","webpack:///./src/components/dialogs/label/label.html","webpack:///./src/components/dialogs/moreoptions/moreoptions.html","webpack:///./src/components/dialogs/opacity/opacity.html","webpack:///./src/components/dialogs/presentation/presentation.html","webpack:///./src/components/dialogs/show/show.html","webpack:///./src/components/dialogs/side/side.html","webpack:///./src/components/dialogs/size/size.html","webpack:///./src/components/dialogs/speed/speed.html","webpack:///./src/components/dialogs/stack/stack.html","webpack:///./src/components/dialogs/timedisplay/timedisplay.html","webpack:///./src/components/dialogs/zoom/zoom.html","webpack:///./src/components/minmaxinputs/minmaxinputs.html","webpack:///./src/components/sizeslider/sizeslider.html","webpack:///./src/components/steppedspeedslider/steppedspeedslider.js","webpack:///./src/components/steppedspeedslider/steppedspeedslider.html","webpack:///./src/components/timeslider/timeslider.js","webpack:///./src/components/timeslider/timeslider.html","webpack:///./src/components/treemenu/treemenu.js","webpack:///./src/components/dialogs \\.js$","webpack:///./src/helpers nonrecursive \\.js$","webpack:///./src/helpers/d3.collisionResolver.js","webpack:///./src/helpers/d3.geoProjection.js","webpack:///./src/helpers/labels.js","webpack:///./node_modules/css.escape/css.escape.js","webpack:///./src/helpers/svgexport.js","webpack:///./src/helpers/textEllipsis.js","webpack:///./src/helpers/topojson.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","core","hide","redefine","ctx","$export","type","source","key","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","undefined","Function","U","W","R","isSpecificValue","val","Boolean","Date","RegExp","cloneSpecificValue","getTime","Error","deepCloneArray","arr","clone","forEach","item","index","_typeof","isArray","deepExtend","makeAbsoluteContext","element","svgDocument","x","y","offset","getBoundingClientRect","matrix","getScreenCTM","a","e","left","b","f","top","firstBy","identity","v","ignoreCase","toLowerCase","makeCompareFunction","opt","direction","prop","v1","length","uf","preprocess","v2","tb","func","thenBy","transform","node","_node$transform$baseV","baseVal","consolidate","scaleX","scaleY","skewX","Math","sqrt","translateX","translateY","rotate","atan2","PI","atan","getValueMD","values","keysArray","value","j","px2num","getProp","isFunction","isMobileOrTablet","capitalize","setIcon","pruneTree","isTouchDevice","debounce","memoize","post","ajax","interpolatePoint","interpolateVector","nestArrayToObj","hashCode","clearDelay","delay","defer","diffObject","arrayLast","arrayMedian","arraySum","arrayMean","arrayMax","arrayMin","keys","throttle","hasClass","classed","removeClass","addClass","countDecimals","error","groupEnd","groupCollapsed","warn","timeStamp","areaToRadius","hypotenuse","radiusToArea","preventAncestorScrolling","matchAny","filterAny","filter","find","uniqueLast","unique","without","deepClone","merge","extend","strToFloat","roundStep","findScrollableAncestor","getViewportPosition","comparePlainObjects","arrayEquals","isPlainObject","isNumber","isEmpty","isNaN","isString","isDate","isObject","isElement","uniqueId","approxEqual","Symbol","iterator","obj","constructor","_interpolators","_interpolators2","default","tolerance","abs","id","nodeType","Array","toString","arg","getClass","match","whatis","indexOf","compare","equal","compareArrays","_equal","array","date","regexp","atype","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","scrollable","parentNode","scrollHeight","clientHeight","d3","select","style","number","step","round","string","replace","callback","size","result","apply","dest","objs","slice","arguments","k","lastArgIsBool","overwriteByEmpty","args","src","_data","push","exclude","el","idx","splice","map","data","uniqueValues","u","found","resIndex","s_keys","wildcard","wildc","min","max","preventScrolling","on","height","offsetHeight","delta","event","wheelDelta","up","scrollTopTween","_this","interpolateNumber","t","transition","duration","tween","setTimeout","stopPropagation","preventDefault","returnValue","r","message","console","JSON","stringify","join","err","stack","floor","valueOf","split","className","classList","add","remove","contains","test","ms","throttled","savedArgs","savedThis","nextTime","__recallLast","wrapper","now","recallLast","reduce","sort","middle","obj2","obj1","diff","Promise","resolve","delayId","clearTimeout","str","hash","charCodeAt","res","items","use","which","next","dimTime","time","method","extrapolate","bisectLeft","options","request","XMLHttpRequest","open","url","json","setRequestHeader","onload","status","parse","responseText","success","onerror","send","pars","fn","currentArg","wait","immediate","timeout","context","later","callNow","sourceCapabilities","firesTouchEvents","window","DocumentTouch","document","tree","filterCallback","filteredTree","filteredChildrens","children","childrenTree","icon","selectAll","appendChild","ownerDocument","importNode","DOMParser","parseFromString","documentElement","toUpperCase","agent","navigator","userAgent","vendor","opera","substr","props","defaultValue","shift","pixels","endsWith","parseFloat","it","TypeError","_interopRequireDefault","templateFunc","templates","_globals2","_utils","utils","newObj","_events","_events2","_model","_model2","_globals","Component","init","config","parent","_id","_ready","_readyOnce","template","placeholder","template_data","querySelector","components","_components_config","model_expects","model_binds","createModel","model","ui","_super","registerListeners","configModel","_modelMapping","readyOnce","ready","domReady","resize","startPreload","promises","preload","subComponent","all","afterPreload","subcomp","render","prerender","postrender","loadTemplate","loadSubComponents","trigger","startLoading","loadingDone","isLoading","setReady","renderError","setError","opts","tmpl","rendered","getTranslationFunction","innerHTML","getActiveProfile","profiles","presentationProfileChanges","layoutProfile","getLayoutProfile","presentationMode","getPresentationMode","activeProfile","comp","component_config","component","_uiMapping","findChildByName","currentProfile","sub_ui","model_config","_mapOne","parts","current","current_name","getType","model_info","new_name","existing","expected","wrap","t_func","getTFunction","_translatedStringFunction","translation_function","translateStrings","strings","querySelectorAll","getAttribute","clear","freeze","isComponent","self","__g","exec","store","uid","USE_SYMBOL","anObject","IE8_DOM_DEFINE","toPrimitive","dP","O","Attributes","dialogDrag","container","xOffset","posX","posY","divTop","divRight","marginRight","marginLeft","xOffsetRight","xOffsetLeft","eWi","eHe","cWi","cHe","diffX","diffY","move","dragStart","evt","touchCoord","touches","sourceEvent","clientX","clientY","parseInt","drag","aX","aY","_component","_component2","_iconset","_requireAll","_requireAll2","dialogTemplates","Dialog","isDialog","titleEl","buttonsEl","contentEl","placeholderEl","rootEl","dragHandler","html","pinIcon","pin","topPos","profile","dg","dragBehavior","rightPos","chartWidth","chartHeight","dialogWidth","dialogHeight","dialogRight","dialogTop","dialogRightMargin","isOpen","attr","_setMaxHeight","totalHeight","dialogBottom","contentHeight","beforeOpen","transitionEvents","transitionEnd","bind","beforeClose","topPos0","close","eventName","toInteger","defined","createDesc","has","SRC","$toString","TPL","inspectSource","safe","String","IObject","fails","quot","createHTML","tag","attribute","p1","NAME","pIE","toIObject","gOPD","getOwnPropertyDescriptor","toObject","IE_PROTO","ObjectProto","getPrototypeOf","paintbrush","search","circle","expand","asterisk","trails","lock","unlock","unexpand","axes","gear","question","presentation","about","cursorArrow","cursorPlus","cursorMinus","hundredPercent","percent","side","cursorHand","KEY","toLength","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","extensions","Class","trackInstances","instances","initializing","fnTest","tmp","ret","_collection","register","code","unregister","getCollection","silent","version","__e","aFunction","LIBRARY","$typed","$buffer","anInstance","propertyDesc","redefineAll","toIndex","same","classof","isArrayIter","gOPN","getIterFn","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","RangeError","Uint8Array","ArrayProto","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","arrayKeys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","set","strictToLength","SAME","toOffset","BYTES","validate","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","aLen","mapfn","mapping","iterFn","done","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","start","every","fill","predicate","findIndex","searchElement","includes","separator","reverse","some","comparefn","subarray","begin","end","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","len","$iterators","isTAIndex","$getDesc","$setDesc","desc","writable","$TypedArrayPrototype$","CLAMPED","ISNT_UINT8","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","setter","addElement","$offset","$length","byteLength","klass","$len","iter","concat","$nativeIterator","CORRECT_ITER_NAME","$iterator","from","of","Map","shared","getOrCreateMetadataMap","targetKey","targetMetadata","keyMetadata","ordinaryHasOwnMetadata","MetadataKey","metadataMap","ordinaryGetOwnMetadata","ordinaryDefineOwnMetadata","MetadataValue","ordinaryOwnMetadataKeys","_","toMetaKey","IndPicker","showHoverValues","translate:locale","updateView","path","targetProp","targetModel","isHook","_parent","mdl","marker","_highlightedEntity","getHighlighted","getFrame","frame","_highlighted","dimension","getEntity","getDimension","multiDim","isDiscrete","_name","KEYS","_type","clModel","getColorlegendMarker","label","getItems","_highlightedValue","isEntities","_getAllDimensions","exceptType","el_select","rect","rootRect","treemenuComp","treemenuColWidth","col_width","treemenuPaddLeft","treemenuPaddRight","bottom","leftPos","width","alignX","alignY","toggle","infoEl","setHook","show","setPos","translator","locale","concept","getConceptprops","_root","selectText","unit","formatter","getTickFormatter","text","offsetWidth","scrollWidth","hideInfoEl","description","sourceName","sourceLink","bitmap","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","ceil","_slicedToArray","sliceIterator","_arr","_n","_e","_s","_i","_dataconnected","_dataconnected2","Hook","_important","objectLeafs","dataConnectedChildren","getClassDefaults","defaults","buildScale","setInterModelListeners","_this2","spaceRefs","getSpace","_space","getClosestModel","handleDataConnectedChange","onSuccessfullLoad","setWhich","newValue","dataSource","newDataSource","conceptProps","scales","scaleType","domainMin","domainMax","zoomedMin","zoomedMax","setScaleType","preloadData","autoGenerateModel","autogenerate","getConceptByIndex","conceptIndex","conceptType","loadData","query","getQuery","splashScreen","_loadCall","parsers","_getAllParsers","dataPromise","load","then","afterLoad","_this3","catch","_isLoading","_loadedOnce","dataId","_dataId","grouping","_getGrouping","setGrouping","filters","exceptions","allDimensions","dimensions","spaceRef","dim","animatable","_getFirstDimension","_getAllFilters","explicitAndFilters","filterKey","_getAllJoins","language","where","order_by","h","onlyType","skipFilter","getFilter","joinFilter","joins","parser","getParser","column","getDimensionOrWhich","group","removePrefix","percentageMode","format","formatDate","prefix","log","LN10","formatted","getScale","scale","getUnique","getData","getValidItems","getNestedItems","getHaveNoDataPointsPerKey","getLimits","steps","forceFrame","selected","getFrames","validItems","getLimitsByDimensions","dims","filtered","limitsDim","countLimits","limits","iterateGroupKeys","deep","cb","_this4","_getConceptprops","_getConceptprops$scal","allow","scaleTypeIsAllowed","genericLogIsAllowed","_scales","_scales2","firstAllowedScaleType","px","random","$keys","enumBugKeys","dPs","Empty","createDict","iframeDocument","iframe","display","contentWindow","write","lt","Properties","hiddenKeys","getOwnPropertyNames","DESCRIPTORS","SPECIES","Constructor","forbiddenField","bindSetterGetter","initSubmodel","persistent","onChange","onHookChange","vals","onReady","submodel","isObjectLeaf","ModelLeaf","change","binds","hook_change","load_error","dataLoaded","Model","isModel","modelType","Modl","getIntervals","_intervals","_intervals2","_persistent","_persistentVal","_val","force","isSetAllowed","_previousVal","ChangeEvent","setTreeFreezer","freezerStatus","unfreeze","_limits","initialValues","setting","_setting","attrs","freezeCall","_freeze","changes","bothModel","bothModelLeaf","prevValue","setSuccess","checkDataChanges","getSubmodels","validationFunction","submodels","subModel","getPlainObject","dataItem","leafValue","dateObject","getModelObject","off","clearAllIntervals","prev_ready","triggerLoadError","loadSubmodels","subModels","handleLoadError","getDefaultErrorMessage","getSubhooks","getHookWhich","getIndicators","getProperties","mapValue","getDefaults","getSubmodelDefaults","findSubmodel","includeLeaf","freezeAll","_freezeAllEvents","_freezeAllExceptions","unfreezeAll","_frozenEventInstances","instance","DefaultEvent","_class","_class2","EventSource","_freezer","_freezeExceptions","splitEventParameters","traversePath","eventFunc","currentTarget","createEventFromType","evtType","eventClass","execute","msg","allowExecution","clearFrozen","def","stat","spaces","space","non","ltrim","rtrim","exporter","ALIAS","FORCE","trim","UNSCOPABLES","BREAK","RETURN","iterable","DataConnected","changedChildren","child","SimpleSlider","thumb_size","slider_properties","properties","_setModel","suppressInput","slider","elementSize","sliderSize","roundTo","scrollAncestor","invert","toFixed","checkbox","change:mdl","parentModel","labelEl","checkEl","cof","propertyIsEnumerable","ARG","tryGet","T","callee","IS_INCLUDES","fromIndex","getOwnPropertySymbols","un","MATCH","isRegExp","SAFE_CLOSING","riter","skipClosing","multiline","unicode","sticky","SYMBOL","fns","strfn","rxfn","forOf","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","ADDER","fixMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","getConstructor","setStrong","Typed","TypedArrayConstructors","K","__defineSetter__","Reader","QUERY_FROM_CONCEPTS","QUERY_FROM_DATAPOINTS","QUERY_FROM_ENTITIES","CONDITION_CALLBACKS","$gt","configValue","rowValue","$gte","$lt","$lte","$in","ERRORS","GENERIC_ERROR","rows","columns","read","_normalizeQuery","_query2","ensureDataIsCorrect","_getConcepts","_mapRows","_isDataQuery","_getData","_query","assign","$and","whereResult","condition","rowKey","conditionValue","startsWith","joinWhere","joinRowKey","callbackConditions","callbackKey","keySize","concept_type","_columns","domain","_query$order_by","_order_by","orderBy","_applyQuery","prev","_getRowMapper","row","correct","defaultValueString","resultValue","_parse","_select$key","uniqueKey","isUnique","_isSuitableRow","rowFilteredByKeys","resultRow","_this5","conditionKey","payload","g","eval","is","createElement","wksExt","$Symbol","charAt","check","setPrototypeOf","buggy","__proto__","count","Infinity","sign","$expm1","expm1","TO_STRING","pos","$iterCreate","BUGGY","returnThis","DEFAULT","IS_SET","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","descriptor","searchString","re","$defineProperty","getIteratorMethod","endPos","addToUnscopables","iterated","_t","_k","Arguments","D","channel","port","invoke","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","run","listener","nextTick","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","macrotask","Observer","MutationObserver","WebKitMutationObserver","isNode","head","last","notify","flush","exit","enter","createTextNode","observe","characterData","promise","task","BaseBuffer","pow","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","numIndex","intIndex","_b","pack","conversion","validateArrayBufferArguments","numberLength","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","getDepth","requireAll","_require","depth","required","_hook","_hook2","AxisModel","timeMdl","splash","startOrigin","endOrigin","scaleUtc","_scaleType","_getZoomed","zoomed","getZoomedMin","getZoomedMax","_reader","_reader2","_datastorage","DataModel","reader","queryQueue","_collectionPromises","readerObject","getReader","loadConceptProps","dataset","DataStorage","getDataId","loadFromReader","getAsset","assetName","response","readerClass","what","whatId","handleConceptPropsResponse","conceptDictionary","_default","tags","conceptArray","indicator_url","color","interpolation","getDatasetName","getDatasetInfo","framesArray","neededFrame","listenFrame","build","OPTIONS","EXTENT_MIN","EXTENT_MAX","TEXT_PARAMS","TOP","LEFT","MAX_WIDTH","MAX_HEIGHT","BAR_WIDTH","THUMB_RADIUS","THUMB_STROKE_WIDTH","INTRO_DURATION","small","minRadiusPx","maxRadiusEm","medium","large","BubbleSize","changeMinMaxHandler","extent","_updateLabels","_moveBrush","readyHandler","sizeScaleMinMax","_setLabelsText","change:size.domainMin","change:size.domainMax","change:size.extent","showArcs","sliderSvg","sliderWrap","sliderEl","textMargin","textMaxWidth","textMaxHeight","barWidth","thumbRadius","thumbStrokeWidth","padding","right","minMaxBubbleRadius","getMinMaxBubbleRadius","xScale","scaleLinear","range","clamp","brush","brushX","handleSize","nonBrushChange","selection","__brush","_setFromExtent","sliderThumbs","append","sliderArcsEl","sliderLabelsWrapperEl","sliderLabelsEl","_updateSize","isRTL","containerWH","getVizWidthHeight","minWH","maxBubbleRadius","svgWidth","_updateArcs","valueArc","arc","outerRadius","innerRadius","startAngle","endAngle","dX","texts","setModel","brushSelection","_d2","_d3","_d4","ColorLegend","change:color.scaleType","colorModel","change:color.palette","change:marker.highlight","_hlEntities","updateGroupsOpacity","colorPicker","translate","colorlegendMarker","listColorsEl","rainbowEl","rainbowCanvasEl","minimapEl","rainbowLegendEl","rainbowLegendSVG","rainbowLegendG","rainbowLegend","labelScaleEl","labelScaleSVG","labelScaleG","unitDiv","unitText","minimapSVG","minimapG","_initSelectDialog","moreOptionsHint","selectDialog","_initSelectDialogItems","selectDialogTitle","_closeSelectDialog","selectAllButton","removeElseButton","editColorButton","editColorButtonTooltip","_bindSelectDialogItems","_len","_key","indicators","textContent","_interact","clickToSelect","_interact2","clickToShow","_interact3","clickToChangeColor","entities","colorlegendDim","canShowMap","getColorlegendEntities","hook_geoshape","colorlegendKeys","getKeys","palette","getPalette","colorOptions","hideColorOptions","_updateSelectDialog","cScale","tempdivEl","mouseover","mouseout","each","shapeString","gbbox","getBBox","gradientWidth","paletteKeys","fitIntoScale","paletteLabels","paletteMax","labelScaleType","labelScale","labelsAxis","tickSizeOuter","tickPadding","tickSizeMinor","labelerOptions","toolMargin","showOuter","bump","cssFontSize","colorRange","gIndicators","paletteKey","getContext","image","createImageData","rgb","putImageData","isColorSelectable","isUserSelectable","_highlight","setSuperHighlight","setHighlight","_unhighlight","clearSuperHighlighted","clearHighlighted","defaultPalette","getDefaultPalette","colorOld","colorDef","isClick","setColor","fitToScreen","pageX","pageY","oldShow","entityIndex","isSelected","clearSelected","setSelect","highlight","clMarker","OPACITY_REGULAR","opacityRegular","OPACITY_DIM","opacityHighlightDim","names","defineProperties","windowNames","getWindowNames","gOPS","$assign","A","getSymbols","isEnum","factories","construct","partArgs","bound","$parseInt","$trim","ws","hex","radix","$parseFloat","isFinite","log1p","memo","isRight","to","inc","flags","strong","entry","getEntry","$iterDefine","SIZE","_f","_l","delete","InternalMap","weak","uncaughtFrozenStore","ufstore","$WeakMap","$has","UncaughtFrozenStore","findUncaughtFrozen","Reflect","ownKeys","repeat","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","isEntries","ToolModel","tool","external_model","default_model","listeners","getToolListeners","validate_func","model2","Tool","getToolTemplate","setCSSClasses","setResizeHandler","state","beforeLoading","resize:ui","triggerResize","setRTL","setContainer","clientWidth","loadSplashScreen","finishLoading","getPersistentModel","removeFunctions","childKey","currentToolModel","getPersistentMinimalModel","diffModel","defaultModel","currentPersistentModel","redundantModel","getModel","newModelJSON","overwrite","reset","buttons","defaultPalettes","_continuous","0","25","50","75","100","_discrete","1","2","3","4","5","6","7","8","9","10","11","ColorModel","syncModels","_syncModelReferences","_hasDefaultColor","_setSyncModels","currentPalette","getColorShade","colorID","shadeID","darker","conceptpropsColor","shade","shades","selectable","modelName","_setSyncModel","newFilter","setDataSourceForAllSubhooks","pointer","temp","discreteDefaultPalette","_getPaletteLabels","getPaletteLabels","includeDefault","paletteObject","singlePoint","interpolate","interpolateCubehelix","scaleGenericlog","_defineProperty","EntitiesModel","setDimension","showEntity","newShow","showArray","isShown","clearShow","getFilteredEntities","_ref","_ref$$in","GroupModel","manualSorting","LabelModel","rtlLocales","LocaleModel","filePath","reject","handleNewStrings","receivedStrings","getUIString","stringId","_toConsumableArray","arr2","Marker","superHighlight","opacitySelectDim","allowSelectMultiple","_visible","checkTimeLimits","_multiDim","hook","visible_array","setVisible","getVisible","getSelected","selectMarker","_createValue","timeDim","timeFormatter","added","isSuperHighlighted","highlightMarker","isHighlighted","unhighlightEntity","setLabelOffset","xy","selectedMarker","labelOffset","tLimits","getTimeLimits","newTime","minArray","maxArray","cachedTimeLimits","cachedLimits","resultMin","resultMax","getImportantHooks","importantHooks","_dataCube","getLabelHookNames","getKeysMD","resultKeys","TIME","iterateKeys","keyObj","nested","keyNames","deepMax","_deep","_keyObj","noDataPoints","keysNoDP","_grouping","_getCachePath","getAllSteps","cachePath","dataLoading","subHooks","models","framesAreReady","cachedFrames","nextFrameIndex","_interpolateBetweenFrames","prevFrameTime","nextFrameTime","pValues","nValues","hookDataBF","firstKey","lastKey","firstKeyObject","lastKeyObject","val1","val2","fraction","dataBetweenFrames","lastIndex","nextIndex","frameQueues","partialResult","deferredHooks","rej","currentHookState","listenFramesQueue","preparedFrames","dataIds","stepsCount","isDataLoaded","keyName","getEntityLimits","entity","timePoints","selectedEdgeTimes","hooks","findEntityWithCompleteHooks","findSelectedTime","findCB","point","SideModel","dataConnChildren","switchSideState","clearSideState","_axis","_axis2","SizeModel","palettes","ALL","StackModel","getPalettes","weekFormat","formatWeekYear","formatWeek","dateString","matchedDate","getDateFromWeek","origin","getUTCDay","getUTCFullYear","quote","week","setUTCMonth","p2","year","startDateOfYear","setUTCFullYear","setUTCDate","startDayOfWeek","dayOfYear","formats","quarterFormat","formatQuarter","getDateFromQuarter","getUTCMonth","quarter","month","utc","toUTCString","day","hour","minute","second","TimeModel","startSelected","endSelected","playable","playing","loop","delayThresholdX2","delayThresholdX4","immediatePlay","record","initFormatters","dragging","postponePause","allSteps","delayAnimations","change:playing","_startPlaying","_stopPlaying","change:format","formatters","validateFormatting","_formatToDates","persistentValues","date_attr","timeString","findFormat","play","pause","soft","dragStop","getRange","getIntervalAndStep","interval","d3Interval","defaultStart","defaultEnd","gte","lte","getFormatter","curr","snap","op","playInterval","setInterval","clearInterval","incrementTime","decrementTime","UI","screen_profiles","min_width","min_height","dialogs","popup","sidebar","moreoptions","_container","_curr_profile","_prev_size","resizeHandler","updatePresentation","setSize","bodyHeight","windowHeight","innerHeight","body","class_prefix","flag","removeEventListener","genericLog","d3_scale_genericLog","logScale","currScale","_getScaleByDomain","interpolator","domainParts","eps","rangePointingForward","domainPointingForward","_buildLinearScale","fakeDomain","fakeRange","_buildLogScale","revertDomain","normalizedDomain","scaleLog","buildScales","rangePointingSign","maxDomain","rangeLength","rangePointKoef","firstRangePoint","secondRangePoint","firstEps","secondEps","minRangePoint","point1","point2","buildDomain","_addSubdomain","first","unshift","getScaleByRange","interpolatorDomain","_domain","_range","ticks","partTicks","copy","rebind","detectTouchEvent","onTap","onLongTap","coordX","coordY","namespace","changedTouches","screenX","screenY","_parseDecimalNumber","_parseDecimalNumber2","cached","CSVReader","readerInfo","_basepath","delimiter","_parseStrategies","_createParseStrategy","WRONG_TIME_COLUMN_OR_UNITS","NOT_ENOUGH_ROWS_IN_FILE","UNDEFINED_DELIMITER","EMPTY_HEADERS","timeKey","_rows","firstRow","currentYear","getFullYear","foundYear","pop","cachedData","_delimiter","_guessDelimiter","dsvFormat","_getRows","_rows2","header","commasCountInHeader","_countCharsInLine","semicolonsCountInHeader","commasCountInFirstRow","semicolonsCountInFirstRow","_checkDelimiters","firstDelimiterInHeader","firstDelimiterInFirstRow","secondDelimiterInHeader","secondDelimiterInFirstRow","rowsCount","matches","char","separators","_isParseSuccessful","mapRow","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","parseStrategy","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","parsed","return","versionInfo","_interopRequireWildcard","isFullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","exitHandler","emulateClickFunc","removeFullscreenChangeEvent","resizeInExitHandler","subscribeFullscreenChangeEvent","exitFunc","doc","exitFullscreenHandler","launchIntoFullscreen","elem","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","allowWebkitFullscreenAPI","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","iconset","ButtonList","_available_buttons","title","colors","mapcolors","zoom","fullscreen","toggleFullScreen","toggleBubbleTrails","statebind","statebindfunc","setBubbleTrails","toggleBubbleLock","setBubbleLock","inpercent","toggleInpercent","setInpercent","togglePresentationMode","setPresentationMode","axesmc","_active_comp","change:state.marker.select","_toggleButtons","change:ui.chart","buttonId","button","validatePopupButtons","params","setButtonActive","button_expand","button_list","_addButtons","_prev_body_overflow","overflow","proceedClick","btn","classes","btn_config","btn_active","popupDialogs","popupButtons","_showAllButtons","not_required","button_width","button_height","container_width","container_height","buttons_width","buttons_height","button_data","expandable","button_margin","width_diff","height_diff","number_of_buttons","hiddenButtons","details_btns","details_btn","cls","scrollToEnd","boolActive","chart","active","lockActive","locked","lockNonSelected","unavailable","lockUnavailable","emulateClick","pholder","fs","body_overflow","_buttonlist","_buttonlist2","OptionsButtonList","buttonListComp","visibleButton","isHidden","datum","closeAllDialogs","_classCallCheck","_createClass","protoProps","staticProps","css","INVISIBLE","COLOR_POINTER","COLOR_BUTTON","COLOR_DEFAULT","COLOR_SAMPLE","COLOR_PICKER","COLOR_CIRCLE","COLOR_CIRCLES","COLOR_SEGMENT","COLOR_BACKGR","ColorPicker","_wrapper","_init","_initVariables","_initCircles","_style","_svg","_maxWidth","_maxHeight","_colorOld","_colorDef","_colorWhite","_margin","_initSvg","_getComputedStyle","getComputedStyle","svgHeight","_width","_height","_maxRadius","_nCellsH","_minH","_nCellsL","_minL","_satConstant","_outerL_display","_outerL_meaning","_firstAngleSat","_minRadius","_arc","_pie","pie","_colorPointer","_showColorPicker","_sampleRect","_sampleText","_callback","info","_colorData","_generateColorData","lightness","hue","hsl2rgb","meaning","_cellHover","_changeColor","tx","ty","circles","circleData","_cellUnhover","isTouch","svg","_getComputedStyle2","maxRadius","selectedColor","defaultLabel","hPos","hPosCenter","screen","xPos","yPos","_getComputedStyle3","wrapperWidth","wrapperHeight","wrapperRight","wrapperTop","styles","_getOrSet","q","hue2rgb","axisSmart","_orient","d3_axis_smart","onlyUnique","axis","checkDmn","checkRng","highlightValue","highlightValueRun","widthSampleG","widthSampleT","cssMargin","widthOfOneDigit","heightOfOneDigit","labelFactory","transitionDuration","orient","HORIZONTAL","VERTICAL","pivot","Y","X","repositionLabels","patchLabelsPosition","viewportLength","tickValuesMinor","minorTicks","tickLengthOut","outbound","tickLengthIn","inbound","rake","groupByPriorities","removeDuplicates","taken","repositionLabelsThatStickOut","tickValues","margin","tail","repositionHead","repositionTail","meow","_console","isDevMode","OPTIMISTIC","PESSIMISTIC","bbox","hlValueShift","getTransform","getOpacity","wh","hlOpacityScale","highlightTransDuration","ease","easeLinear","interrupt","arg1","arg2","METHOD_REPEATING","METHOD_DOUBLING","getBaseLog","base","logBase","ticksNumber","tickFormat","stops","removeAllLabels","cssLabelMarginLimit","pivotingLimit","limitMaxTickNumber","isPivotAuto","widthToFontsizeRatio","heightToFontsizeRatio","lengthRange","bothSidesUsed","estLongestLabelLength","labelsStackOnTop","labelsJustDontFit","labelsFitIntoScale","approximationStyle","rescalingLabels","marginsLR","sum","collisionBetween","one","two","spawnZero","spawnPos","spawnNeg","coverage","doublingLabels","avoidCollidingWith","startPos","startNeg","ascending","tickValues_1","trytofit","spawn","stop","stopTrying","addLabels","_dialog","_dialog2","_tool","_data2","About","updated","toolData","toolsEl","readerData","dataInstance","readersEl","datasetData","datasetsEl","_indicatorpicker","_indicatorpicker2","_minmaxinputs","_minmaxinputs2","Axes","markerID","selectDomainMinMax","selectZoomedMinMax","MinMaxInputs","_model_binds","el_domain_labelMin","el_domain_labelMax","el_domain_fieldMin","el_domain_fieldMax","el_break","el_zoomed_labelMin","el_zoomed_labelMax","el_zoomed_fieldMin","el_zoomed_fieldMax","activeElement","blur","_colorlegend","_colorlegend2","Colors","Dialogs","_curr_dialog_index","_available_dialogs","dialog","dialog_popup","dialog_sidebar","_addDialogs","openDialog","closeDialog","pinDialog","parentElement","dialogEl","dialog_list","details_dlgs","dlg","dlg_config","comps","bringForward","forceClose","ispin","forceclose","dialogClass","_simpleslider","_simpleslider2","Find","enablePicker","order","selectDataPoints","showHideDeselect","change:state.time.playing","redrawDataPoints","change:state.time.value","input_search","deselect_all","opacity_nonselected","keyCode","showHideSearch","deselectMarkers","labelNames","brokenData","nameIfEllipsis","lastCheckedNode","lower","nodes","someSelected","focus","Grouping","groupStops","_sizeslider","_sizeslider2","_simplecheckbox","_simplecheckbox2","Label","propertyname","constantUnit","MARGIN","RIGHT","minLabelTextSize","maxLabelTextSize","defaultLabelTextSize","SizeSlider","propertyName","modelReady","modelUse","propertyActiveProfile","componentWidth","getPropertyActiveProfile","propertyScale","_bubblesize","_optionsbuttonlist","_optionsbuttonlist2","MoreOptions","accordionEl","dialog_moreoptions","sectionEl","activeEl","Opacity","Presentation","Show","change:state.entities.show","redraw","resetFilter","TIMEDIM","deselectEntities","marker_allpossible","Side","change:state.marker.side.which","entities_allpossibleside","sideDim","change:state.entities_side.show","updateState","change:ui.chart.flipSides","listLeft","listRight","switchSides","flipSides","entities_side","sideKeys","marker_allpossibleside","filterKeys","modelSide","sides","sideFiltered","sortFunc","descending","hidden","createList","listSel","sideEntities","otherSide","_bubblesize2","Size","sizeSelectorActive","show_button","Speed","_draggablelist","_draggablelist2","Stack","groupID","isEnabled","dataArrFn","lang","change:state.marker.group","howToStackEl","howToMergeEl","manualSortingEnabled","DraggableList","draggable","change:group.which","updateData","itemDragger","draggedData","dataUpdateFlag","parentBoundRect","boundRect","_y","_top","selectedNode","draggedIndex","dy","newDraggedY","itemsEl","labels","labelsKeys","labelsKeysSorted","prevLabelsKeysSorted","colorScale","dataArr","TimeDisplay","updateTime","timeLabel","setConditions","widthRatio","heightRatio","time_1","setText","conditions","topOffset","leftOffset","bottomOffset","rightOffset","textWidth","textHeight","xAlign","yAlign","_sample","_resizeText","_text","widthTransform","heightTransform","scalar","_getLeftOffset","_getTopOffset","_zoombuttonlist","_zoombuttonlist2","Zoom","ZoomButtonList","arrow","toggleCursorMode","setCursorMode","plus","minus","hand","hundredpercent","toggleHundredPercent","cursorMode","_vizabi","_vizabi2","DEFINE_PROPERTY","_babelPolyfill","padStart","padEnd","$fails","wksDefine","keyOf","enumKeys","_create","gOPNExt","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","findChild","setSymbolDesc","protoDesc","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","symbols","for","keyFor","useSetter","useSimple","replacer","$replacer","$getPrototypeOf","$freeze","$seal","$preventExtensions","$isFrozen","$isSealed","$isExtensible","FProto","nameRE","HAS_INSTANCE","FunctionProto","$Number","BROKEN_COF","TRIM","toNumber","argument","third","maxCode","digits","aNumberValue","$toFixed","ERROR","multiply","c2","divide","numToString","acc","x2","fractionDigits","z","$toPrecision","toPrecision","precision","EPSILON","_isFinite","isInteger","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","Number","$acosh","acosh","MAX_VALUE","asinh","$asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","hypot","value1","value2","div","larg","$imul","imul","xn","yn","xl","yl","log10","log2","sinh","tanh","trunc","fromCharCode","$fromCodePoint","fromCodePoint","raw","callSite","tpl","$at","codePointAt","$endsWith","endPosition","$startsWith","toJSON","toISOString","pv","lz","num","getUTCMilliseconds","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","DateProto","hint","createProperty","upTo","cloned","$sort","$forEach","STRICT","original","$filter","$some","$every","$reduce","$indexOf","NEGATIVE_ZERO","$find","forced","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","$match","REPLACE","$replace","searchValue","replaceValue","SEARCH","$search","SPLIT","$split","_split","$push","LENGTH","NPCG","limit","separator2","lastLength","output","lastLastIndex","splitLimit","separatorCopy","Internal","GenericPromiseCapability","Wrapper","microtask","$Promise","empty","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","$$resolve","$$reject","perform","isReject","chain","_c","_v","ok","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","abrupt","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_w","$resolve","executor","onFulfilled","onRejected","capability","remaining","$index","alreadyCalled","race","$isView","isView","final","viewS","viewT","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","attributes","deleteProperty","Enumerate","enumerate","receiver","getProto","V","existingDescriptor","ownDesc","setProto","$includes","at","$pad","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","rx","getOwnPropertyDescriptors","getDesc","$values","__defineGetter__","__lookupGetter__","__lookupSetter__","isError","iaddh","x0","x1","y0","y1","$x0","$x1","$y0","isubh","imulh","$u","$v","u0","v0","u1","umulh","metadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","ordinaryGetMetadata","getMetadata","Set","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","getOwnMetadata","getOwnMetadataKeys","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","asap","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","subscribe","observable","Observable","partial","MSIE","pargs","holder","$task","TO_STRING_TAG","ArrayValues","collections","Collection","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AsyncIterator","hasOwn","__await","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","GenStateSuspendedYield","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","iteratorSymbol","Op","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","escape","$re","regExp","part","d3_rebind","_tool2","Vzb","_instances","clearInstances","readers","helpers","scaleTime","timeFormat","timeParse","utcFormat","utcParse","iso","isoFormat","isoParse","Events","linear","y2","stepBefore","stepAfter","stepMiddle","Intervals","intervals","_setInterval","_x","_x2","_x3","_clearInterval","_x4","webpackContext","req","webpackContextResolve","./axis","./axis.js","./color","./color.js","./data","./data.js","./dataconnected","./dataconnected.js","./entities","./entities.js","./group","./group.js","./hook","./hook.js","./label","./label.js","./locale","./locale.js","./marker","./marker.js","./side","./side.js","./size","./size.js","./stack","./stack.js","./time","./time.js","./ui","./ui.js","_getQueryId","Storage","queryIds","queries","queryMergeId","getPromise","_context","_ret","runQuery","_ret2","_queue","checkQueryResponse","col","valid","frames","haveNoDataPointsPerKey","columnsMissing","_getUnique","_getValid","_getLimits","_getNested","uniq","nest","conceptprops","_getCacheKey","framesQueue","_getFrames","defaultCallbacks","except","isActive","mute","forcedQueue","unMute","callbacks","delayedAction","_unmuteQueue","frameComplete","frameName","_waitingForActivation","_getNextFrameName","checkForcedFrames","_checkForcedQueuesExists","getNext","newKey","need","_muteAllQueues","indicatorsDB","createFiltered","entitiesByKey","cLength","itemsIndex","oneFrame","groupKey","groupValue","buildFrame","givenFrames","iterateKeysWithGrouping","gKey","_lastKeyObject","nextFrame","./csv-time_in_columns/csv-time_in_columns.js","./csv/csv.js","./inline/inline.js","_csv","_csv2","CSVTimeInColumnsReader","indicatorKey","concepts","_concepts","entityDomain","resultRows","_domainAndTime","domainAndTime","indicatorsObject","indicator","patterns","inOptions","decimal","fractionPart","integerPart","pattern","patternIndex","thousands","setOptions","newOptions","factoryReset","InlineReader","./bubblesize/bubblesize.js","./buttonlist/buttonlist.js","./buttonlist/optionsbuttonlist/optionsbuttonlist.js","./colorlegend/colorlegend.js","./datanotes/datanotes.js","./datawarning/datawarning.js","./dialogs/_dialog.js","./dialogs/about/about.js","./dialogs/axes/axes.js","./dialogs/colors/colors.js","./dialogs/dialogs.js","./dialogs/find/find.js","./dialogs/grouping/grouping.js","./dialogs/label/label.js","./dialogs/moreoptions/moreoptions.js","./dialogs/opacity/opacity.js","./dialogs/presentation/presentation.js","./dialogs/show/show.js","./dialogs/side/side.js","./dialogs/size/size.js","./dialogs/speed/speed.js","./dialogs/stack/stack.js","./dialogs/timedisplay/timedisplay.js","./dialogs/zoom/zoom.js","./draggablelist/draggablelist.js","./indicatorpicker/indicatorpicker.js","./minmaxinputs/minmaxinputs.js","./simplecheckbox/simplecheckbox.js","./simpleslider/simpleslider.js","./sizeslider/sizeslider.js","./steppedspeedslider/steppedspeedslider.js","./timeslider/timeslider.js","./treemenu/treemenu.js","./zoombuttonlist/zoombuttonlist.js","DataNotes","showNotes","pinned","hookName","newHookName","setValues","_hookName","_source","_left","parentHeight","leftMove","topMove","DataWarning","./about/about.html","./axes/axes.html","./colors/colors.html","./find/find.html","./grouping/grouping.html","./label/label.html","./moreoptions/moreoptions.html","./opacity/opacity.html","./presentation/presentation.html","./show/show.html","./side/side.html","./size/size.html","./speed/speed.html","./stack/stack.html","./timedisplay/timedisplay.html","./zoom/zoom.html","SteppedSlider","triangleWidth","triangleHeight","lineWidth","change:time.delay","setDelay","_config","axisScale","delayScale","initTriangle","initAxis","_config2","axisLeft","tickSizeInner","offsetY","_transform","slide","_config3","getTrianglePath","_config4","radius","label_spacing","TimeSlider","prevPosition","change:time","changeLimits","_optionClasses","_setHandle","change:time.start","change:time.end","change:time.offset","_updateProgressBar","change:time.startSelected","updateSelectedStartLimiter","change:time.endSelected","updateSelectedEndLimiter","change:marker.select","setSelectedLimits","show_limits","show_value","show_value_when_drag_play","class_axis_aligned","availableTimeFrames","completedTimeFrames","getValueWidth","_setTime","slider_outer","progressBar","valueText","xAxis","axisBottom","tickSize","brushed","_getBrushed","brushedEnd","_getBrushedEnd","_setSelectedLimitsId","mRight","updateSize","rangeMax","changeTime","minValue","maxValue","slider_w","slider_h","sliderWidth","resizeSelectedLimiters","_resizeProgressBar","proms","location","pathname","progress","layout","mouse","maxPosX","new_pos","axis_aligned","show_play","wrapper_outer","background","list_outer","list_item","list_item_leaf","leaf","leaf_content","leaf_content_item","leaf_content_item_title","leaf_content_item_descr","hasChild","list_item_label","list_top_level","search_wrap","isSpecial","scaletypes","scaletypesDisabled","scaletypesActive","alignYt","alignYb","alignXl","alignXr","alignXc","menuHorizontal","menuVertical","absPosVert","absPosHoriz","menuOpenLeftSide","noTransition","MOUSE_LOCS","MOUSE_LOCS_TRACKED","DELAY","TOLERANCE","LAST_DELAY_LOC","TIMEOUT","SEARCH_PROPERTY","SUBMENUS","SEARCH_MIN_STR","RESIZE_TIMEOUT","MOBILE_BREAKPOINT","CURRENT_PATH","MIN_COL_WIDTH","MENU_DIRECTION","MAX_MENU_WIDTH","MENU_OPEN_LEFTSIDE","Menu","menu","_setDirectionClass","menuItems","menuItemsHolder","childNodes","addSubmenu","setWidth","recursive","setDirection","MenuItem","parentMenu","openSubmenuNow","closeNeighbors","_openHorizontal","calculateMissingWidth","_openVertical","widthToReduce","reduceWidth","newWidth","restoreWidth","isClosedElement","currentElementWidth","newElementWidth","currWidth","marqueeToggle","scrollToFitView","closeAllChildren","submenu","_closeHorizontal","_closeVertical","hasActiveParentNeighbour","marqueeToggleAll","findItemById","getTopMenu","treeMenuNode","parentItemNode","menuRect","itemRect","viewportItemTop","newItemTop","newScrollTop","openSubmenu","toggleSubmenu","TreeMenu","input","_tree","_markerID","_targetModel","_targetProp","_alignX","_alignY","menuEntity","marker_tags","_buildIndicatorsTree","wrapperOuter","_mousemoveDocument","_enableSearch","tagsArray","indicatorsTree","datasetName","consoleGroupOpen","_sortChildren","isSubfolder","IS_MOBILE","containerWidth","containerHeight","clearPos","maxHeight","minMenuWidth","setHorizontalMenuHeight","focusSearch","scrollToSelected","scrollToItem","listNode","itemNode","tagName","oneItemHeight","menuMaxHeight","_maxChildCount","rootMenuHeight","getMatches","translationMatch","matching","dataFiltered","searchValueNonEmpty","searchIt","_selectIndicator","useDataFiltered","createSubmeny","toplevel","_select","li","translated","targetModelType","deepLeaf","deepLeafContent","hideUnits","hideDescription","allowedIDs","entityTypes","scaleTypesData","scaleTypes","mdlScaleType","searchInput","./_dialog.js","./about/about.js","./axes/axes.js","./colors/colors.js","./dialogs.js","./find/find.js","./grouping/grouping.js","./label/label.js","./moreoptions/moreoptions.js","./opacity/opacity.js","./presentation/presentation.js","./show/show.js","./side/side.js","./size/size.js","./speed/speed.js","./stack/stack.js","./timedisplay/timedisplay.js","./zoom/zoom.js","./d3.axisWithLabelPicker.js","./d3.collisionResolver.js","./d3.colorPicker.js","./d3.dynamicBackground.js","./d3.genericLogScale.js","./d3.geoProjection.js","./d3.touchEvents.js","./labels.js","./requireAll.js","./svgexport.js","./textEllipsis.js","./topojson.js","collisionResolver","resolver","selector","labelHeight","valueY","shiftY","upperAvailable","underAvailable","neededSpace","DURATION","fixed","handleResult","d3_geo_projectFeature","stream","geometry","d3_geo_projectGeometry","geometries","d3_geo_projectGeometryType","sink","geoUstream","d3_geo_projectNoop","d3_geo_projectClockwise","ring","area","d3_geo_projectContains","pi","xi","yi","pj","xj","yj","sinci","sin","sgn","asin","halfπ","acos","π","asqrt","airy","β","forward","λ","φ","cosλ","cos","cosφ","sinφ","cosz","tanβ_2","tan","δ","ρ","z_2","cosz_2","sinz_2","tanz_2","lnsecz_2","ε","sinz","airyProjection","projectionMutator","aitoff","sinciα","armadillo","φ0","sφ0","tanφ0","cosφ0","sinφ0","sinλ","fx","fy","δxδλ","δxδφ","δyδλ","δyδφ","denominator","δλ","δφ","armadilloProjection","stream_","parallel","rotateStream","sphereStream","sphere","polygonStart","lineStart","radians","degrees","lineEnd","polygonEnd","arsinh","arcosh","august","tanφ","baker","SQRT2","berghaus","berghausAzimuthalEquidistant","θ","θ0","α","cotα","berghausProjection","cr","sr","lobes","δ0","mollweideBromleyθ","Cp","Cpsinθ","mollweideBromley","Cx","Cy","boggs","mollweideθ","parallel1Projection","projectAt","sinusoidal","bonne","cotφ0","chamberlin","points","chamberlinDistanceAzimuth","chamberlinLongitude","mean","chamberlinAngle","β1","β2","β0","chamberlinProjection","geoCentroid","coordinates","geoRotation","chamberlinRadians","dφ","c1","s1","s2","dλ","cosdλ","sindφ","sindλ","collignon","sqrtπ","craig","craster","sqrt3","cylindricalEqualArea","cylindricalStereographic","eckert1","eckert2","eckert3","eckert4","eckert5","eckert6","eisenlohr","s0","c0","eisenlohrK","fahey","faheyK","foucaut","cosk","gingery","gingeryAzimuthalEquidistant","r2","ρ2","ρcosα","k_","s_","arcLength_","gingeryIntegrate","dθ","x_halfπ","sinx","ρsinα","sinρcosα","halfπ_ρcosα","ε2","y_","gingeryProjection","cρ","sρ","ginzburgPolyconic","φ2","xB","yB","m2","dαdλ","xB2","dxBdφ","dyBdφ","dpdφ","dqdφ","dmdφ","cosα","sinα","mcosα","msinα","dαdφ","ginzburg8","λ2","quincuncialProjection","projectHemisphere","projection","quincuncial","SQRT1_2","dx","gringorten","sλ","sφ","gringortenHexadecant","a2","secφ","drdφ","dvdφ","dp2dφ","dhdφ","dra2dφ","μ","ν","ζ","Λ","ζμg","df","gringortenHexadecantInvert","g2","ellipticJi","ellipticJ","ai","twon","ellipticFi","ψ","sinhψ","cscφ","cotφ2","cotλ2","ellipticF","guyou","guyouComplexAtan","y_1","guyouComplexDivide","hammerRetroazimuthal","hammerRetroazimuthalRotation","hammerRetroazimuthalProjection","rotate_","geoCircle","center","hammer","hammerAzimuthalEqualArea","hammerQuarticAuthalic","hammerProjection","coefficient","hatano","healpix","geoCollignon","dx0","dx1","dy1","lambert","geoCylindricalEqualArea","healpixParallel","healpixProjection","geoStream","hill","ω","sinθ","cosθ","β_β1","L2","K2","ρ0","sinβ","hillProjection","ratio","sinuMollweide","sinuMollweideφ","mollweide","sinuMollweideY","homolosine","kavrayskiy7","lagrange","lagrangeProjection","spacing","larrivee","laskowski","littrow","loximuthal","miller","modifiedStereographic","zr","zi","ar","br","bi","δr","δi","sinc","modifiedStereographicProjection","coefficients","modifiedStereographicCoefficients","mtFlatPolarParabolic","sqrt6","sqrt7","mtFlatPolarQuartic","mtFlatPolarSinusoidal","naturalEarth","φ4","nellHammer","patterson","pattersonK1","pattersonK2","pattersonK3","pattersonK4","polyconic","rectangularPolyconic","cotφ","robinson","i0","di","ax","robinsonConstants","ay","bx","by","cx","cy","satelliteVertical","satellite","vertical","sinω","cosω","satelliteProjection","distance","tilt","times","twoPointEquidistant","z0","za","λa","zb","λb","ys","z02","geoAzimuthalEquidistant","tanλ0","cosza","coszb","twoPointEquidistantProjection","geoInterpolate","γ","twoPointAzimuthal","geoGnomonic","cosd","twoPointAzimuthalProjection","vanDerGrinten","A2","P2","P2_A2","G_P2","Q","vanDerGrinten2","vanDerGrinten3","vanDerGrinten4","B2","C2","BC","B_C2","B_3C","λ0","λ1","D2","wagner6","wagner7","wiechel","sin1_φ","winkel3","geoProject","d3_geo_projectObjectType","Feature","FeatureCollection","features","feature","d3_geo_projectPoints","d3_geo_projectLines","d3_geo_projectPoint","d3_geo_projectLine","d3_geo_projectPolygon","polygons","holes","hole","polygon","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Sphere","geoProjection","geoProjectionMutator","geoInterrupt","project","hemilobes","bounds","lobe","φ1","resample","p0","resampled","pointEqual","hemibounds","geoAiry","sinλ_2","cosλ_2","sin_2φ","sin2φ","cos2φ","sin2λ_2","geoAitoff","geoArmadillo","sin3η","η","ξ","cosη","coshξ","geoAugust","bakerφ","sqrt8","cosφ_2","tanφ_2","geoBaker","geoBerghaus","geoMollweide","ky","geoBoggs","geoSinusoidal","geoBonne","bromley","geoBromley","geoChamberlin","geoCraig","geoCraster","geoCylindricalStereographic","geoEckert1","geoEckert2","geoEckert3","geoEckert4","geoEckert5","geoEckert6","_0","_1","cos1","t2","vm1v","vp1v","δtδλ","δtδφ","δcδt","δcδλ","δcδφ","δvδλ","δvδφ","geoEisenlohr","geoFahey","geoFoucaut","geoGilbert","gilbert","geoEquirectangular","geoGingery","ginzburg4","geoGinzburg4","ginzburg5","geoGinzburg5","ginzburg6","geoGinzburg6","λ4","geoGinzburg8","ginzburg9","geoGinzburg9","sx","sy","geoGringorten","tn","geoGuyou","geoHammerRetroazimuthal","geoAzimuthalEqualArea","geoHammer","geoHatano","geoHealpix","geoHill","geoSinuMollweide","geoHomolosine","geoKavrayskiy7","geoLagrange","π_sqrt2","sqrtcosφ","sinφ_2","sinλ_6","cosλ_6","f0","f1","df0dφ","df0dλ","df1dφ","df1dλ","denom","geoLarrivee","λφ","geoLaskowski","y2_1","geoLittrow","geoLoximuthal","geoMiller","alaska","gs48","gs50","lee","geoModifiedStereographic","geoMtFlatPolarParabolic","sinθ_2","geoMtFlatPolarQuartic","geoMtFlatPolarSinusoidal","geoNaturalEarth","geoNellHammer","pattersonC1","pattersonC2","pattersonC3","pattersonC4","yc","geoPatterson","peirceQuincuncialProjection","geoPeirceQuincuncial","clipAngle","geoPolyconic","geoRectangularPolyconic","yy","geoRobinson","geoSatellite","geoTimes","geoTwoPointEquidistant","geoTwoPointAzimuthal","x2_y2","c3","a1","m1","θ1","geoVanDerGrinten","geoVanDerGrinten2","geoVanDerGrinten3","C_","B_C","F_","sqrtF","f_","geoVanDerGrinten4","wagner4","geoWagner4","geoWagner6","t1","geoWagner7","geoWiechel","geoWinkel3","_css","_css2","labelDragger","_cssPrefix","insert","cross","defaultPrevented","entityLabels","showCloseCross","SUPPRESS_HIGHLIGHT_DURING_PLAY","_repositionLabels","labelContext","_X","_Y","_X0","_Y0","showhide","lineGroup","cache","labelGroup","brokenInputs","viewWidth","viewHeight","rectBBox","labelX_","labelX0","labelY_","yScale","labelY0","_new","easeExp","diffX1","diffY1","textBBox","diffX2","diffY2","bBox","removeLabelBox","FAR_COEFF","labelLeashCoeff","lineHidden","circleRectIntersects","scaledS0","angle","deltaDiffX2","deltaDiffY2","longerSideCoeff","circleDistanceX","circleDistanceY","halfRectWidth","halfRectHeight","setCssPrefix","cssPrefix","druging","labelFixed","resolvedX","resolvedY","resolvedX0","resolvedY0","entityLines","line","LABELS_CONTAINER_CLASS","LINES_CONTAINER_CLASS","LINES_CONTAINER_SELECTOR","CSS_PREFIX","Labels","_xScale","_yScale","_closeCrossHeight","labelSizeTextScale","updateIndicators","updateLabelSizeLimits","size_label","updateLabelsOnlyTextSize","labelsContainer","linesContainer","minMaxDelta","rangePoints","setScales","setCloseCrossHeight","closeCrossHeight","updateLabelCloseGroupSize","LINES_CONTAINER_SELECTOR_PREFIX","updateLabel","valueX","valueS","valueC","valueL","valueLST","sScale","scaledC0","COLOR_WHITEISH","groupData","_updateLabelSize","positionLabel","fontSize","contentBBox","labelCloseHeight","labelCloseGroup","glowRect","updateLabelOnlyPosition","updateLabelOnlyColor","presentationProfiles","CSS","cssEscape","codeUnit","firstCodeUnit","deleteClasses","shapes","groups","cloneNode","redBall","counterEl","me","opacity","SVGHEADER","alert","link","download","href","click","TextEllipsis","interact","_createInteract","setTooltip","tooltip","mouseOver","_setTooltip","srcElement","mouseOut","tap","tooltipText","textEl","initialText","textLength","getComputedTextLength","stitchArcs","topology","arcs","ends","dp","fragmentByEnd","fragmentByStart","stitchedArcs","fragments","emptyIndex","fg","gf","meshArcs","geomsByArc","geom","geometryType","geoms","mergeArcs","objects","polygonsByArc","exterior","cartesianRingArea","neighbors","featureOrCollection","absolute","transformAbsolute","bisect","lo","hi","mid","indexesByArc","indexes","ij","ik","presimplify","triangleArea","update","triangle","heap","relative","transformRelative","minAreaHeap","cartesianTriangleArea","triangles","maxArea","previous","compareArea","down","removed","noop","kx","mesh"],"mappings":"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A,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,IACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA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","file":"vizabi.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Vizabi\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vizabi\"] = factory();\n\telse\n\t\troot[\"Vizabi\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","((function(){})({version: '\"0.25.1-1\"'}));\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Vizabi\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vizabi\"] = factory();\n\telse\n\t\troot[\"Vizabi\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 174);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global    = __webpack_require__(4)\n  , core      = __webpack_require__(29)\n  , hide      = __webpack_require__(14)\n  , redefine  = __webpack_require__(15)\n  , ctx       = __webpack_require__(30)\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {})\n    , key, own, out, exp;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target)redefine(target, key, out, type & $export.U);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(IS_PROTO && expProto[key] != out)expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.px2num = exports.getProp = exports.isFunction = exports.isMobileOrTablet = exports.capitalize = exports.setIcon = exports.pruneTree = exports.isTouchDevice = exports.debounce = exports.memoize = exports.post = exports.get = exports.ajax = exports.interpolatePoint = exports.interpolateVector = exports.nestArrayToObj = exports.hashCode = exports.clearDelay = exports.delay = exports.defer = exports.diffObject = exports.arrayLast = exports.arrayMedian = exports.arraySum = exports.arrayMean = exports.arrayMax = exports.arrayMin = exports.values = exports.keys = exports.throttle = exports.hasClass = exports.classed = exports.removeClass = exports.addClass = exports.countDecimals = exports.error = exports.groupEnd = exports.groupCollapsed = exports.warn = exports.timeStamp = exports.areaToRadius = exports.hypotenuse = exports.radiusToArea = exports.preventAncestorScrolling = exports.matchAny = exports.filterAny = exports.filter = exports.find = exports.uniqueLast = exports.unique = exports.without = exports.deepClone = exports.clone = exports.merge = exports.deepExtend = exports.extend = exports.forEach = exports.strToFloat = exports.roundStep = exports.findScrollableAncestor = exports.getViewportPosition = exports.comparePlainObjects = exports.arrayEquals = exports.isPlainObject = exports.isNumber = exports.isEmpty = exports.isNaN = exports.isString = exports.isDate = exports.isObject = exports.isArray = exports.isElement = exports.uniqueId = exports.approxEqual = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.makeAbsoluteContext = makeAbsoluteContext;\nexports.firstBy = firstBy;\nexports.transform = transform;\nexports.getValueMD = getValueMD;\n\nvar _interpolators = __webpack_require__(359);\n\nvar _interpolators2 = _interopRequireDefault(_interpolators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Check if value A is in +- proximity of value B\n * @param {Number} a\n * @param {Number} b\n * @param {Number} tolerance\n * @returns {Boolean} true if values are approximately equal or false otherwise\n */\nvar approxEqual = exports.approxEqual = function approxEqual(a, b, tolerance) {\n  tolerance = tolerance || 0;\n  if (b > 0) {\n    return (1 - tolerance) * b <= a && a <= b * (1 + tolerance);\n  } else if (b < 0) {\n    return (1 + tolerance) * b <= a && a <= b * (1 - tolerance);\n  }\n  return Math.abs(a) <= tolerance;\n};\n\n/*\n * returns unique id with optional prefix\n * @param {String} prefix\n * @returns {String} id\n */\nvar uniqueId = exports.uniqueId = function () {\n  var id = 0;\n  return function (p) {\n    return p ? p + (id += 1) : id += 1;\n  };\n}();\n\n/*\n * checks whether obj is a DOM element\n * @param {Object} obj\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nvar isElement = exports.isElement = function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n};\n\n/*\n * checks whether obj is an Array\n * @param {Object} target\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nvar isArray = exports.isArray = Array.isArray || function (target) {\n  return Object.prototype.toString.call(target) === \"[object Array]\";\n};\n\n/*\n * checks whether obj is an object\n * @param {Object} obj\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nvar isObject = exports.isObject = function isObject(obj) {\n  var type = typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n  return type === \"object\" && !!obj;\n};\n\n/*\n * checks whether arg is a date\n * @param {Object} arg\n * @returns {Boolean}\n */\nvar isDate = exports.isDate = function isDate(arg) {\n  return arg instanceof Date;\n};\n\n/*\n * checks whether arg is a string\n * @param {Object} arg\n * @returns {Boolean}\n */\nvar isString = exports.isString = function isString(value) {\n  return typeof value === \"string\";\n};\n\n/*\n * checks whether arg is a NaN\n * @param {*} arg\n * @returns {Boolean}\n * from lodash: https://github.com/lodash/lodash/blob/master/lodash.js\n */\nvar isNaN = exports.isNaN = function isNaN(arg) {\n  // A `NaN` primitive is the only number that is not equal to itself\n  return isNumber(arg) && arg !== +arg;\n};\n\nvar isEmpty = exports.isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n};\n\n/*\n * checks whether arg is a number. NaN is a number too\n * @param {*} arg\n * @returns {Boolean}\n * from lodash: https://github.com/lodash/lodash/blob/master/lodash.js\n * dependencies are resolved and included here\n */\nvar isNumber = exports.isNumber = function isNumber(arg) {\n  return typeof arg === \"number\" || !!arg && (typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg)) === \"object\" && Object.prototype.toString.call(arg) === \"[object Number]\";\n};\n\n/*\n * checks whether obj is a plain object {}\n * @param {Object} obj\n * @returns {Boolean}\n */\nvar isPlainObject = exports.isPlainObject = function isPlainObject(obj) {\n  return obj !== null && Object.prototype.toString.call(obj) === \"[object Object]\";\n};\n\n/*\n * checks whether two arrays are equal\n * @param {Array} a\n * @param {Array} b\n * @returns {Boolean}\n */\nvar arrayEquals = exports.arrayEquals = function arrayEquals(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length != b.length) return false;\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n};\n\n/**\n * Object Comparison\n *\n * http://stamat.wordpress.com/2013/06/22/javascript-object-comparison/\n *\n * No version\n *\n * @param a\n * @param b\n * @returns {boolean} if objects are equal\n */\nvar comparePlainObjects = exports.comparePlainObjects = function comparePlainObjects(a, b) {\n\n  //Returns the object's class, Array, Date, RegExp, Object are of interest to us\n  var getClass = function getClass(val) {\n    return Object.prototype.toString.call(val).match(/^\\[object\\s(.*)\\]$/)[1];\n  };\n\n  //Defines the type of the value, extended typeof\n  var whatis = function whatis(val) {\n\n    if (val === undefined) {\n      return \"undefined\";\n    }\n    if (val === null) {\n      return \"null\";\n    }\n\n    var type = typeof val === \"undefined\" ? \"undefined\" : _typeof(val);\n\n    if (type === \"object\") {\n      type = getClass(val).toLowerCase();\n    }\n\n    if (type === \"number\") {\n      return val.toString().indexOf(\".\") > 0 ? \"float\" : \"integer\";\n    }\n\n    return type;\n  };\n\n  var compare = function compare(a, b) {\n    if (a === b) {\n      return true;\n    }\n    for (var i in a) {\n      if (b.hasOwnProperty(i)) {\n        if (!equal(a[i], b[i])) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    for (var _i in b) {\n      if (!a.hasOwnProperty(_i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  var compareArrays = function compareArrays(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (var i = 0; i < a.length; i++) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  var _equal = {};\n  _equal.array = compareArrays;\n  _equal.object = compare;\n  _equal.date = function (a, b) {\n    return a.getTime() === b.getTime();\n  };\n  _equal.regexp = function (a, b) {\n    return a.toString() === b.toString();\n  };\n\n  /**\n   * Are two values equal, deep compare for objects and arrays.\n   * @param a {any}\n   * @param b {any}\n   * @return {boolean} Are equal?\n   */\n  var equal = function equal(a, b) {\n    if (a !== b) {\n      var atype = whatis(a);\n      var btype = whatis(b);\n\n      if (atype === btype) {\n        return _equal.hasOwnProperty(atype) ? _equal[atype](a, b) : a == b;\n      }\n\n      return false;\n    }\n\n    return true;\n  };\n\n  return compare(a, b);\n};\n\nvar getViewportPosition = exports.getViewportPosition = function getViewportPosition(element) {\n  var xPosition = 0;\n  var yPosition = 0;\n\n  while (element) {\n    xPosition += element.offsetLeft - element.scrollLeft + element.clientLeft;\n    yPosition += element.offsetTop - element.scrollTop + element.clientTop;\n    element = element.offsetParent;\n  }\n\n  return {\n    x: xPosition,\n    y: yPosition\n  };\n};\n\nvar findScrollableAncestor = exports.findScrollableAncestor = function findScrollableAncestor(node) {\n  var scrollable = [\"scroll\", \"auto\"];\n  while (node = node.parentNode) {\n    var scrollHeight = node.scrollHeight;\n    var height = node.clientHeight;\n    if (scrollHeight > height && scrollable.indexOf(d3.select(node).style(\"overflow\")) !== -1) {\n      return node;\n    }\n  }\n  return null;\n};\n\nvar roundStep = exports.roundStep = function roundStep(number, step) {\n  return Math.round(number / step) * step;\n};\n\n/*\n * transforms a string into a validated fload value\n * @param {string} string to be transformed\n */\nvar strToFloat = exports.strToFloat = function strToFloat(string) {\n  return +string.replace(/[^\\d.-]/g, \"\");\n};\n\n/*\n * loops through an object or array\n * @param {Object|Array} obj object or array\n * @param {Function} callback callback function\n * @param {Object} ctx context object\n */\nvar forEach = exports.forEach = function forEach(obj, callback, ctx) {\n  if (!obj) {\n    return;\n  }\n  var i = void 0,\n      size = void 0;\n  if (isArray(obj)) {\n    size = obj.length;\n    for (i = 0; i < size; i += 1) {\n      var result = callback.apply(ctx, [obj[i], i]);\n      if (result === false) {\n        break;\n      }\n    }\n  } else {\n    var _keys = Object.keys(obj);\n    size = _keys.length;\n    for (i = 0; i < size; i += 1) {\n      var _result = callback.apply(ctx, [obj[_keys[i]], _keys[i]]);\n      if (_result === false) {\n        break;\n      }\n    }\n  }\n};\n\n/*\n * extends an object\n * @param {Object} destination object\n * @returns {Object} extented object\n */\nvar extend = exports.extend = function extend(dest) {\n  //objects to overwrite dest are next arguments\n  var objs = Array.prototype.slice.call(arguments, 1);\n  //loop through each obj and each argument, left to right\n  forEach(objs, function (obj, i) {\n    forEach(obj, function (value, k) {\n      if (obj.hasOwnProperty(k)) {\n        dest[k] = value;\n      }\n    });\n  });\n  return dest;\n};\n\n// Deep extend and helper functions\n// https://github.com/unclechu/node-deep-extend/blob/master/lib/deep-extend.js\n\nfunction isSpecificValue(val) {\n  return Boolean(val instanceof Date || val instanceof RegExp);\n}\n\nfunction cloneSpecificValue(val) {\n  if (val instanceof Date) {\n    return new Date(val.getTime());\n  } else if (val instanceof RegExp) {\n    return new RegExp(val);\n  }\n  throw new Error(\"Unexpected situation\");\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n  var clone = [];\n  forEach(arr, function (item, index) {\n    if ((typeof item === \"undefined\" ? \"undefined\" : _typeof(item)) === \"object\" && item !== null) {\n      if (isArray(item)) {\n        clone[index] = deepCloneArray(item);\n      } else if (isSpecificValue(item)) {\n        clone[index] = cloneSpecificValue(item);\n      } else {\n        clone[index] = deepExtend({}, item);\n      }\n    } else {\n      clone[index] = item;\n    }\n  });\n  return clone;\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = exports.deepExtend = function deepExtend() /*obj_1, [obj_2], [obj_N]*/{\n  if (arguments.length < 1 || _typeof(arguments[0]) !== \"object\") {\n    return false;\n  }\n\n  if (arguments.length < 2) {\n    return arguments[0];\n  }\n\n  var target = arguments[0];\n\n  var lastArgIsBool = typeof arguments[arguments.length - 1] === \"boolean\";\n  var overwriteByEmpty = lastArgIsBool && arguments[arguments.length - 1];\n  // convert arguments to array and cut off target object\n  var args = Array.prototype.slice.call(arguments, 1, lastArgIsBool ? -1 : arguments.length);\n\n  var val = void 0,\n      src = void 0,\n      clone = void 0;\n\n  forEach(args, function (obj) {\n    // skip argument if it is array or isn't object\n    if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) !== \"object\" || isArray(obj)) {\n      return;\n    }\n\n    forEach(Object.keys(obj), function (key) {\n      src = target[key]; // source value\n      val = obj[key]; // new value\n\n      // recursion prevention\n      if (val === target) {\n        /*\n         * if new value isn't object then just overwrite by new value\n         * instead of extending.\n         * 2016-11-07 / Jasper: Added specific check for val instanceof Model for merging defaults & values of ComponentModels\n         * 2016-11-07 / Jasper: Hack because importing Model doesn't work: instead check for val._data\n         */\n      } else if ((typeof val === \"undefined\" ? \"undefined\" : _typeof(val)) !== \"object\" || val === null || val._data) {\n        target[key] = val;\n\n        // just clone arrays (and recursive clone objects inside)\n      } else if (isArray(val)) {\n        target[key] = deepCloneArray(val);\n\n        // custom cloning and overwrite for specific objects\n      } else if (isSpecificValue(val)) {\n        target[key] = cloneSpecificValue(val);\n\n        // overwrite by new value if source isn't object or array\n      } else if ((typeof src === \"undefined\" ? \"undefined\" : _typeof(src)) !== \"object\" || src === null || isArray(src)) {\n        target[key] = deepExtend({}, val);\n\n        // new value is empty object\n      } else if (overwriteByEmpty && isEmpty(val)) {\n        target[key] = {};\n\n        // source value and new value is objects both, extending...\n      } else {\n        target[key] = deepExtend(src, val, overwriteByEmpty);\n      }\n    });\n  });\n\n  return target;\n};\n\n/*\n * merges objects instead of replacing\n * @param {Object} destination object\n * @returns {Object} merged object\n */\nvar merge = exports.merge = function merge(dest) {\n\n  // objects to overwrite dest are next arguments\n  var objs = Array.prototype.slice.call(arguments, 1);\n\n  // loop through each obj and each argument, left to right\n  forEach(objs, function (obj, i) {\n    forEach(obj, function (value, k) {\n      if (obj.hasOwnProperty(k)) {\n        if (dest.hasOwnProperty(k)) {\n          if (!isArray(dest[k])) {\n            dest[k] = [dest[k]];\n          }\n          dest[k].push(value);\n        } else {\n          dest[k] = value;\n        }\n      }\n    });\n  });\n  return dest;\n};\n\n/*\n * clones an object (shallow copy)\n * @param {Object} src original object\n * @param {Array} arr filter keys\n * @returns {Object} cloned object\n */\nvar clone = exports.clone = function clone(src, arr, exclude) {\n  if (isArray(src)) {\n    return src.slice(0);\n  }\n  var clone = {};\n  forEach(src, function (value, k) {\n    if (arr && arr.indexOf(k) === -1 || exclude && exclude.indexOf(k) !== -1) {\n      return;\n    }\n    if (src.hasOwnProperty(k)) {\n      clone[k] = value;\n    }\n  });\n  return clone;\n};\n\n/*\n * deep clones an object (deep copy)\n * @param {Object} src original object\n * @returns {Object} cloned object\n */\nvar deepClone = exports.deepClone = function deepClone(src) {\n  var clone = {};\n  if (isArray(src)) clone = [];\n\n  forEach(src, function (value, k) {\n    if (isObject(value) || isArray(value)) {\n      clone[k] = deepClone(value);\n    } else {\n      clone[k] = value;\n    }\n  });\n  return clone;\n};\n\n/*\n * Prints message to timestamp\n * @param {Arr} arr\n * @param {Object} el\n */\nvar without = exports.without = function without(arr, el) {\n  var idx = arr.indexOf(el);\n  if (idx !== -1) {\n    arr.splice(idx, 1);\n  }\n  return arr;\n};\n\n/*\n * unique items in an array\n * @param {Array} arr original array\n * @param {Function} func optional evaluation function\n * @returns {Array} unique items\n * Based on:\n * http://stackoverflow.com/questions/1960473/unique-values-in-an-array\n */\nvar unique = exports.unique = function unique(array) {\n  var map = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (data) {\n    return data;\n  };\n\n  var uniqueValues = {};\n\n  return array.filter(function (item) {\n    var value = map(item);\n\n    if (uniqueValues.hasOwnProperty(value)) {\n      return false;\n    }\n\n    uniqueValues[value] = 1;\n\n    return true;\n  });\n};\n\n/*\n * unique items in an array keeping the last item\n * @param {Array} arr original array\n * @param {Function} func optional evaluation function\n * @returns {Array} unique items\n * Based on the previous method\n */\nvar uniqueLast = exports.uniqueLast = function uniqueLast(arr, func) {\n  var u = {};\n  var a = [];\n  if (!func) {\n    func = function func(d) {\n      return d;\n    };\n  }\n  for (var i = 0, l = arr.length; i < l; i += 1) {\n    var key = func(arr[i]);\n    if (u.hasOwnProperty(key)) {\n      a.splice(u[key], 1); //remove old item from array\n    }\n    a.push(arr[i]);\n    u[key] = a.length - 1;\n  }\n  return a;\n};\n\n/*\n * returns first value that passes the test\n * @param {Array} arr original collection\n * @returns {Function} func test function\n */\nvar find = exports.find = function find(arr, func) {\n  var found = void 0;\n  forEach(arr, function (i) {\n    if (func(i)) {\n      found = i;\n      return false; //break\n    }\n  });\n  return found;\n};\n\n/*\n * filters an array based on object properties\n * @param {Array} arr original array\n * @returns {Object} filter properties to use as filter\n */\nvar filter = exports.filter = function filter(arr, _filter) {\n  var index = -1;\n  var length = arr.length;\n  var resIndex = -1;\n  var result = [];\n  var keys = Object.keys(_filter);\n  var s_keys = keys.length;\n  var i = void 0;\n  var f = void 0;\n  while ((index += 1) < length) {\n    var value = arr[index];\n    var match = true;\n    for (i = 0; i < s_keys; i += 1) {\n      f = keys[i];\n      if (!value.hasOwnProperty(f) || value[f] !== _filter[f]) {\n        match = false;\n        break;\n      }\n    }\n    if (match) {\n      result[resIndex += 1] = value;\n    }\n  }\n  return result;\n};\n\n/*\n * filters an array based on object properties.\n * Properties may be arrays determining possible values\n * @param {Array} arr original array\n * @returns {Object} filter properties to use as filter\n */\nvar filterAny = exports.filterAny = function filterAny(arr, filter, wildcard) {\n  var index = -1;\n  var length = arr.length;\n  var resIndex = -1;\n  var result = [];\n  var keys = Object.keys(filter);\n  var s_keys = keys.length;\n  var i = void 0,\n      f = void 0;\n  while ((index += 1) < length) {\n    var value = arr[index];\n    //normalize to array\n    var match = true;\n    for (i = 0; i < s_keys; i += 1) {\n      f = keys[i];\n      if (!value.hasOwnProperty(f) || !matchAny(value[f], filter[f], wildcard)) {\n        match = false;\n        break;\n      }\n    }\n    if (match) {\n      result[resIndex += 1] = value;\n    }\n  }\n  return result;\n};\n\n/*\n * checks if the value matches the comparison value or any in array\n * compare may be an determining possible values\n * @param value original value\n * @param compare value or array\n * @param {String} wildc wildcard value\n * @returns {Boolean} try\n */\nvar matchAny = exports.matchAny = function matchAny(values, compare, wildc) {\n  //normalize value\n  if (!isArray(values)) values = [values];\n  if (!wildc) wildc = \"*\"; //star by default\n  var match = false;\n  for (var e = 0; e < values.length; e++) {\n    var value = values[e];\n\n    if (!isArray(compare) && value == compare) {\n      match = true;\n      break;\n    } else if (isArray(compare)) {\n      var found = -1;\n      for (var i = 0; i < compare.length; i++) {\n        var c = compare[i];\n        if (!isArray(c) && (c == value || c === wildc)) {\n          found = i;\n          break;\n        } else if (isArray(c)) {\n          //range\n          var min = c[0];\n          var max = c[1] || min;\n          if (value >= min && value <= max) {\n            found = i;\n            break;\n          }\n        }\n      }\n      if (found !== -1) {\n        match = true;\n        break;\n      }\n    }\n  }\n  return match;\n};\n\n/**\n * prevent scrolling parent scrollable elements for 2 second when element scrolled to end\n * @param node\n */\n\nvar preventAncestorScrolling = exports.preventAncestorScrolling = function preventAncestorScrolling(element) {\n  var preventScrolling = false;\n  element.on(\"mousewheel\", function (d, i) {\n    var scrollTop = this.scrollTop;\n    var scrollHeight = this.scrollHeight;\n    var height = element.node().offsetHeight;\n    var delta = d3.event.wheelDelta;\n    var up = delta > 0;\n    var prevent = function prevent() {\n      d3.event.stopPropagation();\n      d3.event.preventDefault();\n      d3.event.returnValue = false;\n      return false;\n    };\n\n    var scrollTopTween = function scrollTopTween(scrollTop) {\n      return function () {\n        var _this = this;\n        var i = d3.interpolateNumber(this.scrollTop, scrollTop);\n        return function (t) {\n          _this.scrollTop = i(t);\n        };\n      };\n    };\n    if (!up) {\n      // Scrolling down\n      if (-delta > scrollHeight - height - scrollTop && scrollHeight != height + scrollTop) {\n        element.transition().delay(0).duration(0).tween(\"scrolltween\", scrollTopTween(scrollHeight));\n        //freeze scrolling on 2 seconds on bottom position\n        preventScrolling = true;\n        setTimeout(function () {\n          preventScrolling = false;\n        }, 2000);\n      } else if (scrollTop == 0) {\n        //unfreeze when direction changed\n        preventScrolling = false;\n      }\n    } else if (up) {\n      // Scrolling up\n      if (delta > scrollTop && scrollTop > 0) {\n        //\n        //freeze scrolling on 2 seconds on top position\n        element.transition().delay(0).duration(0).tween(\"scrolltween\", scrollTopTween(0));\n        preventScrolling = true;\n        setTimeout(function () {\n          preventScrolling = false;\n        }, 2000);\n      } else if (scrollHeight == height + scrollTop) {\n        //unfreeze when direction changed\n        preventScrolling = false;\n      }\n    }\n    if (preventScrolling) {\n      return prevent();\n    }\n  });\n};\n\n/*\n * Converts radius to area, simple math\n * @param {Number} radius\n * @returns {Number} area\n */\nvar radiusToArea = exports.radiusToArea = function radiusToArea(r) {\n  return r * r * Math.PI;\n};\n\n/*\n * Computes hypotenuse of a right triangle, given the catets\n * @param {Number} x\n * @param {Number} y\n * @returns {Number} square root of sum of the squares of x and y\n */\nvar hypotenuse = exports.hypotenuse = function hypotenuse(x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n\n/*\n * Converts area to radius, simple math\n * @param {Number} area\n * @returns {Number} radius\n */\nvar areaToRadius = exports.areaToRadius = function areaToRadius(a) {\n  return Math.sqrt(a / Math.PI);\n};\n\n/*\n * Prints message to timestamp\n * @param {String} message\n */\nvar timeStamp = exports.timeStamp = function timeStamp(message) {\n  if (console && typeof console.timeStamp === \"function\") {\n    console.timeStamp(message);\n  }\n};\n\n/*\n * Prints warning\n * @param {String} message\n */\nvar warn = exports.warn = function warn(message) {\n  message = Array.prototype.slice.call(arguments).map(function (m) {\n    return m instanceof Object ? JSON.stringify(m, null, 4) : m;\n  }).join(\" \");\n  if (console && typeof console.warn === \"function\") {\n\n    console.warn(message);\n  }\n  // \"return true\" is needed to find out if a parent function is exited with warning\n  // example:\n  // myfunction = function() { if(brokenstuff) return utils.warn(\"broken stuff found\") }\n  // if(myfunction()) return; // stopped execution after myfunction finds broken stuff\n  // ... or moving on\n  return true;\n};\n\n/*\n * Prints message for group\n * @param {String} message\n */\nvar groupCollapsed = exports.groupCollapsed = function groupCollapsed(message) {\n  message = Array.prototype.slice.call(arguments).join(\" \");\n  if (console && typeof console.groupCollapsed === \"function\") {\n    console.groupCollapsed(message);\n  }\n};\n\n/*\n * Prints end of group\n * @param {String} message\n */\nvar groupEnd = exports.groupEnd = function groupEnd() {\n  if (console && typeof console.groupEnd === \"function\") {\n    console.groupEnd();\n  }\n};\n\n/*\n * Prints error\n * @param {String} message\n */\nvar error = exports.error = function error(err) {\n  if (console && typeof console.error === \"function\") {\n    if (err.stack) {\n      console.error(err.stack);\n    } else {\n      console.error(err);\n    }\n    if (arguments.length > 1) {\n      console.error.apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  }\n};\n\n/*\n * Count the number of decimal numbers\n * @param {Number} number\n */\nvar countDecimals = exports.countDecimals = function countDecimals(number) {\n  if (Math.floor(number.valueOf()) === number.valueOf()) {\n    return 0;\n  }\n  return number.toString().split(\".\")[1].length || 0;\n};\n\n/*\n * Adds class to DOM element\n * @param {Element} el\n * @param {String} className\n */\nvar addClass = exports.addClass = function addClass(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    //IE<10\n    el.className += \" \" + className;\n  }\n};\n\n/*\n * Remove class from DOM element\n * @param {Element} el\n * @param {String} className\n */\nvar removeClass = exports.removeClass = function removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    //IE<10\n    el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\n  }\n};\n\n/*\n * Adds or removes class depending on value\n * @param {Element} el\n * @param {String} className\n * @param {Boolean} value\n */\nvar classed = exports.classed = function classed(el, className, value) {\n  if (value === true) {\n    addClass(el, className);\n  } else if (value === false) {\n    removeClass(el, className);\n  } else {\n    return hasClass(el, className);\n  }\n};\n\n/*\n * Checks whether a DOM element has a class or not\n * @param {Element} el\n * @param {String} className\n * @return {Boolean}\n */\nvar hasClass = exports.hasClass = function hasClass(el, className) {\n  return el.classList ? el.classList.contains(className) : new RegExp(\"(^| )\" + className + \"( |$)\", \"gi\").test(el.className);\n};\n\n/*\n * Throttles a function\n * @param {Function} func\n * @param {Number} ms duration\n * @return {Function}\n * Function recallLast was added to prototype of returned function.\n * Call Function.recallLast() - immediate recall func with last saved arguments,\n *                              else func will be called automaticly after ms duration\n */\nvar throttle = exports.throttle = function throttle(func, ms) {\n\n  var throttled = false;\n  var savedArgs = void 0;\n  var savedThis = void 0;\n  var nextTime = void 0;\n\n  var __recallLast = function __recallLast() {\n    if (throttled) {\n      throttled = false;\n      func.apply(savedThis, savedArgs);\n    }\n  };\n\n  var wrapper = function wrapper() {\n\n    if (nextTime > Date.now()) {\n      throttled = true;\n      savedArgs = arguments;\n      savedThis = this;\n      return;\n    }\n\n    nextTime = Date.now() + ms;\n    throttled = false;\n\n    func.apply(this, arguments);\n\n    setTimeout(function () {\n      __recallLast();\n    }, ms);\n  };\n\n  wrapper.recallLast = __recallLast;\n\n  return wrapper;\n};\n\n/*\n * Returns keys of an object as array\n * @param {Object} arg\n * @returns {Array} keys\n */\nvar keys = exports.keys = function keys(arg) {\n  return Object.keys(arg);\n};\n\n/*\n * returns the values of an object in an array format\n * @param {Object} obj\n * @return {Array}\n */\nvar values = exports.values = function values(obj) {\n  var arr = [];\n  var keys = Object.keys(obj);\n  var size = keys.length;\n  for (var i = 0; i < size; i += 1) {\n    arr.push(obj[keys[i]]);\n  }\n  return arr;\n};\n\n/*\n * Computes the minumum value in an array\n * @param {Array} arr\n */\nvar arrayMin = exports.arrayMin = function arrayMin(arr) {\n  return arr.reduce(function (p, v) {\n    return p < v ? p : v;\n  });\n};\n\n/*\n * Computes the minumum value in an array\n * @param {Array} arr\n */\nvar arrayMax = exports.arrayMax = function arrayMax(arr) {\n  return arr.reduce(function (p, v) {\n    return p > v ? p : v;\n  });\n};\n\n/*\n * Computes the mean of an array\n * @param {Array} arr\n */\nvar arrayMean = exports.arrayMean = function arrayMean(arr) {\n  return arraySum(arr) / arr.length;\n};\n\n/*\n * Computes the sum of an array\n * @param {Array} arr\n */\nvar arraySum = exports.arraySum = function arraySum(arr) {\n  return arr.reduce(function (a, b) {\n    return a + b;\n  });\n};\n\n/*\n * Computes the median of an array\n * @param {Array} arr\n */\nvar arrayMedian = exports.arrayMedian = function arrayMedian(arr) {\n  arr = arr.sort(function (a, b) {\n    return a - b;\n  });\n  var middle = Math.floor((arr.length - 1) / 2);\n\n  return arr.length % 2 ? arr[middle] : (arr[middle] + arr[middle + 1]) / 2;\n};\n\n/*\n * Returns the last value of array\n * @param {Array} arr\n */\nvar arrayLast = exports.arrayLast = function arrayLast(arr) {\n  if (!arr.length) return null;\n  return arr[arr.length - 1];\n};\n\n/*\n * Returns the resulting object of the difference between two objects\n * @param {Object} obj2\n * @param {Object} obj1\n * @returns {Object}\n */\nvar diffObject = exports.diffObject = function diffObject(obj2, obj1) {\n  var diff = {};\n  forEach(obj1, function (value, key) {\n    if (!obj2.hasOwnProperty(key) && isPlainObject(value)) {\n      diff[key] = diffObject({}, value);\n    }\n  });\n  forEach(obj2, function (value, key) {\n    if (!obj1.hasOwnProperty(key)) {\n      diff[key] = value;\n    } else if (value !== obj1[key]) {\n      if (isPlainObject(value) && isPlainObject(obj1[key])) {\n        if (isEmpty(value)) {\n          if (!isEmpty(obj1[key])) {\n            diff[key] = {};\n          }\n        } else {\n          var d = diffObject(value, obj1[key]);\n          if (Object.keys(d).length > 0) {\n            diff[key] = d;\n          }\n        }\n      } else if (!isArray(value) || !isArray(obj1[key]) || !arrayEquals(value, obj1[key])) {\n        diff[key] = value;\n      }\n    }\n  });\n  return diff;\n};\n\n/*\n * Defers a function\n * @param {Function} func\n */\nvar defer = exports.defer = function defer(func) {\n  setTimeout(func, 1);\n};\n\n/*\n * Defers a function\n * @param {Function} func\n */\nvar delay = exports.delay = function delay(_delay) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, _delay);\n  });\n};\n\nvar clearDelay = exports.clearDelay = function clearDelay(delayId) {\n  return clearTimeout(delayId);\n};\n\n/*\n * Creates a hashcode for a string or array\n * @param {String|Array} str\n * @return {Number} hashCode\n */\nvar hashCode = exports.hashCode = function hashCode(str) {\n  if (!isString(str)) {\n    str = JSON.stringify(str);\n  }\n  var hash = 0;\n  var size = str.length;\n  var c = void 0;\n  if (size === 0) {\n    return hash;\n  }\n  for (var i = 0; i < size; i += 1) {\n    c = str.charCodeAt(i);\n    hash = (hash << 5) - hash + c;\n    hash &= hash; // Convert to 32bit integer\n  }\n  return hash.toString();\n};\n\n/*\n * Converts D3 nest array into the object with key-value pairs, recursively\n * @param {Array} arr - array like this [{key: k, values: [a, b, ...]}, {...} ... {...}]\n * @return {Object} object like this {k: [a, b, ...], ...}\n */\n//\nvar nestArrayToObj = exports.nestArrayToObj = function nestArrayToObj(arr) {\n  if (!arr || !arr.length || !arr[0].key) return arr;\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    res[arr[i].key] = nestArrayToObj(arr[i].values);\n  }\n  return res;\n};\n\nvar interpolateVector = exports.interpolateVector = function interpolateVector() {};\n\n/**\n * interpolates the specific value\n * @param {Array} items -- an array of items, sorted by \"dimTime\", filtered so that no item[which] is null\n * @param {String} use -- a use of hook that wants to interpolate. can be \"indicator\" or \"property\" or \"constant\"\n * @param {String} which -- a hook pointer to indicator or property, e.g. \"lex\"\n * @param {Number} next -- an index of next item in \"items\" array after the value to be interpolated. if omitted, then calculated here, but it's expensive\n * @param {String} dimTime -- a pointer to time dimension, usually \"time\"\n * @param {Date} time -- reference point for interpolation. here the valus is to be found\n * @param {String} method refers to which formula to use. \"linear\" or \"exp\". Falls back to \"linear\" if undefined\n * @param {Boolean} extrapolate indicates if we should use zero-order extrapolation outside the range of available data\n * @returns {Number} interpolated value\n */\nvar interpolatePoint = exports.interpolatePoint = function interpolatePoint(items, use, which, next, dimTime, time, method, extrapolate) {\n\n  if (!items || items.length === 0) {\n    warn(\"interpolatePoint failed because incoming array is empty. It was \" + which);\n    return null;\n  }\n  // return constant for the use of \"constant\"\n  if (use === \"constant\") return which;\n\n  // zero-order interpolation for the use of properties\n  if (use === \"property\") return items[0][which];\n\n  // the rest is for the continuous measurements\n\n  if (extrapolate) {\n    // check if the desired value is out of range. 0-order extrapolation\n    if (time - items[0][dimTime] <= 0) return items[0][which];\n    if (time - items[items.length - 1][dimTime] >= 0) return items[items.length - 1][which];\n  } else {\n    // no extrapolation according to Ola's request\n    if (time < items[0][dimTime] || time > items[items.length - 1][dimTime]) return null;\n  }\n\n  if (!next && next !== 0) next = d3.bisectLeft(items.map(function (m) {\n    return m[dimTime];\n  }), time);\n\n  if (next === 0) return items[0][which];\n\n  //return null if data is missing\n  if (items[next] === undefined || items[next][which] === null || items[next - 1][which] === null || items[next][which] === \"\") {\n    warn(\"interpolatePoint failed because next/previous points are bad in \" + which);\n    return null;\n  }\n\n  //do the math to calculate a value between the two points\n  var result = _interpolators2.default[method || \"linear\"](items[next - 1][dimTime], items[next][dimTime], items[next - 1][which], items[next][which], time);\n\n  // cast to time object if we are interpolating time\n  if (which === dimTime) result = new Date(result);\n  if (isNaN(result)) {\n    warn(\"interpolatePoint failed because result is NaN. It was \" + which);\n    result = null;\n  }\n\n  return result;\n};\n\n/*\n * Performs an ajax request\n * @param {Object} options\n * @param {String} className\n * @return {Boolean}\n */\nvar ajax = exports.ajax = function ajax(options) {\n  var request = new XMLHttpRequest();\n  request.open(options.method, options.url, true);\n  if (options.method === \"POST\" && !options.json) {\n    request.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\");\n  } else if (options.method === \"POST\" && options.json) {\n    request.setRequestHeader(\"Content-Type\", \"application/json; charset=UTF-8\");\n  }\n  request.onload = function () {\n    if (request.status >= 200 && request.status < 400) {\n      // Success!\n      var data = options.json ? JSON.parse(request.responseText) : request.responseText;\n      if (options.success) {\n        options.success(data);\n      }\n    } else {\n      if (options.error) {\n        options.error();\n      }\n    }\n  };\n  request.onerror = function () {\n    if (options.error) {\n      options.error();\n    }\n  };\n  request.send(options.data);\n};\n\n/*\n * Performs a GET http request\n */\nvar get = exports.get = function get(url, pars, success, error, json) {\n  pars = pars || [];\n  forEach(pars, function (value, key) {\n    pars.push(key + \"=\" + value);\n  });\n  url = pars.length ? url + \"?\" + pars.join(\"&\") : url;\n  ajax({\n    method: \"GET\",\n    url: url,\n    success: success,\n    error: error,\n    json: json\n  });\n};\n\n/*\n * Performs a POST http request\n */\nvar post = exports.post = function post(url, pars, success, error, json) {\n  ajax({\n    method: \"POST\",\n    url: url,\n    success: success,\n    error: error,\n    json: json,\n    data: pars\n  });\n};\n\n/**\n * Make function memoized\n * @param {Function} fn\n * @returns {Function}\n */\nvar memoize = exports.memoize = function memoize(fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var hash = \"\";\n    var i = args.length;\n    var currentArg = null;\n\n    while (i--) {\n      currentArg = args[i];\n      hash += currentArg === Object(currentArg) ? JSON.stringify(currentArg) : currentArg;\n      fn.memoize || (fn.memoize = {});\n    }\n\n    return hash in fn.memoize ? fn.memoize[hash] : fn.memoize[hash] = fn.apply(this, args);\n  };\n};\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nvar debounce = exports.debounce = function debounce(func, wait, immediate) {\n  var timeout = void 0;\n  return function () {\n    var context = this;\n    var args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nvar isTouchDevice = exports.isTouchDevice = function isTouchDevice() {\n  //'ontouchstart' is not reliable in Google Chrome #2116, but Chrome has this firesTouchEvents flag\n  if (((d3.event || {}).sourceCapabilities || {}).firesTouchEvents != null) {\n    return d3.event.sourceCapabilities.firesTouchEvents;\n  }\n  return !!(\"ontouchstart\" in window || window.DocumentTouch && document instanceof DocumentTouch);\n};\n\n//return a pruneed tree\nvar pruneTree = exports.pruneTree = function pruneTree(tree, filterCallback) {\n  var filteredTree = {};\n  var filteredChildrens = [];\n  if (tree.hasOwnProperty(\"children\")) {\n    filteredChildrens = tree.children.map(function (childrenTree) {\n      return pruneTree(childrenTree, filterCallback);\n    }).filter(function (childrenTree) {\n      return Object.keys(childrenTree).length !== 0;\n    });\n  }\n  if (filteredChildrens.length != 0 || filterCallback(tree)) {\n    //copy all the properties to the new tree\n    forEach(tree, function (value, key) {\n      filteredTree[key] = value;\n    });\n  }\n  if (filteredChildrens.length != 0) {\n    filteredTree[\"children\"] = filteredChildrens;\n  }\n  return filteredTree;\n};\n\nvar setIcon = exports.setIcon = function setIcon(element, icon) {\n  element.selectAll(\"*\").remove();\n  element.node().appendChild(element.node().ownerDocument.importNode(new DOMParser().parseFromString(icon, \"application/xml\").documentElement, true));\n  return element;\n};\n\n//http://stackoverflow.com/questions/26049488/how-to-get-absolute-coordinates-of-object-inside-a-g-group\nfunction makeAbsoluteContext(element, svgDocument) {\n  return function (x, y) {\n    var offset = svgDocument.getBoundingClientRect();\n    var matrix = element.getScreenCTM();\n    return {\n      x: matrix.a * x + matrix.c * y + matrix.e - offset.left,\n      y: matrix.b * x + matrix.d * y + matrix.f - offset.top\n    };\n  };\n}\n\n/***\n thenBy.js\n Copyright 2013 Teun Duynstee\n https://github.com/Teun/thenBy.js/blob/master/thenBy.module.js\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nfunction firstBy() {\n\n  function identity(v) {\n    return v;\n  }\n\n  function ignoreCase(v) {\n    return typeof v === \"string\" ? v.toLowerCase() : v;\n  }\n\n  function makeCompareFunction(f, opt) {\n    opt = typeof opt === \"number\" ? { direction: opt } : opt || {};\n    if (typeof f !== \"function\") {\n      var prop = f;\n      // make unary function\n      f = function f(v1) {\n        return v1[prop] ? v1[prop] : \"\";\n      };\n    }\n    if (f.length === 1) {\n      // f is a unary function mapping a single item to its sort score\n      var uf = f;\n      var preprocess = opt.ignoreCase ? ignoreCase : identity;\n      f = function f(v1, v2) {\n        return preprocess(uf(v1)) < preprocess(uf(v2)) ? -1 : preprocess(uf(v1)) > preprocess(uf(v2)) ? 1 : 0;\n      };\n    }\n    if (opt.direction === -1) return function (v1, v2) {\n      return -f(v1, v2);\n    };\n    return f;\n  }\n\n  /* adds a secondary compare function to the target function (`this` context)\n   which is applied in case the first one returns 0 (equal)\n   returns a new compare function, which has a `thenBy` method as well */\n  function tb(func, opt) {\n    var x = typeof this === \"function\" ? this : false;\n    var y = makeCompareFunction(func, opt);\n    var f = x ? function (a, b) {\n      return x(a, b) || y(a, b);\n    } : y;\n    f.thenBy = tb;\n    return f;\n  }\n\n  return tb;\n}\n\nfunction transform(node) {\n  var _node$transform$baseV = node.transform.baseVal.consolidate().matrix,\n      a = _node$transform$baseV.a,\n      b = _node$transform$baseV.b,\n      c = _node$transform$baseV.c,\n      d = _node$transform$baseV.d,\n      e = _node$transform$baseV.e,\n      f = _node$transform$baseV.f;\n\n\n  return function (a, b, c, d, e, f) {\n    var scaleX = void 0,\n        scaleY = void 0,\n        skewX = void 0;\n    if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n      translateX: e,\n      translateY: f,\n      rotate: Math.atan2(b, a) * Math.PI / 180,\n      skewX: Math.atan(skewX) * Math.PI / 180,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }(a, b, c, d, e, f);\n}\n\nvar capitalize = exports.capitalize = function capitalize(string) {\n  return string.slice(0, 1).toUpperCase() + string.slice(1).toLowerCase();\n};\n\n// http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\nvar isMobileOrTablet = exports.isMobileOrTablet = function isMobileOrTablet() {\n  var agent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : navigator.userAgent || navigator.vendor || window.opera;\n  return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent.substr(0, 4))\n  );\n};\n\nfunction getValueMD(d, values, keysArray) {\n  var value = values;\n  for (var i = 0, j = keysArray.length; i < j; i++) {\n    value = value[d[keysArray[i]]];\n    if (!value) break;\n  }\n  return value;\n}\n\nvar isFunction = exports.isFunction = function isFunction(value) {\n  return typeof value === \"function\";\n};\n\n/**\n * This is helper for getting some deep props in object. It's added to remove code like\n * this.show[dimension]\n *   && this.show[dimension][\"$in\"]\n *   && this.show[dimension][\"$in\"].indexOf(d[dimension]) !== -1;\n * when you need to get (+check) nested properties.\n\n * @param {context} object The root object where we start to look for the props\n * @param {Array} props Names of properties for nesting\n * @param {*} defaultValue Default value that will be returned if there is no such properties in object\n * @returns {property} The property we're looking for or a default value\n\n * Usage:\n * const object = { one: { two: \"your value\" } };\n * utils.getProp(object, [\"one\", \"two\"]); // \"your value\"\n */\nvar getProp = exports.getProp = function getProp(object, props, defaultValue) {\n  while (props.length) {\n    var prop = props.shift();\n    if (object.hasOwnProperty(prop)) {\n      object = object[prop];\n    } else {\n      return defaultValue;\n    }\n  }\n  return object;\n};\n\nvar px2num = exports.px2num = function px2num(pixels) {\n  return isString(pixels) && pixels.endsWith(\"px\") ? parseFloat(pixels) : console.warn(\"Strange pixels value: \" + pixels) || pixels;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6);\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nvar _globals = __webpack_require__(102);\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar class_loading_first = \"vzb-loading-first\";\nvar class_loading_data = \"vzb-loading-data\";\nvar class_error = \"vzb-error\";\n\nvar templates = {};\nvar Component = _events2.default.extend({\n\n  /**\n   * Initializes the component\n   * @param {Object} config Initial config, with name and placeholder\n   * @param {Object} parent Reference to tool\n   */\n  init: function init(config, parent) {\n    this._id = this._id || utils.uniqueId(\"c\");\n    this._ready = false;\n    this._readyOnce = false;\n    this.name = this.name || config.name || this._id;\n    this.template = this.template || \"<div></div>\";\n    this.placeholder = this.placeholder || config.placeholder;\n    this.template_data = this.template_data || {\n      name: this.name\n    };\n    //make sure placeholder is DOM element\n    if (this.placeholder && !utils.isElement(this.placeholder)) {\n      try {\n        this.placeholder = parent.placeholder.querySelector(this.placeholder);\n      } catch (e) {\n        utils.error(\"Error finding placeholder '\" + this.placeholder + \"' for component '\" + this.name + \"'\");\n      }\n    }\n    this.parent = parent || null;\n    this.root = this.parent ? this.parent.root : this;\n\n    this.components = this.components || [];\n    this._components_config = this.components.map(function (x) {\n      return utils.clone(x);\n    });\n\n    //define expected models for this component\n    this.model_expects = this.model_expects || [];\n    this.model_binds = this.model_binds || {};\n    this.createModel(config.model);\n\n    this.ui = this.model.ui || this.ui || config.ui;\n    this._super();\n\n    this.registerListeners();\n  },\n  createModel: function createModel(configModel) {\n    this.model = this._modelMapping(configModel);\n  },\n  registerListeners: function registerListeners() {\n    this.on({\n      \"readyOnce\": this.readyOnce,\n      \"ready\": this.ready,\n      \"domReady\": this.domReady,\n      \"resize\": this.resize\n    });\n  },\n\n\n  /**\n   * Recursively starts preloading in components\n   * @return {[type]} [description]\n   */\n  startPreload: function startPreload() {\n\n    var promises = [];\n    promises.push(this.preload());\n\n    utils.forEach(this.components, function (subComponent) {\n      return promises.push(subComponent.startPreload());\n    });\n\n    return Promise.all(promises);\n  },\n  preload: function preload() {\n    return Promise.resolve();\n  },\n\n\n  /**\n   * Executes after preloading is finished\n   */\n  afterPreload: function afterPreload() {\n    if (this.model) {\n      this.model.afterPreload();\n    }\n    utils.forEach(this.components, function (subcomp) {\n      subcomp.afterPreload();\n    });\n  },\n\n\n  /**\n   * Renders the component (after data is ready)\n   */\n  render: function render() {\n    this.prerender();\n    this.postrender();\n  },\n  prerender: function prerender() {\n    this.loadTemplate();\n    this.loadSubComponents();\n  },\n  postrender: function postrender() {\n    var _this = this;\n\n    //render each subcomponent\n    utils.forEach(this.components, function (subcomp) {\n      subcomp.render();\n      _this.on(\"resize\", function () {\n        subcomp.trigger(\"resize\");\n      });\n    });\n\n    this.startLoading();\n  },\n\n\n  /**\n   * Overloaded by Tool which starts loading of model\n   * @return {[type]} [description]\n   */\n  startLoading: function startLoading() {\n    var _this = this;\n\n    // if a componente's model is ready, the component is ready\n    this.model.on(\"ready\", function () {\n      _this.loadingDone();\n    });\n\n    if (!(this.model && this.model.isLoading())) {\n      this.loadingDone();\n    }\n  },\n  loadingDone: function loadingDone() {\n    utils.removeClass(this.placeholder, class_loading_first);\n    utils.removeClass(this.placeholder, class_loading_data);\n    this.setReady();\n  },\n  renderError: function renderError() {\n    utils.removeClass(this.placeholder, class_loading_first);\n    utils.removeClass(this.placeholder, class_loading_data);\n    utils.addClass(this.placeholder, class_error);\n    this.setError({\n      type: \"data\"\n    });\n  },\n  setError: function setError(opts) {\n    if (typeof this.error === \"function\") {\n      this.error(opts);\n    }\n  },\n  setReady: function setReady(value) {\n    if (!this._readyOnce) {\n      this.trigger(\"readyOnce\");\n      this._readyOnce = true;\n    }\n    this._ready = true;\n    this.trigger(\"ready\");\n  },\n\n\n  /**\n   * Loads the template\n   * @returns defer a promise to be resolved when template is loaded\n   */\n  loadTemplate: function loadTemplate() {\n    var tmpl = this.template;\n    var data = this.template_data;\n    var _this = this;\n    var rendered = \"\";\n    if (!this.placeholder) {\n      return;\n    }\n    //todo: improve t function getter + generalize this\n    data = utils.extend(data, {\n      t: this.getTranslationFunction(true)\n    });\n    if (this.template) {\n      try {\n        rendered = templateFunc(tmpl, data);\n      } catch (e) {\n        utils.error(\"Templating error for component: '\" + this.name + \"' - Check if template name is unique and correct. E.g.: 'bubblechart'\");\n\n        utils.removeClass(this.placeholder, class_loading_data);\n        utils.addClass(this.placeholder, class_error);\n        this.setError({\n          type: \"template\"\n        });\n      }\n    }\n    //add loading class and html\n    utils.addClass(this.placeholder, class_loading_data);\n    utils.addClass(this.placeholder, class_loading_first);\n    this.placeholder.innerHTML = rendered;\n    this.element = this.placeholder.children[0];\n\n    //template is ready\n    this.trigger(\"domReady\");\n  },\n  getActiveProfile: function getActiveProfile(profiles, presentationProfileChanges) {\n    // get layout values\n    var layoutProfile = this.getLayoutProfile();\n    var presentationMode = this.getPresentationMode();\n    var activeProfile = utils.deepClone(profiles[layoutProfile]); // clone so it can be extended without changing the original profile\n\n    // extend the profile with presentation mode values\n    if (presentationMode && (presentationProfileChanges || {})[layoutProfile]) {\n      utils.deepExtend(activeProfile, presentationProfileChanges[layoutProfile]);\n    }\n\n    return activeProfile;\n  },\n\n\n  /*\n   * Loads all subcomponents\n   */\n  loadSubComponents: function loadSubComponents() {\n    var _this = this;\n    var config = void 0;\n    var comp = void 0;\n    //use the same name for collection\n    this.components = [];\n\n    // Loops through components, loading them.\n    utils.forEach(this._components_config, function (component_config) {\n\n      component_config.model = component_config.model || {};\n\n      if (!component_config.component) {\n        utils.error(\"Error loading component: name not provided\");\n        return;\n      }\n\n      comp = utils.isString(component_config.component) ? Component.get(component_config.component) : component_config.component;\n\n      if (!comp) return;\n\n      config = utils.extend(component_config, {\n        name: component_config.component,\n        ui: _this._uiMapping(component_config.placeholder, component_config.ui)\n      });\n      //instantiate new subcomponent\n      var subcomp = new comp(config, _this);\n      _this.components.push(subcomp);\n    });\n  },\n\n\n  /**\n   * Returns subcomponent by name\n   * @returns {Boolean}\n   */\n  findChildByName: function findChildByName(name) {\n    return utils.find(this.components, function (f) {\n      return f.name === name;\n    });\n  },\n\n\n  /**\n   * Get layout profile of the current resolution\n   * @returns {String} profile\n   */\n  getLayoutProfile: function getLayoutProfile() {\n    // get profile from parent if layout is not available\n    return this.model.ui ? this.model.ui.currentProfile() : this.parent.getLayoutProfile();\n  },\n\n\n  /**\n   * Get if presentation mode is set of the current tool\n   * @returns {Bool} presentation mode\n   */\n  getPresentationMode: function getPresentationMode() {\n    // get profile from parent if layout is not available\n    return this.model.ui ? this.model.ui.getPresentationMode() : this.parent.getPresentationMode();\n  },\n\n\n  //TODO: make ui mapping more powerful\n  /**\n   * Maps the current ui to the subcomponents\n   * @param {String} id subcomponent id (placeholder)\n   * @param {Object} ui Optional ui parameters to overwrite existing\n   * @returns {Object} the UI object\n   */\n  _uiMapping: function _uiMapping(id, ui) {\n    //if overwritting UI\n    if (ui) {\n      return new _model2.default(\"ui\", ui);\n    }\n    if (id && this.ui) {\n      id = id.replace(\".\", \"\");\n      //remove trailing period\n      var sub_ui = this.ui[id];\n      if (sub_ui) {\n        return sub_ui;\n      }\n    }\n    return this.ui;\n  },\n\n\n  /**\n   * Maps the current model to the subcomponents\n   * @param {String|Array} model_config Configuration of model\n   * @returns {Object} the model\n   */\n  _modelMapping: function _modelMapping(model_config) {\n    var _this = this;\n    var values = {};\n    //If model_config is an array, we map it\n    if (utils.isArray(model_config) && utils.isArray(this.model_expects)) {\n\n      //if there's a different number of models received and expected\n      if (this.model_expects.length !== model_config.length) {\n        utils.groupCollapsed(\"DIFFERENCE IN NUMBER OF MODELS EXPECTED AND RECEIVED\");\n        utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" + \"Component: '\" + _this.parent.name + \"'\\n\" + \"Subcomponent: '\" + this.name + \"'\\n\" + \"Number of Models Expected: \" + this.model_expects.length + \"\\nNumber of Models Received: \" + model_config.length);\n        utils.groupEnd();\n      }\n      utils.forEach(model_config, function (m, i) {\n        if (!m) return;\n        var model_info = _mapOne(m);\n\n        var new_name = void 0;\n        if (_this.model_expects[i]) {\n          new_name = _this.model_expects[i].name;\n          if (_this.model_expects[i].type && model_info.type !== _this.model_expects[i].type && (!utils.isArray(_this.model_expects[i].type) || _this.model_expects[i].type.indexOf(model_info.type) === -1)) {\n\n            utils.groupCollapsed(\"UNEXPECTED MODEL TYPE: '\" + model_info.type + \"' instead of '\" + _this.model_expects[i].type + \"'\");\n            utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + _this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" + \"Component: '\" + _this.parent.name + \"'\\n\" + \"Subcomponent: '\" + _this.name + \"'\\n\" + \"Expected Model: '\" + _this.model_expects[i].type + \"'\\n\" + \"Received Model: '\" + model_info.type + \"'\\n\" + \"Model order: \" + i);\n            utils.groupEnd();\n          }\n        } else {\n\n          utils.groupCollapsed(\"UNEXPECTED MODEL: '\" + model_config[i] + \"'\");\n          utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + _this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" + \"Component: '\" + _this.parent.name + \"'\\n\" + \"Subcomponent: '\" + _this.name + \"'\\n\" + \"Number of Models Expected: \" + _this.model_expects.length + \"\\n\" + \"Number of Models Received: \" + model_config.length);\n          utils.groupEnd();\n          new_name = model_info.name;\n        }\n        values[new_name] = model_info.model;\n      });\n\n      // fill the models that weren't passed with empty objects\n      // e.g. if expected = [ui, locale, color] and passed/existing = [ui, locale]\n      // it will fill values up to [ui, locale, {}]\n      var existing = model_config.length;\n      var expected = this.model_expects.length;\n      if (expected > existing) {\n        //skip existing\n        this.model_expects.splice(0, existing);\n        //adds new expected models if needed\n        utils.forEach(expected, function (m) {\n          values[m.name] = {};\n        });\n      }\n    } else {\n      return;\n    }\n    //return a new model with the defined submodels\n    return new _model2.default(this.name, values, null, this.model_binds);\n    /**\n     * Maps one model name to current submodel and returns info\n     * @param {String} name Full model path. E.g.: \"state.marker.color\"\n     * @returns {Object} the model info, with name and the actual model\n     */\n    function _mapOne(name) {\n      var parts = name.split(\".\");\n      var current = _this.parent.model;\n      var current_name = \"\";\n      while (parts.length) {\n        current_name = parts.shift();\n        current = current[current_name];\n      }\n      return {\n        name: name,\n        model: current,\n        type: current ? current.getType() : null\n      };\n    }\n  },\n\n\n  /**\n   * Get translation function for templates\n   * @param {Boolean} wrap wrap in spam tags\n   * @returns {Function}\n   */\n  getTranslationFunction: function getTranslationFunction(wrap) {\n    var t_func = void 0;\n    try {\n      t_func = this.model.get(\"locale\").getTFunction();\n    } catch (err) {\n      if (this.parent && this.parent !== this) {\n        t_func = this.parent.getTranslationFunction();\n      }\n    }\n    if (!t_func) {\n      t_func = function t_func(s) {\n        return s;\n      };\n    }\n\n    return wrap ? this._translatedStringFunction(t_func) : t_func;\n  },\n\n\n  /**\n   * Get function for translated string\n   * @param {Function} translation_function The translation function\n   * @returns {Function}\n   */\n  _translatedStringFunction: function _translatedStringFunction(translation_function) {\n    return function (string) {\n      var translated = translation_function(string);\n      return '<span data-vzb-translate=\"' + string + '\">' + translated + \"</span>\";\n    };\n  },\n\n\n  /**\n   * Translate all strings in the template\n   */\n  translateStrings: function translateStrings() {\n    var t = this.getTranslationFunction();\n    var strings = this.placeholder.querySelectorAll(\"[data-vzb-translate]\");\n    if (strings.length === 0) {\n      return;\n    }\n    utils.forEach(strings, function (str) {\n      if (!str || !str.getAttribute) {\n        return;\n      }\n      str.innerHTML = t(str.getAttribute(\"data-vzb-translate\"));\n    });\n  },\n\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available\n   * as DOM elements\n   */\n  readyOnce: function readyOnce() {},\n\n\n  /**\n   * Executes after the template and model (if any) are ready\n   */\n  ready: function ready() {},\n\n\n  /**\n   * Executes when the resize event is triggered.\n   * Ideally, it only contains operations related to size\n   */\n  resize: function resize() {},\n\n\n  /**\n   * Executed after template is loaded\n   * Ideally, it contains instantiations related to template\n   */\n  domReady: function domReady() {},\n\n\n  /**\n   * Clears a component\n   */\n  clear: function clear() {\n    this.freeze();\n    if (this.model) this.model.freeze();\n    utils.forEach(this.components, function (c) {\n      c.clear();\n    });\n  }\n});\n\n// Based on Simple JavaScript Templating by John Resig\n//generic templating function\nfunction templateFunc(str, data) {\n\n  var func = function func(obj) {\n    return str.replace(/<%=([^%]*)%>/g, function (match) {\n      //match t(\"...\")\n      var s = match.match(/t\\s*\\(([^)]+)\\)/g);\n      //replace with translation\n      if (s.length) {\n        s = obj.t(s[0].match(/\"([^\"]+)\"/g)[0].split('\"').join(\"\"));\n      }\n      //use object[name]\n      else {\n          s = match.match(/([a-z\\-A-Z]+([a-z\\-A-Z0-9]?[a-zA-Z0-9]?)?)/g)[0];\n          s = obj[s] || s;\n        }\n      return s;\n    });\n  };\n  // Figure out if we're getting a template, or if we need to\n  // load the template - and be sure to cache the result.\n  var fn = !/<[a-z][\\s\\S]*>/i.test(str) ? templates[str] = templates[str] || templateFunc(_globals2.default.templates[str]) : func;\n\n  // Provide some basic currying to the user\n  return data ? fn(data) : fn;\n}\n\n//utility function to check if a component is a component\n//TODO: Move to utils?\nComponent.isComponent = function (c) {\n  return c._id && (c._id[0] === \"t\" || c._id[0] === \"c\");\n};\n\nexports.default = Component;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store      = __webpack_require__(60)('wks')\n  , uid        = __webpack_require__(38)\n  , Symbol     = __webpack_require__(4).Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(5)(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject       = __webpack_require__(2)\n  , IE8_DOM_DEFINE = __webpack_require__(105)\n  , toPrimitive    = __webpack_require__(25)\n  , dP             = Object.defineProperty;\n\nexports.f = __webpack_require__(8) ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nvar _requireAll = __webpack_require__(99);\n\nvar _requireAll2 = _interopRequireDefault(_requireAll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar dialogTemplates = (0, _requireAll2.default)(__webpack_require__(371));\n\n/*!\n * VIZABI DIALOG\n * Reusable Dialog component\n */\n\nvar Dialog = _component2.default.extend({\n\n  isDialog: true,\n\n  /**\n   * Initializes the dialog\n   * @param {Object} config Initial config, with name and placeholder\n   * @param {Object} parent Reference to tool\n   */\n  init: function init(config, parent) {\n    this.name = this.name || \"\";\n\n    this.model_expects = this.model_expects || [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.template = dialogTemplates[this.name];\n\n    this._super(config, parent);\n  },\n\n\n  /**\n   * Executed when the dialog has been rendered\n   */\n  readyOnce: function readyOnce() {\n    this.element = d3.select(this.element);\n    this.titleEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-title\");\n    this.buttonsEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-buttons\");\n    this.contentEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-content\");\n  },\n  ready: function ready() {\n    var _this = this;\n    this.placeholderEl = d3.select(this.placeholder);\n    this.rootEl = this.root.element instanceof Array ? this.root.element : d3.select(this.root.element);\n    this.dragHandler = this.placeholderEl.select(\"[data-click='dragDialog']\");\n    this.dragHandler.html(_iconset.drag);\n    this.pinIcon = this.placeholderEl.select(\"[data-click='pinDialog']\");\n    this.pinIcon.html(_iconset.pin);\n    this.topPos = \"\";\n    var profile = this.getLayoutProfile();\n\n    var dg = dialogDrag(this.placeholderEl, this.rootEl, 10);\n    var dragBehavior = d3.drag().on(\"start\", function () {\n      var topPos = _this.placeholderEl.node().offsetTop;\n      _this.placeholderEl.style(\"top\", topPos + \"px\");\n      _this.placeholderEl.style(\"bottom\", \"auto\");\n      _this.trigger(\"dragstart\");\n      dg.dragStart(d3.event);\n    }).on(\"drag\", function () {\n      _this.trigger(\"drag\");\n      dg.drag(d3.event);\n    }).on(\"end\", function () {\n      _this.rightPos = _this.placeholderEl.style(\"right\");\n      _this.topPos = _this.placeholderEl.style(\"top\");\n      _this.trigger(\"dragend\");\n    });\n    this.dragHandler.call(dragBehavior);\n\n    this.dragHandler.classed(\"vzb-hidden\", profile === \"small\");\n    this.pinIcon.classed(\"vzb-hidden\", profile === \"small\");\n    this.resize();\n  },\n  resize: function resize() {\n    if (this.placeholderEl && this.rootEl && this.placeholderEl.classed(\"vzb-top-dialog\")) {\n      this.placeholderEl.classed(\"notransition\", true);\n\n      var profile = this.getLayoutProfile();\n\n      if (profile !== \"small\") {\n        var chartWidth = parseInt(this.rootEl.style(\"width\"), 10) || 0;\n        var chartHeight = parseInt(this.rootEl.style(\"height\"), 10) || 0;\n        var dialogWidth = parseInt(this.placeholderEl.style(\"width\"), 10) || 0;\n        var dialogHeight = parseInt(this.placeholderEl.style(\"height\"), 10) || 0;\n\n        var dialogRight = parseInt(this.rightPos, 10);\n        var dialogTop = parseInt(this.topPos, 10);\n        var dialogRightMargin = parseInt(this.placeholderEl.style(\"margin-right\"), 10) || 0;\n        if (utils.isNumber(dialogRight) && dialogRight > chartWidth - dialogWidth - dialogRightMargin) {\n          if (this.rightPos) {\n            this.rightPos = chartWidth - dialogWidth - dialogRightMargin + \"px\";\n            if (this.isOpen) this.placeholderEl.style(\"right\", this.rightPos);\n          }\n        }\n        if (utils.isNumber(dialogTop) && utils.isNumber(dialogHeight) && dialogTop >= 0 && dialogTop > chartHeight - dialogHeight) {\n          if (this.topPos) {\n            this.topPos = (chartHeight - dialogHeight > 0 ? chartHeight - dialogHeight : 0) + \"px\";\n            if (this.isOpen) this.placeholderEl.style(\"top\", this.topPos);\n          }\n        }\n\n        if (this.topPos && this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n          this.placeholderEl.style(\"bottom\", \"auto\");\n        }\n\n        if (this.rootEl.classed(\"vzb-landscape\")) {}\n        // var contentHeight = parseInt(this.rootEl.style('height'));\n        // var placeholderHeight = parseInt(this.placeholderEl.style('height'));\n        // if (contentHeight < placeholderHeight) {\n        //   this.topPos = (-contentHeight + 50) + 'px';\n        //   this.rightPos = '';\n        //   this.placeholderEl.style('right', this.rightPos);\n        //   this.placeholderEl.style('bottom', 'auto');\n        // } else {\n        //   //this.topPos = '';\n        //   this.placeholderEl.style('bottom', '');\n        // }\n\n        //this.placeholderEl.style('top', this.topPos);\n        this.element.style(\"max-height\", \"\");\n      } else {\n        this.rightPos = \"\";\n        this.topPos = \"\";\n        this.placeholderEl.attr(\"style\", \"\");\n        // var totalHeight = this.root.element.offsetHeight;\n        // if(this.rootEl.classed('vzb-portrait')) totalHeight = totalHeight - 50;\n        // this.element.style('max-height', (totalHeight - 10) + 'px');\n      }\n\n      this.dragHandler.classed(\"vzb-hidden\", profile === \"small\");\n      this.pinIcon.classed(\"vzb-hidden\", profile === \"small\");\n\n      this._setMaxHeight();\n    }\n  },\n  _setMaxHeight: function _setMaxHeight() {\n    var totalHeight = this.root.element.offsetHeight;\n    if (this.getLayoutProfile() !== \"small\") {\n      if (!this.topPos && this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n        var dialogBottom = parseInt(this.placeholderEl.style(\"bottom\"), 10);\n        totalHeight -= dialogBottom;\n      } else {\n        var topPos = this.topPos ? parseInt(this.topPos, 10) : this.placeholderEl.node().offsetTop;\n        totalHeight -= topPos;\n      }\n    } else {\n      totalHeight = this.rootEl.classed(\"vzb-portrait\") ? totalHeight - 50 : totalHeight - 10;\n    }\n\n    this.element.style(\"max-height\", totalHeight + \"px\");\n\n    //set 'max-height' to content for IE11\n    var contentHeight = totalHeight - this.titleEl.node().offsetHeight - this.buttonsEl.node().offsetHeight;\n    this.contentEl.style(\"max-height\", contentHeight + \"px\");\n  },\n  beforeOpen: function beforeOpen() {\n    var _this = this;\n\n    this.transitionEvents = [\"webkitTransitionEnd\", \"transitionend\", \"msTransitionEnd\", \"oTransitionEnd\"];\n    this.transitionEvents.forEach(function (event) {\n      _this.placeholderEl.on(event, _this.transitionEnd.bind(_this, event));\n    });\n\n    this.placeholderEl.classed(\"notransition\", true);\n\n    this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n    this.placeholderEl.style(\"bottom\", \"\"); // issues: 369 & 442\n\n    if (this.topPos && this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      var topPos = this.placeholderEl.node().offsetTop;\n      this.placeholderEl.style(\"top\", topPos + \"px\"); // issues: 369 & 442\n      this.placeholderEl.style(\"bottom\", \"auto\"); // issues: 369 & 442\n    } else if (this.getLayoutProfile() !== \"small\") {\n      //if(this.rightPos) this.placeholderEl.style('right', this.rightPos);\n    }\n\n    this.placeholderEl.node().offsetTop;\n    this.placeholderEl.classed(\"notransition\", false);\n\n    if (this.getLayoutProfile() === \"small\") {\n      this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n    } else if (this.rootEl.classed(\"vzb-landscape\")) {// need to recalculate popup position (Safari 8 bug)\n      // var contentHeight = parseInt(this.rootEl.style('height'));\n      // var placeholderHeight = parseInt(this.placeholderEl.style('height'));\n      // if (contentHeight < placeholderHeight) {\n      //   this.topPos = (-contentHeight + 50) + 'px';\n      //   this.rightPos = '';\n      //   this.placeholderEl.style('right', this.rightPos);\n      //   this.placeholderEl.style('bottom', 'auto');\n      // } else {\n      //   this.topPos = '';\n      //   this.placeholderEl.style('bottom', '');\n      // }\n      //this.placeholderEl.style('top', this.topPos);\n    }\n  },\n\n\n  /**\n   * User has clicked to open this dialog\n   */\n  open: function open() {\n    this.isOpen = true;\n    if (this.getLayoutProfile() !== \"small\") {\n      if (this.topPos) {\n        this.placeholderEl.style(\"top\", this.topPos);\n        this.placeholderEl.style(\"right\", this.rightPos);\n      }\n    }\n  },\n  beforeClose: function beforeClose() {\n    //issues: 369 & 442\n    if (this.rootEl.classed(\"vzb-portrait\") && this.getLayoutProfile() === \"small\") {\n      this.placeholderEl.style(\"top\", \"auto\"); // issues: 369 & 442\n    }\n    if (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      this.topPos0 = this.topPos ? this.placeholderEl.node().parentNode.offsetHeight - this.placeholderEl.node().offsetHeight + \"px\" : \"\";\n    }\n    this.placeholderEl.classed(\"notransition\", false);\n    this.placeholderEl.node().offsetHeight; // trigger a reflow (flushing the css changes)\n  },\n\n\n  /**\n   * User has closed this dialog\n   */\n  close: function close() {\n    //issues: 369 & 442\n    if (!(this.rootEl.classed(\"vzb-portrait\") && this.getLayoutProfile() === \"small\")) {\n      this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n      this.placeholderEl.style(\"right\", \"\"); // issues: 369 & 442\n    }\n\n    if (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      this.placeholderEl.style(\"top\", this.topPos0);\n      this.placeholderEl.style(\"right\", \"\");\n    }\n    this.isOpen = false;\n    this.trigger(\"close\");\n  },\n  transitionEnd: function transitionEnd(eventName) {\n    var _this = this;\n\n    this.transitionEvents.forEach(function (event) {\n      _this.placeholderEl.on(event, null);\n    });\n    if (this.isOpen) {\n      this.placeholderEl.classed(\"notransition\", true);\n    }\n  }\n});\n\nfunction dialogDrag(element, container, xOffset) {\n  var posX = void 0,\n      posY = void 0,\n      divTop = void 0,\n      divRight = void 0,\n      marginRight = void 0,\n      marginLeft = void 0,\n      xOffsetRight = void 0,\n      xOffsetLeft = void 0,\n      eWi = void 0,\n      eHe = void 0,\n      cWi = void 0,\n      cHe = void 0,\n      diffX = void 0,\n      diffY = void 0;\n\n  return {\n    move: function move(x, y) {\n      element.style(\"right\", x + \"px\");\n      element.style(\"top\", y + \"px\");\n    },\n    dragStart: function dragStart(evt) {\n      if (!utils.isTouchDevice()) {\n        posX = evt.sourceEvent.clientX;\n        posY = evt.sourceEvent.clientY;\n      } else {\n        var touchCoord = d3.touches(container.node());\n        posX = touchCoord[0][0];\n        posY = touchCoord[0][1];\n      }\n      divTop = parseInt(element.style(\"top\")) || 0;\n      divRight = parseInt(element.style(\"right\")) || 0;\n      marginLeft = parseInt(element.style(\"margin-left\")) || 0;\n      marginRight = parseInt(element.style(\"margin-right\")) || 0;\n      xOffsetLeft = Math.min(xOffset, marginLeft);\n      xOffsetRight = Math.min(xOffset, marginRight);\n      eWi = parseInt(element.style(\"width\"), 10) + marginLeft - xOffsetLeft || 0;\n      eHe = parseInt(element.style(\"height\"), 10) || 0;\n      cWi = parseInt(container.style(\"width\"), 10) - marginRight || 0;\n      cHe = parseInt(container.style(\"height\"), 10) || 0;\n      diffX = posX + divRight;\n      diffY = posY - divTop;\n    },\n    drag: function drag(evt) {\n      if (!utils.isTouchDevice()) {\n        posX = evt.sourceEvent.clientX;\n        posY = evt.sourceEvent.clientY;\n      } else {\n        var touchCoord = d3.touches(container.node());\n        posX = touchCoord[0][0];\n        posY = touchCoord[0][1];\n      }\n      var aX = -posX + diffX,\n          aY = posY - diffY;\n      if (aX < -xOffsetRight) aX = -xOffsetRight;\n      if (aY < 0) aY = 0;\n      if (aX + eWi > cWi) aX = cWi - eWi;\n      if (aY + eHe > cHe) aY = cHe - eHe;\n\n      this.move(aX, aY);\n    }\n  };\n}\n\nexports.default = Dialog;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.15 ToLength\nvar toInteger = __webpack_require__(36)\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(23);\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP         = __webpack_require__(9)\n  , createDesc = __webpack_require__(34);\nmodule.exports = __webpack_require__(8) ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global    = __webpack_require__(4)\n  , hide      = __webpack_require__(14)\n  , has       = __webpack_require__(13)\n  , SRC       = __webpack_require__(38)('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\n__webpack_require__(29).inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  var isFunction = typeof val == 'function';\n  if(isFunction)has(val, 'name') || hide(val, 'name', key);\n  if(O[key] === val)return;\n  if(isFunction)has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe){\n      delete O[key];\n      hide(O, key, val);\n    } else {\n      if(O[key])O[key] = val;\n      else hide(O, key, val);\n    }\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(57)\n  , defined = __webpack_require__(23);\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0)\n  , fails   = __webpack_require__(5)\n  , defined = __webpack_require__(23)\n  , quot    = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function(string, tag, attribute, value) {\n  var S  = String(defined(string))\n    , p1 = '<' + tag;\n  if(attribute !== '')p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function(NAME, exec){\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function(){\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE            = __webpack_require__(58)\n  , createDesc     = __webpack_require__(34)\n  , toIObject      = __webpack_require__(17)\n  , toPrimitive    = __webpack_require__(25)\n  , has            = __webpack_require__(13)\n  , IE8_DOM_DEFINE = __webpack_require__(105)\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(8) ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = __webpack_require__(13)\n  , toObject    = __webpack_require__(12)\n  , IE_PROTO    = __webpack_require__(75)('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// source https://github.com/encharm/Font-Awesome-SVG-PNG/tree/master/black/svg\n\nvar paintbrush = exports.paintbrush = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1615 0q70 0 122.5 46.5t52.5 116.5q0 63-45 151-332 629-465 752-97 91-218 91-126 0-216.5-92.5t-90.5-219.5q0-128 92-212l638-579q59-54 130-54zm-909 1034q39 76 106.5 130t150.5 76l1 71q4 213-129.5 347t-348.5 134q-123 0-218-46.5t-152.5-127.5-86.5-183-29-220q7 5 41 30t62 44.5 59 36.5 46 17q41 0 55-37 25-66 57.5-112.5t69.5-76 88-47.5 103-25.5 125-10.5z\"/></svg>';\nvar search = exports.search = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nvar circle = exports.circle = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1664 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\"/></svg>';\nvar expand = exports.expand = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M883 1056q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23zm781-864v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45z\"/></svg>';\nvar asterisk = exports.asterisk = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1546 1050q46 26 59.5 77.5t-12.5 97.5l-64 110q-26 46-77.5 59.5t-97.5-12.5l-266-153v307q0 52-38 90t-90 38h-128q-52 0-90-38t-38-90v-307l-266 153q-46 26-97.5 12.5t-77.5-59.5l-64-110q-26-46-12.5-97.5t59.5-77.5l266-154-266-154q-46-26-59.5-77.5t12.5-97.5l64-110q26-46 77.5-59.5t97.5 12.5l266 153v-307q0-52 38-90t90-38h128q52 0 90 38t38 90v307l266-153q46-26 97.5-12.5t77.5 59.5l64 110q26 46 12.5 97.5t-59.5 77.5l-266 154z\"/></svg>';\nvar trails = exports.trails = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M 1381.375 17.1875 C 1375.7825 17.176804 1370.1216 17.316078 1364.4375 17.5625 C 1273.4913 21.505489 1197.0982 57.199956 1135.2188 124.6875 C 1076.5961 188.62338 1047.6964 263.96059 1048.5312 350.65625 L 835.71875 433 C 797.77288 391.67699 749.96961 361.96416 692.3125 343.84375 C 604.96227 316.39162 520.95691 323.70366 440.25 365.8125 C 359.5432 407.92133 305.45225 472.64985 278 560 C 250.54783 647.35004 257.89117 731.38694 300 812.09375 C 342.10886 892.80075 406.83755 946.89147 494.1875 974.34375 C 576.9404 1000.3512 657.38873 994.58645 735.5625 957.09375 L 959.28125 1171.4375 L 972.375 1184.4062 C 966.2931 1198.3454 961.94845 1209.2226 959.34375 1217.0625 C 956.73915 1224.9024 953.7186 1236.224 950.25 1251.0312 L 711.03125 1285.1875 C 669.59175 1209.0324 607.72526 1157.2863 525.40625 1129.9375 C 438.51381 1101.0693 354.34933 1107.021 272.96875 1147.8125 C 191.58796 1188.6039 136.49335 1252.4513 107.625 1339.3438 C 78.756758 1426.2362 84.708528 1510.3694 125.5 1591.75 C 166.29138 1673.1307 230.1387 1728.2567 317.03125 1757.125 C 403.92369 1785.9933 488.05682 1780.0415 569.4375 1739.25 C 650.81799 1698.4587 705.94425 1634.6111 734.8125 1547.7188 C 737.41718 1539.8788 740.43763 1528.5573 743.90625 1513.75 L 983.125 1479.5938 C 1024.5644 1555.7487 1086.4309 1607.4948 1168.75 1634.8438 C 1255.6425 1663.7119 1339.8069 1657.7603 1421.1875 1616.9688 C 1502.5682 1576.1772 1557.6631 1512.3299 1586.5312 1425.4375 C 1615.3996 1338.5451 1609.4477 1254.4119 1568.6562 1173.0312 C 1527.8647 1091.6506 1464.0174 1036.5244 1377.125 1007.6562 C 1294.9259 980.34721 1214.5066 984.74084 1135.8438 1020.8125 L 1120.2812 1005.9062 L 898.0625 785.96875 C 902.79653 774.40321 906.33847 765.03422 908.5 758.15625 C 920.42249 720.22 925.7916 682.90194 924.59375 646.21875 L 1130.9688 566.34375 C 1141.2015 577.59424 1149.3796 586.0106 1155.4688 591.59375 C 1222.9566 653.47326 1302.1474 682.44278 1393.0938 678.5 C 1484.04 674.55731 1560.4642 638.83151 1622.3438 571.34375 C 1684.2232 503.85591 1713.1929 424.6337 1709.25 333.6875 C 1705.3072 242.74139 1669.5816 166.34819 1602.0938 104.46875 C 1538.8238 46.456824 1465.2625 17.347946 1381.375 17.1875 z \"/></svg>';\nvar lock = exports.lock = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z\"/></svg>';\nvar unlock = exports.unlock = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z\"/></svg>';\nvar unexpand = exports.unexpand = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z\"/></svg>';\nvar axes = exports.axes = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><path d=\"M430.25,379.655l-75.982-43.869v59.771H120.73V151.966h59.774l-43.869-75.983L92.767,0L48.898,75.983L5.029,151.966h59.775 v271.557c0,15.443,12.52,27.965,27.963,27.965h261.5v59.773l75.982-43.869l75.982-43.867L430.25,379.655z\"/></svg>';\nvar gear = exports.gear = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/></svg>';\nvar stack = exports.stack = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 54.849 54.849\"><g><path d=\"M54.497,39.614l-10.363-4.49l-14.917,5.968c-0.537,0.214-1.165,0.319-1.793,0.319c-0.627,0-1.254-0.104-1.79-0.318     l-14.921-5.968L0.351,39.614c-0.472,0.203-0.467,0.524,0.01,0.716L26.56,50.81c0.477,0.191,1.251,0.191,1.729,0L54.488,40.33     C54.964,40.139,54.969,39.817,54.497,39.614z\"/><path d=\"M54.497,27.512l-10.364-4.491l-14.916,5.966c-0.536,0.215-1.165,0.321-1.792,0.321c-0.628,0-1.256-0.106-1.793-0.321     l-14.918-5.966L0.351,27.512c-0.472,0.203-0.467,0.523,0.01,0.716L26.56,38.706c0.477,0.19,1.251,0.19,1.729,0l26.199-10.479     C54.964,28.036,54.969,27.716,54.497,27.512z\"/><path d=\"M0.361,16.125l13.662,5.465l12.537,5.015c0.477,0.191,1.251,0.191,1.729,0l12.541-5.016l13.658-5.463     c0.477-0.191,0.48-0.511,0.01-0.716L28.277,4.048c-0.471-0.204-1.236-0.204-1.708,0L0.351,15.41     C-0.121,15.614-0.116,15.935,0.361,16.125z\"/></g></svg>';\nvar drag = exports.drag = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M896 384q-53 0-90.5 37.5t-37.5 90.5v128h-32v-93q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v429l-32-30v-172q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v224q0 47 35 82l310 296q39 39 39 102 0 26 19 45t45 19h640q26 0 45-19t19-45v-25q0-41 10-77l108-436q10-36 10-77v-246q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v32h-32v-125q0-40-25-72.5t-64-40.5q-14-2-23-2-46 0-79 33t-33 79v128h-32v-122q0-51-32.5-89.5t-82.5-43.5q-5-1-13-1zm0-128q84 0 149 50 57-34 123-34 59 0 111 27t86 76q27-7 59-7 100 0 170 71.5t70 171.5v246q0 51-13 108l-109 436q-6 24-6 71 0 80-56 136t-136 56h-640q-84 0-138-58.5t-54-142.5l-308-296q-76-73-76-175v-224q0-99 70.5-169.5t169.5-70.5q11 0 16 1 6-95 75.5-160t164.5-65q52 0 98 21 72-69 174-69z\"/></svg>';\nvar warn = exports.warn = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512.209 512.209\"><path d=\"M507.345,439.683L288.084,37.688c-3.237-5.899-7.71-10.564-13.429-13.988c-5.705-3.427-11.893-5.142-18.554-5.142   s-12.85,1.718-18.558,5.142c-5.708,3.424-10.184,8.089-13.418,13.988L4.859,439.683c-6.663,11.998-6.473,23.989,0.57,35.98   c3.239,5.517,7.664,9.897,13.278,13.128c5.618,3.237,11.66,4.859,18.132,4.859h438.529c6.479,0,12.519-1.622,18.134-4.859   c5.62-3.23,10.038-7.611,13.278-13.128C513.823,463.665,514.015,451.681,507.345,439.683z M292.655,411.132   c0,2.662-0.91,4.897-2.71,6.704c-1.807,1.811-3.949,2.71-6.427,2.71h-54.816c-2.474,0-4.616-0.899-6.423-2.71   c-1.809-1.807-2.713-4.042-2.713-6.704v-54.248c0-2.662,0.905-4.897,2.713-6.704c1.807-1.811,3.946-2.71,6.423-2.71h54.812   c2.479,0,4.62,0.899,6.428,2.71c1.803,1.807,2.71,4.042,2.71,6.704v54.248H292.655z M292.088,304.357   c-0.198,1.902-1.198,3.47-3.001,4.709c-1.811,1.238-4.046,1.854-6.711,1.854h-52.82c-2.663,0-4.947-0.62-6.849-1.854   c-1.908-1.243-2.858-2.807-2.858-4.716l-4.853-130.47c0-2.667,0.953-4.665,2.856-5.996c2.474-2.093,4.758-3.14,6.854-3.14h62.809   c2.098,0,4.38,1.043,6.854,3.14c1.902,1.331,2.851,3.14,2.851,5.424L292.088,304.357z\"/></svg>';\nvar pin = exports.pin = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M800 864v-448q0-14-9-23t-23-9-23 9-9 23v448q0 14 9 23t23 9 23-9 9-23zm672 352q0 26-19 45t-45 19h-429l-51 483q-2 12-10.5 20.5t-20.5 8.5h-1q-27 0-32-27l-76-485h-404q-26 0-45-19t-19-45q0-123 78.5-221.5t177.5-98.5v-512q-52 0-90-38t-38-90 38-90 90-38h640q52 0 90 38t38 90-38 90-90 38v512q99 0 177.5 98.5t78.5 221.5z\"/></svg>';\nvar question = exports.question = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"17 17 483 483\"> <circle stroke-width=\"40\" cx=\"258.57\" cy=\"258.57\" r=\"220\"/> <path d=\"M299.756,413.021v-61.78c0-3.003-0.966-5.472-2.896-7.401s-4.398-2.896-7.401-2.896h-61.78 c-3.003,0-5.47,0.965-7.4,2.896c-1.932,1.931-2.896,4.398-2.896,7.401v61.78c0,3.002,0.965,5.47,2.896,7.399 c1.931,1.931,4.396,2.896,7.4,2.896h61.779c3.003,0,5.472-0.967,7.401-2.896S299.756,416.021,299.756,413.021z\"/> <path d=\"M382.128,196.789c0-18.877-5.952-36.36-17.856-52.449c-11.905-16.088-26.762-28.53-44.566-37.325 c-17.804-8.795-36.037-13.192-54.7-13.192c-52.127,0-91.919,22.845-119.377,68.537c-3.218,5.148-2.359,9.653,2.574,13.514 l42.474,32.177c1.502,1.287,3.54,1.931,6.114,1.931c3.433,0,6.115-1.287,8.044-3.861c11.369-14.587,20.594-24.454,27.672-29.603 c7.294-5.148,16.519-7.723,27.673-7.723c10.297,0,19.468,2.789,27.513,8.366c8.044,5.578,12.065,11.906,12.065,18.985 c0,8.151-2.146,14.694-6.437,19.628c-4.29,4.934-11.583,9.76-21.881,14.479c-13.514,6.006-25.901,15.284-37.164,27.834 c-11.263,12.549-16.894,26.01-16.894,40.382v11.583c0,3.004,0.965,5.472,2.896,7.401c1.931,1.93,4.396,2.896,7.4,2.896h61.779 c3.003,0,5.471-0.965,7.401-2.896c1.93-1.931,2.896-4.397,2.896-7.401c0-4.075,2.306-9.385,6.917-15.928 c4.612-6.542,10.458-11.852,17.537-15.927c6.863-3.861,12.119-6.918,15.768-9.171c3.646-2.252,8.579-6.008,14.802-11.263 c6.22-5.255,10.993-10.402,14.317-15.443c3.325-5.042,6.328-11.53,9.01-19.467C380.788,214.916,382.128,206.228,382.128,196.789z\"/> </svg>';\nvar close = exports.close = '<svg class=\"vzb-icon vzb-icon-pin\" viewBox=\"-150 -250 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1149 414q0 26 -19 45l-181 181l181 181q19 19 19 45q0 27 -19 46l-90 90q-19 19 -46 19q-26 0 -45 -19l-181 -181l-181 181q-19 19 -45 19q-27 0 -46 -19l-90 -90q-19 -19 -19 -46q0 -26 19 -45l181 -181l-181 -181q-19 -19 -19 -45q0 -27 19 -46l90 -90q19 -19 46 -19 q26 0 45 19l181 181l181 -181q19 -19 45 -19q27 0 46 19l90 90q19 19 19 46z\"/></svg>';\nvar presentation = exports.presentation = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path id=\"flip-chart-1\" d=\"M334.549,393.834l58.607,68.666h-45.096l-58.709-68.666H334.549z M240.333,462.5h34.333v-68.666h-34.333 V462.5z M360.5,153.5h-34.334v137.334H360.5V153.5z M121.566,462.5h45.113l58.709-68.666h-45.197L121.566,462.5z M206,273.666 h-34.333v17.168H206V273.666z M257.5,239.333h-34.333v51.5H257.5V239.333z M309,205h-34.334v85.834H309V205z M446.334,102h-17.168 v257.5H85.833V102H68.667V50.5h377.667V102z M394.834,102H120.167v223.166h274.667V102z\"/></svg>';\nvar about = exports.about = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z\"/></svg>';\nvar cursorArrow = exports.cursorArrow = '<svg class=\"vzb-icon\" viewBox=\"-200 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1389 1043q31 30 14 69-17 40-59 40h-382l201 476q10 25 0 49t-34 35l-177 75q-25 10-49 0t-35-34l-191-452-312 312q-19 19-45 19-12 0-24-5-40-17-40-59v-1504q0-42 40-59 12-5 24-5 27 0 45 19z\"/></svg>';\nvar cursorPlus = exports.cursorPlus = '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-224v224q0 13-9.5 22.5t-22.5 9.5h-64q-13 0-22.5-9.5t-9.5-22.5v-224h-224q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h224v-224q0-13 9.5-22.5t22.5-9.5h64q13 0 22.5 9.5t9.5 22.5v224h224q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nvar cursorMinus = exports.cursorMinus = '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-576q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h576q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nvar hundredPercent = exports.hundredPercent = '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\"><g transform=\"translate(18 11)\"><text transform=\"scale(0.9 1)\" x=\"0\" y=\"0\">100</text><text transform=\"scale(0.6 1)\" class=\"percent\" x=\"0\" y=\"0\">%</text></g></svg>';\nvar percent = exports.percent = '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1408 1280q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm-768-768q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm1024 768q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5zm-96-1088q0 20-13 38l-1056 1408q-19 26-51 26h-160q-26 0-45-19t-19-45q0-20 13-38l1056-1408q19-26 51-26h160q26 0 45 19t19 45zm-672 320q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5z\"/></svg>';\nvar side = exports.side = '<svg class=\"vzb-icon\" viewBox=\"-120 -1540 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path transform=\"rotate(-90) scale(1.2)\" d=\"M1024 448q0 -26 -19 -45l-448 -448q-19 -19 -45 -19t-45 19l-448 448q-19 19 -19 45t19 45t45 19h896q26 0 45 -19t19 -45zM1024 832q0 -26 -19 -45t-45 -19h-896q-26 0 -45 19t-19 45t19 45l448 448q19 19 45 19t45 -19l448 -448q19 -19 19 -45z\"/></svg>';\nvar cursorHand = exports.cursorHand = '<svg class=\"vzb-icon\" viewBox=\"0 -1540 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path transform=\"scale(1,-1)\" d=\"M880 1408q-46 0 -79 -33t-33 -79v-656h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528v-256l-154 205q-38 51 -102 51q-53 0 -90.5 -37.5t-37.5 -90.5q0 -43 26 -77l384 -512q38 -51 102 -51h688q34 0 61 22t34 56l76 405q5 32 5 59v498q0 46 -33 79t-79 33t-79 -33t-33 -79v-272h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528h-32v656q0 46 -33 79t-79 33zM880 1536q68 0 125.5 -35.5t88.5 -96.5q19 4 42 4q99 0 169.5 -70.5t70.5 -169.5v-17q105 6 180.5 -64t75.5 -175v-498q0 -40 -8 -83l-76 -404q-14 -79 -76.5 -131t-143.5 -52h-688q-60 0 -114.5 27.5t-90.5 74.5l-384 512q-51 68 -51 154q0 106 75 181t181 75q78 0 128 -34v434q0 99 70.5 169.5t169.5 70.5q23 0 42 -4q31 61 88.5 96.5t125.5 35.5z\"/></svg>';\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(5);\n\nmodule.exports = function(method, arg){\n  return !!method && fails(function(){\n    arg ? method.call(null, function(){}, 1) : method.call(null);\n  });\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(6);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(0)\n  , core    = __webpack_require__(29)\n  , fails   = __webpack_require__(5);\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = __webpack_require__(30)\n  , IObject  = __webpack_require__(57)\n  , toObject = __webpack_require__(12)\n  , toLength = __webpack_require__(11)\n  , asc      = __webpack_require__(266);\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar initializing = false;\nvar fnTest = /xyz/.test(function () {\n  var xyz = void 0;\n}) ? /\\b_super\\b/ : /.*/;\n\nfunction extend(name, extensions) {\n\n  //in case there are two args\n  extensions = arguments.length === 1 ? name : extensions;\n  var _super = this.prototype;\n  initializing = true;\n  var prototype = new this();\n  initializing = false;\n\n  (0, _utils.forEach)(extensions, function (method, name) {\n    if (typeof extensions[name] === \"function\" && typeof _super[name] === \"function\" && fnTest.test(extensions[name])) {\n      prototype[name] = function (name, fn) {\n        return function () {\n          var tmp = this._super;\n          this._super = _super[name];\n          var ret = fn.apply(this, arguments);\n          this._super = tmp;\n          return ret;\n        };\n      }(name, extensions[name]);\n    } else {\n      prototype[name] = method;\n    }\n  });\n\n  function Class() {\n    if (this.trackInstances) Class.instances.push(this);\n    if (!initializing && this.init) {\n      this.init.apply(this, arguments);\n    }\n  }\n\n  // Populate our constructed prototype object\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n  Class.extend = extend;\n\n  Class._collection = {};\n  Class.instances = [];\n  Class.register = function (name, code) {\n    if (typeof this._collection[name] !== \"undefined\") {\n      (0, _utils.warn)('\"' + name + '\" is already registered. Overwriting...');\n    }\n    this._collection[name] = code;\n  };\n\n  Class.unregister = function (name) {\n    this._collection[name] = void 0;\n  };\n\n  Class.getCollection = function () {\n    return this._collection;\n  };\n\n  //define a method or field in this prototype\n  Class.define = function (name, value) {\n    this.prototype[name] = value;\n  };\n\n  //get an item of the collection from this class\n  Class.get = function (name, silent) {\n    if (this._collection.hasOwnProperty(name)) {\n      return this._collection[name];\n    }\n    if (!silent) {\n      (0, _utils.warn)('\"' + name + '\" was not found.');\n    }\n    return false;\n  };\n  //register extension by name\n  if (arguments.length > 1 && this.register) {\n    this.register(name, Class);\n  }\n  return Class;\n}\n\nvar Class = function Class() {};\nClass.extend = extend;\n\nexports.default = Class;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// optional / simple context binding\nvar aFunction = __webpack_require__(16);\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nif(__webpack_require__(8)){\n  var LIBRARY             = __webpack_require__(39)\n    , global              = __webpack_require__(4)\n    , fails               = __webpack_require__(5)\n    , $export             = __webpack_require__(0)\n    , $typed              = __webpack_require__(69)\n    , $buffer             = __webpack_require__(98)\n    , ctx                 = __webpack_require__(30)\n    , anInstance          = __webpack_require__(45)\n    , propertyDesc        = __webpack_require__(34)\n    , hide                = __webpack_require__(14)\n    , redefineAll         = __webpack_require__(46)\n    , toInteger           = __webpack_require__(36)\n    , toLength            = __webpack_require__(11)\n    , toIndex             = __webpack_require__(41)\n    , toPrimitive         = __webpack_require__(25)\n    , has                 = __webpack_require__(13)\n    , same                = __webpack_require__(111)\n    , classof             = __webpack_require__(59)\n    , isObject            = __webpack_require__(6)\n    , toObject            = __webpack_require__(12)\n    , isArrayIter         = __webpack_require__(90)\n    , create              = __webpack_require__(42)\n    , getPrototypeOf      = __webpack_require__(20)\n    , gOPN                = __webpack_require__(43).f\n    , getIterFn           = __webpack_require__(92)\n    , uid                 = __webpack_require__(38)\n    , wks                 = __webpack_require__(7)\n    , createArrayMethod   = __webpack_require__(27)\n    , createArrayIncludes = __webpack_require__(61)\n    , speciesConstructor  = __webpack_require__(95)\n    , ArrayIterators      = __webpack_require__(94)\n    , Iterators           = __webpack_require__(51)\n    , $iterDetect         = __webpack_require__(65)\n    , setSpecies          = __webpack_require__(44)\n    , arrayFill           = __webpack_require__(93)\n    , arrayCopyWithin     = __webpack_require__(120)\n    , $DP                 = __webpack_require__(9)\n    , $GOPD               = __webpack_require__(19)\n    , dP                  = $DP.f\n    , gOPD                = $GOPD.f\n    , RangeError          = global.RangeError\n    , TypeError           = global.TypeError\n    , Uint8Array          = global.Uint8Array\n    , ARRAY_BUFFER        = 'ArrayBuffer'\n    , SHARED_BUFFER       = 'Shared' + ARRAY_BUFFER\n    , BYTES_PER_ELEMENT   = 'BYTES_PER_ELEMENT'\n    , PROTOTYPE           = 'prototype'\n    , ArrayProto          = Array[PROTOTYPE]\n    , $ArrayBuffer        = $buffer.ArrayBuffer\n    , $DataView           = $buffer.DataView\n    , arrayForEach        = createArrayMethod(0)\n    , arrayFilter         = createArrayMethod(2)\n    , arraySome           = createArrayMethod(3)\n    , arrayEvery          = createArrayMethod(4)\n    , arrayFind           = createArrayMethod(5)\n    , arrayFindIndex      = createArrayMethod(6)\n    , arrayIncludes       = createArrayIncludes(true)\n    , arrayIndexOf        = createArrayIncludes(false)\n    , arrayValues         = ArrayIterators.values\n    , arrayKeys           = ArrayIterators.keys\n    , arrayEntries        = ArrayIterators.entries\n    , arrayLastIndexOf    = ArrayProto.lastIndexOf\n    , arrayReduce         = ArrayProto.reduce\n    , arrayReduceRight    = ArrayProto.reduceRight\n    , arrayJoin           = ArrayProto.join\n    , arraySort           = ArrayProto.sort\n    , arraySlice          = ArrayProto.slice\n    , arrayToString       = ArrayProto.toString\n    , arrayToLocaleString = ArrayProto.toLocaleString\n    , ITERATOR            = wks('iterator')\n    , TAG                 = wks('toStringTag')\n    , TYPED_CONSTRUCTOR   = uid('typed_constructor')\n    , DEF_CONSTRUCTOR     = uid('def_constructor')\n    , ALL_CONSTRUCTORS    = $typed.CONSTR\n    , TYPED_ARRAY         = $typed.TYPED\n    , VIEW                = $typed.VIEW\n    , WRONG_LENGTH        = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function(O, length){\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function(){\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function(){\n    new Uint8Array(1).set({});\n  });\n\n  var strictToLength = function(it, SAME){\n    if(it === undefined)throw TypeError(WRONG_LENGTH);\n    var number = +it\n      , length = toLength(it);\n    if(SAME && !same(number, length))throw RangeError(WRONG_LENGTH);\n    return length;\n  };\n\n  var toOffset = function(it, BYTES){\n    var offset = toInteger(it);\n    if(offset < 0 || offset % BYTES)throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function(it){\n    if(isObject(it) && TYPED_ARRAY in it)return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function(C, length){\n    if(!(isObject(C) && TYPED_CONSTRUCTOR in C)){\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function(O, list){\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function(C, list){\n    var index  = 0\n      , length = list.length\n      , result = allocate(C, length);\n    while(length > index)result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function(it, key, internal){\n    dP(it, key, {get: function(){ return this._d[internal]; }});\n  };\n\n  var $from = function from(source /*, mapfn, thisArg */){\n    var O       = toObject(source)\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , iterFn  = getIterFn(O)\n      , i, length, values, result, step, iterator;\n    if(iterFn != undefined && !isArrayIter(iterFn)){\n      for(iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++){\n        values.push(step.value);\n      } O = values;\n    }\n    if(mapping && aLen > 2)mapfn = ctx(mapfn, arguments[2], 2);\n    for(i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++){\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/*...items*/){\n    var index  = 0\n      , length = arguments.length\n      , result = allocate(this, length);\n    while(length > index)result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function(){ arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString(){\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /*, end */){\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /*, thisArg */){\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /*, start, end */){ // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /*, thisArg */){\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /*, thisArg */){\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /*, thisArg */){\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /*, thisArg */){\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /*, fromIndex */){\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /*, fromIndex */){\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator){ // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /*, fromIndex */){ // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /*, thisArg */){\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse(){\n      var that   = this\n        , length = validate(that).length\n        , middle = Math.floor(length / 2)\n        , index  = 0\n        , value;\n      while(index < middle){\n        value         = that[index];\n        that[index++] = that[--length];\n        that[length]  = value;\n      } return that;\n    },\n    some: function some(callbackfn /*, thisArg */){\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn){\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end){\n      var O      = validate(this)\n        , length = O.length\n        , $begin = toIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end){\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /*, offset */){\n    validate(this);\n    var offset = toOffset(arguments[1], 1)\n      , length = this.length\n      , src    = toObject(arrayLike)\n      , len    = toLength(src.length)\n      , index  = 0;\n    if(len + offset > length)throw RangeError(WRONG_LENGTH);\n    while(index < len)this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries(){\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys(){\n      return arrayKeys.call(validate(this));\n    },\n    values: function values(){\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function(target, key){\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key){\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc){\n    if(isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ){\n      target[key] = desc.value;\n      return target;\n    } else return dP(target, key, desc);\n  };\n\n  if(!ALL_CONSTRUCTORS){\n    $GOPD.f = $getDesc;\n    $DP.f   = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty:           $setDesc\n  });\n\n  if(fails(function(){ arrayToString.call({}); })){\n    arrayToString = arrayToLocaleString = function toString(){\n      return arrayJoin.call(this);\n    }\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice:          $slice,\n    set:            $set,\n    constructor:    function(){ /* noop */ },\n    toString:       arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function(){ return this[TYPED_ARRAY]; }\n  });\n\n  module.exports = function(KEY, BYTES, wrapper, CLAMPED){\n    CLAMPED = !!CLAMPED;\n    var NAME       = KEY + (CLAMPED ? 'Clamped' : '') + 'Array'\n      , ISNT_UINT8 = NAME != 'Uint8Array'\n      , GETTER     = 'get' + KEY\n      , SETTER     = 'set' + KEY\n      , TypedArray = global[NAME]\n      , Base       = TypedArray || {}\n      , TAC        = TypedArray && getPrototypeOf(TypedArray)\n      , FORCED     = !TypedArray || !$typed.ABV\n      , O          = {}\n      , TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function(that, index){\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function(that, index, value){\n      var data = that._d;\n      if(CLAMPED)value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function(that, index){\n      dP(that, index, {\n        get: function(){\n          return getter(this, index);\n        },\n        set: function(value){\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if(FORCED){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME, '_d');\n        var index  = 0\n          , offset = 0\n          , buffer, byteLength, length, klass;\n        if(!isObject(data)){\n          length     = strictToLength(data, true)\n          byteLength = length * BYTES;\n          buffer     = new $ArrayBuffer(byteLength);\n        } else if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if($length === undefined){\n            if($len % BYTES)throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if(byteLength < 0)throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if(byteLength + offset > $len)throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if(TYPED_ARRAY in data){\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while(index < length)addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if(!$iterDetect(function(iter){\n      // V8 works with iterators, but fails in many other cases\n      // https://code.google.com/p/v8/issues/detail?id=4552\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if(!isObject(data))return new Base(strictToLength(data, ISNT_UINT8));\n        if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if(TYPED_ARRAY in data)return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function(key){\n        if(!(key in TypedArray))hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if(!LIBRARY)TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator   = TypedArrayPrototype[ITERATOR]\n      , CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined)\n      , $iterator         = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if(CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)){\n      dP(TypedArrayPrototype, TAG, {\n        get: function(){ return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES,\n      from: $from,\n      of: $of\n    });\n\n    if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, {set: $set});\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    $export($export.P + $export.F * (TypedArrayPrototype.toString != arrayToString), NAME, {toString: arrayToString});\n\n    $export($export.P + $export.F * fails(function(){\n      new TypedArray(1).slice();\n    }), NAME, {slice: $slice});\n\n    $export($export.P + $export.F * (fails(function(){\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString()\n    }) || !fails(function(){\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, {toLocaleString: $toLocaleString});\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if(!LIBRARY && !CORRECT_ITER_NAME)hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function(){ /* empty */ };\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Map     = __webpack_require__(123)\n  , $export = __webpack_require__(0)\n  , shared  = __webpack_require__(60)('metadata')\n  , store   = shared.store || (shared.store = new (__webpack_require__(126)));\n\nvar getOrCreateMetadataMap = function(target, targetKey, create){\n  var targetMetadata = store.get(target);\n  if(!targetMetadata){\n    if(!create)return undefined;\n    store.set(target, targetMetadata = new Map);\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if(!keyMetadata){\n    if(!create)return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map);\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function(MetadataKey, MetadataValue, O, P){\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function(target, targetKey){\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false)\n    , keys        = [];\n  if(metadataMap)metadataMap.forEach(function(_, key){ keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function(it){\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function(O){\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI INDICATOR PICKER\n * Reusable indicator picker component\n */\n\nvar IndPicker = _component2.default.extend({\n\n  /**\n     * Initializes the Indicator Picker.\n     * Executed once before any template is rendered.\n     * @param config The options passed to the component\n     * @param context The component's parent\n     */\n  init: function init(config, context) {\n\n    this.name = \"gapminder-indicatorpicker\";\n    this.template = '<span class=\"vzb-ip-holder\"><span class=\"vzb-ip-select\"></span><span class=\"vzb-ip-info\"></span></span>';\n\n    var _this = this;\n\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"targetModel\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    //this.markerID = config.markerID;\n    this.showHoverValues = config.showHoverValues || false;\n    //if (!config.markerID) utils.warn(\"indicatorpicker.js complains on 'markerID' property: \" + config.markerID);\n\n    this.model_binds = {\n      \"translate:locale\": function translateLocale(evt) {\n        _this.updateView();\n      },\n      \"ready\": function ready(evt) {\n        _this.updateView();\n      }\n    };\n\n    this.model_binds[\"change:targetModel\"] = function (evt, path) {\n      if (path.indexOf(\".\" + _this.targetProp) == -1) return;\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    if (this.model.targetModel.isHook() && this.showHoverValues) {\n      this.model.targetModel._parent.on(\"change:highlight\", function (evt, values) {\n        var mdl = _this.model.targetModel;\n        if (!mdl.isHook()) return;\n        var marker = mdl._parent;\n        if (!_this.showHoverValues || mdl.use == \"constant\") return;\n        var _highlightedEntity = marker.getHighlighted();\n        if (_highlightedEntity.length > 1) return;\n\n        if (_highlightedEntity.length) {\n          marker.getFrame(_this.model.time.value, function (frame) {\n            if (_this._highlighted || !frame) return;\n\n            // should be replaced by dimension of entity set for this hook (if use == property)\n            var dimension = mdl.getEntity().getDimension();\n            var _highlightedEntity = marker.getHighlighted(dimension);\n            if (_highlightedEntity.length) {\n\n              var value = _this.multiDim && !mdl.isDiscrete() ? utils.getValueMD(_highlightedEntity[0], frame[mdl._name], _this.KEYS) : frame[mdl._name][_highlightedEntity[0]];\n\n              // resolve strings via the color legend model\n              if (value && mdl._type === \"color\" && mdl.isDiscrete()) {\n                var clModel = mdl.getColorlegendMarker();\n                if (clModel.label.getItems()[value]) value = clModel.label.getItems()[value];\n              }\n\n              _this._highlightedValue = value;\n\n              _this._highlighted = !_this._highlightedValue && _this._highlightedValue !== 0 || mdl.use !== \"constant\";\n              _this.updateView();\n            }\n          });\n        } else {\n          if (values !== null && values !== \"highlight\") {\n            if (values) {\n              _this._highlightedValue = values[mdl._name];\n              _this._highlighted = !_this._highlightedValue && _this._highlightedValue !== 0 || mdl.use !== \"constant\";\n            }\n          } else {\n            _this._highlighted = false;\n          }\n          _this.updateView();\n        }\n      });\n    }\n\n    this.targetProp = config.targetProp || this.model.targetModel.isHook() ? \"which\" : this.model.targetModel.isEntities() ? \"dim\" : null;\n  },\n  ready: function ready() {\n    this.KEYS = this.model.targetModel.isHook() ? utils.unique(this.model.targetModel._parent._getAllDimensions({ exceptType: \"time\" })) : [];\n    this.multiDim = this.KEYS.length > 1;\n    this.updateView();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.el_select = d3.select(this.element).select(\".vzb-ip-select\");\n\n    this.el_select.on(\"click\", function () {\n      var rect = _this.el_select.node().getBoundingClientRect();\n      var rootEl = _this.root.element instanceof Array ? _this.root.element : d3.select(_this.root.element);\n      var rootRect = rootEl.node().getBoundingClientRect();\n      var treemenuComp = _this.root.findChildByName(\"gapminder-treemenu\");\n      var treemenuColWidth = treemenuComp.activeProfile.col_width;\n      var treemenuPaddLeft = parseInt(treemenuComp.wrapper.style(\"padding-left\"), 10) || 0;\n      var treemenuPaddRight = parseInt(treemenuComp.wrapper.style(\"padding-right\"), 10) || 0;\n      var topPos = rect.bottom - rootRect.top;\n      var leftPos = rect.left - rootRect.left - (treemenuPaddLeft + treemenuPaddRight + treemenuColWidth - rect.width) * 0.5;\n\n      treemenuComp.targetModel(_this.model.targetModel).alignX(\"left\").alignY(\"top\").top(topPos).left(leftPos).updateView().toggle();\n    });\n\n    this.infoEl = d3.select(this.element).select(\".vzb-ip-info\");\n    if (_this.model.targetModel.isHook()) {\n      utils.setIcon(this.infoEl, _iconset.question).select(\"svg\").attr(\"width\", \"0px\").attr(\"height\", \"0px\");\n\n      this.infoEl.on(\"click\", function () {\n        _this.root.findChildByName(\"gapminder-datanotes\").pin();\n      });\n      this.infoEl.on(\"mouseover\", function () {\n        var rect = _this.el_select.node().getBoundingClientRect();\n        var rootRect = _this.root.element.getBoundingClientRect();\n        var topPos = rect.bottom - rootRect.top;\n        var leftPos = rect.left - rootRect.left + rect.width;\n\n        _this.root.findChildByName(\"gapminder-datanotes\").setHook(_this.model.targetModel._name).show().setPos(leftPos, topPos);\n      });\n      this.infoEl.on(\"mouseout\", function () {\n        _this.root.findChildByName(\"gapminder-datanotes\").hide();\n      });\n    }\n  },\n  updateView: function updateView() {\n    if (!this._readyOnce) return;\n\n    var _this = this;\n    var translator = this.model.locale.getTFunction();\n\n    var mdl = _this.model.targetModel;\n    var which = mdl[_this.targetProp];\n    var type = mdl._type;\n\n    var concept = void 0;\n\n    if (mdl.isHook()) {\n      concept = mdl.getConceptprops();\n    } else {\n      utils.forEach(mdl._root._data, function (m) {\n        if (m._type === \"data\") concept = m.getConceptprops(mdl[_this.targetProp]);\n      });\n    }\n\n    var selectText = void 0;\n\n    if (this.showHoverValues && mdl.isHook() && this._highlighted) {\n      var unit = !concept.unit ? \"\" : \" \" + concept.unit;\n      var formatter = mdl.getTickFormatter();\n\n      selectText = this._highlightedValue || this._highlightedValue === 0 ? formatter(this._highlightedValue) + unit : translator(\"hints/nodata\");\n    } else {\n      //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n      selectText = which === \"_default\" ? translator(\"indicator/_default/\" + type) : concept.name;\n    }\n\n    this.el_select.text(selectText).attr(\"title\", function (d) {\n      return this.offsetWidth < this.scrollWidth ? selectText : null;\n    });\n\n    // hide info el if no data is available for it to make sense\n    var hideInfoEl = !concept.description && !concept.sourceName && !concept.sourceLink;\n    this.infoEl.classed(\"vzb-invisible\", hideInfoEl);\n  }\n});\n\nexports.default = IndPicker;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar META     = __webpack_require__(38)('meta')\n  , isObject = __webpack_require__(6)\n  , has      = __webpack_require__(13)\n  , setDesc  = __webpack_require__(9).f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !__webpack_require__(5)(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _dataconnected = __webpack_require__(54);\n\nvar _dataconnected2 = _interopRequireDefault(_dataconnected);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * HOOK MODEL\n */\n\nvar Hook = _dataconnected2.default.extend({\n\n  //some hooks can be important. like axis x and y\n  //that means, if X or Y doesn't have data at some point, we can't show markers\n  _important: false,\n\n  objectLeafs: [\"autogenerate\"],\n  dataConnectedChildren: [\"use\", \"which\"],\n\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      data: \"data\",\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n  buildScale: function buildScale() {\n    //overloaded by specific hook models, like axis and color\n  },\n\n\n  /**\n   * After complete model tree is created, this allows models to listen to eachother.\n   */\n  setInterModelListeners: function setInterModelListeners() {\n    var _this2 = this;\n\n    var spaceRefs = this._parent.getSpace(this);\n\n    //check what we want to hook this model to\n    utils.forEach(spaceRefs, function (name) {\n      //hook with the closest prefix to this model\n      _this2._space[name] = _this2.getClosestModel(name);\n      //if hooks change, this should load again\n      _this2._space[name].on(\"dataConnectedChange\", _this2.handleDataConnectedChange.bind(_this2));\n    });\n    this.getClosestModel(\"locale\").on(\"dataConnectedChange\", this.handleDataConnectedChange.bind(this));\n  },\n  onSuccessfullLoad: function onSuccessfullLoad() {\n    this.validate();\n    this.buildScale();\n    this._super();\n  },\n  setWhich: function setWhich(newValue) {\n\n    var obj = { which: newValue.concept };\n\n    if (newValue.dataSource) obj.data = newValue.dataSource;\n    var newDataSource = this.getClosestModel(obj.data || this.data);\n    var conceptProps = newDataSource.getConceptprops(newValue.concept);\n\n    if (newValue.which === \"_default\") {\n      obj.use = \"constant\";\n    } else {\n      if (conceptProps.use) obj.use = conceptProps.use;\n    }\n\n    if (conceptProps.scales) {\n      obj.scaleType = conceptProps.scales[0];\n    }\n\n    if (this.getType() === \"axis\" || this.getType() === \"size\") {\n      obj.domainMin = null;\n      obj.domainMax = null;\n      obj.zoomedMin = null;\n      obj.zoomedMax = null;\n    }\n\n    this.set(obj);\n  },\n  setScaleType: function setScaleType(newValue) {\n    this.buildScale(newValue);\n  },\n  preloadData: function preloadData() {\n    this.dataSource = this.getClosestModel(this.data);\n    return this._super();\n  },\n  afterPreload: function afterPreload() {\n    this.autoGenerateModel();\n  },\n  autoGenerateModel: function autoGenerateModel() {\n    if (this.which == null && this.autogenerate) {\n      this.which = this.dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType).concept;\n    }\n  },\n\n\n  /**\n   * Hooks loads data, models ask children to load data\n   * Basically, this method:\n   * loads is theres something to be loaded:\n   * does not load if there's nothing to be loaded\n   * @param {Object} options (includes splashScreen)\n   * @returns defer\n   */\n  loadData: function loadData() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n    // then start loading data\n\n    if (!this.which) return Promise.resolve();\n\n    this.trigger(\"hook_change\");\n\n    // TODO: should be set on data source switch, but load happens before change events\n    this.dataSource = this.getClosestModel(this.data);\n\n    var query = this.getQuery(opts.splashScreen);\n\n    if (query === true) return Promise.resolve();\n\n    //useful to check if in the middle of a load call\n    this._loadCall = true;\n\n    this.setReady(false);\n\n    utils.timeStamp(\"Vizabi Model: Loading Data: \" + this._id);\n\n    var parsers = this._getAllParsers();\n\n    var dataPromise = this.dataSource.load(query, parsers);\n\n    dataPromise.then(this.afterLoad.bind(this), function (err) {\n      return utils.warn(\"Problem with query: \", err, JSON.stringify(query));\n    });\n\n    return dataPromise;\n  },\n  handleDataConnectedChange: function handleDataConnectedChange(evt) {\n    var _this3 = this;\n\n    //defer is necessary because other events might be queued.\n    //load right after such events\n    utils.defer(function () {\n      _this3.startLoading().catch(utils.warn);\n    });\n  },\n  _isLoading: function _isLoading() {\n    return !this._loadedOnce || this._loadCall;\n  },\n\n\n  /**\n   * executes after data has actually been loaded\n   */\n  afterLoad: function afterLoad(dataId) {\n    this._dataId = dataId;\n\n    var grouping = this._parent._getGrouping();\n    if (grouping) {\n      this.dataSource.setGrouping(dataId, grouping);\n    }\n\n    utils.timeStamp(\"Vizabi Model: Data loaded: \" + this._id);\n  },\n\n\n  /**\n   * gets query that this model/hook needs to get data\n   * @returns {Array} query\n   */\n  getQuery: function getQuery(splashScreen) {\n    var filters = void 0;\n\n    //error if there's nothing to hook to\n    if (Object.keys(this._space).length < 1) {\n      utils.error(\"Error:\", this._id, \"can't find the space\");\n      return true;\n    }\n\n    var prop = this.use === \"property\" || this.use === \"constant\";\n    var exceptions = prop ? { exceptType: \"time\" } : {};\n\n    // select\n    // we remove this.which from values if it duplicates a dimension\n    var allDimensions = utils.unique(this._getAllDimensions(exceptions));\n    var dimensions = prop && allDimensions.length > 1 ? [this.spaceRef ? this._space[this.spaceRef].dim : this.which] : allDimensions;\n\n    dimensions = dimensions.filter(function (f) {\n      return f !== \"_default\";\n    }); // && f!==null);\n    if (!dimensions || !dimensions.length) {\n      utils.warn(\"getQuery() produced no query because no keys are available\");\n      return true;\n    }\n\n    var select = {\n      key: dimensions,\n      value: dimensions.indexOf(this.which) != -1 || this.use === \"constant\" ? [] : [this.which]\n    };\n\n    // animatable\n    var animatable = this._getFirstDimension({ type: \"time\" });\n    // from\n    var from = prop ? \"entities\" : \"datapoints\";\n\n    // where\n    filters = this._getAllFilters(exceptions, splashScreen);\n    if (prop && allDimensions.length > 1) {\n      var f = {};\n      if (filters[dimensions]) f[dimensions] = filters[dimensions];\n      filters = f;\n    }\n\n    // make root $and explicit\n    var explicitAndFilters = {};\n    if (Object.keys(filters).length > 0) {\n      explicitAndFilters[\"$and\"] = [];\n      for (var filterKey in filters) {\n        var filter = {};\n        filter[filterKey] = filters[filterKey];\n        explicitAndFilters[\"$and\"].push(filter);\n      }\n    }\n\n    // join\n    var join = this._getAllJoins(exceptions, splashScreen);\n    if (prop && allDimensions.length > 1) {\n      var j = {};\n      if (join[\"$\" + dimensions]) j[\"$\" + dimensions] = join[\"$\" + dimensions];\n      join = j;\n    }\n\n    //return query\n    return {\n      \"language\": this.getClosestModel(\"locale\").id,\n      \"from\": from,\n      \"animatable\": animatable,\n      \"select\": select,\n      \"where\": explicitAndFilters,\n      \"join\": join,\n      \"order_by\": prop ? [\"rank\"] : [this._space.time.dim]\n    };\n  },\n\n\n  /**\n   * gets all hook dimensions\n   * @param {Object} opts options with exceptType or onlyType\n   * @returns {Array} all unique dimensions\n   */\n  _getAllDimensions: function _getAllDimensions(opts) {\n\n    // hook dimensions = marker dimensions. Later, hooks might have extra dimensions : )\n    return this._parent._getAllDimensions(opts);\n  },\n\n\n  /**\n   * gets first dimension that matches type\n   * @param {Object} options\n   * @returns {Array} all unique dimensions\n   */\n  _getFirstDimension: function _getFirstDimension(opts) {\n\n    // hook dimensions = marker dimensions. Later, hooks might have extra dimensions : )\n    return this._parent._getFirstDimension(opts);\n  },\n\n\n  /**\n   * gets all hook filters\n   * @param {Boolean} splashScreen get filters for first screen only\n   * @returns {Object} filters\n   */\n  _getAllFilters: function _getAllFilters(opts, splashScreen) {\n    opts = opts || {};\n    var filters = {};\n    var _this = this;\n    utils.forEach(this._space, function (h) {\n      if (opts.exceptType && h.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && h.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (h.skipFilter || _this._parent.skipFilter) return;\n      // if query's dimensions are the same as the hook's, no join\n      if (utils.arrayEquals(_this._getAllDimensions(opts), [h.getDimension()])) {\n        filters = utils.extend(filters, h.getFilter(splashScreen));\n      } else {\n        var joinFilter = h.getFilter(splashScreen);\n        if (joinFilter != null && !utils.isEmpty(joinFilter)) {\n          var filter = {};\n          filter[h.getDimension()] = \"$\" + h.getDimension();\n          filters = utils.extend(filters, filter);\n        }\n      }\n    });\n    return filters;\n  },\n  _getAllJoins: function _getAllJoins(opts, splashScreen) {\n    var joins = {};\n    var _this = this;\n    utils.forEach(this._space, function (h) {\n      if (opts.exceptType && h.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && h.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (utils.arrayEquals(_this._getAllDimensions(opts), [h.getDimension()])) {\n        return true;\n      }\n      if (h.skipFilter || _this._parent.skipFilter) return;\n\n      var filter = h.getFilter(splashScreen);\n      if (filter != null && !utils.isEmpty(filter)) {\n        joins[\"$\" + h.getDimension()] = {\n          key: h.getDimension(),\n          where: h.getFilter(splashScreen)\n        };\n      }\n    });\n    return joins;\n  },\n\n\n  /**\n   * gets all hook filters\n   * @returns {Object} filters\n   */\n  _getAllParsers: function _getAllParsers() {\n    return Object.values(this._space).concat(this).reduce(function (result, model) {\n      var parser = model.getParser();\n      var column = model.getDimensionOrWhich();\n\n      parser && column && !(column in result) && (result[column] = parser);\n\n      return result;\n    }, {});\n  },\n\n\n  /**\n   * Gets tick values for this hook\n   * @returns {Function} That returns the value for this tick\n   */\n  getTickFormatter: function getTickFormatter() {\n\n    var _this = this;\n    var SHARE = \"share\";\n    var PERCENT = \"percent\";\n\n    // percentageMode works like rounded if set to SHARE, but multiplies by 100 and suffixes with \"%\"\n    // percentageMode works like rounded if set to PERCENT, but suffixes with \"%\"\n\n    return function (x, index, group, removePrefix, percentageMode) {\n\n      percentageMode = _this.getConceptprops().format;\n      if (percentageMode === SHARE) x *= 100;\n\n      // Format time values\n      // Assumption: a hook has always time in its space\n      if (utils.isDate(x)) return _this._space.time.formatDate(x);\n\n      // Dealing with values that are supposed to be time\n      if (_this.scaleType === \"time\" && !utils.isDate(x)) {\n        return _this._space.time.formatDate(new Date(x));\n      }\n\n      // Strings, null, NaN and undefined are bypassing any formatter\n      if (utils.isString(x) || !x && x !== 0) return x;\n\n      if (Math.abs(x) < 0.00000000000001) return \"0\";\n\n      var format = \"r\"; //rounded format. use \"f\" for fixed\n      var prec = 3; //round to so many significant digits\n\n      var prefix = \"\";\n      if (removePrefix) return d3.format(\".\" + prec + format)(x);\n\n      //---------------------\n      // BEAUTIFIERS GO HOME!\n      // don't break formatting please\n      //---------------------\n      // the tiny constant compensates epsilon-error when doing logsrithms\n      /* eslint-disable */\n      switch (Math.floor(Math.log(Math.abs(x)) / Math.LN10 + 0.00000000000001)) {\n        case -13:\n          x *= 1000000000000;prefix = \"p\";break; //0.1p\n        case -10:\n          x *= 1000000000;prefix = \"n\";break; //0.1n\n        case -7:\n          x *= 1000000;prefix = \"µ\";break; //0.1µ\n        case -6:\n          x *= 1000000;prefix = \"µ\";break; //1µ\n        case -5:\n          x *= 1000000;prefix = \"µ\";break; //10µ\n        case -4:\n          break; //0.0001\n        case -3:\n          break; //0.001\n        case -2:\n          break; //0.01\n        case -1:\n          break; //0.1\n        case 0:\n          break; //1\n        case 1:\n          break; //10\n        case 2:\n          break; //100\n        case 3:\n          break; //1000\n        case 4:\n          x /= 1000;prefix = \"k\";break; //10k\n        case 5:\n          x /= 1000;prefix = \"k\";break; //100k\n        case 6:\n          x /= 1000000;prefix = \"M\";break; //1M\n        case 7:\n          x /= 1000000;prefix = \"M\";break; //10M\n        case 8:\n          x /= 1000000;prefix = \"M\";break; //100M\n        case 9:\n          x /= 1000000000;prefix = \"B\";break; //1B\n        case 10:\n          x /= 1000000000;prefix = \"B\";break; //10B\n        case 11:\n          x /= 1000000000;prefix = \"B\";break; //100B\n        case 12:\n          x /= 1000000000000;prefix = \"TR\";break; //1TR\n        case 13:\n          x /= 1000000000000;prefix = \"TR\";break; //10TR\n        case 14:\n          x /= 1000000000000;prefix = \"TR\";break; //100TR\n        //use the D3 SI formatting for the extreme cases\n        default:\n          return d3.format(\".\" + prec + \"s\")(x).replace(\"G\", \"B\");\n      }\n      /* eslint-enable */\n\n      var formatted = d3.format(\".\" + prec + format)(x);\n      //remove trailing zeros if dot exists to avoid numbers like 1.0M, 3.0B, 1.500, 0.9700, 0.0\n      if (formatted.indexOf(\".\") > -1) formatted = formatted.replace(/0+$/, \"\").replace(/\\.$/, \"\");\n\n      // use manual formatting for the cases above\n      return formatted + prefix + (percentageMode === PERCENT || percentageMode === SHARE ? \"%\" : \"\");\n    };\n  },\n\n\n  /**\n   * Gets the d3 scale for this hook. if no scale then builds it\n   * @returns {Array} domain\n   */\n  getScale: function getScale() {\n    if (this.scale == null) console.warn(\"scale is null\");\n    return this.scale;\n  },\n\n\n  /**\n   * Gets unique values in a column\n   * @param {String|Array} attr parameter\n   * @returns {Array} unique values\n   */\n  getUnique: function getUnique(attr) {\n    if (!this.isHook()) return;\n    if (!attr) attr = this._getFirstDimension({ type: \"time\" });\n    return this.dataSource.getData(this._dataId, \"unique\", attr);\n  },\n  getData: function getData() {\n    return this.dataSource.getData(this._dataId);\n  },\n\n\n  /**\n   * gets dataset without null or nan values with respect to this hook's which\n   * @returns {Object} filtered items object\n   */\n  getValidItems: function getValidItems() {\n    return this.dataSource.getData(this._dataId, \"valid\", this.which);\n  },\n\n\n  /**\n   * gets nested dataset\n   * @param {Array} keys define how to nest the set\n   * @returns {Object} hash-map of key-value pairs\n   */\n  getNestedItems: function getNestedItems(keys) {\n    if (!keys) return utils.warn(\"No keys provided to getNestedItems(<keys>)\");\n    return this.dataSource.getData(this._dataId, \"nested\", keys);\n  },\n  getHaveNoDataPointsPerKey: function getHaveNoDataPointsPerKey() {\n    return this.dataSource.getData(this._dataId, \"haveNoDataPointsPerKey\", this.which);\n  },\n\n\n  /**\n   * Gets limits\n   * @param {String} attr parameter\n   * @returns {Object} limits (min and max)\n   */\n  getLimits: function getLimits(attr) {\n    return this.dataSource.getData(this._dataId, \"limits\", attr);\n  },\n  getFrame: function getFrame(steps, forceFrame, selected) {\n    return this.dataSource.getFrame(this._dataId, steps, forceFrame, selected);\n  },\n  getFrames: function getFrames(steps, selected) {\n    return this.dataSource.getFrames(this._dataId, steps, selected);\n  },\n\n\n  /**\n   * gets hook values according dimension values\n   */\n  getItems: function getItems() {\n    var _this = this;\n    var dim = this.spaceRef && this._space[this.spaceRef] ? this._space[this.spaceRef].dim : _this._getFirstDimension({ exceptType: \"time\" });\n    var items = {};\n    var validItems = this.getValidItems();\n\n    if (utils.isArray(validItems)) {\n      validItems.forEach(function (d) {\n        items[d[dim]] = d[_this.which];\n      });\n    }\n\n    return items;\n  },\n  getLimitsByDimensions: function getLimitsByDimensions(dims) {\n    var filtered = this.dataSource.getData(this._dataId, \"nested\", dims);\n    var values = {};\n    var limitsDim = {};\n    var attr = this.which;\n\n    var countLimits = function countLimits(items, limitsDim, id) {\n\n      var filtered = items.reduce(function (filtered, d) {\n\n        // check for dates\n        var f = utils.isDate(d[attr]) ? d[attr] : parseFloat(d[attr]);\n\n        // if it is a number\n        if (!isNaN(f)) {\n          filtered.push(f);\n        }\n\n        //filter\n        return filtered;\n      }, []);\n\n      // get min/max for the filtered rows\n      var min = void 0;\n      var max = void 0;\n      var limits = {};\n      for (var i = 0; i < filtered.length; i += 1) {\n        var c = filtered[i];\n        if (typeof min === \"undefined\" || c < min) {\n          min = c;\n        }\n        if (typeof max === \"undefined\" || c > max) {\n          max = c;\n        }\n      }\n      limits.min = min || 0;\n      limits.max = max || 100;\n      limitsDim[id] = limits;\n    };\n\n    var iterateGroupKeys = function iterateGroupKeys(data, deep, result, cb) {\n      deep--;\n      utils.forEach(data, function (d, id) {\n        if (deep) {\n          result[id] = {};\n          iterateGroupKeys(d, deep, result[id], cb);\n        } else {\n          cb(d, result, id);\n        }\n      });\n    };\n\n    iterateGroupKeys(filtered, dims.length, limitsDim, countLimits);\n\n    return limitsDim;\n  },\n\n\n  /**\n   * Gets the concept properties of the hook's \"which\"\n   * @returns {Object} concept properties\n   */\n  getConceptprops: function getConceptprops() {\n    return this.use !== \"constant\" && this.dataSource ? this.dataSource.getConceptprops(this.which) : {};\n  },\n\n\n  /**\n   * Find if a current model is discrete\n   * @returns {boolean} true if it's a discrete model, false if continious\n   */\n  isDiscrete: function isDiscrete() {\n    return this.scaleType === \"ordinal\";\n  },\n  validate: function validate() {\n    var _this4 = this;\n\n    this._super();\n\n    // validate scale type: only makes sense if which is defined\n    if (this.which) {\n      var scaleType = this.scaleType;\n\n      var _getConceptprops = this.getConceptprops(),\n          _getConceptprops$scal = _getConceptprops.scales,\n          scales = _getConceptprops$scal === undefined ? [] : _getConceptprops$scal;\n\n      if (this.allow && this.allow.scales && this.allow.scales.length > 0) {\n        scales = scales.filter(function (val) {\n          return _this4.allow.scales.indexOf(val) != -1;\n        });\n      }\n\n      var scaleTypeIsAllowed = scales.includes(scaleType);\n      var genericLogIsAllowed = scales.includes(\"log\") && scaleType === \"genericLog\";\n      if (!(scaleTypeIsAllowed || genericLogIsAllowed) && scales.length > 0) {\n        var _scales = scales,\n            _scales2 = _slicedToArray(_scales, 1),\n            firstAllowedScaleType = _scales2[0];\n\n        this.set({ scaleType: firstAllowedScaleType === \"nominal\" ? \"ordinal\" : firstAllowedScaleType }, null, false);\n      }\n    }\n  },\n  getEntity: function getEntity() {\n    return this._space[this.spaceRef || this._parent.getSpace()[0]];\n  }\n});\n\nexports.default = Hook;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\nmodule.exports = false;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = __webpack_require__(107)\n  , enumBugKeys = __webpack_require__(76);\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(36)\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = __webpack_require__(2)\n  , dPs         = __webpack_require__(108)\n  , enumBugKeys = __webpack_require__(76)\n  , IE_PROTO    = __webpack_require__(75)('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(73)('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(78).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = __webpack_require__(107)\n  , hiddenKeys = __webpack_require__(76).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global      = __webpack_require__(4)\n  , dP          = __webpack_require__(9)\n  , DESCRIPTORS = __webpack_require__(8)\n  , SPECIES     = __webpack_require__(7)('species');\n\nmodule.exports = function(KEY){\n  var C = global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar redefine = __webpack_require__(15);\nmodule.exports = function(target, src, safe){\n  for(var key in src)redefine(target, key, src[key], safe);\n  return target;\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _intervals = __webpack_require__(360);\n\nvar _intervals2 = _interopRequireDefault(_intervals);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar ModelLeaf = _events2.default.extend({\n\n  _name: \"\",\n  _parent: null,\n  _persistent: true,\n\n  init: function init(name, value, parent, binds, persistent) {\n\n    // getter and setter for the value\n    Object.defineProperty(this, \"value\", {\n      get: this.get,\n      set: this.set\n    });\n    Object.defineProperty(this, \"persistent\", {\n      get: function get() {\n        return this._persistent;\n      }\n    });\n\n    this._super();\n\n    this._name = name;\n    this._parent = parent;\n    this._root = parent._root;\n    this.set(value, false, persistent);\n    this.on(binds); // after super so there is an .events object\n  },\n\n\n  // if they want a persistent value and the current value is not persistent, return the last persistent value\n  get: function get(persistent) {\n    return persistent && !this._persistent ? this._persistentVal : this._val;\n  },\n  set: function set(val, force, persistent) {\n    if (this.isSetAllowed(val, force)) {\n      // persistent defaults to true\n      persistent = typeof persistent !== \"undefined\" ? persistent : true;\n\n      // set leaf properties\n      if (persistent) this._persistentVal = val; // set persistent value if change is persistent.\n      this._previousVal = utils.deepClone(this._val);\n      this._val = val;\n      this._persistent = persistent;\n\n      // trigger change event\n      this.trigger(new _events.ChangeEvent(this), this._name);\n\n      return true;\n    }\n    return false;\n  },\n  isSetAllowed: function isSetAllowed(val, force) {\n    return force || this._val !== val && JSON.stringify(this._val) !== JSON.stringify(val);\n  },\n\n\n  // duplicate from Model. Should be in a shared parent class.\n  setTreeFreezer: function setTreeFreezer(freezerStatus) {\n    if (freezerStatus) {\n      this.freeze([\"hook_change\"]);\n    } else {\n      this.unfreeze();\n    }\n  }\n});\n\nvar Model = _events2.default.extend({\n\n  getClassDefaults: function getClassDefaults() {\n    return {};\n  },\n\n  /**\n   * A leaf model which has an object as value.\n   * Needed when parsing plain JS objects. Enables distinction between models and leafs with object values.\n   **/\n  objectLeafs: [],\n\n  /**\n   * Initializes the model.\n   * @param {Object} values The initial values of this model\n   * @param {Object} parent reference to parent\n   * @param {Object} bind Initial events to bind\n   * @param {Boolean} freeze block events from being dispatched\n   */\n  init: function init(name, values, parent, bind) {\n    this._type = this._type || \"model\";\n    this._id = this._id || utils.uniqueId(\"m\");\n    this._data = {};\n    //holds attributes of this model\n    this._parent = parent;\n    this._root = parent ? parent._root : this;\n    this._name = name;\n    this._ready = false;\n    this._readyOnce = false;\n    //has this model ever been ready?\n    this._loadedOnce = false;\n    //array of processes that are loading\n    this._intervals = getIntervals(this);\n\n    //will the model be hooked to data?\n    this._space = {};\n\n    this._dataId = false;\n    this._limits = {};\n    //stores limit values\n    this._super();\n\n    // initial values\n    // add defaults to initialValues\n    var initialValues = utils.deepExtend({}, this.getClassDefaults(), values);\n    this.set(initialValues);\n\n    // bind initial events\n    // bind after setting, so no events are fired by setting initial values\n    if (bind) {\n      this.on(bind);\n    }\n  },\n\n\n  /* ==========================\n   * Getters and Setters\n   * ==========================\n   */\n\n  /**\n   * Gets an attribute from this model or all fields.\n   * @param attribute Optional attribute\n   * @returns attr value or all values if attr is undefined\n   */\n  get: function get(attribute) {\n    if (attribute) {\n      var model = this._data[attribute];\n\n      return Model.isModel(model) ? model : model.value;\n    }\n\n    return this._data;\n  },\n\n\n  /**\n   * Sets an attribute or multiple for this model (inspired by Backbone)\n   * @param attr property name\n   * @param val property value (object or value)\n   * @param {Boolean} force force setting of property to value and triggers set event\n   * @param {Boolean} persistent true if the change is a persistent change\n   * @returns defer defer that will be resolved when set is done\n   */\n  set: function set(attr, val, force, persistent) {\n    var setting = this._setting;\n    var attrs = void 0;\n    var freezeCall = false; // boolean, indicates if this .set()-call froze the modelTree\n\n    //expect object as default\n    if (!utils.isPlainObject(attr)) {\n      (attrs = {})[attr] = val;\n    } else {\n      // move all arguments one place\n      attrs = attr;\n      persistent = force;\n      force = val;\n    }\n\n    //do nothing if setting an empty object\n    if (Object.keys(attrs).length === 0) return;\n\n    //we are currently setting the model\n    this._setting = true;\n\n    // Freeze the whole model tree if not frozen yet, so no events are fired while setting\n    if (!this._freeze) {\n      freezeCall = true;\n      this.setTreeFreezer(true);\n    }\n\n    // init/set all given values\n    var changes = [];\n    for (var attribute in attrs) {\n      val = attrs[attribute];\n\n      var bothModel = utils.isPlainObject(val) && this._data[attribute] instanceof Model;\n      var bothModelLeaf = (!utils.isPlainObject(val) || this.isObjectLeaf(attribute)) && this._data[attribute] instanceof ModelLeaf;\n\n      if (this._data[attribute] && (bothModel || bothModelLeaf)) {\n        // data type does not change (model or leaf and can be set through set-function)\n        var prevValue = this._data[attribute].value;\n        var setSuccess = this._data[attribute].set(val, force, persistent);\n        if (bothModelLeaf && setSuccess) {\n          changes.push(attribute);\n        }\n\n        var fn = \"set\" + utils.capitalize(attribute);\n        if (this.isHook() && utils.isFunction(this[fn]) && val !== prevValue) {\n          this[fn](attribute === \"which\" ? { concept: val, dataSource: this.data } : val);\n        }\n      } else {\n        // data type has changed or is new, so initializing the model/leaf\n        this._data[attribute] = initSubmodel(attribute, val, this, persistent);\n        bindSetterGetter(this, attribute);\n      }\n    }\n\n    if (!setting) {\n      this.checkDataChanges(changes);\n      if (this.validate) {\n        this.validate();\n      }\n    }\n\n    if (!setting || force) {\n      this._setting = false;\n      if (freezeCall && (!this.isHook() || !this.isLoading())) {\n        this.setTreeFreezer(false);\n      }\n      if (!this.isHook() && !this.isLoading()) {\n        this.setReady();\n      }\n    }\n\n    // if this set()-call was the one freezing the tree, now the tree can be unfrozen (i.e. all setting is done)\n  },\n\n\n  // standard model doesn't do anything with data\n  // overloaded by hook/entities\n  checkDataChanges: function checkDataChanges() {},\n  setTreeFreezer: function setTreeFreezer(freezerStatus) {\n    // first traverse down\n    // this ensures deepest events are triggered first\n    utils.forEach(this._data, function (submodel) {\n      submodel.setTreeFreezer(freezerStatus);\n    });\n\n    // then freeze/unfreeze\n    if (freezerStatus) {\n      this.freeze([\"hook_change\"]);\n    } else {\n      this.unfreeze();\n    }\n  },\n\n\n  /**\n   * Gets the type of this model\n   * @returns {String} type of the model\n   */\n  getType: function getType() {\n    return this._type;\n  },\n\n\n  /**\n   * Gets all submodels of the current model\n   * @param {Object} object [object=false] Should it return an object?\n   * @param {Function} validationFunction Validation function\n   * @returns {Array} submodels\n   */\n  getSubmodels: function getSubmodels() {\n    var object = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var validationFunction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n      return true;\n    };\n\n    var submodels = object ? {} : [];\n    utils.forEach(this._data, function (subModel, name) {\n      if (subModel && typeof subModel._id !== \"undefined\" && Model.isModel(subModel) && validationFunction(subModel)) {\n        if (object) {\n          submodels[name] = subModel;\n        } else {\n          submodels.push(subModel);\n        }\n      }\n    });\n    return submodels;\n  },\n\n\n  /**\n   * Gets the current model and submodel values as a JS object\n   * @returns {Object} All model as JS object, leafs will return their values\n   */\n  getPlainObject: function getPlainObject(persistent) {\n    var obj = {};\n    var _this = this;\n    utils.forEach(this._data, function (dataItem, i) {\n      // if it's a submodel\n      if (dataItem instanceof Model) {\n        obj[i] = dataItem.getPlainObject(persistent);\n      }\n      // if it's a modelLeaf\n      else {\n          //if asked for persistent then add value to result only if modelLeaf state is\n          //persistent\n          if (!persistent || dataItem.persistent) {\n            var leafValue = dataItem.get(persistent);\n            if (utils.isDate(leafValue)) leafValue = _this.formatDate(leafValue);\n            obj[i] = leafValue;\n          }\n        }\n    });\n    return obj;\n  },\n  formatDate: function formatDate(dateObject) {\n    return dateObject.toString();\n  },\n\n\n  /**\n   * Gets the requested object, including the leaf-object, not the value\n   * @returns {Object} Model or ModelLeaf object.\n   */\n  getModelObject: function getModelObject(name) {\n    return name ? this._data[name] : this;\n  },\n\n\n  /**\n   * Clears this model, submodels, data and events\n   */\n  clear: function clear() {\n    var submodels = this.getSubmodels();\n    for (var i in submodels) {\n      submodels[i].clear();\n    }\n    this.setReady(false);\n    this.off();\n    this._intervals.clearAllIntervals();\n    this._data = {};\n  },\n\n\n  /**\n   * Validates data.\n   * Interface for the validation function implemented by a model\n   * @returns Promise or nothing\n   */\n  validate: function validate() {},\n\n\n  /* ==========================\n   * Model loading\n   * ==========================\n   */\n\n  // normal model is never loading\n  _isLoading: function _isLoading() {\n    return false;\n  },\n\n\n  /**\n   * checks whether this model is loading anything\n   * @param {String} optional process id (to check only one)\n   * @returns {Boolean} is it loading?\n   */\n  isLoading: function isLoading() {\n    if (this._isLoading()) return true;\n\n    //if not loading anything, check submodels\n    var submodels = this.getSubmodels();\n    var i = void 0;\n    for (i = 0; i < submodels.length; i += 1) {\n      if (submodels[i].isLoading()) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n\n  /**\n   * Sets the model as ready or not depending on its loading status\n   */\n  setReady: function setReady(value) {\n    if (value === false) {\n      this._ready = false;\n      if (this._parent && this._parent.setReady) {\n        this._parent.setReady(false);\n      }\n      return;\n    }\n    //only ready if nothing is loading at all\n    var prev_ready = this._ready;\n    this._ready = !this.isLoading() && !this._setting;\n    // if now ready and wasn't ready yet\n    if (this._ready && prev_ready !== this._ready) {\n      if (!this._readyOnce) {\n        this._readyOnce = true;\n        this.trigger(\"readyOnce\");\n      }\n      this.trigger(\"ready\");\n    }\n  },\n  setInterModelListeners: function setInterModelListeners() {\n    utils.forEach(this.getSubmodels(), function (subModel) {\n      return subModel.setInterModelListeners();\n    });\n  },\n  startPreload: function startPreload() {\n\n    var promises = [];\n    promises.push(this.preloadData());\n\n    utils.forEach(this.getSubmodels(), function (subModel) {\n      return promises.push(subModel.startPreload());\n    });\n\n    return Promise.all(promises);\n  },\n  preloadData: function preloadData() {\n    return Promise.resolve();\n  },\n\n\n  /**\n   * loads data (if hook)\n   * Hooks loads data, models ask children to load data\n   * Basically, this method:\n   * loads is theres something to be loaded:\n   * does not load if there's nothing to be loaded\n   * @param {Object} options (includes splashScreen)\n   * @returns defer\n   */\n  startLoading: function startLoading(opts) {\n    var _this2 = this;\n\n    var promises = [];\n    promises.push(this.loadData(opts));\n\n    utils.forEach(this.getSubmodels(), function (subModel) {\n      return promises.push(subModel.startLoading(opts));\n    });\n\n    return Promise.all(promises).then(this.onSuccessfullLoad.bind(this)).catch(function (error) {\n      var translator = _this2.getClosestModel(\"locale\").getTFunction();\n      _this2.triggerLoadError([translator(\"crash/error\"), window.navigator.userAgent, error].join(\"<br>\"));\n    });\n  },\n  loadData: function loadData(opts) {\n    if (this.isHook()) utils.warn(\"Hook \" + this._name + \" is not loading because it's not extending Hook prototype.\");\n    return Promise.resolve();\n  },\n  loadSubmodels: function loadSubmodels(options) {\n    var promises = [];\n    var subModels = this.getSubmodels();\n    utils.forEach(subModels, function (subModel) {\n      promises.push(subModel.startLoading(options));\n    });\n    return promises.length > 0 ? Promise.all(promises) : Promise.resolve();\n  },\n  onSuccessfullLoad: function onSuccessfullLoad() {\n    var _this3 = this;\n\n    this.validate();\n    utils.timeStamp(\"Vizabi Model: Model loaded: \" + this._name + \"(\" + this._id + \")\");\n    //end this load call\n    this._loadedOnce = true;\n\n    this._loadCall = false;\n    this.setTreeFreezer(false);\n\n    //we need to defer to make sure all other submodels\n    //have a chance to call loading for the second time\n    utils.defer(function () {\n      return _this3.setReady();\n    });\n  },\n  handleLoadError: function handleLoadError() {\n    var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getDefaultErrorMessage();\n\n    throw error;\n  },\n  getDefaultErrorMessage: function getDefaultErrorMessage() {\n    return this.getClosestModel(\"locale\").getTFunction()(\"connection/error\");\n  },\n  triggerLoadError: function triggerLoadError(error) {\n    utils.error(error);\n    this.trigger(\"load_error\", error);\n  },\n\n\n  /**\n   * executes after preloading processing is done\n   */\n  afterPreload: function afterPreload() {\n    var submodels = this.getSubmodels();\n    utils.forEach(submodels, function (s) {\n      s.afterPreload();\n    });\n  },\n\n\n  /* ===============================\n   * Hooking model to external data\n   * ===============================\n   */\n\n  /**\n   * is this model hooked to data?\n   */\n  isHook: function isHook() {\n    return Boolean(this.use);\n  },\n\n\n  /**\n   * Gets all submodels of the current model that are hooks\n   * @param object [object=false] Should it return an object?\n   * @returns {Array|Object} hooks array or object\n   */\n  getSubhooks: function getSubhooks(object) {\n    return this.getSubmodels(object, function (s) {\n      return s.isHook();\n    });\n  },\n\n\n  /**\n   * gets all sub values for a certain hook\n   * only hooks have the \"hook\" attribute.\n   * @param {String} type specific type to lookup\n   * @returns {Array} all unique values with specific hook use\n   */\n  getHookWhich: function getHookWhich(type) {\n    var values = [];\n    if (this.use && this.use === type) {\n      values.push(this.which);\n    }\n    //repeat for each submodel\n    utils.forEach(this.getSubmodels(), function (s) {\n      values = utils.unique(values.concat(s.getHookWhich(type)));\n    });\n    //now we have an array with all values in a type of hook for hooks.\n    return values;\n  },\n\n\n  /**\n   * gets all sub values for indicators in this model\n   * @returns {Array} all unique values of indicator hooks\n   */\n  getIndicators: function getIndicators() {\n    return this.getHookWhich(\"indicator\");\n  },\n\n\n  /**\n   * gets all sub values for indicators in this model\n   * @returns {Array} all unique values of property hooks\n   */\n  getProperties: function getProperties() {\n    return this.getHookWhich(\"property\");\n  },\n\n\n  /**\n   * Gets the dimension of this model if it has one\n   * @returns {String|Boolean} dimension\n   */\n  getDimension: function getDimension() {\n    return this.dim || false; //defaults to dim if it exists\n  },\n\n\n  /**\n   * Gets the dimension (if entity) or which (if hook) of this model\n   * @returns {String|Boolean} dimension\n   */\n  getDimensionOrWhich: function getDimensionOrWhich() {\n    return this.dim || (this.use != \"constant\" ? this.which : false); //defaults to dim or which if it exists\n  },\n\n\n  /**\n   * Gets the filter for this model if it has one\n   * @returns {Object} filters\n   */\n  getFilter: function getFilter() {\n    return {}; //defaults to no filter\n  },\n\n\n  /**\n   * maps the value to this hook's specifications\n   * @param value Original value\n   * @returns hooked value\n   */\n  mapValue: function mapValue(value) {\n    return value;\n  },\n\n\n  /**\n   * Gets formatter for this model\n   * @returns {Function} formatter function\n   */\n  getParser: function getParser() {\n    return null;\n  },\n\n\n  /**\n   * @return {Object} defaults of this model, and when available overwritten by submodel defaults\n   */\n  getDefaults: function getDefaults() {\n    return utils.deepExtend({}, this.getClassDefaults(), this.getSubmodelDefaults());\n  },\n\n\n  /**\n   * @return {Object} All defaults coming from submodels\n   */\n  getSubmodelDefaults: function getSubmodelDefaults() {\n    var d = {};\n    utils.forEach(this.getSubmodels(true), function (model, name) {\n      d[name] = model.getDefaults();\n    });\n    return d;\n  },\n\n\n  /**\n   * @param  {name} name of the child to check\n   * @return {Boolean} if the child is a leaf with a plain object as value\n   */\n  isObjectLeaf: function isObjectLeaf(name) {\n    return this.objectLeafs.indexOf(name) !== -1;\n  },\n\n\n  /**\n   * gets closest prefix model moving up the model tree\n   * @param {String} prefix\n   * @returns {Object} submodel\n   */\n  getClosestModel: function getClosestModel(name) {\n    var model = this.findSubmodel(name);\n    if (model) {\n      return model;\n    } else if (this._parent) {\n      return this._parent.getClosestModel(name);\n    }\n    return null;\n  },\n\n\n  /**\n   * find submodel with name that starts with prefix\n   * @param {String} prefix\n   * @returns {Object} submodel or false if nothing is found\n   */\n  findSubmodel: function findSubmodel(name) {\n    for (var i in this._data) {\n      //found submodel\n      if (i === name && Model.isModel(this._data[i])) {\n        return this._data[i];\n      }\n    }\n    return null;\n  },\n\n\n  /**\n   * is this entities type model ?\n   */\n  isEntities: function isEntities() {\n    return false;\n  }\n});\n\n/* ===============================\n * Private Helper Functions\n * ===============================\n */\n\n/**\n * Checks whether an object is a model or not\n * if includeLeaf is true, a leaf is also seen as a model\n */\nModel.isModel = function (model, includeLeaf) {\n  return model && (model.hasOwnProperty(\"_data\") || includeLeaf && model.hasOwnProperty(\"_val\"));\n};\n\nfunction bindSetterGetter(model, prop) {\n  Object.defineProperty(model, prop, {\n    configurable: true,\n    //allow reconfiguration\n    get: function (p) {\n      return function () {\n        return model.get(p);\n      };\n    }(prop),\n    set: function (p) {\n      return function (value) {\n        return model.set(p, value);\n      };\n    }(prop)\n  });\n}\n\n/**\n * Loads a submodel, when necessaary\n * @param {String} attr Name of submodel\n * @param {Object} val Initial values\n * @param {Object} ctx context / parent model\n * @param {Boolean} persistent true if the change is a persistent change\n * @returns {Object} model new submodel\n */\nfunction initSubmodel(attr, val, ctx, persistent) {\n\n  var submodel = void 0;\n\n  // if value is a value -> leaf\n  if (!utils.isPlainObject(val) || utils.isArray(val) || ctx.isObjectLeaf(attr)) {\n\n    var binds = {\n      //the submodel has changed (multiple times)\n      \"change\": onChange\n    };\n    submodel = new ModelLeaf(attr, val, ctx, binds, persistent);\n  }\n\n  // if value is an object -> model\n  else {\n\n      var _binds = {\n        //the submodel has changed (multiple times)\n        \"change\": onChange,\n        //loading has started in this submodel (multiple times)\n        \"hook_change\": onHookChange,\n        // error triggered in loading\n        \"load_error\": function load_error() {\n          return ctx.trigger.apply(ctx, arguments);\n        },\n        // interpolation completed\n        \"dataLoaded\": function dataLoaded() {\n          return ctx.trigger.apply(ctx, arguments);\n        },\n        //loading has ended in this submodel (multiple times)\n        \"ready\": onReady\n      };\n\n      // if the value is an already instantiated submodel (Model or ModelLeaf)\n      // this is the case for example when a new componentmodel is made (in Component._modelMapping)\n      // it takes the submodels from the toolmodel and creates a new model for the component which refers\n      // to the instantiated submodels (by passing them as model values, and thus they reach here)\n      if (Model.isModel(val, true)) {\n        submodel = val;\n        submodel.on(_binds);\n      }\n      // if it's just a plain object, create a new model\n      else {\n          // construct model\n          var modelType = attr.split(\"_\")[0];\n\n          var Modl = Model.get(modelType, true);\n          if (!Modl) {\n            try {\n              Modl = __webpack_require__(361)(\"./\" + modelType).default;\n            } catch (err) {\n              Modl = Model;\n            }\n          }\n\n          submodel = new Modl(attr, val, ctx, _binds);\n          // model is still frozen but will be unfrozen at end of original .set()\n        }\n    }\n\n  return submodel;\n\n  // Default event handlers for models\n  function onChange(evt, path) {\n    if (!ctx._ready) return; //block change propagation if model isnt ready\n    path = ctx._name + \".\" + path;\n    ctx.trigger(evt, path);\n  }\n  function onHookChange(evt, vals) {\n    ctx.trigger(evt, vals);\n  }\n  function onReady(evt, vals) {\n    //trigger only for submodel\n    ctx.setReady(false);\n    //wait to make sure it's not set false again in the next execution loop\n    utils.defer(function () {\n      ctx.setReady();\n    });\n    //ctx.trigger(evt, vals);\n  }\n}\n\n/**\n * gets closest interval from this model or parent\n * @returns {Object} Intervals object\n */\nfunction getIntervals(ctx) {\n  return ctx._intervals || (ctx._parent ? getIntervals(ctx._parent) : new _intervals2.default());\n}\n\nexports.default = Model;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChangeEvent = exports.DefaultEvent = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _freezeAllEvents = false;\nvar _frozenEventInstances = [];\nvar _freezeAllExceptions = {};\n\nvar DefaultEvent = exports.DefaultEvent = _class2.default.extend({\n\n  source: \"\",\n  type: \"default\",\n\n  init: function init(source, type) {\n    this.source = source;\n    if (type) this.type = type;\n  }\n});\n\nvar ChangeEvent = exports.ChangeEvent = DefaultEvent.extend(\"change\", {\n\n  type: \"change\",\n\n  init: function init(source) {\n    this._super(source);\n  }\n});\n\nvar EventSource = _class2.default.extend({\n\n  /**\n   * Initializes the event class\n   */\n  init: function init() {\n    this._id = this._id || utils.uniqueId(\"e\");\n    this._events = {};\n    //freezing events\n    this._freeze = false;\n    this._freezer = [];\n    this._freezeExceptions = {};\n  },\n\n\n  /**\n   * Binds a callback function to an event: part 1: split grouped parameters in seperate calls\n   * @param {String} type type of event\n   * @param {String|Array} target path to object the event should be bound to or array of target paths\n   * @param {Function|Array} func function to be bound with event or array with functions\n   */\n  on: function on(type, path, func) {\n\n    // if parameters had to be split up in seperate calls, don't continue with this call\n    if (this.splitEventParameters(type, path, func, this.on)) return;\n\n    // get the target model\n    var target = this.traversePath(path);\n    if (!target) return;\n\n    // register the event to this object\n    target._events[type] = target._events[type] || [];\n    if (typeof func === \"function\") {\n      target._events[type].push(func);\n    } else {\n      utils.warn(\"Can't bind event '\" + type + \"'. It must be a function.\");\n    }\n  },\n\n\n  /**\n   * Unbinds all events associated with a name or a specific one\n   * @param {String|Array} name name of event or array with names\n   */\n  off: function off(type, path, func) {\n\n    // if no arguments, unbind all\n    if (arguments.length == 0) {\n      this._events = {};\n      return;\n    }\n\n    // if parameters had to be split up in seperate calls, don't continue with this call\n    if (this.splitEventParameters(type, path, func, this.off)) return;\n\n    // get target model\n    var target = this.traversePath(path);\n    if (!target) return;\n\n    // unbind events\n    if (target._events.hasOwnProperty(type)) {\n      // if function not given, remove all events of type\n      if (typeof func === \"undefined\") {\n        target._events[type] = [];\n        return;\n      }\n      var index = target._events[type].indexOf(func);\n      if (index > -1) {\n        target._events[type].splice(index, 1);\n      } else {\n        utils.warn(\"Could not unbind function \" + func.name + \". Function not in bound function list.\");\n      }\n    }\n  },\n\n\n  /**\n   * Split grouped event parameters to seperate calls to given funtion\n   * @param {String|Object|Array} type type of event\n   * @param {String|Array} target path to object the event should be bound to or array of target paths\n   * @param {Function|Array} func function to be bound with event or array with functions\n   * @param {Function} eventFunc function to further process the split up parameters\n   * @return {Boolean} true if the parameters where split up, false if nothing was split up\n   * eventFunc is mostly arguments.callee but this is deprecated in ECMAscript 5: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/callee\n   */\n  splitEventParameters: function splitEventParameters(type, path, func, eventFunc) {\n    var i = void 0;\n    var calls = [];\n\n    // multiple at a time, array format: [{type: function}, {'type:path': function}, ... ]\n    // seems redundant but used so that binding-sets won't be turned into models (which happens when it's a pure object). Used e.g. in Tool.init();\n    if (utils.isArray(type)) {\n      for (i = 0; i < type.length; i += 1) {\n        eventFunc.call(this, type[i], func);\n      }\n      return true;\n    }\n\n    //multiple at a time, object format: {type: function, 'type:path': function, ... }\n    if (utils.isObject(type)) {\n      for (i in type) {\n        eventFunc.call(this, i, type[i]);\n      }\n      return true;\n    }\n\n    // type and path are both in type: on('type:path', function)\n    // or\n    // path undefined: on('type', function)\n    if (typeof path === \"function\") {\n      func = path; // put callback function in func variable\n      // on('type:path', func)\n      if (type.indexOf(\":\") !== -1) {\n        var split = type.split(\":\");\n        type = split[0];\n        path = split[1];\n      }\n      // on(type, func)\n      else {\n          path = undefined;\n        }\n      eventFunc.call(this, type, path, func);\n      return true;\n    }\n\n    // bind multiple paths at a time to one function: on(type, [path1, path2], function)\n    if (utils.isArray(path)) {\n      for (i = 0; i < path.length; i += 1) {\n        eventFunc.call(this, type, path[i], func);\n      }\n      return true;\n    }\n\n    //bind multiple functions at the same time to one path: on(type, path, [function1, function2])\n    if (func && utils.isArray(func)) {\n      for (i = 0; i < func.length; i += 1) {\n        eventFunc.call(this, type, path, func[i]);\n      }\n      return true;\n    }\n    return false;\n  },\n\n\n  /**\n   * // TODO: if events will not be strictly model-bound, this might have to move to model.\n   * Traverse path down the model tree\n   * @param {String|Array} target path to object that should be returned. Either in string or array form\n   */\n  traversePath: function traversePath(path) {\n\n    // if there's no path to traverse\n    if (typeof path === \"undefined\" || utils.isArray(path) && path.length == 0) {\n      return this;\n    }\n\n    // prepare path to array\n    if (typeof path === \"string\") {\n      path = path.split(\".\");\n    }\n\n    // check if path is an array\n    if (!utils.isArray(path)) {\n      utils.error(\"Path is wrong type. Path should be a string or array but is \" + (typeof path === \"undefined\" ? \"undefined\" : _typeof(path)) + \".\");\n      return null;\n    }\n\n    // descent to next child to find target object\n    var currentTarget = path.shift();\n    if (this[currentTarget] === undefined) utils.warn('Can\\'t find child \"' + currentTarget + '\" of the model ' + this._name + \".\");else return this.getModelObject(currentTarget).traversePath(path);\n  },\n  createEventFromType: function createEventFromType(evtType) {\n    if (evtType instanceof DefaultEvent) {\n      return evtType;\n    }\n\n    var eventClass = DefaultEvent.get(evtType, true); // silent\n    if (eventClass) {\n      return new eventClass(this);\n    }\n\n    return new DefaultEvent(this, evtType);\n  },\n\n\n  /**\n   * Triggers an event, adding it to the buffer\n   * @param {String|Array} name name of event or array with names\n   * @param args Optional arguments (values to be passed)\n   */\n  trigger: function trigger(evtType, args) {\n    var _this2 = this;\n\n    var i = void 0;\n    var size = void 0;\n\n    // split up eventType-paremeter for multiple event-triggers\n    if (utils.isArray(evtType)) {\n      for (i = 0, size = evtType.length; i < size; i += 1) {\n        this.trigger(evtType[i], args);\n      }\n      return;\n    }\n\n    // create an event-object if necessary\n    var evt = this.createEventFromType(evtType);\n\n    // if this eventType has no events registered\n    if (!this._events.hasOwnProperty(evt.type)) {\n      return;\n    }\n\n    // for each function registered to this eventType on this object\n    var _this = this;\n    utils.forEach(this._events[evt.type], function (func) {\n\n      // prepare execution\n      var execute = function execute() {\n        var msg = \"Vizabi Event: \" + evt.type; // + ' - ' + eventPath;\n        utils.timeStamp(msg);\n        func.apply(_this, [evt, args]);\n      };\n\n      //TODO: improve readability of freezer code\n      //only execute if not frozen and exception doesnt exist\n      if (_this2.allowExecution(evt)) {\n        execute();\n      } else {\n        _this2._freezer.push(execute);\n        if (_freezeAllEvents && !_frozenEventInstances[_this2._id]) {\n          _this2.freeze();\n          _frozenEventInstances[_this2._id] = _this2;\n        }\n      }\n    });\n  },\n  allowExecution: function allowExecution(evt) {\n    return !this._freeze && !_freezeAllEvents || // nothing frozen\n    _freezeAllEvents && _freezeAllExceptions.hasOwnProperty(evt.type) || // freeze all but exception\n    !_freezeAllEvents && this._freeze && this._freezeExceptions.hasOwnProperty(evt.type); // freeze but exception\n  },\n\n\n  /**\n   * Prevents all events from being triggered, buffering them\n   */\n  freeze: function freeze(exceptions) {\n    this._freeze = true;\n    if (!exceptions) {\n      return;\n    }\n    if (!utils.isArray(exceptions)) {\n      exceptions = [exceptions];\n    }\n    for (var i = 0; i < exceptions.length; i += 1) {\n      this._freezeExceptions[exceptions[i]] = true;\n    }\n  },\n\n\n  /**\n   * triggers all frozen events\n   */\n  unfreeze: function unfreeze() {\n    this._freeze = false;\n    this._freezeExceptions = {};\n    //execute old frozen events\n    while (this._freezer.length) {\n      var execute = this._freezer.shift();\n      execute();\n    }\n  },\n\n\n  /**\n   * clears all frozen events\n   */\n  clearFrozen: function clearFrozen() {\n    this._freeze = false;\n    this._freezeExceptions = {};\n    this._freezer = [];\n  }\n});\n\nEventSource.freezeAll = freezeAll;\nEventSource.unfreezeAll = unfreezeAll;\n\n//generic event functions\n/**\n * freezes all events\n */\nfunction freezeAll(exceptions) {\n  _freezeAllEvents = true;\n  if (!exceptions) {\n    return;\n  }\n  if (!utils.isArray(exceptions)) {\n    exceptions = [exceptions];\n  }\n  utils.forEach(exceptions, function (e) {\n    _freezeAllExceptions[e] = true;\n  });\n}\n\n/**\n * triggers all frozen events form all instances\n */\nfunction unfreezeAll() {\n  _freezeAllEvents = false;\n  _freezeAllExceptions = {};\n  //unfreeze all instances\n  var keys = Object.keys(_frozenEventInstances);\n  for (var i = 0; i < keys.length; i++) {\n    var instance = _frozenEventInstances[keys[i]];\n    if (!instance) {\n      continue;\n    }\n    instance.unfreeze();\n  }\n  _frozenEventInstances = {};\n}\n\nexports.default = EventSource;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar def = __webpack_require__(9).f\n  , has = __webpack_require__(13)\n  , TAG = __webpack_require__(7)('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0)\n  , defined = __webpack_require__(23)\n  , fails   = __webpack_require__(5)\n  , spaces  = __webpack_require__(80)\n  , space   = '[' + spaces + ']'\n  , non     = '\\u200b\\u0085'\n  , ltrim   = RegExp('^' + space + space + '*')\n  , rtrim   = RegExp(space + space + '*$');\n\nvar exporter = function(KEY, exec, ALIAS){\n  var exp   = {};\n  var FORCE = fails(function(){\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if(ALIAS)exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function(string, TYPE){\n  string = String(defined(string));\n  if(TYPE & 1)string = string.replace(ltrim, '');\n  if(TYPE & 2)string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = __webpack_require__(7)('unscopables')\n  , ArrayProto  = Array.prototype;\nif(ArrayProto[UNSCOPABLES] == undefined)__webpack_require__(14)(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function(key){\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx         = __webpack_require__(30)\n  , call        = __webpack_require__(118)\n  , isArrayIter = __webpack_require__(90)\n  , anObject    = __webpack_require__(2)\n  , toLength    = __webpack_require__(11)\n  , getIterFn   = __webpack_require__(92)\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * DATACONNECTED MODEL\n *\n * Any model which may trigger a reload of data is here. Dimensions, Time, Hooks and Locales are DataConnected\n */\n\nvar DataConnected = _model2.default.extend({\n\n  dataConnectedChildren: [],\n\n  checkDataChanges: function checkDataChanges(changedChildren) {\n    var _this = this;\n\n    if (!changedChildren || !this.dataConnectedChildren) return;\n\n    if (!utils.isArray(changedChildren) && utils.isObject(changedChildren)) changedChildren = Object.keys(changedChildren);\n\n    if (changedChildren.length == 0 || this.dataConnectedChildren.length == 0) return;\n\n    var dataConnectedChangedChildren = changedChildren.filter(function (child) {\n      return _this.dataConnectedChildren.indexOf(child) !== -1;\n    });\n\n    if (dataConnectedChangedChildren.length > 0) {\n      this.trigger(\"dataConnectedChange\");\n      this.startLoading();\n    }\n  }\n});\n\nexports.default = DataConnected;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * VIZABI GENERIC SLIDER CONTROL\n * Reusable SLIDER\n */\n\nvar SimpleSlider = _component2.default.extend({\n  init: function init(config, context) {\n    this.template = '<div class=\"vzb-ss-holder\"><input type=\"range\" class=\"vzb-ss-slider vzb-ss-slider-normal\" step=\"1\"></div>';\n\n    this.model_expects = [{\n      name: \"submodel\"\n    }];\n\n    var _this = this;\n    this.name = \"gapminder-simpleSlider\";\n\n    this.arg = config.arg;\n    this.thumb_size = config.thumb_size;\n    this.slider_properties = config.properties;\n\n    this.model_binds = {};\n    this.model_binds[\"change:submodel.\" + this.arg] = function (evt) {\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    this._setModel = utils.throttle(this._setModel, 50);\n  },\n\n\n  /**\n     * Executes after the template is loaded and rendered.\n     * Ideally, it contains HTML instantiations related to template\n     * At this point, this.element and this.placeholder are available as a d3 object\n     */\n  readyOnce: function readyOnce() {\n\n    //default values\n    var min = 0;\n    var max = 1;\n    var step = 0.1;\n    var suppressInput = false;\n    var value = min;\n\n    //selecting elements\n    var _this = this;\n    this.element = d3.select(this.element);\n    this.slider = this.element.selectAll(\".vzb-ss-slider\");\n\n    this.elementSize = this.element.node().getBoundingClientRect();\n    this.sliderSize = this.slider.node().getBoundingClientRect();\n    this.slider.style(\"left\", this.elementSize.left - this.sliderSize.left + \"px\");\n\n    //TODO: replace this with utils.extend\n    if (this.slider_properties) {\n      if (this.slider_properties.min != null) min = this.slider_properties.min;\n      if (this.slider_properties.max != null) max = this.slider_properties.max;\n      if (this.slider_properties.step != null) step = this.slider_properties.step;\n      if (this.slider_properties.suppressInput != null) suppressInput = this.slider_properties.suppressInput;\n\n      if (this.slider_properties.scale) {\n        value = this.slider_properties.scale(min);\n      }\n    }\n\n    //step also defines the rounding of values that willbe sent to model: 0.1 --> 1 digit, 0.01 --> 2, 1 and up --> 0\n    this.roundTo = step > 1 ? 0 : Math.round(Math.abs(Math.log(step) / Math.LN10));\n\n    //check and change the slider's thumb size\n    if (this.thumb_size) {\n      this.slider.classed(\"vzb-ss-slider-normal\", false);\n      this.slider.classed(\"vzb-ss-slider-\" + this.thumb_size, true);\n    }\n\n    this.slider.attr(\"min\", min).attr(\"max\", max).attr(\"step\", step).attr(\"value\", value).on(\"input\", function () {\n      if (suppressInput) return;\n      var value = +d3.event.target.value;\n      _this._setModel(value, false, false); // on drag - non-persistent changes while dragging\n    }).on(\"change\", function () {\n      var value = +d3.event.target.value;\n      _this._setModel(value, true); // on drag end - value is probably same as last 'input'-event, so force change\n    }).on(\"touchstart\", function () {\n      _this.scrollAncestor = utils.findScrollableAncestor(d3.event.target);\n      d3.select(_this.scrollAncestor).style(\"pointer-events\", \"none\");\n    }).on(\"touchend touchcancel\", function () {\n      d3.select(_this.scrollAncestor).style(\"pointer-events\", null);\n    });\n\n    this.updateView();\n  },\n  updateView: function updateView() {\n    var value = this.model.submodel[this.arg];\n    var slider_properties = this.slider_properties;\n    var scale = void 0;\n\n    if (slider_properties) {\n      scale = slider_properties.scale;\n    }\n    if (scale) {\n      value = scale.invert(value);\n    }\n\n    //this.slider.attr('value', value);\n    this.slider.node().value = value;\n  },\n  _setModel: function _setModel(value, force, persistent) {\n    // rescale value if scale is supplied in slider_properties\n    if (this.slider_properties && this.slider_properties.scale) value = this.slider_properties.scale(value);\n\n    //this.model.submodel.getModelObject(this.arg).set(value.toFixed(this.roundTo), force, persistent);\n    this.model.submodel.set(this.arg, value.toFixed(this.roundTo), force, persistent);\n  }\n});\n\nexports.default = SimpleSlider;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _component2.default.extend({\n  init: function init(config, context) {\n    this.template = '<span class=\"vzb-sc-holder vzb-dialog-checkbox\"><input type=\"checkbox\"><label></label></span>';\n    var _this = this;\n    this.name = \"gapminder-simplecheckbox\";\n\n    this.checkbox = config.checkbox;\n    this.submodel = config.submodel;\n\n    this.model_expects = [{\n      name: \"mdl\"\n      //TODO: learn how to expect model \"axis\" or \"size\" or \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.model_binds = {\n      \"change:mdl\": function changeMdl(evt) {\n        _this.updateView();\n      },\n      \"translate:locale\": function translateLocale(evt) {\n        _this.updateView();\n      }\n    };\n\n    var submodel = this.submodel ? this.submodel + \":\" : \"\";\n    this.model_binds[\"change:mdl.\" + submodel + this.checkbox] = function () {\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n  ready: function ready() {\n    this.parentModel = this.submodel ? this.model.mdl[this.submodel] : this.model.mdl;\n    this.updateView();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n    this.element = d3.select(this.element);\n    var id = \"-check-\" + _this._id;\n    this.labelEl = this.element.select(\"label\").attr(\"for\", id);\n    this.checkEl = this.element.select(\"input\").attr(\"id\", id).on(\"change\", function () {\n      _this._setModel(d3.select(this).property(\"checked\"));\n    });\n  },\n  updateView: function updateView() {\n    this.translator = this.model.locale.getTFunction();\n    this.labelEl.text(this.translator(\"check/\" + this.checkbox));\n    this.checkEl.property(\"checked\", !!this.parentModel[this.checkbox]);\n  },\n  _setModel: function _setModel(value) {\n    this.parentModel[this.checkbox] = value;\n  }\n});\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(22);\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(22)\n  , TAG = __webpack_require__(7)('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(4)\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(17)\n  , toLength  = __webpack_require__(11)\n  , toIndex   = __webpack_require__(41);\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.8 IsRegExp(argument)\nvar isObject = __webpack_require__(6)\n  , cof      = __webpack_require__(22)\n  , MATCH    = __webpack_require__(7)('match');\nmodule.exports = function(it){\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ITERATOR     = __webpack_require__(7)('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = __webpack_require__(2);\nmodule.exports = function(){\n  var that   = anObject(this)\n    , result = '';\n  if(that.global)     result += 'g';\n  if(that.ignoreCase) result += 'i';\n  if(that.multiline)  result += 'm';\n  if(that.unicode)    result += 'u';\n  if(that.sticky)     result += 'y';\n  return result;\n};\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar hide     = __webpack_require__(14)\n  , redefine = __webpack_require__(15)\n  , fails    = __webpack_require__(5)\n  , defined  = __webpack_require__(23)\n  , wks      = __webpack_require__(7);\n\nmodule.exports = function(KEY, length, exec){\n  var SYMBOL   = wks(KEY)\n    , fns      = exec(defined, SYMBOL, ''[KEY])\n    , strfn    = fns[0]\n    , rxfn     = fns[1];\n  if(fails(function(){\n    var O = {};\n    O[SYMBOL] = function(){ return 7; };\n    return ''[KEY](O) != 7;\n  })){\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function(string, arg){ return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function(string){ return rxfn.call(string, this); }\n    );\n  }\n};\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global            = __webpack_require__(4)\n  , $export           = __webpack_require__(0)\n  , redefine          = __webpack_require__(15)\n  , redefineAll       = __webpack_require__(46)\n  , meta              = __webpack_require__(35)\n  , forOf             = __webpack_require__(53)\n  , anInstance        = __webpack_require__(45)\n  , isObject          = __webpack_require__(6)\n  , fails             = __webpack_require__(5)\n  , $iterDetect       = __webpack_require__(65)\n  , setToStringTag    = __webpack_require__(49)\n  , inheritIfRequired = __webpack_require__(81);\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  var fixMethod = function(KEY){\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a){\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance             = new C\n      // early implementations not supports chaining\n      , HASNT_CHAINING       = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n      , THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); })\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      , ACCEPT_ITERABLES     = $iterDetect(function(iter){ new C(iter); }) // eslint-disable-line no-new\n      // for early implementations -0 and +0 not the same\n      , BUGGY_ZERO = !IS_WEAK && fails(function(){\n        // V8 ~ Chromium 42- fails only with 5+ elements\n        var $instance = new C()\n          , index     = 5;\n        while(index--)$instance[ADDER](index, index);\n        return !$instance.has(-0);\n      });\n    if(!ACCEPT_ITERABLES){ \n      C = wrapper(function(target, iterable){\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base, target, C);\n        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if(IS_WEAK && proto.clear)delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(4)\n  , hide   = __webpack_require__(14)\n  , uid    = __webpack_require__(38)\n  , TYPED  = uid('typed_array')\n  , VIEW   = uid('view')\n  , ABV    = !!(global.ArrayBuffer && global.DataView)\n  , CONSTR = ABV\n  , i = 0, l = 9, Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile(i < l){\n  if(Typed = global[TypedArrayConstructors[i++]]){\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV:    ABV,\n  CONSTR: CONSTR,\n  TYPED:  TYPED,\n  VIEW:   VIEW\n};\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Forced replacement prototype accessors methods\nmodule.exports = __webpack_require__(39)|| !__webpack_require__(5)(function(){\n  var K = Math.random();\n  // In FF throws only define methods\n  __defineSetter__.call(null, K, function(){ /* empty */});\n  delete __webpack_require__(4)[K];\n});\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Initializes the reader.\n * @param {Object} reader_info Information about the reader\n */\nvar Reader = _class2.default.extend({\n\n  QUERY_FROM_CONCEPTS: \"concepts\",\n  QUERY_FROM_DATAPOINTS: \"datapoints\",\n  QUERY_FROM_ENTITIES: \"entities\",\n\n  CONDITION_CALLBACKS: {\n    $gt: function $gt(configValue, rowValue) {\n      return rowValue > configValue;\n    },\n    $gte: function $gte(configValue, rowValue) {\n      return rowValue >= configValue;\n    },\n    $lt: function $lt(configValue, rowValue) {\n      return rowValue < configValue;\n    },\n    $lte: function $lte(configValue, rowValue) {\n      return rowValue <= configValue;\n    },\n    $in: function $in(configValue, rowValue) {\n      return configValue.includes(rowValue);\n    }\n  },\n\n  ERRORS: {\n    GENERIC_ERROR: \"reader/error/generic\"\n  },\n\n  _name: \"reader\",\n\n  load: function load() {\n    return Promise.resolve({\n      rows: [],\n      columns: []\n    });\n  },\n  read: function read(query) {\n    var _this = this;\n\n    var parsers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    query = this._normalizeQuery(query, parsers);\n\n    var _query2 = query,\n        select = _query2.select,\n        from = _query2.from;\n\n\n    return this.load().then(function (result) {\n      var rows = result.rows,\n          columns = result.columns;\n\n      _this.ensureDataIsCorrect(result, parsers);\n\n      switch (true) {\n        case from === _this.QUERY_FROM_CONCEPTS:\n          return _this._getConcepts(columns, _this._mapRows(rows, query, parsers));\n\n        case _this._isDataQuery(from) && select.key.length > 0:\n          return _this._getData(rows, query, parsers);\n\n        default:\n          return [];\n      }\n    }).catch(function (error) {\n      throw {}.toString.call(error) === \"[object Error]\" ? _this.error(_this.ERRORS.GENERIC_ERROR, error) : error;\n    });\n  },\n  ensureDataIsCorrect: function ensureDataIsCorrect() {},\n  _normalizeQuery: function _normalizeQuery(_query, parsers) {\n    var query = Object.assign({}, _query);\n    var where = query.where,\n        join = query.join;\n\n\n    if (where.$and) {\n      where.$and = where.$and.reduce(function (whereResult, condition) {\n        Object.keys(condition).forEach(function (rowKey) {\n          var conditionValue = condition[rowKey];\n\n          if (typeof conditionValue === \"string\" && conditionValue.startsWith(\"$\")) {\n            var joinWhere = join[conditionValue].where;\n\n            Object.keys(joinWhere).forEach(function (joinRowKey) {\n              var value = joinWhere[joinRowKey];\n              var parser = parsers[joinRowKey];\n\n              whereResult[joinRowKey] = parser ? (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" ? Object.keys(value).reduce(function (callbackConditions, callbackKey) {\n                callbackConditions[callbackKey] = parser(value[callbackKey]);\n                return callbackConditions;\n              }, {}) : parser(value) : value;\n            });\n          } else {\n            var parser = parsers[rowKey];\n            whereResult[rowKey] = parser ? parser(conditionValue) : conditionValue;\n          }\n        });\n\n        return whereResult;\n      }, {});\n    }\n\n    return query;\n  },\n  _getConcepts: function _getConcepts(columns, rows) {\n    var _this2 = this;\n\n    return columns.map(function (concept, index) {\n      var result = { concept: concept };\n\n      if (index < _this2.keySize) {\n        result.concept_type = \"entity_domain\";\n      } else if (index === _this2.keySize) {\n        // the column after is expected to have time\n        result.concept_type = \"time\";\n      } else {\n        result.concept_type = \"measure\";\n\n        for (var i = rows.length - 1; i > -1; --i) {\n          if (utils.isString(rows[i][concept]) && rows[i][concept] !== \"\") {\n            result.concept_type = \"entity_set\";\n\n            var _columns = _slicedToArray(columns, 1);\n\n            result.domain = _columns[0];\n\n            break;\n          }\n        }\n      }\n\n      return result;\n    });\n  },\n  _getData: function _getData(rows, query, parsers) {\n    var _query$order_by = query.order_by,\n        order_by = _query$order_by === undefined ? [] : _query$order_by;\n\n    var _order_by = _slicedToArray(order_by, 1),\n        orderBy = _order_by[0];\n\n    return this._mapRows(rows, query, parsers).reduce(this._applyQuery(query), []).sort(function (prev, next) {\n      return prev[orderBy] - next[orderBy];\n    });\n  },\n  _isDataQuery: function _isDataQuery(from) {\n    return [this.QUERY_FROM_DATAPOINTS, this.QUERY_FROM_ENTITIES].includes(from);\n  },\n  _mapRows: function _mapRows(rows, query, parsers) {\n    return rows.map(this._getRowMapper(query, parsers));\n  },\n  _getRowMapper: function _getRowMapper(query, parsers) {\n    var _this3 = this;\n\n    return function (row) {\n      var correct = true;\n\n      var result = Object.keys(row).reduce(function (result, key) {\n        if (correct) {\n          var defaultValue = row[key];\n          var defaultValueString = String(defaultValue).trim();\n\n          var parser = parsers[key];\n          var resultValue = !utils.isString(defaultValue) ? defaultValue : parser ? parser(defaultValueString) : _this3._parse(defaultValueString);\n\n          if (!resultValue && resultValue !== 0) {\n            if (query.select.key.includes(key)) {\n              correct = false;\n            }\n          } else {\n            result[key] = resultValue;\n          }\n        }\n\n        return result;\n      }, {});\n\n      return correct && result;\n    };\n  },\n  _parse: function _parse(value) {\n    return value;\n  },\n  _applyQuery: function _applyQuery(query) {\n    var _this4 = this;\n\n    var select = query.select,\n        from = query.from;\n\n    var _select$key = _slicedToArray(select.key, 1),\n        uniqueKey = _select$key[0];\n\n    var uniqueValues = [];\n\n    return function (result, row) {\n\n      if (row) {\n        var unique = row[uniqueKey];\n        var isUnique = from !== _this4.QUERY_FROM_ENTITIES || !uniqueValues.includes(unique);\n        var isSuitable = _this4._isSuitableRow(query, row);\n\n        if (isSuitable && isUnique) {\n          if (from === _this4.QUERY_FROM_ENTITIES) {\n            uniqueValues.push(unique);\n          }\n\n          var rowFilteredByKeys = Object.keys(row).reduce(function (resultRow, rowKey) {\n            if (select.key.includes(rowKey) || select.value.includes(rowKey)) {\n              resultRow[rowKey] = row[rowKey];\n            }\n\n            return resultRow;\n          }, {});\n\n          result.push(rowFilteredByKeys);\n        }\n      }\n\n      return result;\n    };\n  },\n  _isSuitableRow: function _isSuitableRow(query, row) {\n    var _this5 = this;\n\n    var where = query.where;\n\n\n    return !where.$and || Object.keys(where.$and).every(function (conditionKey) {\n      var condition = where.$and[conditionKey];\n      var rowValue = row[conditionKey];\n\n      // if the column is missing, then don't apply filter\n      return typeof rowValue === \"undefined\" || ((typeof condition === \"undefined\" ? \"undefined\" : _typeof(condition)) !== \"object\" ? rowValue === condition\n      // resolve booleans via strings\n      || condition === true && utils.isString(rowValue) && rowValue.toLowerCase().trim() === \"true\" || condition === false && utils.isString(rowValue) && rowValue.toLowerCase().trim() === \"false\" : Object.keys(condition).every(function (callbackKey) {\n        return _this5.CONDITION_CALLBACKS[callbackKey](condition[callbackKey], rowValue);\n      }));\n    });\n  },\n  error: function error(code, message, payload) {\n    return {\n      code: code,\n      message: message,\n      payload: payload\n    };\n  }\n});\n\nexports.default = Reader;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6)\n  , document = __webpack_require__(4).document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global         = __webpack_require__(4)\n  , core           = __webpack_require__(29)\n  , LIBRARY        = __webpack_require__(39)\n  , wksExt         = __webpack_require__(106)\n  , defineProperty = __webpack_require__(9).f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(60)('keys')\n  , uid    = __webpack_require__(38);\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(22);\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(4).document && document.documentElement;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(6)\n  , anObject = __webpack_require__(2);\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = __webpack_require__(30)(Function.call, __webpack_require__(19).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject       = __webpack_require__(6)\n  , setPrototypeOf = __webpack_require__(79).set;\nmodule.exports = function(that, target, C){\n  var P, S = target.constructor;\n  if(S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf){\n    setPrototypeOf(that, P);\n  } return that;\n};\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toInteger = __webpack_require__(36)\n  , defined   = __webpack_require__(23);\n\nmodule.exports = function repeat(count){\n  var str = String(defined(this))\n    , res = ''\n    , n   = toInteger(count);\n  if(n < 0 || n == Infinity)throw RangeError(\"Count can't be negative\");\n  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\n  return res;\n};\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\n// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x){\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\n// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x){\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(36)\n  , defined   = __webpack_require__(23);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY        = __webpack_require__(39)\n  , $export        = __webpack_require__(0)\n  , redefine       = __webpack_require__(15)\n  , hide           = __webpack_require__(14)\n  , has            = __webpack_require__(13)\n  , Iterators      = __webpack_require__(51)\n  , $iterCreate    = __webpack_require__(87)\n  , setToStringTag = __webpack_require__(49)\n  , getPrototypeOf = __webpack_require__(20)\n  , ITERATOR       = __webpack_require__(7)('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar create         = __webpack_require__(42)\n  , descriptor     = __webpack_require__(34)\n  , setToStringTag = __webpack_require__(49)\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(14)(IteratorPrototype, __webpack_require__(7)('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = __webpack_require__(64)\n  , defined  = __webpack_require__(23);\n\nmodule.exports = function(that, searchString, NAME){\n  if(isRegExp(searchString))throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar MATCH = __webpack_require__(7)('match');\nmodule.exports = function(KEY){\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch(e){\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch(f){ /* empty */ }\n  } return true;\n};\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// check on default Array iterator\nvar Iterators  = __webpack_require__(51)\n  , ITERATOR   = __webpack_require__(7)('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $defineProperty = __webpack_require__(9)\n  , createDesc      = __webpack_require__(34);\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof   = __webpack_require__(59)\n  , ITERATOR  = __webpack_require__(7)('iterator')\n  , Iterators = __webpack_require__(51);\nmodule.exports = __webpack_require__(29).getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n\nvar toObject = __webpack_require__(12)\n  , toIndex  = __webpack_require__(41)\n  , toLength = __webpack_require__(11);\nmodule.exports = function fill(value /*, start = 0, end = @length */){\n  var O      = toObject(this)\n    , length = toLength(O.length)\n    , aLen   = arguments.length\n    , index  = toIndex(aLen > 1 ? arguments[1] : undefined, length)\n    , end    = aLen > 2 ? arguments[2] : undefined\n    , endPos = end === undefined ? length : toIndex(end, length);\n  while(endPos > index)O[index++] = value;\n  return O;\n};\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar addToUnscopables = __webpack_require__(52)\n  , step             = __webpack_require__(121)\n  , Iterators        = __webpack_require__(51)\n  , toIObject        = __webpack_require__(17);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(86)(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = __webpack_require__(2)\n  , aFunction = __webpack_require__(16)\n  , SPECIES   = __webpack_require__(7)('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx                = __webpack_require__(30)\n  , invoke             = __webpack_require__(63)\n  , html               = __webpack_require__(78)\n  , cel                = __webpack_require__(73)\n  , global             = __webpack_require__(4)\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(__webpack_require__(22)(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global    = __webpack_require__(4)\n  , macrotask = __webpack_require__(96).set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = __webpack_require__(22)(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global         = __webpack_require__(4)\n  , DESCRIPTORS    = __webpack_require__(8)\n  , LIBRARY        = __webpack_require__(39)\n  , $typed         = __webpack_require__(69)\n  , hide           = __webpack_require__(14)\n  , redefineAll    = __webpack_require__(46)\n  , fails          = __webpack_require__(5)\n  , anInstance     = __webpack_require__(45)\n  , toInteger      = __webpack_require__(36)\n  , toLength       = __webpack_require__(11)\n  , gOPN           = __webpack_require__(43).f\n  , dP             = __webpack_require__(9).f\n  , arrayFill      = __webpack_require__(93)\n  , setToStringTag = __webpack_require__(49)\n  , ARRAY_BUFFER   = 'ArrayBuffer'\n  , DATA_VIEW      = 'DataView'\n  , PROTOTYPE      = 'prototype'\n  , WRONG_LENGTH   = 'Wrong length!'\n  , WRONG_INDEX    = 'Wrong index!'\n  , $ArrayBuffer   = global[ARRAY_BUFFER]\n  , $DataView      = global[DATA_VIEW]\n  , Math           = global.Math\n  , RangeError     = global.RangeError\n  , Infinity       = global.Infinity\n  , BaseBuffer     = $ArrayBuffer\n  , abs            = Math.abs\n  , pow            = Math.pow\n  , floor          = Math.floor\n  , log            = Math.log\n  , LN2            = Math.LN2\n  , BUFFER         = 'buffer'\n  , BYTE_LENGTH    = 'byteLength'\n  , BYTE_OFFSET    = 'byteOffset'\n  , $BUFFER        = DESCRIPTORS ? '_b' : BUFFER\n  , $LENGTH        = DESCRIPTORS ? '_l' : BYTE_LENGTH\n  , $OFFSET        = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nvar packIEEE754 = function(value, mLen, nBytes){\n  var buffer = Array(nBytes)\n    , eLen   = nBytes * 8 - mLen - 1\n    , eMax   = (1 << eLen) - 1\n    , eBias  = eMax >> 1\n    , rt     = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0\n    , i      = 0\n    , s      = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0\n    , e, m, c;\n  value = abs(value)\n  if(value != value || value === Infinity){\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if(value * (c = pow(2, -e)) < 1){\n      e--;\n      c *= 2;\n    }\n    if(e + eBias >= 1){\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if(value * c >= 2){\n      e++;\n      c /= 2;\n    }\n    if(e + eBias >= eMax){\n      m = 0;\n      e = eMax;\n    } else if(e + eBias >= 1){\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for(; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for(; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n};\nvar unpackIEEE754 = function(buffer, mLen, nBytes){\n  var eLen  = nBytes * 8 - mLen - 1\n    , eMax  = (1 << eLen) - 1\n    , eBias = eMax >> 1\n    , nBits = eLen - 7\n    , i     = nBytes - 1\n    , s     = buffer[i--]\n    , e     = s & 127\n    , m;\n  s >>= 7;\n  for(; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for(; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if(e === 0){\n    e = 1 - eBias;\n  } else if(e === eMax){\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n};\n\nvar unpackI32 = function(bytes){\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n};\nvar packI8 = function(it){\n  return [it & 0xff];\n};\nvar packI16 = function(it){\n  return [it & 0xff, it >> 8 & 0xff];\n};\nvar packI32 = function(it){\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n};\nvar packF64 = function(it){\n  return packIEEE754(it, 52, 8);\n};\nvar packF32 = function(it){\n  return packIEEE754(it, 23, 4);\n};\n\nvar addGetter = function(C, key, internal){\n  dP(C[PROTOTYPE], key, {get: function(){ return this[internal]; }});\n};\n\nvar get = function(view, bytes, index, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n};\nvar set = function(view, bytes, index, conversion, value, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = conversion(+value);\n  for(var i = 0; i < bytes; i++)store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n};\n\nvar validateArrayBufferArguments = function(that, length){\n  anInstance(that, $ArrayBuffer, ARRAY_BUFFER);\n  var numberLength = +length\n    , byteLength   = toLength(numberLength);\n  if(numberLength != byteLength)throw RangeError(WRONG_LENGTH);\n  return byteLength;\n};\n\nif(!$typed.ABV){\n  $ArrayBuffer = function ArrayBuffer(length){\n    var byteLength = validateArrayBufferArguments(this, length);\n    this._b       = arrayFill.call(Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength){\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH]\n      , offset       = toInteger(byteOffset);\n    if(offset < 0 || offset > bufferLength)throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if(offset + byteLength > bufferLength)throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if(DESCRIPTORS){\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset){\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset){\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /*, littleEndian */){\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if(!fails(function(){\n    new $ArrayBuffer;     // eslint-disable-line no-new\n  }) || !fails(function(){\n    new $ArrayBuffer(.5); // eslint-disable-line no-new\n  })){\n    $ArrayBuffer = function ArrayBuffer(length){\n      return new BaseBuffer(validateArrayBufferArguments(this, length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for(var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j; ){\n      if(!((key = keys[j++]) in $ArrayBuffer))hide($ArrayBuffer, key, BaseBuffer[key]);\n    };\n    if(!LIBRARY)ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2))\n    , $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if(view.getInt8(0) || !view.getInt8(1))redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getDepth = function getDepth(key) {\n  return key.match(/\\//g).length;\n};\n\nvar requireAll = function requireAll(_require, depth) {\n  var keys = _require.keys();\n\n  if (depth) {\n    keys = keys.filter(typeof depth === \"function\" ? function (key) {\n      return depth(getDepth(key));\n    } : function (key) {\n      return getDepth(key) === depth + 1;\n    });\n  }\n\n  return keys.reduce(function (result, key) {\n    var name = /([^/]+)\\..+$/.exec(key)[1];\n\n    try {\n      var required = _require(key);\n      result[name] = required.default || required;\n    } catch (err) {\n      console.warn(\"Import error\", key, err);\n    }\n\n    return result;\n  }, {});\n};\n\nexports.default = requireAll;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI Axis Model (hook)\n */\n\nvar AxisModel = _hook2.default.extend({\n\n  //some hooks can be important. like axis x and y\n  //that means, if X or Y doesn't have data at some point, we can't show markers\n  _important: true,\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null,\n      domainMin: null,\n      domainMax: null,\n      zoomedMin: null,\n      zoomedMax: null,\n      scaleType: \"linear\",\n      allow: {\n        scales: [\"linear\", \"log\", \"genericLog\", \"time\", \"pow\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n  autoGenerateModel: function autoGenerateModel() {\n    if (this.which == null && this.autogenerate) {\n\n      var concept = this.dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n      if (!concept) {\n        concept = this.dataSource.getConceptByIndex(0, \"time\");\n      }\n\n      this.which = concept.concept;\n    }\n  },\n\n\n  _type: \"axis\",\n\n  /**\n   * Validates a color hook\n   */\n  validate: function validate() {\n    this._super();\n\n    //restore the correct object type for time values\n    if (this.scale && this.scaleType == \"time\") {\n      var obj = {};\n      if (this.zoomedMin != null && !utils.isDate(this.zoomedMin)) obj.zoomedMin = this._space.time.parse(this.zoomedMin.toString());\n      if (this.zoomedMax != null && !utils.isDate(this.zoomedMax)) obj.zoomedMax = this._space.time.parse(this.zoomedMax.toString());\n      this.set(obj);\n    }\n  },\n\n\n  /**\n   * Gets the domain for this hook\n   * @returns {Array} domain\n   */\n  buildScale: function buildScale() {\n    var scaleType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.scaleType;\n\n    var domain = void 0;\n\n    if (scaleType == \"time\") {\n\n      var timeMdl = this._space.time;\n      var limits = timeMdl.splash ? { min: timeMdl.parse(timeMdl.startOrigin), max: timeMdl.parse(timeMdl.endOrigin) } : { min: timeMdl.start, max: timeMdl.end };\n\n      domain = [limits.min, limits.max];\n      this.scale = d3.scaleUtc().domain(domain);\n    } else {\n\n      if (!this.isDiscrete()) {\n        var _limits = this.getLimits(this.which);\n        //default domain is based on limits\n        domain = [_limits.min, _limits.max];\n        //min and max can override the domain if defined\n        domain[0] = this.domainMin != null ? +this.domainMin : domain[0];\n        domain[1] = this.domainMax != null ? +this.domainMax : domain[1];\n      } else {\n        domain = this.use === \"constant\" ? [this.which] : this.getUnique(this.which);\n      }\n\n      scaleType = d3.min(domain) <= 0 && d3.max(domain) >= 0 && scaleType === \"log\" ? \"genericLog\" : scaleType;\n\n      var _scaleType = (scaleType === \"ordinal\" ? \"point\" : scaleType) || \"linear\";\n      this.scale = d3[\"scale\" + utils.capitalize(_scaleType)]().domain(domain);\n    }\n\n    this.scaleType = scaleType;\n  },\n\n\n  /**\n   * Formats date according to time in this hook's space\n   * @param {Date} date object to format\n   * @returns {String} formatted date\n   */\n  formatDate: function formatDate(dateObject) {\n    // improvement would be to check concept type of each space-dimension if it's time.\n    // Below code works as long we have one time model: time.\n    return this._space.time.formatDate(dateObject);\n  },\n  _getZoomed: function _getZoomed(type) {\n    var zoomed = this[\"zoomed\" + type];\n    return zoomed !== null ? zoomed : d3[type.toLowerCase()](this.getScale().domain());\n  },\n  getZoomedMin: function getZoomedMin() {\n    return this._getZoomed(\"Min\");\n  },\n  getZoomedMax: function getZoomedMax() {\n    return this._getZoomed(\"Max\");\n  }\n});\n\nexports.default = AxisModel;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nvar _reader = __webpack_require__(71);\n\nvar _reader2 = _interopRequireDefault(_reader);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _datastorage = __webpack_require__(362);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * VIZABI Data Model (model.data)\n */\n\nvar DataModel = _model2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      reader: \"csv\"\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  trackInstances: true,\n\n  /**\n   * Initializes the data model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"data\";\n\n    this.queryQueue = {};\n    this._collection = {};\n    this._collectionPromises = {}; // stores promises, making sure we don't do one calulation twice\n\n    //same constructor as parent, with same arguments\n    this._super(name, values, parent, bind);\n\n    this.readerObject = this.getReader();\n  },\n\n\n  /**\n   * Loads concept properties when all other models are also starting to load data\n   * @return {Promise} Promise which resolves when concepts are loaded\n   */\n  preloadData: function preloadData() {\n    return this.loadConceptProps();\n  },\n\n\n  /**\n   * Loads resource from reader or cache\n   * @param {Array} query Array with queries to be loaded\n   * @param {Object} parsers An object with concepts as key and parsers as value\n   * @param {*} evts ?\n   */\n  load: function load(query) {\n    var _this = this;\n\n    var parsers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // add waffle server specific query clauses if set\n    if (this.dataset) query.dataset = this.dataset;\n    if (this.version) query.version = this.version;\n    var dataId = _datastorage.DataStorage.getDataId(query, this.readerObject);\n    if (dataId) {\n      return Promise.resolve(dataId);\n    }\n    utils.timeStamp(\"Vizabi Data: Loading Data\");\n    _events2.default.freezeAll([\"hook_change\", \"resize\"]);\n\n    return _datastorage.DataStorage.loadFromReader(query, parsers, this.readerObject).then(function (dataId) {\n      _events2.default.unfreezeAll();\n      return dataId;\n    }).catch(function (error) {\n      return _this.handleLoadError(error, query);\n    });\n  },\n  getAsset: function getAsset(assetName, callback) {\n    var _this2 = this;\n\n    return this.readerObject.getAsset(assetName).then(function (response) {\n      return callback(response);\n    }).catch(function (error) {\n      return _this2.handleLoadError(error, assetName);\n    });\n  },\n  getReader: function getReader() {\n    // Create a new reader for this query\n    var readerClass = _reader2.default.get(this.reader);\n    if (!readerClass) {\n      throw new Error(\"Unknown reader: \" + this.reader);\n    }\n\n    return new readerClass(this.getPlainObject());\n  },\n\n\n  /**\n   * get data\n   */\n  getData: function getData(dataId, what, whatId, args) {\n    // if not specified data from what query, return nothing\n    if (!dataId) return utils.warn(\"Data.js 'get' method doesn't like the dataId you gave it: \" + dataId);\n    return _datastorage.DataStorage.getData(dataId, what, whatId, args);\n  },\n  loadConceptProps: function loadConceptProps() {\n    var _this3 = this;\n\n    var query = {\n      select: {\n        key: [\"concept\"],\n        value: [\"concept_type\", \"domain\", \"indicator_url\", \"color\", \"scales\", \"interpolation\", \"tags\", \"name\", \"unit\", \"description\", \"format\"]\n      },\n      from: \"concepts\",\n      where: {},\n      language: this.getClosestModel(\"locale\").id\n    };\n\n    return this.load(query).then(this.handleConceptPropsResponse.bind(this)).catch(function (error) {\n      return _this3.handleLoadError(error, query);\n    });\n  },\n  handleConceptPropsResponse: function handleConceptPropsResponse(dataId) {\n    var _this4 = this;\n\n    this.conceptDictionary = { _default: { concept_type: \"string\", use: \"constant\", scales: [\"ordinal\"], tags: \"_root\" } };\n    this.conceptArray = [];\n\n    this.getData(dataId).forEach(function (d) {\n      var concept = {};\n\n      if (d.concept_type) concept[\"use\"] = d.concept_type == \"measure\" || d.concept_type == \"time\" ? \"indicator\" : \"property\";\n\n      concept[\"concept_type\"] = d.concept_type;\n      concept[\"sourceLink\"] = d.indicator_url;\n      try {\n        concept[\"color\"] = d.color && d.color !== \"\" ? JSON.parse(d.color) : null;\n      } catch (e) {\n        concept[\"color\"] = null;\n      }\n      try {\n        concept[\"scales\"] = d.scales ? JSON.parse(d.scales) : null;\n      } catch (e) {\n        concept[\"scales\"] = null;\n      }\n      if (!concept.scales) {\n        switch (d.concept_type) {\n          case \"measure\":\n            concept.scales = [\"linear\", \"log\"];break;\n          case \"string\":\n            concept.scales = [\"nominal\"];break;\n          case \"entity_domain\":\n            concept.scales = [\"ordinal\"];break;\n          case \"entity_set\":\n            concept.scales = [\"ordinal\"];break;\n          case \"time\":\n            concept.scales = [\"time\"];break;\n        }\n      }\n      if (concept[\"scales\"] == null) concept[\"scales\"] = [\"linear\", \"log\"];\n      if (d.interpolation) {\n        concept[\"interpolation\"] = d.interpolation;\n      } else if (d.concept_type == \"measure\") {\n        concept[\"interpolation\"] = concept.scales && concept.scales[0] == \"log\" ? \"exp\" : \"linear\";\n      } else if (d.concept_type == \"time\") {\n        concept[\"interpolation\"] = \"linear\";\n      } else {\n        concept[\"interpolation\"] = \"stepMiddle\";\n      }\n      concept[\"concept\"] = d.concept;\n      concept[\"domain\"] = d.domain;\n      concept[\"tags\"] = d.tags;\n      concept[\"format\"] = d.format;\n      concept[\"name\"] = d.name || d.concept || \"\";\n      concept[\"unit\"] = d.unit || \"\";\n      concept[\"description\"] = d.description;\n      _this4.conceptDictionary[d.concept] = concept;\n      _this4.conceptArray.push(concept);\n    });\n  },\n  getConceptprops: function getConceptprops(which) {\n    return which ? utils.getProp(this, [\"conceptDictionary\", which]) || utils.warn(\"The concept \" + which + \" is not found in the dictionary\") : this.conceptDictionary;\n  },\n  getConceptByIndex: function getConceptByIndex(index, type) {\n    //if(!concept && type == \"measure\") concept = this.conceptArray.filter(f => f.concept_type===\"time\")[0];\n    return this.conceptArray.filter(function (f) {\n      return !type || !f.concept_type || f.concept_type === type;\n    })[index];\n  },\n  getDatasetName: function getDatasetName() {\n    if (this.readerObject.getDatasetInfo) {\n      var meta = this.readerObject.getDatasetInfo();\n      return meta.name + (meta.version ? \" \" + meta.version : \"\");\n    }\n    return this._name;\n  },\n  setGrouping: function setGrouping(dataId, grouping) {\n    _datastorage.DataStorage.setGrouping(dataId, grouping);\n  },\n  getFrames: function getFrames(dataId, framesArray, keys) {\n    return _datastorage.DataStorage.getFrames(dataId, framesArray, keys, this.getConceptprops());\n  },\n  getFrame: function getFrame(dataId, framesArray, neededFrame, keys) {\n    //can only be called after getFrames()\n    return _datastorage.DataStorage.getFrame(dataId, framesArray, neededFrame, keys);\n  },\n  listenFrame: function listenFrame(dataId, framesArray, keys, cb) {\n    _datastorage.DataStorage.listenFrame(dataId, framesArray, keys, cb);\n  },\n  handleLoadError: function handleLoadError(error, query) {\n    if (utils.isObject(error)) {\n      var locale = this.getClosestModel(\"locale\");\n      var translation = locale.getTFunction()(error.code, error.payload) || \"\";\n      error = (translation + \" \" + (error.message || \"\")).trim();\n    }\n\n    utils.warn(\"Problem with query: \", query);\n    this._super(error);\n  }\n});\n\nexports.default = DataModel;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  build: 1503526276063,\n  version: \"0.25.1-1\"\n};\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI BUBBLE SIZE slider\n * Reusable bubble size slider\n */\n\nvar OPTIONS = {\n  EXTENT_MIN: 0,\n  EXTENT_MAX: 1,\n  TEXT_PARAMS: { TOP: 11, LEFT: 10, MAX_WIDTH: 42, MAX_HEIGHT: 16 },\n  BAR_WIDTH: 6,\n  THUMB_RADIUS: 10,\n  THUMB_STROKE_WIDTH: 4,\n  INTRO_DURATION: 250\n};\n\nvar profiles = {\n  \"small\": {\n    minRadiusPx: 0.5,\n    maxRadiusEm: 0.05\n  },\n  \"medium\": {\n    minRadiusPx: 1,\n    maxRadiusEm: 0.05\n  },\n  \"large\": {\n    minRadiusPx: 1,\n    maxRadiusEm: 0.05\n  }\n};\n\nvar BubbleSize = _component2.default.extend({\n\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init: function init(config, context) {\n\n    this.name = \"bubblesize\";\n\n    this.template = this.template || __webpack_require__(368);\n\n    this.model_expects = [{\n      name: \"size\",\n      type: \"size\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    var _this = this;\n    this.model_binds = {\n      \"change:size.domainMin\": changeMinMaxHandler,\n      \"change:size.domainMax\": changeMinMaxHandler,\n      \"change:size.extent\": changeMinMaxHandler,\n      \"ready\": readyHandler\n    };\n\n    function changeMinMaxHandler(evt, path) {\n      var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._updateLabels(extent);\n      _this._moveBrush(extent);\n    }\n\n    function readyHandler(evt) {\n      _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n      _this._setLabelsText();\n    }\n\n    this._setModel = utils.throttle(this._setModel, 50);\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available as a d3 object\n   */\n  readyOnce: function readyOnce() {\n    var _this = this;\n    var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    this.showArcs = _this.model.size.showArcs !== false;\n\n    this.element = d3.select(this.element);\n    this.sliderSvg = this.element.select(\".vzb-bs-svg\");\n    this.sliderWrap = this.sliderSvg.select(\".vzb-bs-slider-wrap\");\n    this.sliderEl = this.sliderWrap.select(\".vzb-bs-slider\");\n\n    var textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n    var textMaxWidth = OPTIONS.TEXT_PARAMS.MAX_WIDTH;\n    var textMaxHeight = OPTIONS.TEXT_PARAMS.MAX_HEIGHT;\n    var barWidth = OPTIONS.BAR_WIDTH;\n    var thumbRadius = OPTIONS.THUMB_RADIUS;\n    var thumbStrokeWidth = OPTIONS.THUMB_STROKE_WIDTH;\n\n    this.padding = {\n      top: thumbStrokeWidth,\n      left: textMargin.h + textMaxWidth,\n      right: textMargin.h + textMaxWidth,\n      bottom: barWidth + textMaxHeight\n    };\n\n    var minMaxBubbleRadius = this.getMinMaxBubbleRadius();\n\n    this.xScale = d3.scaleLinear().domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX]).range([minMaxBubbleRadius.min * 2, minMaxBubbleRadius.max * 2]).clamp(true);\n\n    this.brush = d3.brushX().extent([[0, 0], [minMaxBubbleRadius.max * 2, barWidth]]).handleSize(thumbRadius * 2 + barWidth * 2).on(\"start\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n        var brushDatum = _this.sliderEl.node().__brush;\n        brushDatum.selection[1][0] += 0.01;\n      }\n      _this._setFromExtent(false, false, false);\n    }).on(\"brush\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n        var brushDatum = _this.sliderEl.node().__brush;\n        brushDatum.selection[1][0] += 0.01;\n      }\n      _this._setFromExtent(true, false, false); // non persistent change\n    }).on(\"end\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      _this._setFromExtent(true, true); // force a persistent change\n    });\n\n    this.sliderThumbs = this.sliderEl.selectAll(\".handle\").data([{ type: \"w\" }, { type: \"e\" }], function (d) {\n      return d.type;\n    }).enter().append(\"svg\").attr(\"class\", function (d) {\n      return \"handle handle--\" + d.type;\n    }).classed(\"vzb-bs-slider-thumb\", true);\n\n    this.sliderThumbs.append(\"g\").attr(\"class\", \"vzb-bs-slider-thumb-badge\").append(\"path\").attr(\"d\", \"M\" + (thumbRadius + barWidth) + \" \" + (thumbRadius + barWidth * 1.5) + \"l\" + -thumbRadius + \" \" + thumbRadius * 1.5 + \"h\" + thumbRadius * 2 + \"Z\");\n\n    this.sliderEl.call(_this.brush);\n\n    //For return to round thumbs\n    //var thumbArc = d3.arc()\n    //  .outerRadius(thumbRadius)\n    //  .startAngle(0)\n    //  .endAngle(2 * Math.PI)\n\n    //For return to circles\n    //.attr(\"d\", \"M0 0 l\" + (thumbRadius * 2) + \" \" + (-thumbRadius) + \"v\" + (thumbRadius * 2) + \"Z\")\n\n    //For return to round thumbs\n    //.attr(\"d\", thumbArc)\n\n    if (_this.showArcs) {\n      this.sliderEl.selectAll(\".vzb-bs-slider-thumb-arc\").data([0, 0]).enter().append(\"path\").attr(\"class\", \"vzb-bs-slider-thumb-arc\");\n    }\n\n    this.sliderArcsEl = this.sliderEl.selectAll(\".vzb-bs-slider-thumb-arc\");\n\n    this.sliderLabelsWrapperEl = this.sliderEl.append(\"g\");\n    this.sliderLabelsWrapperEl.selectAll(\"text\").data([0, 0]).enter().append(\"text\").attr(\"class\", \"vzb-bs-slider-thumb-label\").attr(\"text-anchor\", function (d, i) {\n      return i ? \"start\" : \"end\";\n    }).attr(\"dy\", function (d, i) {\n      return i ? \"-0.7em\" : \"1.4em\";\n    });\n\n    this.sliderLabelsEl = this.sliderEl.selectAll(\"text.vzb-bs-slider-thumb-label\");\n\n    this.sliderEl.selectAll(\".selection,.overlay\").attr(\"height\", barWidth).attr(\"rx\", barWidth * 0.25).attr(\"ry\", barWidth * 0.25).attr(\"transform\", \"translate(0,\" + -barWidth * 0.5 + \")\");\n\n    //For return to circles\n    // var circleLabelTransform = function(d, i) {\n    //    var dX = i ? textMargin.h + _this.xScale(d) : -textMargin.h,\n    //        dY = -textMargin.v;\n    //    return \"translate(\" + (dX) + \",\" + (dY) + \")\";\n    // }\n\n    this.on(\"resize\", function () {\n      //console.log(\"EVENT: resize\");\n      var minMaxBubbleRadius = _this.getMinMaxBubbleRadius();\n      _this.xScale.range([minMaxBubbleRadius.min * 2, minMaxBubbleRadius.max * 2]);\n      _this._updateSize();\n      _this.sliderEl.call(_this.brush.extent([[0, 0], [minMaxBubbleRadius.max * 2, barWidth]]));\n      var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._moveBrush(extent);\n    });\n\n    this._moveBrush(extent);\n\n    this.sizeScaleMinMax = this.model.size.getScale().domain();\n\n    if (this.sizeScaleMinMax) {\n      this._setLabelsText();\n    }\n  },\n  ready: function ready() {\n    this.isRTL = this.model.locale.isRTL();\n    this._updateSize();\n    this._updateLabels();\n  },\n  getMinMaxBubbleRadius: function getMinMaxBubbleRadius() {\n    var containerWH = this.root.getVizWidthHeight();\n    var minWH = utils.hypotenuse(containerWH.width, containerWH.height);\n\n    var min = profiles[this.getLayoutProfile()].minRadiusPx;\n    var max = profiles[this.getLayoutProfile()].maxRadiusEm * minWH;\n    if (min > max) max = min;\n\n    return { min: min, max: max };\n  },\n  _moveBrush: function _moveBrush(s) {\n    var _s = s.map(this.xScale);\n    this.nonBrushChange = true;\n    this.sliderEl.call(this.brush.move, [_s[0], _s[1] + 0.01]);\n    this.nonBrushChange = false;\n    this._setFromExtent(false, false, false);\n  },\n\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   */\n  _updateSize: function _updateSize() {\n    var maxBubbleRadius = this.showArcs ? this.getMinMaxBubbleRadius().max : OPTIONS.TEXT_PARAMS.TOP * 2;\n    var isRTL = this.model.locale.isRTL();\n    var svgWidth = this.getMinMaxBubbleRadius().max * 2 + this.padding.left + this.padding.right;\n\n    this.sliderSvg.attr(\"height\", maxBubbleRadius + this.padding.top + this.padding.bottom).attr(\"width\", svgWidth);\n    this.sliderWrap.attr(\"transform\", isRTL ? \"translate(\" + (svgWidth - this.padding.right) + \",\" + (maxBubbleRadius + this.padding.top) + \") scale(-1,1)\" : \"translate(\" + this.padding.left + \",\" + (maxBubbleRadius + this.padding.top) + \")\");\n    this.sliderLabelsWrapperEl.attr(\"transform\", isRTL ? \"scale(-1,1)\" : null);\n    this.sliderLabelsEl.attr(\"text-anchor\", function (d, i) {\n      return (isRTL ? !i : i) ? \"start\" : \"end\";\n    });\n  },\n  _updateArcs: function _updateArcs(s) {\n    if (!this.showArcs) return;\n    var _this = this;\n    var valueArc = d3.arc().outerRadius(function (d) {\n      return _this.xScale(d) * 0.5;\n    }).innerRadius(function (d) {\n      return _this.xScale(d) * 0.5;\n    }).startAngle(-Math.PI * 0.5).endAngle(Math.PI * 0.5);\n    this.sliderArcsEl.data(s).attr(\"d\", valueArc).attr(\"transform\", function (d) {\n      return \"translate(\" + _this.xScale(d) * 0.5 + \",0)\";\n    });\n  },\n  _updateLabels: function _updateLabels(s) {\n    var _this = this;\n    if (s) {\n      this.sliderLabelsEl.data(s);\n    }\n    this.sliderLabelsEl.attr(\"transform\", function (d, i) {\n      var textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n      var dX = textMargin.h * (i ? 0.5 : -1.0) + _this.xScale(d);\n      var dY = 0;\n      return \"translate(\" + (_this.isRTL ? -1 : 1) * dX + \",\" + dY + \")\";\n    });\n  },\n  _setLabelsText: function _setLabelsText() {\n    var _this = this;\n    var texts = [_this.model.size.getTickFormatter()(_this.sizeScaleMinMax[0]), _this.model.size.getTickFormatter()(_this.sizeScaleMinMax[1])];\n    _this.sliderLabelsEl.text(function (d, i) {\n      return texts[i];\n    });\n  },\n\n\n  /**\n   * Prepares setting of the current model with the values from extent.\n   * @param {boolean} set model\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setFromExtent: function _setFromExtent(setModel, force, persistent) {\n    var s = d3.brushSelection(this.sliderEl.node());\n    if (!s) return;\n    s = [this.xScale.invert(s[0]), this.xScale.invert(+s[1].toFixed(1))];\n    this._updateArcs(s);\n    this._updateLabels(s);\n    if (setModel) this._setModel(s, force, persistent);\n  },\n\n\n  /**\n   * Sets the current value in model. avoid updating more than once in framerate\n   * @param {number} value\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setModel: function _setModel(value, force, persistent) {\n    value = [+value[0].toFixed(2), +value[1].toFixed(2)];\n    this.model.size.set({ \"extent\": value }, force, persistent);\n  }\n});\n\nexports.default = BubbleSize;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _d = __webpack_require__(150);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _d3 = __webpack_require__(151);\n\nvar _d4 = _interopRequireDefault(_d3);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI BUBBLE COLOR LEGEND COMPONENT\n */\n\nvar ColorLegend = _component2.default.extend({\n  init: function init(config, context) {\n    var _this = this;\n    this.template = '<div class=\"vzb-cl-outer\"></div>';\n    this.name = \"colorlegend\";\n\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"entities\",\n      type: \"entities\"\n    }, {\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"color\",\n      type: \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }];\n\n    this.model_binds = {\n      \"change:color.scaleType\": function changeColorScaleType(evt, path) {\n        if (!_this._readyOnce || _this.colorModel.isDiscrete()) return;\n        _this.updateView();\n      },\n      \"change:color.palette\": function changeColorPalette(evt, path) {\n        if (!_this._readyOnce || _this.colorModel.isDiscrete() && !_this.frame) return;\n        _this.updateView();\n      },\n      \"change:marker.highlight\": function changeMarkerHighlight(evt, values) {\n        if (!_this.colorModel.isDiscrete()) return;\n\n        _this.model.marker.getFrame(_this.model.time.value, function (frame) {\n          if (frame) {\n            var _hlEntities = _this.model.marker.getHighlighted(_this.KEY);\n            _this.updateGroupsOpacity(_hlEntities.map(function (d) {\n              return frame[_this.colorModel._name][d];\n            }));\n          } else {\n            _this.updateGroupsOpacity();\n          }\n        });\n      },\n      \"translate:locale\": function translateLocale() {\n        _this.colorPicker.translate(_this.model.locale.getTFunction());\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n    this.element = d3.select(this.element);\n\n    //make color in options scrollable\n    d3.select(this.placeholder.parentNode).classed(\"vzb-dialog-scrollable\", true);\n\n    this.colorModel = this.model.color;\n    this.colorlegendMarker = this.colorModel.getColorlegendMarker();\n    if (this.colorlegendMarker) {\n      this.colorlegendMarker.on(\"ready\", function () {\n        _this.ready();\n      });\n    }\n    this.listColorsEl = this.element.append(\"div\").attr(\"class\", \"vzb-cl-holder\").append(\"div\").attr(\"class\", \"vzb-cl-colorlist\");\n\n    this.rainbowEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-rainbow\");\n    this.rainbowCanvasEl = this.rainbowEl.append(\"canvas\");\n    this.minimapEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-minimap\");\n    this.rainbowLegendEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-rainbow-legend\");\n    this.rainbowLegendSVG = this.rainbowLegendEl.append(\"svg\");\n    this.rainbowLegendG = this.rainbowLegendSVG.append(\"g\");\n    this.rainbowLegend = null;\n\n    this.labelScaleEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-labelscale\");\n    this.labelScaleSVG = this.labelScaleEl.append(\"svg\");\n    this.labelScaleG = this.labelScaleSVG.append(\"g\");\n    this.unitDiv = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-unit\");\n    this.unitText = this.unitDiv.append(\"span\").attr(\"class\", \"vzb-cl-unit-text\");\n\n    this.minimapSVG = this.minimapEl.append(\"svg\");\n    this.minimapG = this.minimapSVG.append(\"g\");\n\n    this.colorPicker = new _d2.default(utils.isArray(this.root.element) ? this.root.element : d3.select(this.root.element));\n\n    this.colorPicker.translate(this.model.locale.getTFunction());\n    this._initSelectDialog();\n  },\n  _initSelectDialog: function _initSelectDialog() {\n    var t = this.model.locale.getTFunction();\n\n    this.moreOptionsHint = this.listColorsEl.append(\"span\").classed(\"vzb-cl-more-hint vzb-hidden\", true).text(t(\"hints/color/more\"));\n\n    this.selectDialog = this.listColorsEl.append(\"div\").classed(\"vzb-cl-select-dialog vzb-hidden\", true);\n    this._initSelectDialogItems();\n  },\n  _initSelectDialogItems: function _initSelectDialogItems() {\n    var _this2 = this;\n\n    var t = this.model.locale.getTFunction();\n\n    this.selectDialogTitle = this.selectDialog.append(\"div\").classed(\"vzb-cl-select-dialog-title\", true);\n\n    this.selectDialog.append(\"div\").classed(\"vzb-cl-select-dialog-close\", true).html(_iconset.close).on(\"click\", function () {\n      return _this2._closeSelectDialog();\n    });\n\n    this.selectAllButton = this.selectDialog.append(\"div\").classed(\"vzb-cl-select-dialog-item\", true).text(\"✅ \" + t(\"dialogs/color/select-all\"));\n\n    this.removeElseButton = this.selectDialog.append(\"div\").classed(\"vzb-cl-select-dialog-item\", true).text(\"🗑️ \" + t(\"dialogs/color/remove-else\"));\n\n    this.editColorButton = this.selectDialog.append(\"div\").classed(\"vzb-cl-select-dialog-item vzb-cl-select-dialog-item-moreoptions\", true).text(\"🎨 \" + t(\"dialogs/color/edit-color\"));\n\n    this.editColorButtonTooltip = this.editColorButton.append(\"div\").classed(\"vzb-cl-select-dialog-item-tooltip\", true).text(\"Dataset author doesn't want you to change this\");\n  },\n  _closeSelectDialog: function _closeSelectDialog() {\n    this.selectDialog.classed(\"vzb-hidden\", true);\n  },\n  _bindSelectDialogItems: function _bindSelectDialogItems() {\n    var _this3 = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var index = args[1],\n        indicators = args[2];\n\n    this.selectDialogTitle.text(indicators[index].textContent);\n\n    this.selectAllButton.on(\"click\", function () {\n      var _interact;\n\n      (_interact = _this3._interact()).clickToSelect.apply(_interact, args);\n      _this3._closeSelectDialog();\n    });\n\n    this.removeElseButton.on(\"click\", function () {\n      var _interact2;\n\n      (_interact2 = _this3._interact()).clickToShow.apply(_interact2, args);\n      _this3._closeSelectDialog();\n    });\n\n    this.editColorButton.on(\"click\", function () {\n      var _interact3;\n\n      (_interact3 = _this3._interact()).clickToChangeColor.apply(_interact3, args);\n      _this3._closeSelectDialog();\n    });\n  },\n  ready: function ready() {\n    var _this = this;\n\n    this.KEY = this.model.entities.getDimension();\n    this.colorlegendDim = this.KEY;\n    this.canShowMap = false;\n\n    if (this.colorModel.isDiscrete() && this.colorModel.use !== \"constant\" && this.colorlegendMarker) {\n      if (!this.colorlegendMarker._ready) return;\n\n      this.colorlegendDim = this.colorModel.getColorlegendEntities().getDimension();\n\n      this.colorlegendMarker.getFrame(this.model.time.value, function (frame) {\n        _this.frame = frame;\n        _this.canShowMap = utils.keys((_this.frame || {}).hook_geoshape || {}).length;\n\n        _this.colorlegendKeys = _this.colorlegendMarker.getKeys(_this.colorlegendDim);\n\n        _this.colorlegendKeys.forEach(function (d) {\n          if (!((_this.frame || {}).hook_geoshape || {})[d[_this.colorlegendDim]]) _this.canShowMap = false;\n        });\n        _this.updateView();\n        _this.updateGroupsOpacity();\n      });\n      return;\n    }\n\n    _this.updateView();\n    _this.updateGroupsOpacity();\n  },\n  updateView: function updateView() {\n    var _this5 = this;\n\n    if (!this.element.selectAll) return utils.warn(\"colorlegend resize() aborted because element is not yet defined\");\n\n    var _this = this;\n    var KEY = this.KEY;\n\n    var palette = this.colorModel.getPalette();\n    var canShowMap = this.canShowMap;\n\n    var colorlegendKeys = this.colorlegendKeys || [];\n\n    var colorOptions = this.listColorsEl.selectAll(\".vzb-cl-option\");\n\n    //Hide and show elements of the color legend\n    //Hide color legend entries if showing minimap or if color hook is a constant\n    //or if using a discrete palette that would map to all entities on the chart and therefore will be too long\n    //in the latter case we should show colors in the \"find\" list instead\n    var hideColorOptions = canShowMap || this.colorModel.which == \"_default\" || this.colorlegendMarker && this.colorlegendDim == this.KEY && colorlegendKeys.length > 10 && utils.comparePlainObjects(this.colorModel.getColorlegendEntities().getFilter(), this.model.entities.getFilter());\n\n    colorOptions.classed(\"vzb-hidden\", hideColorOptions);\n\n    this._updateSelectDialog();\n\n    //Hide rainbow element if showing minimap or if color is discrete\n    this.rainbowEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    this.labelScaleEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    this.rainbowLegendEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    //Hide minimap if no data to draw it\n    this.minimapEl.classed(\"vzb-hidden\", !canShowMap || !this.colorModel.isDiscrete());\n\n    this.unitDiv.classed(\"vzb-hidden\", true);\n    var cScale = this.colorModel.getScale();\n\n    if (!this.colorModel.isDiscrete()) {\n\n      var gradientWidth = this.rainbowEl.node().getBoundingClientRect().width;\n      var paletteKeys = Object.keys(palette).map(parseFloat);\n\n      var domain = void 0;\n      var range = void 0;\n      var formatter = this.colorModel.getTickFormatter();\n      var fitIntoScale = null;\n\n      var paletteLabels = this.colorModel.paletteLabels;\n\n      if (paletteLabels) {\n\n        fitIntoScale = \"optimistic\";\n\n        domain = paletteLabels.map(function (val) {\n          return parseFloat(val);\n        });\n        var paletteMax = d3.max(domain);\n        range = domain.map(function (val) {\n          return val / paletteMax * gradientWidth;\n        });\n      } else {\n\n        domain = cScale.domain();\n        var _paletteMax = d3.max(paletteKeys);\n        range = paletteKeys.map(function (val) {\n          return val / _paletteMax * gradientWidth;\n        });\n      }\n\n      var labelScaleType = d3.min(domain) <= 0 && d3.max(domain) >= 0 && this.colorModel.scaleType === \"log\" ? \"genericLog\" : this.colorModel.scaleType;\n\n      var labelScale = d3[\"scale\" + utils.capitalize(labelScaleType === \"time\" ? \"linear\" : labelScaleType)]().domain(domain).range(range);\n\n      var marginLeft = parseInt(this.rainbowEl.style(\"left\"), 10) || 0;\n      var marginRight = parseInt(this.rainbowEl.style(\"right\"), 10) || marginLeft;\n\n      this.labelScaleSVG.style(\"width\", marginLeft + gradientWidth + marginRight + \"px\");\n      this.labelScaleG.attr(\"transform\", \"translate(\" + marginLeft + \",0)\");\n      this.rainbowLegendSVG.style(\"width\", marginLeft + gradientWidth + marginRight + \"px\");\n      this.rainbowLegendG.attr(\"transform\", \"translate(\" + marginLeft + \", \" + 7 + \")\");\n      var labelsAxis = (0, _d4.default)(\"bottom\");\n      labelsAxis.scale(labelScale)\n      //.tickFormat(formatter)\n      .tickSizeOuter(0).tickPadding(6).tickSizeMinor(3, 0).labelerOptions({\n        scaleType: this.colorModel.scaleType,\n        toolMargin: {\n          right: marginRight,\n          left: marginLeft\n        },\n        showOuter: true,\n        formatter: formatter,\n        bump: marginLeft,\n        cssFontSize: \"11px\",\n        fitIntoScale: fitIntoScale\n      });\n\n      this.labelScaleG.call(labelsAxis);\n\n      var colorRange = cScale.range();\n\n      var gIndicators = range.map(function (val, i) {\n        return { val: val, color: colorRange[i], paletteKey: paletteKeys[i] };\n      });\n      this.rainbowLegend = this.rainbowLegendG.selectAll(\"circle\").data(gIndicators);\n      this.rainbowLegend.exit().remove();\n      this.rainbowLegend = this.rainbowLegend.enter().append(\"circle\").attr(\"r\", \"6px\").attr(\"stroke\", \"#000\").on(\"click\", _this._interact().clickToChangeColor).merge(this.rainbowLegend);\n\n      this.rainbowLegend.each(function (d, i) {\n        d3.select(this).attr(\"fill\", d.color);\n        d3.select(this).attr(\"cx\", d.val);\n      });\n\n      this.rainbowCanvasEl.attr(\"width\", gradientWidth).attr(\"height\", 1).style(\"width\", gradientWidth + \"px\").style(\"height\", \"100%\");\n\n      var context = this.rainbowCanvasEl.node().getContext(\"2d\");\n      var image = context.createImageData(gradientWidth, 1);\n      for (var i = 0, j = -1, c; i < gradientWidth; ++i) {\n        c = d3.rgb(cScale(labelScale.invert(i)));\n        image.data[++j] = c.r;\n        image.data[++j] = c.g;\n        image.data[++j] = c.b;\n        image.data[++j] = 255;\n      }\n      context.putImageData(image, 0, 0);\n\n      var unit = this.colorModel.getConceptprops().unit || \"\";\n\n      this.unitDiv.classed(\"vzb-hidden\", unit == \"\");\n      this.unitText.text(unit);\n\n      colorOptions.classed(\"vzb-hidden\", true);\n    } else {\n\n      //Check if geoshape is provided\n      if (!canShowMap) {\n\n        if (this.colorModel.which == \"_default\") {\n          colorOptions = colorOptions.data([]);\n        } else {\n          colorOptions = colorOptions.data(hideColorOptions ? [] : colorlegendKeys.length ? colorlegendKeys : Object.keys(this.colorModel.getPalette()).map(function (value) {\n            var result = {};\n            result[_this.colorlegendDim] = value;\n            return result;\n          }), function (d) {\n            return d[_this.colorlegendDim];\n          });\n        }\n\n        colorOptions.exit().remove();\n\n        colorOptions = colorOptions.enter().append(\"div\").attr(\"class\", \"vzb-cl-option\").each(function () {\n          var _this4 = this;\n\n          d3.select(this).append(\"div\").attr(\"class\", \"vzb-cl-color-sample\").on(\"click\", function () {\n            _this4._bindSelectDialogItems.apply(_this4, arguments);\n            _this4.selectDialog.classed(\"vzb-hidden\", false);\n          });\n          d3.select(this).append(\"div\").attr(\"class\", \"vzb-cl-color-legend\");\n        }).on(\"mouseover\", _this._interact().mouseover).on(\"mouseout\", _this._interact().mouseout).on(\"click\", function () {\n          _this5._bindSelectDialogItems.apply(_this5, arguments);\n          _this5.selectDialog.classed(\"vzb-hidden\", false);\n        }).merge(colorOptions);\n\n        colorOptions.each(function (d, index) {\n          d3.select(this).select(\".vzb-cl-color-sample\").style(\"background-color\", cScale(d[_this.colorlegendDim])).style(\"border\", \"1px solid \" + cScale(d[_this.colorlegendDim]));\n          //Apply names to color legend entries if color is a property\n          var label = _this.colorlegendMarker ? _this.frame.label[d[_this.colorlegendDim]] : null;\n          if (!label && label !== 0) label = d[_this.colorlegendDim];\n          d3.select(this).select(\".vzb-cl-color-legend\").text(label);\n        });\n      } else {\n\n        //Drawing a minimap from the hook data\n\n        var tempdivEl = this.minimapEl.append(\"div\").attr(\"class\", \"vzb-temp\");\n\n        this.minimapSVG.attr(\"viewBox\", null);\n        this.minimapSVG.selectAll(\"g\").remove();\n        this.minimapG = this.minimapSVG.append(\"g\");\n        this.minimapG.selectAll(\"path\").data(colorlegendKeys, function (d) {\n          return d[_this.colorlegendDim];\n        }).enter().append(\"path\").on(\"mouseover\", _this._interact().mouseover).on(\"mouseout\", _this._interact().mouseout).on(\"click\", function () {\n          _this5._bindSelectDialogItems.apply(_this5, arguments);\n          _this5.selectDialog.classed(\"vzb-hidden\", false);\n        }).each(function (d) {\n          var shapeString = _this.frame.hook_geoshape[d[_this.colorlegendDim]].trim();\n\n          //check if shape string starts with svg tag -- then it's a complete svg\n          if (shapeString.slice(0, 4) == \"<svg\") {\n            //append svg element from string to the temporary div\n            tempdivEl.html(shapeString);\n            //replace the shape string with just the path data from svg\n            //TODO: this is not very resilient. potentially only the first path will be taken!\n            shapeString = tempdivEl.select(\"svg\").select(\"path\").attr(\"d\");\n          }\n\n          d3.select(this).attr(\"d\", shapeString).style(\"fill\", cScale(d[_this.colorlegendDim])).append(\"title\").html(_this.frame.label[d[_this.colorlegendDim]]);\n\n          tempdivEl.html(\"\");\n        });\n\n        var gbbox = this.minimapG.node().getBBox();\n        this.minimapSVG.attr(\"viewBox\", \"0 0 \" + gbbox.width * 1.05 + \" \" + gbbox.height * 1.05);\n        tempdivEl.remove();\n      }\n    }\n  },\n  _updateSelectDialog: function _updateSelectDialog() {\n    var isColorSelectable = this.colorModel.isUserSelectable();\n    this.editColorButtonTooltip.classed(\"vzb-hidden\", isColorSelectable);\n    this.editColorButton.classed(\"vzb-cl-select-dialog-item-disabled\", !isColorSelectable);\n\n    this.selectDialog.classed(\"vzb-hidden\", true);\n  },\n  _highlight: function _highlight(values) {\n    utils.getProp(this, [\"model\", \"ui\", \"chart\", \"superhighlightOnMinimapHover\"]) ? this.model.marker.setSuperHighlight(values) : this.model.marker.setHighlight(values);\n  },\n  _unhighlight: function _unhighlight() {\n    utils.getProp(this, [\"model\", \"ui\", \"chart\", \"superhighlightOnMinimapHover\"]) ? this.model.marker.clearSuperHighlighted() : this.model.marker.clearHighlighted();\n  },\n  _interact: function _interact() {\n    var _this = this;\n    var KEY = this.KEY;\n    var colorlegendDim = this.colorlegendDim;\n\n    return {\n      mouseover: function mouseover(d, i) {\n        _this.moreOptionsHint.classed(\"vzb-hidden\", false);\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        var view = d3.select(this);\n        var target = d[colorlegendDim];\n\n        var values = _this.colorModel.getValidItems()\n        //filter so that only countries of the correct target remain\n        .filter(function (f) {\n          return f[_this.colorModel.which] == target;\n        })\n        //fish out the \"key\" field, leave the rest behind\n        .map(function (d) {\n          return utils.clone(d, [KEY]);\n        });\n        _this._highlight(values);\n      },\n      mouseout: function mouseout(d, i) {\n        _this.moreOptionsHint.classed(\"vzb-hidden\", true);\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n        _this._unhighlight();\n      },\n      clickToChangeColor: function clickToChangeColor(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isUserSelectable()) return;\n        var palette = _this.colorModel.getPalette();\n        var defaultPalette = _this.colorModel.getDefaultPalette();\n        var view = d3.select(this);\n        var target = !_this.colorModel.isDiscrete() ? d.paletteKey : d[colorlegendDim];\n        _this.colorPicker.colorOld(palette[target]).colorDef(defaultPalette[target]).callback(function (value, isClick) {\n          return _this.colorModel.setColor(value, target, isClick);\n        }).fitToScreen([d3.event.pageX, d3.event.pageY]).show(true);\n      },\n      clickToShow: function clickToShow(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        var view = d3.select(this);\n        var target = d[colorlegendDim];\n\n        var oldShow = _this.model.entities.show[colorlegendDim] && _this.model.entities.show[colorlegendDim][\"$in\"] ? utils.clone(_this.model.entities.show[colorlegendDim][\"$in\"]) : [];\n\n        var entityIndex = oldShow.indexOf(d[colorlegendDim]);\n        if (entityIndex !== -1) {\n          oldShow.splice(entityIndex, 1);\n        } else {\n          oldShow.push(d[colorlegendDim]);\n        }\n\n        var show = {};\n        if (oldShow.length > 0) show[colorlegendDim] = { \"$in\": oldShow };\n\n        _this.model.entities.set({ show: show });\n      },\n      clickToSelect: function clickToSelect(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        var view = d3.select(this);\n        var target = d[colorlegendDim];\n\n        var select = _this.colorModel.getValidItems()\n        //filter so that only countries of the correct target remain\n        .filter(function (f) {\n          return f[_this.colorModel.which] == target;\n        })\n        //fish out the \"key\" field, leave the rest behind\n        .map(function (d) {\n          return utils.clone(d, [KEY]);\n        });\n\n        if (select.filter(function (d) {\n          return _this.model.marker.isSelected(d);\n        }).length == select.length) {\n          _this.model.marker.clearSelected();\n        } else {\n          _this.model.marker.setSelect(select);\n        }\n      }\n    };\n  },\n  resize: function resize() {\n    this.updateView();\n    this.colorPicker.resize(d3.select(\".vzb-colorpicker-svg\"));\n  },\n\n\n  /**\n   * Function updates the opacity of color legend elements\n   * @param   {Array} value = [] array of highlighted elements\n   */\n  updateGroupsOpacity: function updateGroupsOpacity() {\n    var highlight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var _this = this;\n\n    var clMarker = this.colorModel.getColorlegendMarker() || {};\n    var OPACITY_REGULAR = clMarker.opacityRegular || 0.8;\n    var OPACITY_DIM = clMarker.opacityHighlightDim || 0.5;\n    var OPACITY_HIGHLIGHT = 1;\n\n    var selection = _this.canShowMap ? \".vzb-cl-minimap path\" : \".vzb-cl-option .vzb-cl-color-sample\";\n\n    this.listColorsEl.selectAll(selection).style(\"opacity\", function (d) {\n      if (!highlight.length) return OPACITY_REGULAR;\n      return highlight.indexOf(d[_this.colorlegendDim]) > -1 ? OPACITY_HIGHLIGHT : OPACITY_DIM;\n    });\n  }\n});\n\nexports.default = ColorLegend;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = !__webpack_require__(8) && !__webpack_require__(5)(function(){\n  return Object.defineProperty(__webpack_require__(73)('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(7);\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has          = __webpack_require__(13)\n  , toIObject    = __webpack_require__(17)\n  , arrayIndexOf = __webpack_require__(61)(false)\n  , IE_PROTO     = __webpack_require__(75)('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP       = __webpack_require__(9)\n  , anObject = __webpack_require__(2)\n  , getKeys  = __webpack_require__(40);\n\nmodule.exports = __webpack_require__(8) ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(17)\n  , gOPN      = __webpack_require__(43).f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = __webpack_require__(40)\n  , gOPS     = __webpack_require__(62)\n  , pIE      = __webpack_require__(58)\n  , toObject = __webpack_require__(12)\n  , IObject  = __webpack_require__(57)\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(5)(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports) {\n\n// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar aFunction  = __webpack_require__(16)\n  , isObject   = __webpack_require__(6)\n  , invoke     = __webpack_require__(63)\n  , arraySlice = [].slice\n  , factories  = {};\n\nvar construct = function(F, len, args){\n  if(!(len in factories)){\n    for(var n = [], i = 0; i < len; i++)n[i] = 'a[' + i + ']';\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /*, args... */){\n  var fn       = aFunction(this)\n    , partArgs = arraySlice.call(arguments, 1);\n  var bound = function(/* args... */){\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if(isObject(fn.prototype))bound.prototype = fn.prototype;\n  return bound;\n};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $parseInt = __webpack_require__(4).parseInt\n  , $trim     = __webpack_require__(50).trim\n  , ws        = __webpack_require__(80)\n  , hex       = /^[\\-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix){\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $parseFloat = __webpack_require__(4).parseFloat\n  , $trim       = __webpack_require__(50).trim;\n\nmodule.exports = 1 / $parseFloat(__webpack_require__(80) + '-0') !== -Infinity ? function parseFloat(str){\n  var string = $trim(String(str), 3)\n    , result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar cof = __webpack_require__(22);\nmodule.exports = function(it, msg){\n  if(typeof it != 'number' && cof(it) != 'Number')throw TypeError(msg);\n  return +it;\n};\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar isObject = __webpack_require__(6)\n  , floor    = Math.floor;\nmodule.exports = function isInteger(it){\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports) {\n\n// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x){\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(2);\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(16)\n  , toObject  = __webpack_require__(12)\n  , IObject   = __webpack_require__(57)\n  , toLength  = __webpack_require__(11);\n\nmodule.exports = function(that, callbackfn, aLen, memo, isRight){\n  aFunction(callbackfn);\n  var O      = toObject(that)\n    , self   = IObject(O)\n    , length = toLength(O.length)\n    , index  = isRight ? length - 1 : 0\n    , i      = isRight ? -1 : 1;\n  if(aLen < 2)for(;;){\n    if(index in self){\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if(isRight ? index < 0 : length <= index){\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for(;isRight ? index >= 0 : length > index; index += i)if(index in self){\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n\nvar toObject = __webpack_require__(12)\n  , toIndex  = __webpack_require__(41)\n  , toLength = __webpack_require__(11);\n\nmodule.exports = [].copyWithin || function copyWithin(target/*= 0*/, start/*= 0, end = @length*/){\n  var O     = toObject(this)\n    , len   = toLength(O.length)\n    , to    = toIndex(target, len)\n    , from  = toIndex(start, len)\n    , end   = arguments.length > 2 ? arguments[2] : undefined\n    , count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to)\n    , inc   = 1;\n  if(from < to && to < from + count){\n    inc  = -1;\n    from += count - 1;\n    to   += count - 1;\n  }\n  while(count-- > 0){\n    if(from in O)O[to] = O[from];\n    else delete O[to];\n    to   += inc;\n    from += inc;\n  } return O;\n};\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 21.2.5.3 get RegExp.prototype.flags()\nif(__webpack_require__(8) && /./g.flags != 'g')__webpack_require__(9).f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: __webpack_require__(66)\n});\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strong = __webpack_require__(124);\n\n// 23.1 Map Objects\nmodule.exports = __webpack_require__(68)('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar dP          = __webpack_require__(9).f\n  , create      = __webpack_require__(42)\n  , redefineAll = __webpack_require__(46)\n  , ctx         = __webpack_require__(30)\n  , anInstance  = __webpack_require__(45)\n  , defined     = __webpack_require__(23)\n  , forOf       = __webpack_require__(53)\n  , $iterDefine = __webpack_require__(86)\n  , step        = __webpack_require__(121)\n  , setSpecies  = __webpack_require__(44)\n  , DESCRIPTORS = __webpack_require__(8)\n  , fastKey     = __webpack_require__(35).fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strong = __webpack_require__(124);\n\n// 23.2 Set Objects\nmodule.exports = __webpack_require__(68)('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar each         = __webpack_require__(27)(0)\n  , redefine     = __webpack_require__(15)\n  , meta         = __webpack_require__(35)\n  , assign       = __webpack_require__(110)\n  , weak         = __webpack_require__(127)\n  , isObject     = __webpack_require__(6)\n  , getWeak      = meta.getWeak\n  , isExtensible = Object.isExtensible\n  , uncaughtFrozenStore = weak.ufstore\n  , tmp          = {}\n  , InternalMap;\n\nvar wrapper = function(get){\n  return function WeakMap(){\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      var data = getWeak(key);\n      if(data === true)return uncaughtFrozenStore(this).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = __webpack_require__(68)('WeakMap', wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  InternalMap = weak.getConstructor(wrapper);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on internal weakmap shim\n      if(isObject(a) && !isExtensible(a)){\n        if(!this._f)this._f = new InternalMap;\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar redefineAll       = __webpack_require__(46)\n  , getWeak           = __webpack_require__(35).getWeak\n  , anObject          = __webpack_require__(2)\n  , isObject          = __webpack_require__(6)\n  , anInstance        = __webpack_require__(45)\n  , forOf             = __webpack_require__(53)\n  , createArrayMethod = __webpack_require__(27)\n  , $has              = __webpack_require__(13)\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function(that){\n  return that._l || (that._l = new UncaughtFrozenStore);\n};\nvar UncaughtFrozenStore = function(){\n  this.a = [];\n};\nvar findUncaughtFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function(key){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this)['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var data = getWeak(anObject(key), true);\n    if(data === true)uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// all object keys, includes non-enumerable and symbols\nvar gOPN     = __webpack_require__(43)\n  , gOPS     = __webpack_require__(62)\n  , anObject = __webpack_require__(2)\n  , Reflect  = __webpack_require__(4).Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it){\n  var keys       = gOPN.f(anObject(it))\n    , getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = __webpack_require__(11)\n  , repeat   = __webpack_require__(82)\n  , defined  = __webpack_require__(23);\n\nmodule.exports = function(that, maxLength, fillString, left){\n  var S            = String(defined(that))\n    , stringLength = S.length\n    , fillStr      = fillString === undefined ? ' ' : String(fillString)\n    , intMaxLength = toLength(maxLength);\n  if(intMaxLength <= stringLength || fillStr == '')return S;\n  var fillLen = intMaxLength - stringLength\n    , stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if(stringFiller.length > fillLen)stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getKeys   = __webpack_require__(40)\n  , toIObject = __webpack_require__(17)\n  , isEnum    = __webpack_require__(58).f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = __webpack_require__(59)\n  , from    = __webpack_require__(132);\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar forOf = __webpack_require__(53);\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar class_loading_first = \"vzb-loading-first\";\nvar class_loading_data = \"vzb-loading-data\";\nvar class_placeholder = \"vzb-placeholder\";\nvar class_buttons_off = \"vzb-buttonlist-off\";\n\nvar templates = {};\n\n//tool model is quite simple and doesn't need to be registered\nvar ToolModel = _model2.default.extend({\n  /**\n   * Initializes the tool model.\n   * @param {Tool}   the tool this tool model belongs to\n   * @param {Object} values The initial values of this model\n   */\n  init: function init(tool, external_model) {\n    this._id = utils.uniqueId(\"tm\");\n    this._type = \"tool\";\n    this._component = tool;\n\n    // defaults are defined on the Tool\n    // this way, each tool can have it's own default model\n    this.getClassDefaults = function () {\n      return tool.default_model;\n    };\n\n    // combine listeners from tool and external page to one object\n    var listeners = utils.extend(tool.getToolListeners(), external_model.bind);\n    delete external_model.bind; // bind shouldn't go to model tree\n\n    this._super(tool.name, external_model, null, listeners);\n  },\n\n\n  /**\n   * @return {object} Defaults of tool model and children\n   * Tool defaults overwrite other models' default\n   */\n  getDefaults: function getDefaults() {\n    return utils.deepExtend({}, this.getSubmodelDefaults(), this.getClassDefaults());\n  },\n  validate: function validate() {\n\n    var max = 10;\n    var c = 0;\n    var _this = this;\n\n    function validate_func(c) {\n      // ToolModel uses validate function declared on Tool so each Tool can have its own validation.\n      var model = JSON.stringify(_this.getPlainObject());\n      _this._component.validate(_this);\n      var model2 = JSON.stringify(_this.getPlainObject());\n\n      if (c >= max) {\n        utils.error(\"Max validation loop.\");\n      } else if (model !== model2) {\n        validate_func(c++);\n      }\n    }\n\n    validate_func(c);\n  }\n});\n\n//tool\nvar Tool = _component2.default.extend({\n  /**\n   * Initializes the tool\n   * @param {Object} placeholder object\n   * @param {Object} external_model External model such as state, data, etc\n   */\n  init: function init(placeholder, external_model) {\n    this._id = utils.uniqueId(\"t\");\n\n    this.template = this.getToolTemplate();\n\n    // super also calls createModel\n    this._super({\n      placeholder: placeholder,\n      model: external_model\n    });\n\n    this.prerender();\n    this.setCSSClasses();\n    this.setResizeHandler();\n\n    this.postrender();\n  },\n  createModel: function createModel(external_model) {\n    external_model = external_model || {}; //external model can be undefined\n    external_model.bind = external_model.bind || {}; //bind functions can be undefined\n    this.model = new ToolModel(this, external_model);\n    this.model.setInterModelListeners();\n  },\n  getToolTemplate: function getToolTemplate() {\n    return this.template || '<div class=\"vzb-tool vzb-tool-' + this.name + '\">' + '<div class=\"vzb-tool-stage\">' + '<div class=\"vzb-tool-viz\">' + \"</div>\" + '<div class=\"vzb-tool-time-speed-sliders\">' + '<div class=\"vzb-tool-timeslider\">' + \"</div>\" + '<div class=\"vzb-tool-stepped-speed-slider\">' + \"</div>\" + \"</div>\" + \"</div>\" + '<div class=\"vzb-tool-sidebar\">' + '<div class=\"vzb-tool-dialogs\">' + \"</div>\" + '<div class=\"vzb-tool-buttonlist\">' + \"</div>\" + \"</div>\" + '<div class=\"vzb-tool-datanotes vzb-hidden\">' + \"</div>\" + '<div class=\"vzb-tool-treemenu vzb-hidden\">' + \"</div>\" + '<div class=\"vzb-tool-datawarning vzb-hidden\">' + \"</div>\" + '<div class=\"vzb-tool-labels vzb-hidden\">' + \"</div>\" + \"</div>\";\n  },\n  getToolListeners: function getToolListeners() {\n    var _this2 = this;\n\n    var _this = this;\n    return utils.extend(this.model_binds, {\n      \"readyOnce\": function readyOnce() {\n        return _this2.setResizeHandler();\n      },\n      \"change\": function change(evt, path) {\n        if (_this._ready) {\n          _this.model.validate();\n\n          if (evt.source.persistent) _this.model.trigger(new _events.DefaultEvent(evt.source, \"persistentChange\"));\n        }\n      },\n      \"hook_change\": function hook_change() {\n        if (!_this.model.state.time.splash) {\n          // not block when it initial splash screen\n          _this.beforeLoading();\n        }\n      },\n      \"resize:ui\": function resizeUi() {\n        if (_this._ready) {\n          _this.triggerResize();\n        }\n      },\n      \"translate:locale\": function translateLocale() {\n        _this.translateStrings();\n        _this.model.ui.setRTL(_this.model.locale.isRTL());\n      },\n      \"load_error\": function load_error() {\n        _this2.renderError();\n        _this2.error.apply(_this2, arguments);\n      }\n    });\n  },\n  setResizeHandler: function setResizeHandler() {\n    //only tools have layout (manage sizes)\n    this.model.ui.setContainer(this.element);\n  },\n\n\n  /**\n   * Returns width and height of the area excluding time slider and toolbar/sidebar\n   */\n  getVizWidthHeight: function getVizWidthHeight() {\n    var width = 0,\n        height = 0;\n    if (this.element) {\n      width = d3.select(this.element).select(\".vzb-tool-viz\").node().clientWidth;\n      height = d3.select(this.element).select(\".vzb-tool-viz\").node().clientHeight;\n    } else {\n      utils.warn(\"Tool getVizWidthHeight(): missing this.element\");\n    }\n\n    return { width: width, height: height };\n  },\n\n\n  triggerResize: utils.throttle(function () {\n    this.trigger(\"resize\");\n  }, 100),\n\n  startLoading: function startLoading() {\n    var _this3 = this;\n\n    this._super();\n\n    Promise.all([this.model.startPreload(), this.startPreload()]).then(this.afterPreload.bind(this)).then(this.loadSplashScreen.bind(this)).then(function () {\n      return utils.delay(300);\n    }).then(this.model.startLoading.bind(this.model)).then(this.finishLoading.bind(this)).catch(function (error) {\n      _events2.default.unfreezeAll();\n      _this3.model.triggerLoadError(error);\n    });\n  },\n  loadSplashScreen: function loadSplashScreen() {\n    if (this.model.ui.splash) {\n      //TODO: cleanup hardcoded splash screen\n      this.model.state.time.splash = true;\n      return this.model.startLoading({\n        splashScreen: true\n      });\n    }\n    return Promise.resolve();\n  },\n  finishLoading: function finishLoading() {\n    this.model.state.time.splash = false;\n  },\n  getPersistentModel: function getPersistentModel() {\n    //try to find functions in properties of model.\n    function removeFunctions(model) {\n      for (var childKey in model) {\n        if (typeof model[childKey] === \"function\") {\n          delete model[childKey];\n          utils.warn(\"minModel validation. Function found in enumerable properties of \" + childKey + \". This key is deleted from minModel\");\n        } else if (_typeof(model[childKey]) === \"object\") removeFunctions(model[childKey]);\n      }\n    }\n\n    var currentToolModel = this.model.getPlainObject(true); // true = get only persistent model values\n    removeFunctions(currentToolModel);\n    return currentToolModel;\n  },\n  getPersistentMinimalModel: function getPersistentMinimalModel(diffModel) {\n    var defaultModel = this.model.getDefaults();\n    var currentPersistentModel = this.getPersistentModel();\n    var redundantModel = utils.deepExtend(defaultModel, diffModel);\n    return utils.diffObject(currentPersistentModel, redundantModel);\n  },\n\n\n  /**\n   * Clears a tool\n   */\n\n  clear: function clear() {\n    this.model.ui.clear();\n    this.setModel = this.getModel = function () {\n      return void 0;\n    };\n    this._super();\n  },\n\n\n  /**\n   * Visually display errors\n   */\n  error: function error(options, message) {\n    if (!message) {\n      message = options && options.type === \"data\" ? \"Error loading chart data. <br>Please, try again later.\" : \"Error loading chart\";\n    }\n\n    this.placeholder.innerHTML = \"<div class=\\\"vzb-error-message\\\"><h1>\" + _iconset.warn + \"</h1><p>\" + message + \"</p></div>\";\n  },\n\n\n  /**\n   * Sets model from external page\n   * @param {Object} JSONModel new model in JSON format\n   * @param {Boolean} overwrite overwrite everything instead of extending\n   */\n  setModel: function setModel(newModelJSON, overwrite) {\n    if (overwrite) {\n      this.model.reset(newModelJSON);\n    } else {\n      this.model.set(newModelJSON);\n    }\n    this.setCSSClasses();\n  },\n\n\n  /**\n   * get model\n   * @return {Object} JSON object of model\n   */\n  getModel: function getModel() {\n    return this.model.getPlainObject() || {};\n  },\n\n  /**\n   * Displays loading class\n   */\n  beforeLoading: function beforeLoading() {\n    utils.addClass(this.placeholder, class_loading_data);\n  },\n\n\n  /* ==========================\n   * Validation and query\n   * ==========================\n   */\n  /**\n   * Validating the tool model\n   * @param model the current tool model to be validated\n   */\n  validate: function validate(model) {\n    model = this.model || model;\n\n    if (!model || !model.state) return utils.warn(\"tool validation aborted: model.state looks wrong: \" + model);\n  },\n  setCSSClasses: function setCSSClasses() {\n    //add placeholder class\n    utils.addClass(this.placeholder, class_placeholder);\n    //add-remove buttonlist class\n    if (!this.model.ui || !this.model.ui.buttons || !this.model.ui.buttons.length) {\n      utils.addClass(this.element, class_buttons_off);\n    } else {\n      utils.removeClass(this.element, class_buttons_off);\n    }\n  }\n});\n\nexports.default = Tool;\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI Color Model (hook)\n */\n\nvar defaultPalettes = {\n  \"_continuous\": {\n    \"_default\": \"#ffb600\",\n    \"0\": \"hsl(270, 80%, 55%)\",\n    \"25\": \"hsl(202.5, 80%, 55%)\",\n    \"50\": \"hsl(135, 80%, 55%)\",\n    \"75\": \"hsl(48, 70%, 62%)\",\n    \"100\": \"hsl(0, 80%, 55%)\"\n  },\n  \"_discrete\": {\n    \"_default\": \"#ffb600\",\n    \"0\": \"#4cd843\",\n    \"1\": \"#e83739\",\n    \"2\": \"#ff7f00\",\n    \"3\": \"#c027d4\",\n    \"4\": \"#d66425\",\n    \"5\": \"#0ab8d8\",\n    \"6\": \"#bcfa83\",\n    \"7\": \"#ff8684\",\n    \"8\": \"#ffb04b\",\n    \"9\": \"#f599f5\",\n    \"10\": \"#f4f459\",\n    \"11\": \"#7fb5ed\"\n  },\n  \"_default\": {\n    \"_default\": \"#ffb600\"\n  }\n};\n\nvar ColorModel = _hook2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null,\n      scaleType: null,\n      syncModels: [],\n      palette: {},\n      paletteLabels: null,\n      allow: {\n        //this is almost everything, but not \"nominal\", so no random strings like \"name\"\n        scales: [\"linear\", \"log\", \"genericLog\", \"time\", \"pow\", \"ordinal\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n  autoGenerateModel: function autoGenerateModel() {\n    if (this.which == null) {\n      var concept = void 0;\n      if (this.autogenerate) {\n        concept = this.dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n        if (concept) {\n          var obj = {\n            which: concept.concept,\n            use: concept.use || \"indicator\",\n            scaleType: concept.scales && concept.scales[0] ? concept.scales[0] : \"linear\"\n          };\n          this.set(obj);\n        }\n      }\n      if (!concept) {\n        var _obj = {\n          which: \"_default\",\n          use: \"constant\",\n          scaleType: \"ordinal\"\n        };\n        this.set(_obj);\n      }\n    }\n    if (this.scaleType == null) {\n      this.scaleType = this.dataSource.getConceptprops(this.which).scales[0];\n    }\n  },\n\n\n  /**\n   * Initializes the color hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n    var _this = this;\n    this._type = \"color\";\n\n    this._super(name, values, parent, bind);\n\n    this._syncModelReferences = {};\n    this._hasDefaultColor = false;\n\n    this.on(\"hook_change\", function () {\n      if (_this._readyOnce || _this._loadCall) return;\n\n      _this._setSyncModels();\n\n      if (_this.palette && Object.keys(_this.palette._data).length !== 0) {\n        var defaultPalette = _this.getDefaultPalette();\n        var currentPalette = _this.getPalette(true);\n        var palette = {};\n        //extend partial current palette with default palette and\n        //switch current palette elements which equals\n        //default palette elments to nonpersistent state\n        Object.keys(defaultPalette).forEach(function (key) {\n          if (!currentPalette[key] || defaultPalette[key] == currentPalette[key]) palette[key] = defaultPalette[key];\n        });\n        _this.set(\"palette\", palette, false, false);\n      }\n    });\n  },\n  setInterModelListeners: function setInterModelListeners() {\n    this._super();\n    this._setSyncModels();\n  },\n\n\n  // args: {colorID, shadeID}\n  getColorShade: function getColorShade(args) {\n    var palette = this.getPalette();\n\n    if (!args) return utils.warn(\"getColorShade() is missing arguments\");\n\n    // if colorID is not given or not found in the palette, replace it with default color\n    if (!args.colorID || !palette[args.colorID]) args.colorID = \"_default\";\n\n    // if the resolved colr value is not an array (has only one shade) -- return it\n    if (!utils.isArray(palette[args.colorID])) return args.shadeID == \"shade\" ? d3.rgb(palette[args.colorID]).darker(0.5).toString() : palette[args.colorID];\n\n    var conceptpropsColor = this.getConceptprops().color;\n    var shade = args.shadeID && conceptpropsColor && conceptpropsColor.shades && conceptpropsColor.shades[args.shadeID] ? conceptpropsColor.shades[args.shadeID] : 0;\n\n    return palette[args.colorID][shade];\n  },\n\n\n  /**\n   * Get the above constants\n   */\n  isUserSelectable: function isUserSelectable() {\n    var conceptpropsColor = this.getConceptprops().color;\n    return conceptpropsColor == null || conceptpropsColor.selectable == null || conceptpropsColor.selectable;\n  },\n  setWhich: function setWhich(newValue) {\n    if (this.palette) this.palette._data = {};\n    this._super(newValue);\n    this._setSyncModels();\n  },\n  _setSyncModels: function _setSyncModels() {\n    var _this = this;\n    this.syncModels.forEach(function (modelName) {\n      //fetch the model to sync, it's marker and entities\n      var model = _this.getClosestModel(modelName);\n      var marker = model.isHook() ? model._parent : model;\n      var entities = marker.getClosestModel(marker.space[0]);\n\n      //save the references here locally\n      _this._syncModelReferences[modelName] = { model: model, marker: marker, entities: entities };\n\n      if (_this.isDiscrete()) _this._setSyncModel(model, marker, entities);\n    });\n  },\n  _setSyncModel: function _setSyncModel(model, marker, entities) {\n    if (model == marker) {\n      var newFilter = {\n        dim: this.which,\n        show: {}\n      };\n      marker.setDataSourceForAllSubhooks(this.data);\n      entities.set(newFilter, false, false);\n    } else {\n      if (model.isDiscrete() && model.use !== \"constant\") model.set({ which: this.which, data: this.data }, false, false);\n    }\n  },\n  getColorlegendMarker: function getColorlegendMarker() {\n    return (this._syncModelReferences[\"marker_colorlegend\"] || {})[\"marker\"];\n  },\n  getColorlegendEntities: function getColorlegendEntities() {\n    return (this._syncModelReferences[\"marker_colorlegend\"] || {})[\"entities\"];\n  },\n\n\n  /**\n   * set color\n   */\n  setColor: function setColor(value, pointer, persistent) {\n    var temp = this.getPalette();\n    temp[pointer] = value;\n    this.scale.range(utils.values(temp));\n    this.palette.set(pointer, value, persistent, persistent);\n  },\n\n\n  /**\n   * maps the value to this hook's specifications\n   * @param value Original value\n   * @returns hooked value\n   */\n  mapValue: function mapValue(value) {\n    //if the property value does not exist, supply the _default\n    // otherwise the missing value would be added to the domain\n    if (this.scale != null && this.isDiscrete() && this._hasDefaultColor && this.scale.domain().indexOf(value) == -1) value = \"_default\";\n    return this._super(value);\n  },\n  getDefaultPalette: function getDefaultPalette() {\n    var conceptpropsColor = this.getConceptprops().color;\n    var palette = void 0;\n\n    this.discreteDefaultPalette = false;\n\n    if (conceptpropsColor && conceptpropsColor.palette) {\n      //specific color palette from hook concept properties\n      palette = utils.clone(conceptpropsColor.palette);\n    } else if (defaultPalettes[this.which]) {\n      //color palette for this.which exists in palette defaults\n      palette = utils.clone(defaultPalettes[this.which]);\n    } else if (this.use === \"constant\") {\n      //an explicit hex color constant #abc or #adcdef is provided\n      if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(this.which)) {\n        palette = { \"_default\": this.which };\n      } else {\n        palette = utils.clone(defaultPalettes[\"_default\"]);\n      }\n    } else {\n      palette = utils.clone(defaultPalettes[this.isDiscrete() ? \"_discrete\" : \"_continuous\"]);\n      this.discreteDefaultPalette = true;\n    }\n\n    return palette;\n  },\n  _getPaletteLabels: function _getPaletteLabels() {\n    var conceptpropsColor = this.getConceptprops().color;\n    var paletteLabels = null;\n\n    if (conceptpropsColor && conceptpropsColor.paletteLabels) {\n      //specific color palette from hook concept properties\n      paletteLabels = utils.clone(conceptpropsColor.paletteLabels);\n    }\n    return paletteLabels;\n  },\n  getPaletteLabels: function getPaletteLabels() {\n    return this.paletteLabels.getPlainObject();\n  },\n  getPalette: function getPalette(includeDefault) {\n    //rebuild palette if it's empty\n    if (!this.palette || Object.keys(this.palette._data).length === 0) {\n      var _palette = this.getDefaultPalette();\n      this.set(\"palette\", _palette, false, false);\n      var paletteLabels = this._getPaletteLabels();\n      this.set(\"paletteLabels\", paletteLabels, false, false);\n    }\n    var palette = this.palette.getPlainObject();\n    if (this.use === \"indicator\" && !includeDefault) {\n      delete palette[\"_default\"];\n    }\n    return palette;\n  },\n\n\n  /**\n   * Gets the domain for this hook\n   * @returns {Array} domain\n   */\n  buildScale: function buildScale() {\n    var scaleType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.scaleType;\n\n    var _this = this;\n\n    var paletteObject = _this.getPalette();\n    var domain = Object.keys(paletteObject);\n    var range = utils.values(paletteObject);\n\n    this._hasDefaultColor = domain.indexOf(\"_default\") > -1;\n\n    if (scaleType == \"time\") {\n\n      var timeMdl = this._space.time;\n      var limits = timeMdl.splash ? { min: timeMdl.parse(timeMdl.startOrigin), max: timeMdl.parse(timeMdl.endOrigin) } : { min: timeMdl.start, max: timeMdl.end };\n\n      var singlePoint = limits.max - limits.min == 0;\n\n      domain = domain.sort(function (a, b) {\n        return a - b;\n      });\n      range = domain.map(function (m) {\n        return singlePoint ? paletteObject[domain[0]] : paletteObject[m];\n      });\n      domain = domain.map(function (m) {\n        return limits.min.valueOf() + m / 100 * (limits.max.valueOf() - limits.min.valueOf());\n      });\n\n      this.scale = d3.scaleUtc().domain(domain).range(range).interpolate(d3.interpolateCubehelix);\n    } else if (!this.isDiscrete()) {\n\n      var _limits = this.getLimits(this.which);\n      //default domain is based on limits\n      _limits = [_limits.min, _limits.max];\n\n      var _singlePoint = _limits[1] - _limits[0] == 0;\n\n      domain = domain.sort(function (a, b) {\n        return a - b;\n      });\n      range = domain.map(function (m) {\n        return _singlePoint ? paletteObject[domain[0]] : paletteObject[m];\n      });\n      domain = domain.map(function (m) {\n        return _limits[0] + m / 100 * (_limits[1] - _limits[0]);\n      });\n\n      if (d3.min(domain) <= 0 && d3.max(domain) >= 0 && scaleType === \"log\") scaleType = \"genericLog\";\n\n      if (scaleType === \"log\" || scaleType === \"genericLog\") {\n        var s = d3.scaleGenericlog().domain(_limits).range(_limits);\n        domain = domain.map(function (d) {\n          return s.invert(d);\n        });\n      }\n      this.scale = d3[\"scale\" + utils.capitalize(scaleType)]().domain(domain).range(range).interpolate(d3.interpolateCubehelix);\n    } else {\n      range = range.map(function (m) {\n        return utils.isArray(m) ? m[0] : m;\n      });\n\n      scaleType = \"ordinal\";\n\n      if (this.discreteDefaultPalette) domain = domain.concat(this.getUnique(this.which));\n      this.scale = d3[\"scale\" + utils.capitalize(scaleType)]().domain(domain).range(range);\n    }\n\n    this.scaleType = scaleType;\n  }\n});\n\nexports.default = ColorModel;\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _dataconnected = __webpack_require__(54);\n\nvar _dataconnected2 = _interopRequireDefault(_dataconnected);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*!\n * VIZABI Entities Model\n */\n\nvar EntitiesModel = _dataconnected2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      show: {},\n      dim: null,\n      skipFilter: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  objectLeafs: [\"show\", \"autogenerate\"],\n  dataConnectedChildren: [\"show\", \"dim\", \"grouping\"],\n\n  /**\n   * Initializes the entities model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"entities\";\n\n    this._super(name, values, parent, bind);\n  },\n  afterPreload: function afterPreload() {\n    if (this.dim == null && this.autogenerate) {\n      var dataSource = this.getClosestModel(this.autogenerate.data);\n      this.dim = dataSource.getConceptByIndex(this.autogenerate.conceptIndex).concept;\n    }\n  },\n\n\n  /**\n   * Gets the dimensions in this entities\n   * @returns {String} String with dimension\n   */\n  getDimension: function getDimension() {\n    return this.dim;\n  },\n  setDimension: function setDimension(dim) {\n    if (this.dim === dim.concept) return;\n    var props = {};\n    props.show = {};\n    props.dim = dim.concept;\n    this.set(props);\n  },\n\n  /**\n   * Gets the filter in this entities\n   * @returns {Array} Array of unique values\n   */\n  getFilter: function getFilter() {\n    var show = void 0;\n    if (this.skipFilter) {\n      show = {};\n    } else {\n      show = utils.deepClone(this.show);\n      if (show[this.dim] && utils.isEmpty(show[this.dim])) {\n        delete show[this.dim];\n      }\n    }\n    return show;\n  },\n\n\n  /**\n   * Shows or unshows an entity from the set\n   */\n  showEntity: function showEntity(d) {\n    var _this = this;\n\n    //clear selected countries when showing something new\n    var newShow = utils.deepClone(this.show);\n    var dimension = this.getDimension();\n    var _d = void 0;\n\n    if (!utils.isArray(d)) {\n      _d = [d];\n    } else {\n      _d = d;\n    }\n\n    var showArray = [];\n\n    // get array from show\n    if (this.show[dimension] && this.show[dimension][\"$in\"] && utils.isArray(this.show[dimension][\"$in\"])) showArray = this.show[dimension][\"$in\"];\n\n    utils.forEach(_d, function (d) {\n      var value = d[dimension];\n      if (_this.isShown(d)) {\n        showArray = showArray.filter(function (d) {\n          return d !== value;\n        });\n      } else {\n        showArray = showArray.concat(value);\n      }\n    });\n\n    if (showArray.length === 0) delete newShow[dimension];else newShow[dimension] = { \"$in\": showArray };\n\n    this.show = newShow;\n  },\n\n\n  /**\n   * Selects an entity from the set\n   * @returns {Boolean} whether the item is shown or not\n   */\n  isShown: function isShown(d) {\n    var dimension = this.getDimension();\n\n    return utils.getProp(this.show, [dimension, \"$in\"], []).includes(d[dimension]);\n  },\n\n\n  /**\n   * Clears showing of items\n   */\n  clearShow: function clearShow() {\n    var dimension = this.getDimension();\n    var show = utils.deepClone(this.show);\n    delete show[dimension];\n    this.show = show;\n  },\n  getFilteredEntities: function getFilteredEntities() {\n    var dimension = this.getDimension();\n\n    var _ref = this.show[dimension] || {},\n        _ref$$in = _ref.$in,\n        $in = _ref$$in === undefined ? [] : _ref$$in;\n\n    return $in.map(function (m) {\n      return _defineProperty({}, dimension, m);\n    });\n  },\n  isEntities: function isEntities() {\n    return true;\n  }\n});\n\nexports.default = EntitiesModel;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * VIZABI Group Model\n */\n\nvar GroupModel = _hook2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null,\n      merge: false,\n      manualSorting: null,\n      scaleType: \"ordinal\" // the only one possible, right?\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  /**\n   * Initializes the group hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n    this._type = \"model\";\n\n    this._super(name, values, parent, bind);\n  },\n\n\n  /**\n   * Validates a color hook\n   */\n  validate: function validate() {\n    //there must be no scale\n    if (this.scale) this.scale = null;\n\n    //use must be \"property\"\n    if (this.use != \"property\" && this.use != \"constant\") {\n      utils.warn(\"group model: use must be 'property' or 'constant'. Resetting to property...\");\n      this.use = \"property\";\n    }\n  }\n});\n\nexports.default = GroupModel;\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * VIZABI Data Model (options.data)\n */\n\nvar LabelModel = _hook2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  /**\n   * Initializes the size hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"label\";\n\n    this._super(name, values, parent, bind);\n  }\n});\n\nexports.default = LabelModel;\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _dataconnected = __webpack_require__(54);\n\nvar _dataconnected2 = _interopRequireDefault(_dataconnected);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// this and many other locale information should at some point be stored in an external file with locale information (rtl, date formats etc)\nvar rtlLocales = [\"ar\", \"ar-SA\"];\n\nvar LocaleModel = _dataconnected2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      id: \"en\",\n      filePath: \"assets/translation/\"\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  dataConnectedChildren: [\"id\"],\n  strings: {},\n\n  /**\n   * Initializes the locale model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n    this._type = \"locale\";\n\n    //same constructor, with same arguments\n    this._super(name, values, parent, bind);\n  },\n  _isLoading: function _isLoading() {\n    return !this._loadedOnce || this._loadCall;\n  },\n  preloadData: function preloadData() {\n    return this.loadData();\n  },\n  loadData: function loadData() {\n    var _this = this;\n\n    this.setReady(false);\n    this._loadCall = true;\n\n    // load new concept properties for each data source.\n    // this should be done with listeners, but the load promise can't be returned\n    // through the listeners\n\n    var promises = [];\n    utils.forEach(this._root._data, function (mdl) {\n      if (mdl._type === \"data\") promises.push(mdl.loadConceptProps());\n    });\n    promises.push(new Promise(function (resolve, reject) {\n      d3.json(_this.filePath + _this.id + \".json\", function (error, strings) {\n        if (error) return reject(error);\n        _this.handleNewStrings(strings);\n        resolve();\n      });\n    }));\n\n    return Promise.all(promises).then(function () {\n      return _this.trigger(\"translate\");\n    }).catch(function () {\n      return _this.handleLoadError();\n    });\n  },\n  handleNewStrings: function handleNewStrings(receivedStrings) {\n    this.strings[this.id] = this.strings[this.id] ? utils.extend(this.strings[this.id], receivedStrings) : receivedStrings;\n  },\n\n\n  /**\n   * Gets a certain UI string\n   * @param {String} stringId string identifier\n   * @returns {string} translated string\n   */\n  getUIString: function getUIString(stringId) {\n    if (this.strings && this.strings[this.id] && (this.strings[this.id][stringId] || this.strings[this.id][stringId] === \"\")) {\n      return this.strings[this.id][stringId];\n    }\n    if (!this.strings || !this.strings[this.id]) utils.warn(\"Strings are not loaded for the \" + this.id + \" locale. Check if translation JSON is valid\");\n    return stringId;\n  },\n\n\n  /**\n   * Gets the translation function\n   * @returns {Function} translation function\n   */\n  getTFunction: function getTFunction() {\n    var _this2 = this;\n\n    return function (stringId) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return Object.keys(payload).reduce(function (result, key) {\n        var regexp = new RegExp(\"{{\" + key + \"}}\", \"g\");\n        return result.replace(regexp, payload[key]);\n      }, _this2.getUIString(stringId));\n    };\n  },\n  isRTL: function isRTL() {\n    return rtlLocales.indexOf(this.id) !== -1;\n  }\n});\n\nexports.default = LocaleModel;\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/*!\n * HOOK MODEL\n */\n\nvar Marker = _model2.default.extend({\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      select: [],\n      highlight: [],\n      superHighlight: [],\n      opacityHighlightDim: 0.1,\n      opacitySelectDim: 0.3,\n      opacityRegular: 1,\n      allowSelectMultiple: true,\n      skipFilter: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n  init: function init(name, value, parent, binds, persistent) {\n    var _this = this;\n\n    this._visible = [];\n\n    this._super(name, value, parent, binds, persistent);\n    this.on(\"ready\", this.checkTimeLimits.bind(this));\n    this.on(\"readyOnce\", function () {\n      var exceptions = { exceptType: \"time\" };\n      var allDimensions = _this._getAllDimensions(exceptions);\n      _this._multiDim = allDimensions.length > 1;\n    });\n  },\n  setDataSourceForAllSubhooks: function setDataSourceForAllSubhooks(data) {\n    var obj = {};\n    this.getSubhooks().forEach(function (hook) {\n      obj[hook._name] = { data: data };\n    });\n    this.set(obj, null, false);\n  },\n\n\n  /**\n   * Validates the model\n   */\n  validate: function validate() {\n    var _this = this;\n    var dimension = this.getDimension();\n    var visible_array = this._visible.map(function (d) {\n      return d[dimension];\n    });\n\n    if (visible_array.length) {\n      this.select = this.select.filter(function (f) {\n        return visible_array.indexOf(f[dimension]) !== -1;\n      });\n      this.setHighlight(this.highlight.filter(function (f) {\n        return visible_array.indexOf(f[dimension]) !== -1;\n      }));\n    }\n  },\n\n\n  /**\n   * Sets the visible entities\n   * @param {Array} arr\n   */\n  setVisible: function setVisible(arr) {\n    this._visible = arr;\n  },\n\n\n  /**\n   * Gets the visible entities\n   * @returns {Array} visible\n   */\n  getVisible: function getVisible(arr) {\n    return this._visible;\n  },\n\n\n  /**\n   * Gets the selected items\n   * @returns {Array} Array of unique selected values\n   */\n  getSelected: function getSelected(dim) {\n    return dim ? this.select.map(function (d) {\n      return d[dim];\n    }) : this.select;\n  },\n  selectMarker: function selectMarker(d) {\n    var _this = this;\n    var value = this._createValue(d);\n    if (this.isSelected(d)) {\n      this.select = this.select.filter(function (d) {\n        return JSON.stringify(_this._createValue(d)) !== JSON.stringify(value);\n      });\n    } else {\n      this.select = this.allowSelectMultiple ? this.select.concat(value) : [value];\n    }\n  },\n\n\n  /**\n   * Select all entities\n   */\n  selectAll: function selectAll(timeDim, timeFormatter) {\n    if (!this.allowSelectMultiple) return;\n\n    var added = void 0;\n    var dimension = this._getFirstDimension({ exceptType: \"time\" });\n\n    this.select = this._visible.map(function (d) {\n      added = {};\n      added[dimension] = d[dimension];\n      return added;\n    });\n  },\n  isSelected: function isSelected(d) {\n    var _this = this;\n    var value = this._createValue(d);\n\n    return this.select.map(function (d) {\n      return JSON.stringify(_this._createValue(d)) === JSON.stringify(value);\n    }).indexOf(true) !== -1;\n  },\n  _createValue: function _createValue(d) {\n    var dims = this._getAllDimensions({ exceptType: \"time\" });\n    return dims.reduce(function (value, key) {\n      value[key] = d[key];\n      return value;\n    }, {});\n  },\n\n\n  /**\n   * Gets the highlighted items\n   * @returns {Array} Array of unique highlighted values\n   */\n  getHighlighted: function getHighlighted(dim) {\n    return dim ? this.highlight.map(function (d) {\n      return d[dim];\n    }) : this.highlight;\n  },\n  setHighlight: function setHighlight(arg) {\n    if (!utils.isArray(arg)) {\n      this.setHighlight([].concat(arg));\n      return;\n    }\n    this.getModelObject(\"highlight\").set(arg, false, false); // highlights are always non persistent changes\n  },\n  setSuperHighlight: function setSuperHighlight(value) {\n    this.getModelObject(\"superHighlight\").set(utils.isArray(value) ? value : [value], false, false);\n  },\n  clearSuperHighlighted: function clearSuperHighlighted() {\n    this.setSuperHighlight([]);\n  },\n  isSuperHighlighted: function isSuperHighlighted(d) {\n    var value = JSON.stringify(this._createValue(d));\n\n    return ~this.superHighlight.findIndex(function (d) {\n      return JSON.stringify(d) === value;\n    });\n  },\n  setSelect: function setSelect(arg) {\n    if (!utils.isArray(arg)) {\n      this.setSelect([].concat(arg));\n      return;\n    }\n    this.getModelObject(\"select\").set(arg);\n  },\n\n\n  //TODO: join the following 3 methods with the previous 3\n\n  /**\n   * Highlights an entity from the set\n   */\n  highlightMarker: function highlightMarker(d) {\n    var value = this._createValue(d);\n    if (!this.isHighlighted(d)) {\n      this.setHighlight(this.highlight.concat(value));\n    }\n  },\n\n\n  /**\n   * Unhighlights an entity from the set\n   */\n  unhighlightEntity: function unhighlightEntity(d) {\n    var value = this._createValue(d);\n    if (this.isHighlighted(d)) {\n      this.setHighlight(this.highlight.filter(function (d) {\n        return d[dimension] !== value;\n      }));\n    }\n  },\n\n\n  /**\n   * Checks whether an entity is highlighted from the set\n   * @returns {Boolean} whether the item is highlighted or not\n   */\n  isHighlighted: function isHighlighted(d) {\n    var _this = this;\n    var value = this._createValue(d);\n    return this.highlight.map(function (d) {\n      return JSON.stringify(_this._createValue(d)) === JSON.stringify(value);\n    }).indexOf(true) !== -1;\n  },\n\n\n  /**\n   * Clears selection of items\n   */\n  clearHighlighted: function clearHighlighted() {\n    this.setHighlight([]);\n  },\n  clearSelected: function clearSelected() {\n    this.select = [];\n  },\n  setLabelOffset: function setLabelOffset(d, xy) {\n    if (xy[0] === 0 && xy[1] === 1) return;\n\n    this.select.find(function (selectedMarker) {\n      return utils.comparePlainObjects(selectedMarker, d);\n    }).labelOffset = [Math.round(xy[0] * 1000) / 1000, Math.round(xy[1] * 1000) / 1000];\n\n    //force the model to trigger events even if value is the same\n    this.set(\"select\", this.select, true);\n  },\n  checkTimeLimits: function checkTimeLimits() {\n\n    var time = this._parent.time;\n\n    if (!time) return;\n\n    var tLimits = this.getTimeLimits();\n\n    if (!tLimits) return;\n    if (!utils.isDate(tLimits.min) || !utils.isDate(tLimits.max)) return utils.warn(\"checkTimeLimits(): min-max look wrong: \" + tLimits.min + \" \" + tLimits.max + \". Expecting Date objects. Ensure that time is properly parsed in the data from reader\");\n\n    // change start and end (but keep startOrigin and endOrigin for furhter requests)\n    var newTime = {};\n    if (time.start - tLimits.min != 0 || !time.start && !this.startOrigin) newTime[\"start\"] = d3.max([tLimits.min, time.parse(time.startOrigin)]);\n    if (time.end - tLimits.max != 0 || !time.end && !this.endOrigin) newTime[\"end\"] = d3.min([tLimits.max, time.parse(time.endOrigin)]);\n\n    time.set(newTime, false, false);\n\n    if (newTime.start || newTime.end) {\n      utils.forEach(this.getSubhooks(), function (hook) {\n        if (hook.which == \"time\") {\n          hook.buildScale();\n        }\n      });\n    }\n\n    //force time validation because time.value might now fall outside of start-end\n    time.validate();\n  },\n\n\n  /**\n   * Gets the narrowest limits of the subhooks with respect to the provided data column\n   * @param {String} attr parameter (data column)\n   * @returns {Object} limits (min and max)\n   * this function is only needed to route the \"time\" to some indicator,\n   * to adjust time start and end to the max and min time available in data\n   */\n  getTimeLimits: function getTimeLimits() {\n    var _this = this;\n    var time = this._parent.time;\n    var minArray = [],\n        maxArray = [];\n    var min = void 0,\n        max = void 0,\n        items = {};\n    if (!this.cachedTimeLimits) this.cachedTimeLimits = {};\n    utils.forEach(this.getSubhooks(), function (hook) {\n\n      //only indicators depend on time and therefore influence the limits\n      if (hook.use !== \"indicator\" || !hook._important) return;\n\n      var cachedLimits = _this.cachedTimeLimits[hook._dataId + hook.which];\n\n      if (cachedLimits) {\n        //if already calculated the limits then no ned to do it again\n        min = cachedLimits.min;\n        max = cachedLimits.max;\n      } else {\n        //otherwise calculate own date limits (a costly operation)\n        items = hook.getValidItems().map(function (m) {\n          return m[time.getDimension()];\n        });\n        if (items.length == 0) utils.warn(\"getTimeLimits() was unable to work with an empty array of valid datapoints\");\n        min = d3.min(items);\n        max = d3.max(items);\n      }\n      _this.cachedTimeLimits[hook._dataId + hook.which] = { min: min, max: max };\n      minArray.push(min);\n      maxArray.push(max);\n    });\n\n    var resultMin = d3.max(minArray);\n    var resultMax = d3.min(maxArray);\n    if (resultMin > resultMax) {\n      utils.warn(\"getTimeLimits(): Availability of the indicator's data has no intersection. I give up and just return some valid time range where you'll find no data points. Enjoy!\");\n      resultMin = d3.min(minArray);\n      resultMax = d3.max(maxArray);\n    }\n\n    //return false for the case when neither of hooks was an \"indicator\" or \"important\"\n    return !min && !max ? false : { min: resultMin, max: resultMax };\n  },\n  getImportantHooks: function getImportantHooks() {\n    var importantHooks = [];\n    utils.forEach(this._dataCube || this.getSubhooks(true), function (hook, name) {\n      if (hook._important) {\n        importantHooks.push(name);\n      }\n    });\n    return importantHooks;\n  },\n  getLabelHookNames: function getLabelHookNames() {\n    var _this = this;\n    var KEYS = utils.unique(this._getAllDimensions({ exceptType: \"time\" }));\n\n    return KEYS.map(function (key) {\n      var names = {};\n      utils.forEach(_this._dataCube || _this.getSubhooks(true), function (hook, name) {\n        if (hook._type === \"label\" && hook.getEntity().dim === key) {\n          names.label = name;\n        }\n        if (hook._type !== \"label\" && hook.getEntity().dim === key) {\n          names.key = name;\n        }\n        return !names.label || !names.key;\n      });\n      return names.label || names.key;\n    });\n  },\n  getKeysMD: function getKeysMD() {\n    var _this = this;\n    var resultKeys = [];\n\n    var KEYS = utils.unique(this._getAllDimensions({ exceptType: \"time\" }));\n    var TIME = this._getFirstDimension({ type: \"time\" });\n\n    utils.forEach(this._dataCube || this.getSubhooks(true), function (hook, name) {\n      if (hook.use === \"constant\" || hook.use === \"property\" || !hook._important) return;\n\n      var nested = hook.getNestedItems(KEYS.concat(TIME));\n\n      iterateKeys({}, nested, KEYS, 0, KEYS.length - 1);\n\n      function iterateKeys(keyObj, nested, keyNames, deep, deepMax) {\n        var keys = Object.keys(nested);\n        if (deep < deepMax) {\n          var _deep = deep + 1;\n          for (var i = 0, j = keys.length; i < j; i++) {\n            var _keyObj = {};\n            _keyObj[keyNames[deep]] = keys[i];\n            iterateKeys(_keyObj, nested[keys[i]], keyNames, _deep, deepMax);\n          }\n        } else {\n          resultKeys.push.apply(resultKeys, _toConsumableArray(keys.map(function (key) {\n            var obj = Object.assign({}, keyObj);\n            obj[keyNames[deep]] = key;\n            return obj;\n          })));\n        }\n      }\n    });\n\n    return resultKeys;\n  },\n\n  /**\n   * Computes the intersection of keys in all hooks: a set of keys that have data in each hook\n   * @returns array of keys that have data in all hooks of this._datacube\n   */\n  getKeys: function getKeys(KEY) {\n    var _this = this;\n    var resultKeys = [];\n\n    KEY = KEY || this._getFirstDimension();\n    var TIME = this._getFirstDimension({ type: \"time\" });\n\n    var grouping = this._getGrouping();\n\n    utils.forEach(this._dataCube || this.getSubhooks(true), function (hook, name) {\n\n      // If hook use is constant, then we can provide no additional info about keys\n      // We can just hope that we have something else than constants =)\n      if (hook.use === \"constant\") return;\n\n      // Get keys in data of this hook\n      var nested = hook.getNestedItems([KEY, TIME]);\n      var noDataPoints = hook.getHaveNoDataPointsPerKey();\n\n      if (nested[\"undefined\"]) delete nested[\"undefined\"];\n\n      var keys = Object.keys(nested);\n      var keysNoDP = Object.keys(noDataPoints || []);\n\n      if (keys.length > 0 && grouping && grouping.key === KEY) {\n        var _grouping = grouping.grouping;\n        keys = keys.filter(function (key) {\n          return +key % _grouping === 0;\n        });\n      }\n      // If ain't got nothing yet, set the list of keys to result\n      if (resultKeys.length == 0) resultKeys = keys;\n\n      // Remove the keys from it that are not in this hook\n      if (hook._important) resultKeys = resultKeys.filter(function (f) {\n        return keys.indexOf(f) > -1 && keysNoDP.indexOf(f) == -1;\n      });\n    });\n    return resultKeys.map(function (d) {\n      var r = {};r[KEY] = d;return r;\n    });\n  },\n\n\n  /**\n   * @param {Array} entities array of entities\n   * @return String\n   */\n  _getCachePath: function _getCachePath(keys) {\n    //array of steps -- names of all frames\n    var steps = this._parent.time.getAllSteps();\n    var cachePath = this.getClosestModel(\"locale\").id + \" - \" + steps[0] + \" - \" + steps[steps.length - 1];\n    this._dataCube = this._dataCube || this.getSubhooks(true);\n    var dataLoading = false;\n    var grouping = this._getGrouping();\n    utils.forEach(this._dataCube, function (hook, name) {\n      if (hook._loadCall) dataLoading = true;\n      cachePath = cachePath + \"_\" + hook._dataId + hook.which;\n    });\n    if (dataLoading) {\n      return null;\n    }\n    if (grouping) {\n      cachePath = cachePath + \"_grouping_\" + grouping.key + \":\" + grouping.grouping;\n    }\n    if (keys) {\n      cachePath = cachePath + \"_\" + keys.join(\",\");\n    }\n    return cachePath;\n  },\n  _getGrouping: function _getGrouping() {\n    var subHooks = this._dataCube || this.getSubhooks(true);\n    var space = subHooks[Object.keys(subHooks)[0]]._space;\n    var result = {};\n    utils.forEach(space, function (entities) {\n      if (entities.grouping) {\n        result.grouping = entities.grouping;\n        result.key = entities.dim;\n        return false;\n      }\n    });\n    return result.grouping ? result : false;\n  },\n  _getAllDimensions: function _getAllDimensions(opts) {\n\n    var models = [];\n    var _this = this;\n    utils.forEach(this.space, function (name) {\n      models.push(_this.getClosestModel(name));\n    });\n\n    opts = opts || {};\n    var dims = [];\n    var dim = void 0;\n\n    utils.forEach(models, function (m) {\n      if (opts.exceptType && m.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && m.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (dim = m.getDimension()) {\n        dims.push(dim);\n      }\n    });\n\n    return dims;\n  },\n\n\n  /**\n   * gets first dimension that matches type\n   * @param {Object} options\n   * @returns {Array} all unique dimensions\n   */\n  _getFirstDimension: function _getFirstDimension(opts) {\n    var models = [];\n    var _this = this;\n    utils.forEach(this.space, function (name) {\n      models.push(_this.getClosestModel(name));\n    });\n\n    opts = opts || {};\n\n    var dim = false;\n    utils.forEach(models, function (m) {\n      if (opts.exceptType && m.getType() !== opts.exceptType) {\n        dim = m.getDimension();\n        return false;\n      } else if (opts.type && m.getType() === opts.type) {\n        dim = m.getDimension();\n        return false;\n      } else if (!opts.exceptType && !opts.type) {\n        dim = m.getDimension();\n        return false;\n      }\n    });\n    return dim;\n  },\n  framesAreReady: function framesAreReady() {\n    var cachePath = this._getCachePath();\n    if (!this.cachedFrames) return false;\n    return Object.keys(this.cachedFrames[cachePath]).length == this._parent.time.getAllSteps().length;\n  },\n\n\n  /**\n   *\n   * @param {String|null} time of a particularly requested data frame. Null if all frames are requested\n   * @param {function} cb\n   * @param {Array} keys array of entities\n   * @return null\n   */\n  getFrame: function getFrame(time, cb, keys) {\n    //keys = null;\n    var _this = this;\n    if (!this.cachedFrames) this.cachedFrames = {};\n\n    var steps = this._parent.time.getAllSteps();\n    // try to get frame from cache without keys\n    var cachePath = this._getCachePath();\n    if (!cachePath) return cb(null, time);\n    if (time && _this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n      // if it does, then return that frame directly and stop here\n      //QUESTION: can we call the callback and return the frame? this will allow callbackless API too\n      return cb(_this.cachedFrames[cachePath][time], time);\n    }\n    cachePath = this._getCachePath(keys);\n    if (!cachePath) return cb(null, time);\n\n    // check if the requested time point has a cached animation frame\n    if (time && _this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n      // if it does, then return that frame directly and stop here\n      //QUESTION: can we call the callback and return the frame? this will allow callbackless API too\n      return cb(_this.cachedFrames[cachePath][time], time);\n    }\n\n    // if it doesn't (the requested time point falls between animation frames or frame is not cached yet)\n    // check if interpolation makes sense: we've requested a particular time and we have more than one frame\n    if (time && steps.length > 1) {\n\n      //find the next frame after the requested time point\n      var nextFrameIndex = d3.bisectLeft(steps, time);\n\n      if (!steps[nextFrameIndex]) {\n        utils.warn(\"The requested frame is out of range: \" + time);\n        cb(null, time);\n        return null;\n      }\n\n      //if \"time\" doesn't hit the frame precisely\n      if (steps[nextFrameIndex].toString() != time.toString()) {\n\n        //interpolate between frames and fire the callback\n        this._interpolateBetweenFrames(time, nextFrameIndex, steps, function (response) {\n          cb(response, time);\n        }, keys);\n        return null;\n      }\n    }\n\n    //QUESTION: we don't need any further execution after we called for interpolation, right?\n    //request preparing the data, wait until it's done\n    _this.getFrames(time, keys).then(function () {\n      if (!time && _this.cachedFrames[cachePath]) {\n        //time can be null: then return all frames\n        return cb(_this.cachedFrames[cachePath], time);\n      } else if (_this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n        //time can be !null: then a particular frame calculation was forced and now it's done\n        return cb(_this.cachedFrames[cachePath][time], time);\n      }\n      utils.warn(\"marker.js getFrame: Data is not available for frame: \" + time);\n      return cb(null, time);\n    });\n  },\n  _interpolateBetweenFrames: function _interpolateBetweenFrames(time, nextFrameIndex, steps, cb, keys) {\n    var _this = this;\n\n    if (nextFrameIndex == 0) {\n      //getFrame makes sure the frane is ready because a frame with non-existing data might be adressed\n      this.getFrame(steps[nextFrameIndex], function (values) {\n        return cb(values);\n      }, keys);\n    } else {\n      var prevFrameTime = steps[nextFrameIndex - 1];\n      var nextFrameTime = steps[nextFrameIndex];\n\n      //getFrame makes sure the frane is ready because a frame with non-existing data might be adressed\n      this.getFrame(prevFrameTime, function (pValues) {\n        _this.getFrame(nextFrameTime, function (nValues) {\n          var fraction = (time - prevFrameTime) / (nextFrameTime - prevFrameTime);\n          var dataBetweenFrames = {};\n\n          //loop across the hooks\n          utils.forEach(pValues, function (values, hook) {\n            dataBetweenFrames[hook] = {};\n\n            if (_this._multiDim && _this[hook].use == \"indicator\") {\n              var hookDataBF = dataBetweenFrames[hook];\n              var query = _this[hook].dataSource.getData(_this[hook]._dataId, \"query\");\n              var TIME = query.animatable;\n              var KEY = query.select.key.slice(0);\n              if (TIME && KEY.indexOf(TIME) != -1) KEY.splice(KEY.indexOf(TIME), 1);\n\n              var lastIndex = KEY.length - 1;\n              var iterateKeys = function iterateKeys(firstKeyObject, lastKeyObject, firstKey, pValues, nValues, index) {\n                var keys = Object.keys(pValues);\n                for (var i = 0, j = keys.length; i < j; i++) {\n                  if (index == 0) {\n                    firstKey = keys[i]; //root level\n                  }\n                  if (index == lastIndex) {\n                    mapValue(hookDataBF, firstKey, keys[i], firstKeyObject, lastKeyObject, pValues[keys[i]], nValues[keys[i]]);\n                  } else {\n                    if (index == 0) {\n                      lastKeyObject = firstKeyObject = {};\n                    }\n                    var nextIndex = index + 1;\n                    lastKeyObject[keys[i]] = {};\n                    iterateKeys(firstKeyObject, lastKeyObject[keys[i]], firstKey, pValues[keys[i]], nValues[keys[i]], nextIndex);\n                  }\n                }\n              };\n\n              iterateKeys(null, null, null, values, nValues[hook], 0);\n            } else {\n              //loop across the entities\n              utils.forEach(values, function (val1, key) {\n                var val2 = nValues[hook][key];\n                if (utils.isDate(val1)) {\n                  dataBetweenFrames[hook][key] = time;\n                } else if (!utils.isNumber(val1)) {\n                  //we can be interpolating string values\n                  dataBetweenFrames[hook][key] = val1;\n                } else {\n                  //interpolation between number and null should rerurn null, not a value in between (#1350)\n                  dataBetweenFrames[hook][key] = val1 == null || val2 == null ? null : val1 + (val2 - val1) * fraction;\n                }\n              });\n            }\n          });\n          cb(dataBetweenFrames);\n\n          function mapValue(hookDataBF, firstKey, lastKey, firstKeyObject, lastKeyObject, val1, val2) {\n            hookDataBF[firstKey] = firstKeyObject[firstKey];\n            if (utils.isDate(val1)) {\n              lastKeyObject[lastKey] = time;\n            } else if (!utils.isNumber(val1)) {\n              //we can be interpolating string values\n              lastKeyObject[lastKey] = val1;\n            } else {\n              //interpolation between number and null should rerurn null, not a value in between (#1350)\n              lastKeyObject[lastKey] = val1 == null || val2 == null ? null : val1 + (val2 - val1) * fraction;\n            }\n          }\n        }, keys);\n      }, keys);\n    }\n  },\n  getFrames: function getFrames(forceFrame, selected) {\n    var _this = this;\n    if (!this.cachedFrames) this.cachedFrames = {};\n\n    var KEY = this._getFirstDimension();\n    var TIME = this._getFirstDimension({ type: \"time\" });\n\n    if (!this.frameQueues) this.frameQueues = {}; //static queue of frames\n    if (!this.partialResult) this.partialResult = {};\n\n    //array of steps -- names of all frames\n    var steps = this._parent.time.getAllSteps();\n\n    var cachePath = this._getCachePath(selected);\n    if (!cachePath) return new Promise(function (resolve, reject) {\n      resolve();\n    });\n    //if the collection of frames for this data cube is not scheduled yet (otherwise no need to repeat calculation)\n    if (!this.frameQueues[cachePath] || !(this.frameQueues[cachePath] instanceof Promise)) {\n\n      //this is a promise nobody listens to - it prepares all the frames we need without forcing any\n      this.frameQueues[cachePath] = new Promise(function (resolve, reject) {\n\n        _this.partialResult[cachePath] = {};\n        steps.forEach(function (t) {\n          _this.partialResult[cachePath][t] = {};\n        });\n\n        // Assemble the list of keys as an intersection of keys in all queries of all hooks\n        var keys = _this.getKeys();\n\n        var deferredHooks = [];\n        // Assemble data from each hook. Each frame becomes a vector containing the current configuration of hooks.\n        // frame -> hooks -> entities: values\n        utils.forEach(_this._dataCube, function (hook, name) {\n          if (hook.use === \"constant\") {\n            //special case: fill data with constant values\n            steps.forEach(function (t) {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(function (key) {\n                _this.partialResult[cachePath][t][name][key[KEY]] = hook.which;\n              });\n            });\n          } else if (hook.which === KEY) {\n            //special case: fill data with keys to data itself\n            steps.forEach(function (t) {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(function (key) {\n                _this.partialResult[cachePath][t][name][key[KEY]] = key[KEY];\n              });\n            });\n          } else if (hook.which === TIME) {\n            //special case: fill data with time points\n            steps.forEach(function (t) {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(function (key) {\n                _this.partialResult[cachePath][t][name][key[KEY]] = new Date(t);\n              });\n            });\n          } else {\n            //calculation of async frames is taken outside the loop\n            //hooks with real data that needs to be fetched from datamanager\n            deferredHooks.push(hook);\n          }\n        });\n\n        //check if we have any data to get from datamanager\n        if (deferredHooks.length > 0) {\n          var promises = [];\n          utils.forEach(deferredHooks, function (hook) {\n            promises.push(new Promise(function (res, rej) {\n              // need to save the hook state before calling getFrames.\n              // `hook` state might change between calling and resolving the call.\n              // The result needs to be saved to the correct cache, so we need to save current hook state\n              var currentHookState = {\n                name: hook._name,\n                which: hook.which\n              };\n              hook.getFrames(steps, selected).then(function (response) {\n                utils.forEach(response, function (frame, t) {\n                  _this.partialResult[cachePath][t][currentHookState.name] = frame[currentHookState.which];\n                });\n                res();\n              });\n            }));\n          });\n          Promise.all(promises).then(function () {\n            _this.cachedFrames[cachePath] = _this.partialResult[cachePath];\n            resolve();\n          });\n        } else {\n          _this.cachedFrames[cachePath] = _this.partialResult[cachePath];\n          resolve();\n        }\n      });\n    }\n    return new Promise(function (resolve, reject) {\n      if (steps.length < 2 || !forceFrame) {\n        //wait until the above promise is resolved, then resolve the current promise\n        _this.frameQueues[cachePath].then(function () {\n          resolve(); //going back to getFrame(), to \".then\"\n        });\n      } else {\n        var promises = [];\n        utils.forEach(_this._dataCube, function (hook, name) {\n          //exception: we know that these are knonwn, no need to calculate these\n          if (hook.use !== \"constant\" && hook.which !== KEY && hook.which !== TIME) {\n            (function (_hook, _name) {\n              promises.push(new Promise(function (res, rej) {\n                _hook.getFrame(steps, forceFrame, selected).then(function (response) {\n                  _this.partialResult[cachePath][forceFrame][_name] = response[forceFrame][_hook.which];\n                  res();\n                });\n              }));\n            })(hook, name); //isolate this () code with its own hook and name\n          }\n        });\n        if (promises.length > 0) {\n          Promise.all(promises).then(function () {\n            if (!_this.cachedFrames[cachePath]) {\n              _this.cachedFrames[cachePath] = {};\n            }\n            _this.cachedFrames[cachePath][forceFrame] = _this.partialResult[cachePath][forceFrame];\n            resolve();\n          });\n        }\n      }\n    });\n  },\n  listenFramesQueue: function listenFramesQueue(keys, cb) {\n    var _this = this;\n    var KEY = this._getFirstDimension();\n    var TIME = this._getFirstDimension({ type: \"time\" });\n    var steps = this._parent.time.getAllSteps();\n    var preparedFrames = {};\n    this.getFrames();\n    var dataIds = [];\n\n    var stepsCount = steps.length;\n    var isDataLoaded = false;\n\n    utils.forEach(_this._dataCube, function (hook, name) {\n      if (!(hook.use === \"constant\" || hook.which === KEY || hook.which === TIME)) {\n        if (!dataIds.includes(hook._dataId)) {\n          dataIds.push(hook._dataId);\n\n          hook.dataSource.listenFrame(hook._dataId, steps, keys, function (dataId, time) {\n            var keyName = time.toString();\n            if (typeof preparedFrames[keyName] === \"undefined\") preparedFrames[keyName] = [];\n            if (!preparedFrames[keyName].includes(dataId)) preparedFrames[keyName].push(dataId);\n            if (preparedFrames[keyName].length === dataIds.length) {\n              if (!isDataLoaded && stepsCount === Object.keys(preparedFrames).length) {\n                isDataLoaded = true;\n                _this.trigger(\"dataLoaded\");\n              }\n\n              cb(time);\n            }\n          });\n        }\n      }\n    });\n  },\n  getEntityLimits: function getEntityLimits(entity) {\n    var _this = this;\n    var timePoints = this._parent.time.getAllSteps();\n    var selectedEdgeTimes = [];\n    var hooks = [];\n    utils.forEach(_this.getSubhooks(), function (hook) {\n      if (hook.use == \"constant\") return;\n      if (hook._important) hooks.push(hook._name);\n    });\n\n    var findEntityWithCompleteHooks = function findEntityWithCompleteHooks(values) {\n      if (!values) return false;\n      for (var i = 0, j = hooks.length; i < j; i++) {\n        if (!(values[hooks[i]][entity] || values[hooks[i]][entity] === 0)) return false;\n      }\n      return true;\n    };\n\n    var findSelectedTime = function findSelectedTime(iterator, findCB) {\n      var point = iterator();\n      if (point == null) return;\n      _this.getFrame(timePoints[point], function (values) {\n        if (findEntityWithCompleteHooks(values)) {\n          findCB(point);\n        } else {\n          findSelectedTime(iterator, findCB);\n        }\n      });\n    };\n    var promises = [];\n    promises.push(new Promise(function (resolve, reject) {\n\n      //find startSelected time\n      findSelectedTime(function () {\n        var max = timePoints.length;\n        var i = 0;\n        return function () {\n          return i < max ? i++ : null;\n        };\n      }(), function (point) {\n        selectedEdgeTimes[0] = timePoints[point];\n        resolve();\n      });\n    }));\n\n    promises.push(new Promise(function (resolve, reject) {\n\n      //find endSelected time\n      findSelectedTime(function () {\n        var i = timePoints.length - 1;\n        return function () {\n          return i >= 0 ? i-- : null;\n        };\n      }(), function (point) {\n        selectedEdgeTimes[1] = timePoints[point];\n        resolve();\n      });\n    }));\n\n    return Promise.all(promises).then(function () {\n      return { \"min\": selectedEdgeTimes[0], \"max\": selectedEdgeTimes[1] };\n    });\n  },\n\n\n  /**\n   * Learn what this model should hook to\n   * @returns {Array} space array\n   */\n  getSpace: function getSpace() {\n    if (utils.isArray(this.space)) {\n      return this.space;\n    }\n\n    utils.error('ERROR: space not found.\\n You must specify the objects this hook will use under the \"space\" attribute in the state.\\n Example:\\n space: [\"entities\", \"time\"]');\n  }\n});\n\nexports.default = Marker;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * VIZABI Data Model (options.data)\n */\n\nvar SideModel = _hook2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  /**\n   * Initializes the size hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"side\";\n\n    bind[\"readyOnce\"] = this.readyOnce;\n\n    this.state = { left: {}, right: {} };\n    this._super(name, values, parent, bind);\n  },\n  readyOnce: function readyOnce() {\n    if (!this.spaceRef) return;\n    var dataConnChildren = this._space[this.spaceRef].dataConnectedChildren.slice(0);\n    dataConnChildren.splice(dataConnChildren.indexOf(\"show\"), 1);\n    this._space[this.spaceRef].dataConnectedChildren = dataConnChildren;\n  },\n  switchSideState: function switchSideState() {\n    var left = this.state.left;\n    this.state.left = this.state.right;\n    this.state.right = left;\n  },\n  clearSideState: function clearSideState() {\n    this.state = { left: {}, right: {} };\n  }\n});\n\nexports.default = SideModel;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _axis = __webpack_require__(100);\n\nvar _axis2 = _interopRequireDefault(_axis);\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * VIZABI Size Model\n */\n\nvar SizeModel = _axis2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null,\n      domainMin: null,\n      domainMax: null,\n      zoomedMin: null,\n      zoomedMax: null,\n      extent: [0, 0.85],\n      scaleType: null,\n      allow: {\n        scales: [\"ordinal\", \"linear\", \"log\", \"genericLog\", \"pow\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  _type: \"size\",\n\n  buildScale: function buildScale() {\n    //do whatever axis.buildScale does\n    this._super();\n    //but then also clamp a numeric scale\n    if (this.scaleType !== \"ordinal\") this.scale.clamp(true);\n  },\n  autoGenerateModel: function autoGenerateModel() {\n    if (this.which == null) {\n      var concept = void 0;\n      if (this.autogenerate) {\n        concept = this.dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n        if (concept) {\n          this.which = concept.concept;\n          this.use = \"indicator\";\n          this.scaleType = \"linear\";\n        }\n      }\n      if (!concept) {\n        this.which = \"_default\";\n        this.use = \"constant\";\n        this.scaleType = \"ordinal\";\n      }\n    }\n    if (this.scaleType == null) {\n      this.scaleType = this.dataSource.getConceptprops(this.which).scales[0];\n    }\n  }\n});\n\nexports.default = SizeModel;\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _hook = __webpack_require__(37);\n\nvar _hook2 = _interopRequireDefault(_hook);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * VIZABI Stack Model\n */\n\nvar palettes = {\n  \"ALL\": \"all\",\n  _default: \"none\"\n};\n\nvar StackModel = _hook2.default.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      use: null,\n      which: null,\n      merge: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  /**\n   * Initializes the stack hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"model\";\n\n    this._super(name, values, parent, bind);\n  },\n\n\n  /**\n   * Validates a color hook\n   */\n  validate: function validate() {\n    //there must be no scale\n    if (this.scale) this.scale = null;\n\n    //use must not be \"indicator\"\n    if (this.use === \"indicator\") {\n      utils.warn(\"stack model: use must not be 'indicator'. Resetting use to 'constant' and which to '\" + palettes._default);\n      this.use = \"constant\";\n      this.which = palettes._default;\n    }\n\n    //if use is \"constant\"\n    if (this.use === \"constant\" && utils.values(palettes).indexOf(this.which) == -1) {\n      utils.warn(\"stack model: the requested value '\" + this.which + \"' is not allowed. resetting to '\" + palettes._default);\n      this.which == palettes._default;\n    }\n  },\n\n\n  /**\n   * Get the above constants\n   */\n  getPalettes: function getPalettes() {\n    return palettes;\n  },\n\n\n  /**\n   * There must be no scale\n   */\n  buildScale: function buildScale() {}\n});\n\nexports.default = StackModel;\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _dataconnected = __webpack_require__(54);\n\nvar _dataconnected2 = _interopRequireDefault(_dataconnected);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI Time Model\n */\n\n// short-cut for developers to get UTC date strings\n// not meant to be used in code!!!\nDate.prototype.utc = Date.prototype.toUTCString;\n\n/*\n * Time formats for internal data\n * all in UTC\n */\nvar formats = {\n  \"year\": { data: d3.time.format.utc(\"%Y\"), ui: d3.time.format.utc(\"%Y\") },\n  \"month\": { data: d3.time.format.utc(\"%Y-%m\"), ui: d3.time.format.utc(\"%b %Y\") }, // month needs separator according to ISO to not confuse YYYYMM with YYMMDD\n  \"day\": { data: d3.time.format.utc(\"%Y%m%d\"), ui: d3.time.format.utc(\"%c\") },\n  \"hour\": { data: d3.time.format.utc(\"%Y%m%dT%H\"), ui: d3.time.format.utc(\"%b %d %Y, %H\") },\n  \"minute\": { data: d3.time.format.utc(\"%Y%m%dT%H%M\"), ui: d3.time.format.utc(\"%b %d %Y, %H:%M\") },\n  \"second\": { data: d3.time.format.utc(\"%Y%m%dT%H%M%S\"), ui: d3.time.format.utc(\"%b %d %Y, %H:%M:%S\") },\n  \"week\": { data: weekFormat(), ui: weekFormat() }, // %Yw%W d3 week format does not comply with ISO\n  \"quarter\": { data: quarterFormat(), ui: quarterFormat() // %Yq%Q d3 does not support quarters\n  } };\n\nvar TimeModel = _dataconnected2.default.extend({\n\n  objectLeafs: [\"autogenerate\"],\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      dim: null,\n      value: null,\n      start: null,\n      end: null,\n      startOrigin: null,\n      endOrigin: null,\n      startSelected: null,\n      endSelected: null,\n      playable: true,\n      playing: false,\n      loop: false,\n      round: \"round\",\n      delay: 150, //delay between animation frames\n      delayThresholdX2: 90, //delay X2 boundary: if less -- then every other frame will be dropped and animation dely will be double the value\n      delayThresholdX4: 45, //delay X4 boundary: if less -- then 3/4 frame will be dropped and animation dely will be 4x the value\n      unit: \"year\",\n      format: { data: null, ui: null }, // overwrite of default formats\n      step: 1, //step must be integer, and expressed in units\n      immediatePlay: true,\n      record: false,\n      offset: 0\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  dataConnectedChildren: [\"startOrigin\", \"endOrigin\", \"dim\"],\n\n  /**\n   * Initializes the locale model.\n   * @param {String} name\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init: function init(name, values, parent, bind) {\n    this._type = \"time\";\n\n    //same constructor\n    this._super(name, values, parent, bind);\n    var _this = this;\n    this.initFormatters();\n    this.dragging = false;\n    this.postponePause = false;\n    this.allSteps = {};\n    this.delayAnimations = this.delay;\n\n    //bing play method to model change\n    this.on({\n\n      \"change:playing\": function changePlaying() {\n        if (_this.playing === true) {\n          _this._startPlaying();\n        } else {\n          _this._stopPlaying();\n        }\n      },\n\n      \"change:format\": function changeFormat() {\n        _this.initFormatters();\n      }\n\n    });\n  },\n  initFormatters: function initFormatters() {\n    if (formats[this.unit]) {\n      this.formatters = formats[this.unit];\n    }\n    // specifically set formats overwrite unit defaults\n    if (typeof this.format === \"string\") {\n      this.formatters.data = this.formatters.ui = d3.time.format.utc(this.format);\n    } else {\n      if (this.format.data) {\n        this.formatters.data = d3.time.format.utc(this.format.data);\n      }\n      if (this.format.ui) {\n        this.formatters.ui = d3.time.format.utc(this.format.ui);\n      }\n    }\n    this.validateFormatting();\n  },\n  afterPreload: function afterPreload() {\n    if (this.dim == null && this.autogenerate) {\n      var dataSource = this.getClosestModel(this.autogenerate.data);\n      this.dim = dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType).concept;\n    }\n  },\n\n\n  /**\n   * Formats value, start and end dates to actual Date objects\n   */\n  _formatToDates: function _formatToDates() {\n    var persistentValues = [\"value\"];\n    var date_attr = [\"value\", \"start\", \"end\", \"startSelected\", \"endSelected\"];\n    for (var i = 0; i < date_attr.length; i++) {\n      var attr = date_attr[i];\n      if (!utils.isDate(this[attr])) {\n        var date = this.parse(this[attr]);\n        this.set(attr, date, null, persistentValues.indexOf(attr) !== -1);\n      }\n    }\n  },\n\n\n  /*\n   * Formatting and parsing functions\n   * @param {Date} dateObject\n   * @param {String} type Either data or ui.\n   * @returns {String}\n   */\n  formatDate: function formatDate(dateObject) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"data\";\n\n    if ([\"data\", \"ui\"].indexOf(type) === -1) {\n      utils.warn(\"Time.formatDate type parameter (\" + type + ') invalid. Using \"data\".');\n      type = data;\n    }\n    if (dateObject == null) return null;\n    return this.formatters[type](dateObject);\n  },\n\n  /* parse to predefined unit */\n  parse: function parse(timeString) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"data\";\n\n    if (timeString == null) return null;\n    return this.formatters[type].parse(timeString.toString());\n  },\n\n\n  /* auto-determines unit from timestring */\n  findFormat: function findFormat(timeString) {\n    var keys = Object.keys(formats);\n    for (var i = 0; i < keys.length; i++) {\n      var dateObject = formats[keys[i]].data.parse(timeString);\n      if (dateObject) return { unit: keys[i], time: dateObject, type: \"data\" };\n      dateObject = formats[keys[i]].ui.parse(timeString);\n      if (dateObject) return { unit: keys[i], time: dateObject, type: \"ui\" };\n    }\n    return null;\n  },\n\n\n  /**\n   * Validates the model\n   */\n  validate: function validate() {\n\n    //check if time start and end are not defined but start and end origins are defined\n    if (this.start == null && this.startOrigin) this.set(\"start\", this.startOrigin, null, false);\n    if (this.end == null && this.endOrigin) this.set(\"end\", this.endOrigin, null, false);\n\n    if (this.formatters) {\n      this.validateFormatting();\n    }\n\n    //unit has to be one of the available_time_units\n    if (!formats[this.unit]) {\n      utils.warn(this.unit + ' is not a valid time unit, using \"year\" instead.');\n      this.unit = \"year\";\n    }\n\n    if (this.step < 1) {\n      this.step = 1;\n    }\n\n    //end has to be >= than start\n    if (this.end < this.start && this.start != null) {\n      this.set(\"end\", new Date(this.start), null, false);\n    }\n\n    if (this.value < this.startSelected && this.startSelected != null) {\n      this.value = new Date(this.startSelected);\n    }\n\n    if (this.value > this.endSelected && this.endSelected != null) {\n      this.value = new Date(this.endSelected);\n    }\n    if (this.splash === false) {\n      if ((!this.startSelected || this.startSelected < this.start) && this.start != null) {\n        this.set({ startSelected: new Date(this.start) }, null, false /*make change non-persistent for URL and history*/);\n      }\n\n      if ((!this.endSelected || this.endSelected > this.end) && this.end != null) {\n        this.set({ endSelected: new Date(this.end) }, null, false /*make change non-persistent for URL and history*/);\n      }\n    }\n\n    //value has to be between start and end\n    if (this.value < this.start && this.start != null) {\n      this.value = new Date(this.start);\n    } else if (this.value > this.end && this.end != null) {\n      this.value = new Date(this.end);\n    }\n\n    if (this.playable === false && this.playing === true) {\n      this.set(\"playing\", false, null, false);\n    }\n  },\n  validateFormatting: function validateFormatting() {\n    // default to current date. Other option: newTime['start'] || newTime['end'] || time.start || time.end;\n    if (this.value == null) this.set(\"value\", this.parse(this.formatDate(new Date())), null, false);\n\n    //make sure dates are transformed into dates at all times\n    if (!utils.isDate(this.start) || !utils.isDate(this.end) || !utils.isDate(this.value) || !utils.isDate(this.startSelected) || !utils.isDate(this.endSelected)) {\n      this._formatToDates();\n    }\n  },\n\n\n  /**\n   * Plays time\n   */\n  play: function play() {\n    this._startPlaying();\n  },\n\n\n  /**\n   * Pauses time\n   */\n  pause: function pause(soft) {\n    if (soft) {\n      this.postponePause = true;\n    } else {\n      if (this.playing) {\n        this.set(\"playing\", false, null, false);\n        this.set(\"value\", this.value, true, true);\n      }\n    }\n  },\n\n\n  /**\n   * Indicates dragging of time\n   */\n  dragStart: function dragStart() {\n    this.dragging = true;\n  },\n  dragStop: function dragStop() {\n    this.dragging = false;\n  },\n\n\n  /**\n   * gets time range\n   * @returns range between start and end\n   */\n  getRange: function getRange() {\n    var is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].range(this.start, this.end, is.step);\n  },\n\n\n  /**\n   * gets the d3 interval and stepsize for d3 time interval methods\n   * D3's week-interval starts on sunday and d3 does not support a quarter interval\n   **/\n  getIntervalAndStep: function getIntervalAndStep() {\n    var d3Interval = void 0,\n        step = void 0;\n    switch (this.unit) {\n      case \"week\":\n        d3Interval = \"monday\";step = this.step;break;\n      case \"quarter\":\n        d3Interval = \"month\";step = this.step * 3;break;\n      default:\n        d3Interval = this.unit;step = this.step;break;\n    }\n    return { interval: utils.capitalize(d3Interval), step: step };\n  },\n\n\n  /**\n   * Gets filter for time\n   * @param {Boolean} splash: get filter for current year only\n   * @returns {Object} time filter\n   */\n  getFilter: function getFilter(splash) {\n    var defaultStart = this.parse(this.startOrigin);\n    var defaultEnd = this.parse(this.endOrigin);\n\n    var dim = this.getDimension();\n    var filter = null;\n\n    if (splash) {\n      if (this.value != null) {\n        filter = {};\n        filter[dim] = this.formatters.data(this.value);\n      }\n    } else {\n      var gte = void 0,\n          lte = void 0;\n      if (defaultStart != null) {\n        gte = this.formatters.data(defaultStart);\n      }\n      if (defaultEnd != null) {\n        lte = this.formatters.data(defaultEnd);\n      }\n      if (gte || lte) {\n        filter = {};\n        filter[dim] = {};\n        if (gte) filter[dim][\"$gte\"] = gte;\n        if (lte) filter[dim][\"$lte\"] = lte;\n      }\n    }\n    return filter;\n  },\n\n\n  /**\n   * Gets parser for this model\n   * @returns {Function} parser function\n   */\n  getParser: function getParser() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"data\";\n\n    return this.formatters[type].parse;\n  },\n\n\n  /**\n  * Gets formatter for this model\n  * @returns {Function} formatter function\n  */\n  getFormatter: function getFormatter() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"data\";\n\n    return this.formatters[type];\n  },\n\n\n  /**\n   * Gets an array with all time steps for this model\n   * @returns {Array} time array\n   */\n  getAllSteps: function getAllSteps() {\n    if (!this.start || !this.end) {\n      utils.warn(\"getAllSteps(): invalid start/end time is detected: \" + this.start + \", \" + this.end);\n      return [];\n    }\n    var hash = \"\" + this.offset + this.start + this.end + this.step;\n\n    //return if cached\n    if (this.allSteps[hash]) return this.allSteps[hash];\n\n    this.allSteps[hash] = [];\n    var is = this.getIntervalAndStep();\n    var curr = d3[\"utc\" + is.interval].offset(this.start, this.offset);\n    while (+curr <= +this.end) {\n      var _is = this.getIntervalAndStep();\n      this.allSteps[hash].push(curr);\n      curr = d3[\"utc\" + _is.interval].offset(curr, _is.step);\n    }\n    return this.allSteps[hash];\n  },\n\n\n  /**\n   * Snaps the time to integer\n   * possible inputs are \"start\", \"end\", \"value\". \"value\" is default\n   */\n  snap: function snap(what) {\n    if (!this.round) return;\n    if (what == null) what = \"value\";\n    var op = \"round\";\n    if (this.round === \"ceil\") op = \"ceil\";\n    if (this.round === \"floor\") op = \"floor\";\n    var is = this.getIntervalAndStep();\n    var time = d3[\"utc\" + is.interval][op](this[what]);\n    if (this.value - time != 0 || this.value - this.start == 0 || this.value - this.end == 0) {\n      this.set(what, time, true); //3rd argumennt forces update\n    }\n  },\n\n\n  /**\n   * Starts playing the time, initializing the interval\n   */\n  _startPlaying: function _startPlaying() {\n    //don't play if it's not playable\n    if (!this.playable) return;\n\n    var _this = this;\n\n    //go to start if we start from end point\n    if (this.value >= this.endSelected) {\n      _this.getModelObject(\"value\").set(_this.startSelected, null, false /*make change non-persistent for URL and history*/);\n    } else {\n      //the assumption is that the time is already snapped when we start playing\n      //because only dragging the timeslider can un-snap the time, and it snaps on drag.end\n      //so we don't need this line. let's see if we survive without.\n      //as a consequence, the first time update in playing sequence will have this.playing flag up\n      //so the bubble chart will zoom in smoothly. Closes #1213\n      //this.snap();\n    }\n    this.set(\"playing\", true, null, false);\n    this.playInterval(this.immediatePlay);\n\n    this.trigger(\"play\");\n  },\n  playInterval: function playInterval(immediatePlay) {\n    if (!this.playing) return;\n    var _this = this;\n    this.delayAnimations = this.delay;\n    if (this.delay < this.delayThresholdX2) this.delayAnimations *= 2;\n    if (this.delay < this.delayThresholdX4) this.delayAnimations *= 2;\n\n    var delayAnimations = immediatePlay ? 1 : this.delayAnimations;\n\n    this._intervals.setInterval(\"playInterval_\" + this._id, function () {\n      // when time is playing and it reached the end\n      if (_this.value >= _this.endSelected) {\n        // if looping\n        if (_this.loop) {\n          // reset time to start, silently\n          _this.getModelObject(\"value\").set(_this.startSelected, null, false /*make change non-persistent for URL and history*/);\n        } else {\n          _this.set(\"playing\", false, null, false);\n        }\n      } else {\n\n        _this._intervals.clearInterval(\"playInterval_\" + _this._id);\n\n        if (_this.postponePause || !_this.playing) {\n          _this.set(\"playing\", false, null, false);\n          _this.postponePause = false;\n          _this.getModelObject(\"value\").set(_this.value, true, true /*force the change and make it persistent for URL and history*/);\n        } else {\n          var is = _this.getIntervalAndStep();\n          if (_this.delay < _this.delayThresholdX2) is.step *= 2;\n          if (_this.delay < _this.delayThresholdX4) is.step *= 2;\n          var time = d3[\"utc\" + is.interval].offset(_this.value, is.step);\n          if (time >= _this.endSelected) {\n            // if no playing needed anymore then make the last update persistent and not overshooting\n            _this.getModelObject(\"value\").set(_this.endSelected, null, true /*force the change and make it persistent for URL and history*/);\n          } else {\n            _this.getModelObject(\"value\").set(time, null, false /*make change non-persistent for URL and history*/);\n          }\n          _this.playInterval();\n        }\n      }\n    }, delayAnimations);\n  },\n  incrementTime: function incrementTime(time) {\n    var is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].offset(time, is.step);\n  },\n  decrementTime: function decrementTime(time) {\n    var is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].offset(time, -is.step);\n  },\n\n\n  /**\n   * Stops playing the time, clearing the interval\n   */\n  _stopPlaying: function _stopPlaying() {\n    this._intervals.clearInterval(\"playInterval_\" + this._id);\n    //this.snap();\n    this.trigger(\"pause\");\n  }\n});\n\n/*\n * Week Format to format and parse dates\n * Conforms with ISO8601\n * Follows format: YYYYwWW: 2015w04, 3845w34, 0020w53\n */\nfunction weekFormat() {\n\n  var format = function format(d) {\n    return formatWeekYear(d) + \"w\" + formatWeek(d);\n  };\n\n  format.parse = function parse(dateString) {\n    var matchedDate = dateString.match(/^(\\d{4})w(\\d{2})$/);\n    return matchedDate ? getDateFromWeek(matchedDate[1], matchedDate[2]) : null;\n  };\n\n  var formatWeekYear = function formatWeekYear(d) {\n    var origin = +d;\n    return new Date(origin + (4 - (d.getUTCDay() || 7)) * 86400000).getUTCFullYear();\n  };\n\n  var formatWeek = function formatWeek(d) {\n    var origin = +d;\n    var quote = new Date(origin + (4 - (d.getUTCDay() || 7)) * 86400000);\n    var week = Math.ceil(((quote.getTime() - quote.setUTCMonth(0, 1)) / 86400000 + 1) / 7);\n    return week < 10 ? \"0\" + week : week;\n  };\n\n  var getDateFromWeek = function getDateFromWeek(p1, p2) {\n    var week = parseInt(p2);\n    var year = p1;\n    var startDateOfYear = new Date(); // always 4th of January (according to standard ISO 8601)\n    startDateOfYear.setUTCFullYear(year);\n    startDateOfYear.setUTCMonth(0);\n    startDateOfYear.setUTCDate(4);\n    var startDayOfWeek = startDateOfYear.getUTCDay() || 7;\n    var dayOfWeek = 1; // Monday === 1\n    var dayOfYear = week * 7 + dayOfWeek - (startDayOfWeek + 4);\n\n    var date = formats[\"year\"].parse(year);\n    date = new Date(date.getTime() + dayOfYear * 24 * 60 * 60 * 1000);\n\n    return date;\n  };\n\n  return format;\n}\n\n/*\n * Quarter Format to format and parse quarter dates\n * A quarter is the month%3\n * Follows format: YYYYqQ: 2015q4, 5847q1, 0040q2\n */\nfunction quarterFormat() {\n\n  var format = function format(d) {\n    return formats.year.data(d) + \"q\" + formatQuarter(d);\n  };\n\n  format.parse = function (dateString) {\n    var matchedDate = dateString.match(/^(\\d{4})q(\\d)$/);\n    return matchedDate ? getDateFromQuarter(matchedDate[1], matchedDate[2]) : null;\n  };\n\n  var formatQuarter = function formatQuarter(d) {\n    return (d.getUTCMonth() / 3 | 0) + 1;\n  };\n\n  var getDateFromQuarter = function getDateFromQuarter(p1, p2) {\n    var quarter = parseInt(p2);\n    var month = 3 * quarter - 2; // first month in quarter\n    var year = p1;\n    return formats.month.data.parse([year, (month < 9 ? \"0\" : \"\") + month].join(\"-\"));\n  };\n\n  return format;\n}\n\nexports.default = TimeModel;\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n//classes are vzb-portrait, vzb-landscape...\nvar class_prefix = \"vzb-\";\nvar class_presentation = \"presentation\";\nvar class_rtl = \"rtl\";\nvar class_portrait = \"vzb-portrait\";\nvar class_landscape = \"vzb-landscape\";\n\nvar UI = _model2.default.extend({\n\n  screen_profiles: {\n    small: {\n      min_width: 0,\n      min_height: 0\n    },\n    medium: {\n      min_width: 600,\n      min_height: 400\n    },\n    large: {\n      min_width: 900,\n      min_height: 520\n    }\n  },\n\n  getClassDefaults: function getClassDefaults() {\n    var defaults = {\n      presentation: false,\n      buttons: [],\n      dialogs: {\n        popup: [],\n        sidebar: [],\n        moreoptions: []\n      },\n      splash: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n\n  /**\n   * Initializes the layout manager\n   */\n  init: function init(name, values, parent, bind) {\n\n    this._type = \"ui\";\n    this._container = null;\n    //dom element\n    this._curr_profile = \"small\";\n    this._prev_size = {};\n\n    //resize when window resizes\n    this.resizeHandler = this.resizeHandler.bind(this);\n    window.addEventListener(\"resize\", this.resizeHandler);\n    bind[\"change:presentation\"] = this.updatePresentation.bind(this);\n\n    this._super(name, values, parent, bind);\n  },\n  resizeHandler: function resizeHandler() {\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (this._container) {\n      this.setSize(args.force || false);\n    }\n  },\n\n\n  /**\n   * Calculates the size of the newly resized container\n   */\n  setSize: function setSize(force) {\n    var _this = this;\n    var width = this._container.clientWidth;\n    var height = this._container.clientHeight;\n\n    /**\n     * issue #1118\n     * check if device is iPhone then add top margin for searchbar if it visible\n     */\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent) // browser is safari\n    && navigator.userAgent.match(/iPhone/i) // checking device\n    ) {\n        this._container.style.top = 0;\n        if (this._container.clientWidth > this._container.clientHeight // landscape mode\n        && this._container.clientWidth < 700) {\n          // small device\n          var bodyHeight = this._container.clientHeight;\n          var windowHeight = window.innerHeight;\n          if (2 < bodyHeight - windowHeight && bodyHeight - windowHeight <= 45) {\n            // check searchbar is visible\n            this._container.style.top = 44 + \"px\";\n            document.body.scrollTop = 44; // scrolling empty space\n          }\n        }\n      }\n\n    if (!force && this._prev_size && this._prev_size.width === width && this._prev_size.height === height || !width || !height) {\n      return;\n    }\n\n    // choose profile depending on size\n    utils.forEach(this.screen_profiles, function (range, size) {\n      //remove class\n      utils.removeClass(_this._container, class_prefix + size);\n      //find best fit\n      if (width >= range.min_width && height >= range.min_height) {\n        _this._curr_profile = size;\n      }\n    });\n\n    //update size class\n    utils.addClass(this._container, class_prefix + this._curr_profile);\n\n    //toggle, untoggle classes based on orientation\n    utils.classed(this._container, class_portrait, width < height);\n    utils.classed(this._container, class_landscape, !(width < height));\n\n    this._prev_size.width = width;\n    this._prev_size.height = height;\n    this.trigger(\"resize\");\n  },\n\n\n  /**\n   * Sets the container for this layout\n   * @param container DOM element\n   */\n  setContainer: function setContainer(container) {\n    if (!container.clientWidth || !container.clientHeight) utils.warn(\"Vizabi is being initialised with a container of incorrect width or height. While this may be handled without a crash, it's not considered a healthy behavior. You should call Vizabi(placeholder,...) function when placeholder is not display:none and has some >0 !=auto width and height\");\n\n    this._container = container;\n    this.setSize();\n    this.updatePresentation();\n  },\n\n\n  /**\n   * Sets the presentation mode for this layout\n   * @param {Bool} presentation mode on or off\n   */\n  updatePresentation: function updatePresentation() {\n    utils.classed(this._container, class_prefix + class_presentation, this.presentation);\n    this.trigger(\"resize\");\n  },\n  getPresentationMode: function getPresentationMode() {\n    return this.presentation;\n  },\n  setRTL: function setRTL(flag) {\n    utils.classed(this._container, class_prefix + class_rtl, flag);\n  },\n\n\n  /**\n   * Gets the current selected profile\n   * @returns {String} name of current profile\n   */\n  currentProfile: function currentProfile() {\n    return this._curr_profile;\n  },\n  clear: function clear() {\n    window.removeEventListener(\"resize\", this.resizeHandler);\n  }\n});\n\nexports.default = UI;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = genericLog;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//  d3.scale.genericLog\nfunction genericLog() {\n  return function d3_scale_genericLog(logScale) {\n    var _this = this;\n    var scales = [];\n    var domainParts = [];\n    var eps = 0.1;\n    var delta = 5;\n    var domain = logScale.domain();\n    var range = logScale.range();\n    var interpolator = null;\n    var rangePointingForward = void 0,\n        domainPointingForward = void 0;\n\n    var abs = function abs(arg) {\n      if (arg instanceof Array) return arg.map(function (d) {\n        return Math.abs(d);\n      });\n      return Math.abs(arg);\n    };\n\n    var _buildLinearScale = function _buildLinearScale(fakeDomain, fakeRange) {\n      return {\n        domain: fakeDomain,\n        sign: 1,\n        range: fakeRange,\n        scale: d3.scaleLinear().domain(fakeDomain).range(fakeRange)\n      };\n    };\n\n    var _buildLogScale = function _buildLogScale(fakeDomain, fakeRange, revertDomain) {\n      var normalizedDomain = fakeDomain;\n      //var normalizedRange = fakeRange.slice(0);\n      if (revertDomain) {\n        normalizedDomain = abs(fakeDomain);\n        //fakeRange.reverse();\n      }\n      return {\n        domain: fakeDomain,\n        sign: revertDomain ? -1 : 1,\n        range: fakeRange,\n        scale: d3.scaleLog().domain(normalizedDomain).range(fakeRange)\n      };\n    };\n\n    var buildScales = function buildScales() {\n      rangePointingForward = range[0] < range[range.length - 1];\n      var rangePointingSign = rangePointingForward ? 1 : -1;\n      scales = [];\n      if (domainParts.length == 1) {\n        if (domainParts[0][0] <= 0 && domainParts[0][1] >= 0) {\n          scales = [_buildLinearScale(domainParts[0], range)];\n        } else {\n          scales = [_buildLogScale(domainParts[0], range, domainParts[0][0] <= 0)];\n        }\n      } else {\n        var maxDomain = d3.max(abs(domain));\n        var rangeLength = abs(d3.max(range) - d3.min(range));\n        var rangePointKoef = 1;\n        var firstRangePoint = 0,\n            secondRangePoint = 0,\n            firstEps = 0,\n            secondEps = 0;\n        logScale.domain([eps, maxDomain]).range([0, rangeLength]);\n        var minRangePoint = delta; //logScale(eps * 2);\n        if (domain[0] != 0 && abs(domain[0]) > eps) firstRangePoint = logScale(abs(domain[0]));\n        if (domain[domain.length - 1] != 0 && abs(domain.length - 1) > eps) secondRangePoint = logScale(abs(domain[domain.length - 1]));\n\n        if (abs(domain[0]) > eps) firstEps = minRangePoint;\n\n        if (abs(domain[domain.length - 1]) > eps) secondEps = minRangePoint;\n\n        rangeLength = rangeLength - firstEps - secondEps;\n        if (secondRangePoint != 0) rangePointKoef = abs(firstRangePoint / secondRangePoint);\n\n        var point1 = void 0,\n            point2 = void 0;\n        if (domainParts.length == 2) {\n          // example: [-eps..0,eps][eps, val]\n          if (domain[0] == 0 || abs(domain[0]) <= eps) {\n            point1 = range[0] + firstRangePoint * rangePointKoef * rangePointingSign + secondEps * rangePointingSign;\n            scales = [_buildLinearScale(domainParts[0], [range[0], point1]), _buildLogScale(domainParts[1], [point1, range[range.length - 1]], !domainPointingForward)];\n          } else if (domain[domain.length - 1] == 0 || abs(domain[domain.length - 1]) <= eps) {\n            // example: [-val,-eps][-eps, 0..eps]\n            point1 = range[range.length - 1] - (firstEps + secondEps) * rangePointKoef * rangePointingSign;\n            scales = [_buildLogScale(domainParts[0], [range[0], point1], domainPointingForward), _buildLinearScale(domainParts[1], [point1, range[range.length - 1]])];\n          }\n        } else {\n          point1 = range[0] + rangeLength / (1 / rangePointKoef + 1) * rangePointingSign;\n          point2 = range[0] + (rangeLength / (1 / rangePointKoef + 1) + firstEps + secondEps) * rangePointingSign;\n          scales = [_buildLogScale(domainParts[0], [range[0], point1], domainPointingForward), _buildLinearScale(domainParts[1], [point1, point2]), _buildLogScale(domainParts[2], [point2, range[range.length - 1]], !domainPointingForward)];\n        }\n      }\n    };\n\n    var buildDomain = function buildDomain() {\n      domainPointingForward = domain[0] < domain[domain.length - 1];\n      domainParts = [];\n      if (d3.min(domain) > 0 && d3.max(domain) > 0 || d3.min(domain) < 0 && d3.max(domain) < 0) {\n        domainParts = [domain];\n      } else {\n        var start = void 0,\n            end = void 0;\n        if (domainPointingForward) {\n          start = domain[0];\n          end = domain[domain.length - 1];\n        } else {\n          start = domain[domain.length - 1];\n          end = domain[0];\n        }\n        var _addSubdomain = function _addSubdomain(first, second) {\n          if (domainPointingForward) {\n            domainParts.push([first, second]);\n          } else {\n            domainParts.unshift([second, first]);\n          }\n        };\n        while (start != end) {\n          if (end <= -eps || start >= -eps && end <= eps || start >= eps) {\n            _addSubdomain(start, end);\n            start = end;\n          } else if (start < -eps && end >= -eps) {\n            _addSubdomain(start, -eps);\n            start = -eps;\n          } else if (start >= -eps && end >= eps) {\n            _addSubdomain(start, eps);\n            start = eps;\n          } else {\n            console.warn(\"Something wrong while build subdomains: \" + start + \" \" + end);\n            start = end;\n          }\n        }\n      }\n      buildScales();\n    };\n\n    var _getScaleByDomain = function _getScaleByDomain(x) {\n      if (domainPointingForward) {\n        if (x < domain[0]) {\n          return scales[0];\n        } else if (x > domain[domain.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (var i = 0; i < scales.length; i++) {\n          if (x >= scales[i].domain[0] && x <= scales[i].domain[scales[i].domain.length - 1]) {\n            return scales[i];\n          }\n        }\n      } else {\n        if (x > domain[0]) {\n          return scales[0];\n        } else if (x < domain[domain.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (var _i = 0; _i < scales.length; _i++) {\n          if (x <= scales[_i].domain[0] && x >= scales[_i].domain[scales[_i].domain.length - 1]) {\n            return scales[_i];\n          }\n        }\n      }\n    };\n\n    var getScaleByRange = function getScaleByRange(x) {\n      if (rangePointingForward) {\n        if (x < range[0]) {\n          return scales[0];\n        } else if (x > range[range.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (var i = 0; i < scales.length; i++) {\n          if (x >= scales[i].range[0] && x <= scales[i].range[scales[i].range.length - 1]) {\n            return scales[i];\n          }\n        }\n      } else {\n        if (x > range[0]) {\n          return scales[0];\n        } else if (x < range[range.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (var _i2 = 0; _i2 < scales.length; _i2++) {\n          if (x <= scales[_i2].range[0] && x >= scales[_i2].range[1]) {\n            return scales[_i2];\n          }\n        }\n      }\n    };\n\n    //polyfill for IE11\n    Math.sign = Math.sign || function (x) {\n      x = +x;\n      if (x === 0 || isNaN(x)) {\n        return x;\n      }\n      return x > 0 ? 1 : -1;\n    };\n\n    function scale(x) {\n      var currScale = _getScaleByDomain(x);\n\n      return interpolator ? interpolator(currScale.scale(x * currScale.sign)) : currScale.scale(x * currScale.sign);\n    }\n\n    scale.eps = function (arg) {\n      if (!arguments.length) return eps;\n      eps = arg;\n      scale.domain(domain);\n      return scale;\n    };\n\n    scale.delta = function (arg) {\n      if (!arguments.length) return delta;\n      delta = arg;\n      scale.range(range);\n      return scale;\n    };\n\n    scale.domain = function (arg) {\n      if (!arguments.length) return domain;\n\n      // this is an internal array, it will be modified. the input _arg should stay intact\n      switch (arg.length) {\n        // if no values are given, reset input to the default domain (do nothing)\n        case 0:\n          arg = domain;\n          break;\n        // use the given value as a center, get the domain /2 and *2 around it\n        case 1:\n          arg = [arg[0] / 2, arg[0] * 2];\n          break;\n      }\n      //if the domain is just a single value\n      if (arg[0] == arg[arg.length - 1]) {\n        arg[0] /= 2;\n        arg[arg.length - 1] = arg[arg.length - 1] * 2;\n      }\n      domain = arg;\n      var min = d3.min(abs(domain).filter(function (val) {\n        return !!val;\n      }));\n      if (min) eps = Math.min(eps, min / 100);\n      buildDomain();\n      return scale;\n    };\n\n    scale.range = function (arg, force) {\n      if (!arguments.length) return interpolator ? interpolator.range() : range;\n\n      switch (arg.length) {\n        // reset input to the default range\n        case 0:\n          arg = range;\n          break;\n        // use the only value as a center, get the range ±100 around it\n        case 1:\n          arg = [arg[0] - 100, arg[0] + 100];\n          break;\n        // two is the standard case. do nothing\n      }\n\n      //console.log(\"LOG and LIN range:\", logScale.range(), linScale.range());\n      if (interpolator && !force) {\n        interpolator.range(arg);\n      } else {\n        range = arg;\n        var min = d3.min(abs(range).filter(function (val) {\n          return !!val;\n        }));\n\n        if (min) delta = Math.min(delta, min / 100);\n        buildScales();\n      }\n      return scale;\n    };\n\n    scale.interpolate = function (arg) {\n      var interpolatorDomain = domain;\n      if (domainParts.length > 1) {\n        var _domain = domain;\n        var _range = range;\n        var limits = [domain[0], domain[domain.length - 1]];\n        scale.domain(limits).range(limits);\n        interpolatorDomain = _domain.map(function (d) {\n          return scale(d);\n        });\n        scale.domain(_domain).range(_range);\n      }\n      interpolator = d3.scaleLinear().domain(interpolatorDomain).range(range).interpolate(arg);\n      scale.range(interpolator.domain(), true);\n      return scale;\n    };\n\n    scale.invert = function (arg) {\n      var currScale = getScaleByRange(arg);\n      return currScale.scale.invert(arg) * currScale.sign;\n    };\n\n    scale.ticks = function (arg) {\n      var partTicks = void 0;\n      var ticks = [];\n      for (var i = 0; i < scales.length; i++) {\n        if (scales[i].sign == -1) {\n          partTicks = scales[i].scale.ticks().reverse().map(function (val) {\n            return val * -1;\n          });\n        } else {\n          partTicks = scales[i].scale.ticks();\n        }\n        if (ticks.length > 0 && partTicks.length > 0 && ticks[ticks.length - 1] == partTicks[0]) {\n          partTicks.splice(0, 1);\n        }\n        ticks.push.apply(ticks, _toConsumableArray(partTicks));\n      }\n      return ticks;\n    };\n\n    scale.copy = function () {\n      return d3_scale_genericLog(logScale).domain(domain).range(range).delta(delta).eps(eps);\n    };\n\n    return d3.rebind(scale, logScale, \"base\", \"rangeRound\", \"clamp\", \"nice\", \"tickFormat\");\n  }(d3.scaleLog().domain([0.1, 200]).range([0, 1000]));\n}\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction detectTouchEvent(element, onTap, onLongTap) {\n  var start;\n  var coordX;\n  var coordY;\n  var namespace = onTap ? '.onTap' : '.onLongTap';\n  d3.select(element).on('touchstart' + namespace, function (d, i) {\n    start = d3.event.timeStamp;\n    coordX = d3.event.changedTouches[0].screenX;\n    coordY = d3.event.changedTouches[0].screenY;\n  }).on('touchend' + namespace, function (d, i) {\n    coordX = Math.abs(coordX - d3.event.changedTouches[0].screenX);\n    coordY = Math.abs(coordY - d3.event.changedTouches[0].screenY);\n    if (coordX < 5 && coordY < 5) {\n      if (d3.event.timeStamp - start < 500) return onTap ? onTap(d, i) : undefined;\n      return onLongTap ? onLongTap(d, i) : undefined;\n    } else return undefined;\n  });\n}\n\n//d3.selection.prototype.onTap\nvar onTap = function onTap(callback) {\n  return this.each(function () {\n    detectTouchEvent(this, callback);\n  });\n};\n\n//d3.selection.prototype.onLongTap\nvar onLongTap = function onLongTap(callback) {\n  return this.each(function () {\n    detectTouchEvent(this, null, callback);\n  });\n};\n\nexports.default = {\n  onTap: onTap,\n  onLongTap: onLongTap\n};\nexports.onTap = onTap;\nexports.onLongTap = onLongTap;\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _parseDecimalNumber = __webpack_require__(365);\n\nvar _parseDecimalNumber2 = _interopRequireDefault(_parseDecimalNumber);\n\nvar _reader = __webpack_require__(71);\n\nvar _reader2 = _interopRequireDefault(_reader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar cached = {};\n\nvar CSVReader = _reader2.default.extend({\n\n  _name: \"csv\",\n\n  /**\n   * Initializes the reader.\n   * @param {Object} readerInfo Information about the reader\n   */\n  init: function init(readerInfo) {\n    var _this = this;\n\n    this._data = [];\n    this._basepath = readerInfo.path;\n    this.delimiter = readerInfo.delimiter;\n    this.keySize = readerInfo.keySize || 1;\n\n    this._parseStrategies = [].concat(_toConsumableArray([\",.\", \".,\"].map(function (separator) {\n      return _this._createParseStrategy(separator);\n    })), [function (number) {\n      return number;\n    }]);\n\n    Object.assign(this.ERRORS, {\n      WRONG_TIME_COLUMN_OR_UNITS: \"reader/error/wrongTimeUnitsOrColumn\",\n      NOT_ENOUGH_ROWS_IN_FILE: \"reader/error/notEnoughRows\",\n      UNDEFINED_DELIMITER: \"reader/error/undefinedDelimiter\",\n      EMPTY_HEADERS: \"reader/error/emptyHeaders\"\n    });\n  },\n  ensureDataIsCorrect: function ensureDataIsCorrect(_ref, parsers) {\n    var columns = _ref.columns,\n        rows = _ref.rows;\n\n    var timeKey = columns[this.keySize];\n\n    var _rows = _slicedToArray(rows, 1),\n        firstRow = _rows[0];\n\n    var parser = parsers[timeKey];\n\n    var time = firstRow[timeKey].trim();\n    if (parser && !parser(time)) {\n      throw this.error(this.ERRORS.WRONG_TIME_COLUMN_OR_UNITS, undefined, {\n        currentYear: new Date().getFullYear(),\n        foundYear: time\n      });\n    }\n\n    if (!columns.filter(Boolean).length) {\n      throw this.error(this.ERRORS.EMPTY_HEADERS);\n    }\n  },\n\n\n  /**\n   * This function returns info about the dataset\n   * in case of CSV reader it's just the name of the file\n   * @returns {object} object of info about the dataset\n   */\n  getDatasetInfo: function getDatasetInfo() {\n    return { name: this._basepath.split(\"/\").pop() };\n  },\n  load: function load() {\n    var _this2 = this;\n\n    var path = this._basepath;\n\n\n    return new Promise(function (resolve, reject) {\n      var cachedData = cached[path];\n\n      if (cachedData) {\n        resolve(cachedData);\n      } else {\n        d3.text(path).get(function (error, text) {\n          if (!text) {\n            return reject(\"No permissions or empty file: \" + path + \". \" + error);\n          }\n\n          if (error) {\n            return reject(\"Error happened while loading csv file: \" + path + \". \" + error);\n          }\n\n          try {\n            var _delimiter = _this2.delimiter,\n                delimiter = _delimiter === undefined ? _this2._guessDelimiter(text) : _delimiter;\n\n            var parser = d3.dsvFormat(delimiter);\n            var rows = parser.parse(text, function (row) {\n              return Object.keys(row).every(function (key) {\n                return !row[key];\n              }) ? null : row;\n            });\n            var columns = rows.columns;\n\n\n            var result = { columns: columns, rows: rows };\n            cached[path] = result;\n            resolve(result);\n          } catch (e) {\n            return reject(e);\n          }\n        });\n      }\n    });\n  },\n  _guessDelimiter: function _guessDelimiter(text) {\n    var stringsToCheck = 2;\n    var rows = this._getRows(text, stringsToCheck).map(function (row) {\n      return row.replace(/\".*?\"/g, \"\");\n    });\n\n    if (rows.length !== stringsToCheck) {\n      throw this.error(this.ERRORS.NOT_ENOUGH_ROWS_IN_FILE);\n    }\n\n    var _rows2 = _slicedToArray(rows, 2),\n        header = _rows2[0],\n        firstRow = _rows2[1];\n\n    var comma = \",\",\n        semicolon = \";\";\n\n    var commasCountInHeader = this._countCharsInLine(header, comma);\n    var semicolonsCountInHeader = this._countCharsInLine(header, semicolon);\n    var commasCountInFirstRow = this._countCharsInLine(firstRow, comma);\n    var semicolonsCountInFirstRow = this._countCharsInLine(firstRow, semicolon);\n\n    if (this._checkDelimiters(commasCountInHeader, commasCountInFirstRow, semicolonsCountInHeader, semicolonsCountInFirstRow)) {\n      return comma;\n    } else if (this._checkDelimiters(semicolonsCountInHeader, semicolonsCountInFirstRow, commasCountInHeader, commasCountInFirstRow)) {\n      return semicolon;\n    }\n\n    throw this.error(this.ERRORS.UNDEFINED_DELIMITER);\n  },\n  _checkDelimiters: function _checkDelimiters(firstDelimiterInHeader, firstDelimiterInFirstRow, secondDelimiterInHeader, secondDelimiterInFirstRow) {\n    return firstDelimiterInHeader === firstDelimiterInFirstRow && firstDelimiterInHeader > 1 && (secondDelimiterInHeader !== secondDelimiterInFirstRow || !secondDelimiterInHeader && !secondDelimiterInFirstRow || firstDelimiterInHeader > secondDelimiterInHeader && firstDelimiterInFirstRow > secondDelimiterInFirstRow);\n  },\n  _getRows: function _getRows(text) {\n    var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var re = /([^\\r\\n]+)/g;\n    var rows = [];\n    var rowsCount = 0;\n\n    var matches = true;\n    while (matches && rowsCount !== count) {\n      matches = re.exec(text);\n      if (matches && matches.length > 1) {\n        ++rowsCount;\n        rows.push(matches[1]);\n      }\n    }\n\n    return rows;\n  },\n  _countCharsInLine: function _countCharsInLine(text, char) {\n    var re = new RegExp(char, \"g\");\n    var matches = text.match(re);\n    return matches ? matches.length : 0;\n  },\n  _createParseStrategy: function _createParseStrategy(separators) {\n    var _this3 = this;\n\n    return function (value) {\n      var hasOnlyNumbersOrSeparators = !new RegExp(\"[^\\\\d\" + separators + \"]\").test(value);\n\n      if (hasOnlyNumbersOrSeparators && value) {\n        var result = (0, _parseDecimalNumber2.default)(value, separators);\n\n        if (!isFinite(result) || isNaN(result)) {\n          _this3._isParseSuccessful = false;\n        }\n\n        return result;\n      }\n\n      return value;\n    };\n  },\n  _mapRows: function _mapRows(rows, query, parsers) {\n    var mapRow = this._getRowMapper(query, parsers);\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this._parseStrategies[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var parseStrategy = _step.value;\n\n        this._parse = parseStrategy;\n        this._isParseSuccessful = true;\n\n        var result = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = rows[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var row = _step2.value;\n\n            var parsed = mapRow(row);\n\n            if (!this._isParseSuccessful) {\n              break;\n            }\n\n            result.push(parsed);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (this._isParseSuccessful) {\n          return result;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  },\n\n\n  versionInfo: { version: \"0.25.1-1\", build: 1503526276063 }\n\n});\n\nexports.default = CSVReader;\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nvar iconset = _interopRequireWildcard(_iconset);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI BUTTONLIST\n * Reusable buttonlist component\n */\n\n//default existing buttons\nvar class_active = \"vzb-active\";\nvar class_hidden = \"vzb-hidden\";\nvar class_active_locked = \"vzb-active-locked\";\nvar class_expand_dialog = \"vzb-dialog-side\";\nvar class_hide_btn = \"vzb-dialog-side-btn\";\nvar class_unavailable = \"vzb-unavailable\";\nvar class_vzb_fullscreen = \"vzb-force-fullscreen\";\nvar class_container_fullscreen = \"vzb-container-fullscreen\";\n\nvar ButtonList = _component2.default.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, context) {\n\n    //set properties\n    var _this = this;\n    this.name = this.name || \"gapminder-buttonlist\";\n    //    this.template = '<div class=\"vzb-buttonlist\"></div>';\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this._available_buttons = {\n      \"find\": {\n        title: \"buttons/find\",\n        icon: \"search\",\n        required: false\n      },\n      \"show\": {\n        title: \"buttons/show\",\n        icon: \"asterisk\",\n        required: false\n      },\n      \"moreoptions\": {\n        title: \"buttons/more_options\",\n        icon: \"gear\",\n        required: true\n      },\n      \"colors\": {\n        title: \"buttons/colors\",\n        icon: \"paintbrush\",\n        required: false\n      },\n      \"mapcolors\": {\n        title: \"buttons/mapcolors\",\n        icon: \"paintbrush\",\n        required: false\n      },\n      \"size\": {\n        title: \"buttons/size\",\n        icon: \"circle\",\n        required: false\n      },\n      \"zoom\": {\n        title: \"buttons/zoom\",\n        icon: \"cursorPlus\",\n        required: false\n      },\n      \"fullscreen\": {\n        title: \"buttons/expand\",\n        icon: \"expand\",\n        func: this.toggleFullScreen.bind(this),\n        required: true\n      },\n      \"trails\": {\n        title: \"buttons/trails\",\n        icon: \"trails\",\n        func: this.toggleBubbleTrails.bind(this),\n        required: false,\n        statebind: \"ui.chart.trails\",\n        statebindfunc: this.setBubbleTrails.bind(this)\n      },\n      \"lock\": {\n        title: \"buttons/lock\",\n        icon: \"lock\",\n        func: this.toggleBubbleLock.bind(this),\n        required: false,\n        statebind: \"ui.chart.lockNonSelected\",\n        statebindfunc: this.setBubbleLock.bind(this)\n      },\n      \"inpercent\": {\n        title: \"buttons/inpercent\",\n        icon: \"percent\",\n        func: this.toggleInpercent.bind(this),\n        required: false,\n        statebind: \"ui.chart.inpercent\",\n        statebindfunc: this.setInpercent.bind(this)\n      },\n      \"presentation\": {\n        title: \"buttons/presentation\",\n        icon: \"presentation\",\n        func: this.togglePresentationMode.bind(this),\n        required: false,\n        statebind: \"ui.presentation\",\n        statebindfunc: this.setPresentationMode.bind(this)\n      },\n      \"about\": {\n        title: \"buttons/about\",\n        icon: \"about\",\n        required: false\n      },\n      \"axes\": {\n        title: \"buttons/axes\",\n        icon: \"axes\",\n        required: false\n      },\n      \"axesmc\": {\n        title: \"buttons/axesmc\",\n        icon: \"axes\",\n        required: false\n      },\n      \"stack\": {\n        title: \"buttons/stack\",\n        icon: \"stack\",\n        required: false\n      },\n      \"side\": {\n        title: \"buttons/side\",\n        icon: \"side\",\n        required: false\n      },\n      \"_default\": {\n        title: \"Button\",\n        icon: \"asterisk\",\n        required: false\n      }\n    };\n\n    this._active_comp = false;\n\n    this.model_binds = {\n      \"change:state.marker.select\": function changeStateMarkerSelect(evt) {\n        if (!_this._readyOnce) return;\n\n        _this.setBubbleTrails();\n        _this.setBubbleLock();\n        _this._toggleButtons();\n\n        //scroll button list to end if bottons appeared or disappeared\n        // if(_this.entitiesSelected_1 !== (_this.model.state.marker.select.length > 0)) {\n        //   _this.scrollToEnd();\n        // }\n        // _this.entitiesSelected_1 = _this.model.state.marker.select.length > 0;\n      },\n      \"change:ui.chart\": function changeUiChart(evt, path) {\n        if (path.indexOf(\"lockActive\") > -1 || path.indexOf(\"lockUnavailable\") > -1) {\n          _this.setBubbleLock();\n        }\n      }\n    };\n\n    // config.ui is same as this.model.ui here but this.model.ui is not yet available because constructor hasn't been called.\n    // can't call constructor earlier because this.model_binds needs to be complete before calling constructor\n    config.ui.buttons.forEach(function (buttonId) {\n      var button = _this._available_buttons[buttonId];\n      if (button && button.statebind) {\n        _this.model_binds[\"change:\" + button.statebind] = function (evt) {\n          button.statebindfunc(buttonId, evt.source.value);\n        };\n      }\n    });\n\n    // builds model\n    this._super(config, context);\n\n    this.validatePopupButtons(this.model.ui.buttons, this.model.ui.dialogs);\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n\n    this.root.findChildByName(\"gapminder-dialogs\").on(\"close\", function (evt, params) {\n      _this.setButtonActive(params.id, false);\n    });\n\n    var button_expand = (this.model.ui.dialogs || {}).sidebar || [];\n\n    // // if button_expand has been passed in with boolean param or array must check and covert to array\n    // if (button_expand){\n    //   this.model.ui.dialogs.sidebar = (button_expand === true) ? this.model.ui.buttons : button_expand;\n    // }\n\n    // if (button_expand && button_expand.length !== 0) {\n    //     d3.select(this.root.element).classed(\"vzb-dialog-expand-true\", true);\n    // }\n\n    var button_list = [].concat(this.model.ui.buttons);\n\n    // (button_expand||[]).forEach(function(button) {\n    //   if (button_list.indexOf(button) === -1) {\n    //     button_list.push(button);\n    //   }\n    // });\n\n    this.model.ui.buttons = button_list;\n\n    //add buttons and render components\n    this._addButtons(button_list, button_expand);\n\n    //store body overflow\n    this._prev_body_overflow = document.body.style.overflow;\n\n    this.setBubbleTrails();\n    this.setBubbleLock();\n    this.setInpercent();\n    this.setPresentationMode();\n\n    this._toggleButtons();\n  },\n  proceedClick: function proceedClick(id) {\n    var _this = this;\n    var btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    var classes = btn.attr(\"class\");\n    var btn_config = _this._available_buttons[id];\n\n    if (btn_config && btn_config.func) {\n      btn_config.func(id);\n    } else {\n      var btn_active = classes.indexOf(class_active) === -1;\n\n      btn.classed(class_active, btn_active);\n      var evt = {};\n      evt[\"id\"] = id;\n      evt[\"active\"] = btn_active;\n      _this.trigger(\"click\", evt);\n    }\n  },\n  validatePopupButtons: function validatePopupButtons(buttons, dialogs) {\n    var _this = this;\n\n    var popupDialogs = dialogs.popup;\n    var popupButtons = buttons.filter(function (d) {\n      return _this._available_buttons[d] && !_this._available_buttons[d].func;\n    });\n    for (var i = 0, j = popupButtons.length; i < j; i++) {\n      if (popupDialogs.indexOf(popupButtons[i]) == -1) {\n        return utils.error('Buttonlist: bad buttons config: \"' + popupButtons[i] + '\" is missing in popups list');\n      }\n    }\n    return false; //all good\n  },\n\n\n  /*\n   * reset buttons show state\n   */\n  _showAllButtons: function _showAllButtons() {\n    // show all existing buttons\n    var _this = this;\n    var buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n    buttons.each(function (d, i) {\n      var button = d3.select(this);\n      button.style(\"display\", \"\");\n    });\n  },\n\n\n  /*\n  * determine which buttons are shown on the buttonlist\n  */\n  _toggleButtons: function _toggleButtons() {\n    var _this = this;\n    var parent = this.parent.element.node ? this.parent.element : d3.select(this.parent.element);\n\n    //HERE\n    var button_expand = (this.model.ui.dialogs || {}).sidebar || [];\n    _this._showAllButtons();\n\n    var buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    var container = this.element.node().getBoundingClientRect();\n\n    var not_required = [];\n    var required = [];\n\n    var button_width = 80;\n    var button_height = 80;\n    var container_width = this.element.node().getBoundingClientRect().width;\n    var container_height = this.element.node().getBoundingClientRect().height;\n    var buttons_width = 0;\n    var buttons_height = 0;\n\n    buttons.each(function (d, i) {\n      var button_data = d;\n      var button = d3.select(this);\n      var expandable = button_expand.indexOf(button_data.id) !== -1;\n      var button_margin = { top: parseInt(button.style(\"margin-top\")), right: parseInt(button.style(\"margin-right\")), left: parseInt(button.style(\"margin-left\")), bottom: parseInt(button.style(\"margin-bottom\")) };\n      button_width = button.node().getBoundingClientRect().width + button_margin.right + button_margin.left;\n      button_height = button.node().getBoundingClientRect().height + button_margin.top + button_margin.bottom;\n\n      if (!button.classed(class_hidden)) {\n        if (!expandable || _this.getLayoutProfile() !== \"large\") {\n          buttons_width += button_width;\n          buttons_height += button_height;\n          //sort buttons between required and not required buttons.\n          // Not required buttons will only be shown if there is space available\n          if (button_data.required) {\n            required.push(button);\n          } else {\n            not_required.push(button);\n          }\n        } else {\n          button.style(\"display\", \"none\");\n        }\n      }\n    });\n    var width_diff = buttons_width - container_width;\n    var height_diff = buttons_height - container_height;\n    var number_of_buttons = 1;\n\n    //check if container is landscape or portrait\n    // if portrait small or large with expand, use width\n    if (parent.classed(\"vzb-large\") && parent.classed(\"vzb-dialog-expand-true\") || parent.classed(\"vzb-small\") && parent.classed(\"vzb-portrait\")) {\n      //check if the width_diff is small. If it is, add to the container\n      // width, to allow more buttons in a way that is still usable\n      if (width_diff > 0 && width_diff <= 10) {\n        container_width += width_diff;\n      }\n      number_of_buttons = Math.floor(container_width / button_width) - required.length;\n      if (number_of_buttons < 0) {\n        number_of_buttons = 0;\n      }\n      // else, use height\n    } else {\n      //check if the width_diff is small. If it is, add to the container\n      // width, to allow more buttons in a way that is still usable\n      if (height_diff > 0 && height_diff <= 10) {\n        container_height += height_diff;\n      }\n      number_of_buttons = Math.floor(container_height / button_height) - required.length;\n      if (number_of_buttons < 0) {\n        number_of_buttons = 0;\n      }\n    }\n    //change the display property of non required buttons, from right to\n    // left\n    not_required.reverse();\n    var hiddenButtons = [];\n    for (var i = 0, j = not_required.length - number_of_buttons; i < j; i++) {\n      not_required[i].style(\"display\", \"none\");\n      hiddenButtons.push(not_required[i].attr(\"data-btn\"));\n    }\n\n    var evt = {};\n    evt[\"hiddenButtons\"] = hiddenButtons;\n    _this.trigger(\"toggle\", evt);\n  },\n\n\n  /*\n   * adds buttons configuration to the components and template_data\n   * @param {Array} button_list list of buttons to be added\n   */\n  _addButtons: function _addButtons(button_list, button_expand) {\n    var _this = this;\n    this._components_config = [];\n    var details_btns = [];\n    if (!button_list.length) return;\n    //add a component for each button\n    for (var i = 0; i < button_list.length; i++) {\n\n      var btn = button_list[i];\n      var btn_config = this._available_buttons[btn];\n\n      //add template data\n      var d = btn_config ? btn : \"_default\";\n      var details_btn = utils.clone(this._available_buttons[d]);\n      if (d == \"_default\") {\n        details_btn.title = \"buttons/\" + btn;\n      }\n      details_btn.id = btn;\n      details_btn.icon = iconset[details_btn.icon];\n      details_btns.push(details_btn);\n    }\n\n    var t = this.getTranslationFunction(true);\n\n    this.element.selectAll(\"button\").data(details_btns).enter().append(\"button\").attr(\"class\", function (d) {\n      var cls = \"vzb-buttonlist-btn\";\n      if (button_expand.length > 0) {\n        if (button_expand.indexOf(d.id) > -1) {\n          cls += \" vzb-dialog-side-btn\";\n        }\n      }\n\n      return cls;\n    }).attr(\"data-btn\", function (d) {\n      return d.id;\n    }).html(function (btn) {\n      return \"<span class='vzb-buttonlist-btn-icon fa'>\" + btn.icon + \"</span><span class='vzb-buttonlist-btn-title'>\" + t(btn.title) + \"</span>\";\n    });\n\n    var buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    //clicking the button\n    buttons.on(\"click\", function () {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      var id = d3.select(this).attr(\"data-btn\");\n      _this.proceedClick(id);\n    });\n  },\n  scrollToEnd: function scrollToEnd() {\n    var target = 0;\n    var parent = d3.select(\".vzb-tool\");\n\n    if (parent.classed(\"vzb-portrait\") && parent.classed(\"vzb-small\")) {\n      if (this.model.state.marker.select.length > 0) target = this.element.node().scrollWidth;\n      this.element.node().scrollLeft = target;\n    } else {\n      if (this.model.state.marker.select.length > 0) target = this.element.node().scrollHeight;\n      this.element.node().scrollTop = target;\n    }\n  },\n\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   * Ideally, it contains only operations related to size\n   */\n  resize: function resize() {\n    //TODO: what to do when resizing?\n    if (!this.element.selectAll) return utils.warn(\"buttonlist resize() aborted because element is not yet defined\");\n\n    //toggle presentaion off is switch to 'small' profile\n    if (this.getLayoutProfile() === \"small\" && this.model.ui.presentation) {\n      this.togglePresentationMode();\n    }\n\n    this._toggleButtons();\n  },\n  setButtonActive: function setButtonActive(id, boolActive) {\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active, boolActive);\n  },\n  toggleBubbleTrails: function toggleBubbleTrails() {\n    this.model.ui.chart.trails = !this.model.ui.chart.trails;\n    this.setBubbleTrails();\n  },\n  setBubbleTrails: function setBubbleTrails() {\n    var trails = (this.model.ui.chart || {}).trails;\n    if (!trails && trails !== false) return;\n    var id = \"trails\";\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    if (!btn.node()) return utils.warn(\"setBubbleTrails: no button '\" + id + \"' found in DOM. doing nothing\");\n\n    btn.classed(class_active_locked, trails);\n    btn.classed(class_hidden, this.model.state.marker.select.length == 0);\n  },\n  toggleBubbleLock: function toggleBubbleLock(id) {\n    var active = (this.model.ui.chart || {}).lockActive;\n\n    if (this.model.state.marker.select.length == 0 && !active) return;\n\n    var locked = this.model.ui.chart.lockNonSelected;\n    var time = this.model.state.time;\n    locked = locked ? 0 : time.formatDate(time.value);\n    this.model.ui.chart.lockNonSelected = locked;\n\n    this.setBubbleLock();\n  },\n  setBubbleLock: function setBubbleLock() {\n    var locked = (this.model.ui.chart || {}).lockNonSelected;\n    var active = (this.model.ui.chart || {}).lockActive;\n    var unavailable = (this.model.ui.chart || {}).lockUnavailable || false;\n    if (!locked && locked !== 0) return;\n\n    if (locked !== 0 && this.model.state.marker.select.length === 0 && !active) {\n      locked = this.model.ui.chart.lockNonSelected = 0;\n    }\n\n    var id = \"lock\";\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    if (!btn.node()) return utils.warn(\"setBubbleLock: no button '\" + id + \"' found in DOM. doing nothing\");\n\n    var translator = this.model.locale.getTFunction();\n\n    //btn.classed(class_unavailable, this.model.state.marker.select.length == 0 && !active);\n    btn.classed(class_unavailable, unavailable);\n    if (typeof active === \"undefined\") {\n      btn.classed(class_hidden, this.model.state.marker.select.length == 0);\n    } else {\n      btn.classed(class_hidden, !active);\n    }\n\n    btn.classed(class_active_locked, locked);\n    btn.select(\".vzb-buttonlist-btn-title\").text(locked ? locked : translator(\"buttons/lock\"));\n\n    btn.select(\".vzb-buttonlist-btn-icon\").html(iconset[locked ? \"lock\" : \"unlock\"]);\n  },\n  toggleInpercent: function toggleInpercent() {\n    this.model.ui.chart.inpercent = !this.model.ui.chart.inpercent;\n    this.setInpercent();\n  },\n  setInpercent: function setInpercent() {\n    if (typeof (this.model.ui.chart || {}).inpercent === \"undefined\") return;\n    var id = \"inpercent\";\n    var translator = this.model.locale.getTFunction();\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active_locked, this.model.ui.chart.inpercent);\n  },\n  togglePresentationMode: function togglePresentationMode() {\n    this.model.ui.presentation = !this.model.ui.presentation;\n    this.setPresentationMode();\n  },\n  setPresentationMode: function setPresentationMode() {\n    var id = \"presentation\";\n    var translator = this.model.locale.getTFunction();\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active_locked, this.model.ui.presentation);\n  },\n  toggleFullScreen: function toggleFullScreen(id, emulateClick) {\n\n    if (!window) return;\n\n    var component = this;\n    var pholder = component.placeholder;\n    var pholder_found = false;\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    var fs = !this.model.ui.fullscreen;\n    var body_overflow = fs ? \"hidden\" : this._prev_body_overflow;\n\n    while (!(pholder_found = utils.hasClass(pholder, \"vzb-placeholder\"))) {\n      component = component.parent;\n      pholder = component.placeholder;\n    }\n\n    //TODO: figure out a way to avoid fullscreen resize delay in firefox\n    if (fs) {\n      this.resizeInExitHandler = false;\n      launchIntoFullscreen(pholder);\n      subscribeFullscreenChangeEvent.call(this, this.toggleFullScreen.bind(this, id, true));\n    } else {\n      this.resizeInExitHandler = !emulateClick;\n      exitFullscreen.call(this);\n    }\n    utils.classed(pholder, class_vzb_fullscreen, fs);\n    if (typeof container !== \"undefined\") {\n      utils.classed(container, class_container_fullscreen, fs);\n    }\n\n    this.model.ui.fullscreen = fs;\n    var translator = this.model.locale.getTFunction();\n    btn.classed(class_active_locked, fs);\n\n    btn.select(\".vzb-buttonlist-btn-icon\").html(iconset[fs ? \"unexpand\" : \"expand\"]);\n\n    btn.select(\".vzb-buttonlist-btn-title>span\").text(translator(\"buttons/\" + (fs ? \"unexpand\" : \"expand\"))).attr(\"data-vzb-translate\", \"buttons/\" + (fs ? \"unexpand\" : \"expand\"));\n\n    //restore body overflow\n    document.body.style.overflow = body_overflow;\n\n    if (!this.resizeInExitHandler) this.root.ui.resizeHandler();\n\n    //force window resize event\n    // utils.defer(function() {\n    //   event = window.document.createEvent(\"HTMLEvents\");\n    //   event.initEvent(\"resize\", true, true);\n    //   event.eventName = \"resize\";\n    //   window.dispatchEvent(event);\n    // });\n  }\n});\n\nfunction isFullscreen() {\n  if (!window) return false;\n  if (window.document.webkitIsFullScreen !== undefined) return window.document.webkitIsFullScreen;\n  if (window.document.mozFullScreen !== undefined) return window.document.mozFullScreen;\n  if (window.document.msFullscreenElement !== undefined) return window.document.msFullscreenElement;\n\n  return false;\n}\n\nfunction exitHandler(emulateClickFunc) {\n  if (!isFullscreen()) {\n    removeFullscreenChangeEvent.call(this);\n    if (!this.resizeInExitHandler) {\n      emulateClickFunc();\n    } else {\n      this.root.ui.resizeHandler();\n    }\n  }\n}\n\nfunction subscribeFullscreenChangeEvent(exitFunc) {\n  if (!window) return;\n  var doc = window.document;\n\n  this.exitFullscreenHandler = exitHandler.bind(this, exitFunc);\n  doc.addEventListener(\"webkitfullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"mozfullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"fullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"MSFullscreenChange\", this.exitFullscreenHandler, false);\n}\n\nfunction removeFullscreenChangeEvent() {\n  var doc = window.document;\n\n  doc.removeEventListener(\"webkitfullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"mozfullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"fullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"MSFullscreenChange\", this.exitFullscreenHandler);\n}\n\nfunction launchIntoFullscreen(elem) {\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  } else if (elem.msRequestFullscreen) {\n    elem.msRequestFullscreen();\n  } else if (elem.mozRequestFullScreen) {\n    elem.mozRequestFullScreen();\n  } else if (elem.webkitRequestFullscreen && allowWebkitFullscreenAPI()) {\n    elem.webkitRequestFullscreen();\n  }\n}\n\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitExitFullscreen && allowWebkitFullscreenAPI()) {\n    document.webkitExitFullscreen();\n  } else {\n    removeFullscreenChangeEvent.call(this);\n    this.resizeInExitHandler = false;\n  }\n}\n\nfunction allowWebkitFullscreenAPI() {\n  return !(navigator.vendor && navigator.vendor.indexOf(\"Apple\") > -1 && navigator.userAgent && !navigator.userAgent.match(\"CriOS\"));\n}\n\nexports.default = ButtonList;\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _buttonlist = __webpack_require__(148);\n\nvar _buttonlist2 = _interopRequireDefault(_buttonlist);\n\nvar _iconset = __webpack_require__(21);\n\nvar iconset = _interopRequireWildcard(_iconset);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI OPTIONSBUTTONLIST\n * Reusable optionsbuttonlist component\n */\n\n//default existing buttons\nvar class_active = \"vzb-active\";\n// var class_active_locked = \"vzb-active-locked\";\n// var class_expand_dialog = \"vzb-dialog-side\";\n// var class_hide_btn = \"vzb-dialog-side-btn\";\n// var class_unavailable = \"vzb-unavailable\";\n// var class_vzb_fullscreen = \"vzb-force-fullscreen\";\n// var class_container_fullscreen = \"vzb-container-fullscreen\";\n\nvar OptionsButtonList = _buttonlist2.default.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, context) {\n\n    //set properties\n    var _this = this;\n    this.name = \"gapminder-optionsbuttonlist\";\n\n    this._super(config, context);\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n    Object.keys(this._available_buttons).forEach(function (buttonId) {\n      var button = _this._available_buttons[buttonId];\n      button.required = !button.required;\n    });\n\n    this.buttonListComp = this.root.findChildByName(\"gapminder-buttonlist\");\n\n    this.buttonListComp.on(\"click\", function (evt, button) {\n      var btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + button.id + \"']\");\n      btn.classed(class_active, button.active);\n    });\n\n    this.buttonListComp.on(\"toggle\", function (evt, params) {\n      var btn = _this.element.selectAll(\".vzb-buttonlist-btn\");\n      var visibleButton = 0;\n      btn.each(function (d) {\n        var button = d3.select(this);\n        var isHidden = params.hiddenButtons.indexOf(d.id) == -1;\n        button.style(\"display\", isHidden ? \"none\" : \"\");\n        if (!isHidden) visibleButton++;\n      });\n    });\n\n    this._super();\n  },\n  proceedClick: function proceedClick(id) {\n    var _this = this;\n    this.buttonListComp.proceedClick(id);\n    var btn_data = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\").datum();\n    if (btn_data.func) {\n      setTimeout(function () {\n        _this.root.findChildByName(\"gapminder-dialogs\").closeAllDialogs();\n      }, 200);\n    }\n  },\n  _toggleButtons: function _toggleButtons() {\n    //\n  }\n});\n\nexports.default = OptionsButtonList;\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar css = {\n  INVISIBLE: \"vzb-invisible\",\n  COLOR_POINTER: \"vzb-colorpicker-pointer\",\n  COLOR_BUTTON: \"vzb-colorpicker-cell\",\n  COLOR_DEFAULT: \"vzb-colorpicker-default\",\n  COLOR_SAMPLE: \"vzb-colorpicker-sample\",\n  COLOR_PICKER: \"vzb-colorpicker-svg\",\n  COLOR_CIRCLE: \"vzb-colorpicker-circle\",\n  COLOR_CIRCLES: \"vzb-colorpicker-circles\",\n  COLOR_SEGMENT: \"vzb-colorpicker-segment\",\n  COLOR_BACKGR: \"vzb-colorpicker-background\"\n};\n\nvar ColorPicker = function () {\n  function ColorPicker(container) {\n    _classCallCheck(this, ColorPicker);\n\n    this._container = container;\n    this._wrapper = this._container.select(\".\" + css.COLOR_PICKER);\n\n    this._init();\n  }\n\n  _createClass(ColorPicker, [{\n    key: \"_init\",\n    value: function _init() {\n      this._initVariables();\n      this._initCircles();\n      this._style();\n      this.resize(this._svg);\n    }\n  }, {\n    key: \"_initVariables\",\n    value: function _initVariables() {\n      // radius of the central hole in color wheel: px\n      this._maxWidth = 280;\n      this._maxHeight = 323;\n\n      this._colorOld = \"#000\";\n      this._colorDef = \"#000\";\n      this._colorWhite = \"#f8f8f8\";\n\n      // margins in % of container's width and height\n      this._margin = {\n        top: 0.1,\n        bottom: 0.1,\n        left: 0.1,\n        right: 0.1\n      };\n\n      this._initSvg();\n\n      var _getComputedStyle = getComputedStyle(this._svg.node()),\n          svgWidth = _getComputedStyle.width,\n          svgHeight = _getComputedStyle.height;\n\n      this._width = this.constructor.px2num(svgWidth);\n      this._height = this.constructor.px2num(svgHeight);\n      this._maxRadius = this._width / 2 * (1 - this._margin.left - this._margin.right);\n\n      // tuning defaults\n      this._nCellsH = 15;\n      // number of cells by hues (angular)\n      this._minH = 0;\n      // which hue do we start from: 0 to 1 instead of 0 to 365\n      this._nCellsL = 4;\n      // number of cells by lightness (radial)\n      this._minL = 0.5;\n      // which lightness to start from: 0 to 1. Recommended .3...0.5\n      this._satConstant = 0.7;\n      // constant saturation for color wheel: 0 to 1. Recommended .7...0.8\n      this._outerL_display = 0.4;\n      // exceptional saturation of the outer circle. the one displayed 0 to 1\n      this._outerL_meaning = 0.3;\n      // exceptional saturation of the outer circle. the one actually meant 0 to 1\n      this._firstAngleSat = 0;\n      // exceptional saturation at first angular segment. Set 0 to have shades of grey\n      this._minRadius = 15;\n      this._arc = d3.arc();\n\n      this._pie = d3.pie().sort(null).value(function (d) {\n        return 1;\n      });\n      this._colorPointer = null;\n      this._showColorPicker = false;\n      this._sampleRect = null;\n      this._sampleText = null;\n      this._callback = function (value) {\n        return console.info(\"Color picker callback example. Setting color to \" + value);\n      };\n      this._colorData = this._generateColorData();\n    }\n  }, {\n    key: \"_generateColorData\",\n    value: function _generateColorData() {\n      var _minL = this._minL,\n          _minH = this._minH,\n          _nCellsL = this._nCellsL,\n          _nCellsH = this._nCellsH,\n          _firstAngleSat = this._firstAngleSat,\n          _satConstant = this._satConstant,\n          _outerL_display = this._outerL_display,\n          _outerL_meaning = this._outerL_meaning;\n\n\n      var result = [];\n      // loop across circles\n      for (var l = 0; l < _nCellsL; l++) {\n        var lightness = _minL + (1 - _minL) / _nCellsL * l;\n        // new circle of cells\n        result.push([]);\n        // loop across angles\n        for (var h = 0; h <= _nCellsH; h++) {\n          var hue = _minH + (1 - _minH) / _nCellsH * h;\n          // new cell\n          result[l].push({\n            display: this.constructor.hsl2rgb(hue, h === 0 ? _firstAngleSat : _satConstant, l === 0 ? _outerL_display : lightness),\n\n            meaning: this.constructor.hsl2rgb(hue, h === 0 ? _firstAngleSat : _satConstant, l === 0 ? _outerL_meaning : lightness)\n          });\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_initSvg\",\n    value: function _initSvg() {\n      var _this = this;\n\n      this._wrapper = this._container.append(\"div\").style(\"position\", \"absolute\").style(\"top\", \"0\").style(\"left\", \"0\").style(\"width\", \"100%\").style(\"max-width\", this._maxWidth + \"px\").style(\"height\", \"100%\").style(\"max-height\", this._maxHeight + \"px\").style(\"z-index\", 9999).attr(\"class\", css.COLOR_PICKER + \" vzb-dialog-shadow\").classed(css.INVISIBLE, !this._showColorPicker).on(\"mouseout\", function () {\n        return _this._cellHover(_this._colorOld);\n      });\n\n      this._svg = this._wrapper.append(\"svg\").style(\"width\", \"100%\").style(\"height\", \"100%\");\n    }\n  }, {\n    key: \"_initCircles\",\n    value: function _initCircles() {\n      var _this2 = this;\n\n      var _svg = this._svg,\n          _maxHeight = this._maxHeight,\n          _width = this._width,\n          _height = this._height,\n          _margin = this._margin,\n          _colorData = this._colorData,\n          _nCellsL = this._nCellsL,\n          _minRadius = this._minRadius,\n          _maxRadius = this._maxRadius,\n          _colorWhite = this._colorWhite;\n\n\n      _svg.append(\"rect\").attr(\"width\", _width).attr(\"height\", _maxHeight).attr(\"class\", css.COLOR_BACKGR).on(\"mouseover\", function () {\n        return _this2._cellHover(_this2._colorOld);\n      }).on(\"click\", function () {\n        d3.event.stopPropagation();\n        _this2._changeColor(_this2._colorOld);\n        _this2.show(false);\n      });\n\n      var tx = _maxRadius + _width * _margin.left;\n      var ty = _maxRadius + _height * _margin.top;\n      var circles = _svg.append(\"g\").attr(\"class\", css.COLOR_CIRCLES).attr(\"transform\", \"translate(\" + tx + \", \" + ty + \")\");\n\n      _svg.append(\"rect\").attr(\"class\", css.COLOR_SAMPLE).attr(\"width\", _width / 2).attr(\"height\", _height * _margin.top / 2);\n\n      this._sampleRect = _svg.append(\"rect\").attr(\"class\", css.COLOR_SAMPLE).attr(\"width\", _width / 2).attr(\"x\", _width / 2).attr(\"height\", _height * _margin.top / 2);\n\n      _svg.append(\"text\").attr(\"x\", _width * _margin.left).attr(\"y\", _height * _margin.top / 2).attr(\"dy\", \"1.3em\").attr(\"class\", css.COLOR_SAMPLE).style(\"text-anchor\", \"start\");\n\n      this._sampleText = _svg.append(\"text\").attr(\"x\", _width * (1 - _margin.right)).attr(\"y\", _height * _margin.top / 2).attr(\"dy\", \"1.3em\").attr(\"class\", css.COLOR_SAMPLE).style(\"text-anchor\", \"end\");\n\n      _svg.append(\"text\").attr(\"x\", _width * 0.1).attr(\"y\", _height * (1 - _margin.bottom)).attr(\"dy\", \"1.2em\").attr(\"class\", \"vzb-default-label\").style(\"text-anchor\", \"start\").text(\"default\");\n\n      _svg.append(\"circle\").attr(\"class\", css.COLOR_DEFAULT + \" \" + css.COLOR_BUTTON).attr(\"r\", _width * _margin.left / 2).attr(\"cx\", _width * _margin.left * 1.5).attr(\"cy\", _height * (1 - _margin.bottom * 1.5)).on(\"mouseover\", function () {\n        d3.select(this).style(\"stroke\", \"#444\");\n        self._cellHover(self._colorDef);\n      }).on(\"mouseout\", function () {\n        d3.select(this).style(\"stroke\", \"none\");\n      });\n\n      var self = this;\n      circles.selectAll(\".\" + css.COLOR_CIRCLE).data(_colorData).enter().append(\"g\").attr(\"class\", css.COLOR_CIRCLE).each(function (circleData, index) {\n        self._arc.outerRadius(_minRadius + (_maxRadius - _minRadius) / _nCellsL * (_nCellsL - index)).innerRadius(_minRadius + (_maxRadius - _minRadius) / _nCellsL * (_nCellsL - index - 1));\n\n        var segment = d3.select(this).selectAll(\".\" + css.COLOR_SEGMENT).data(self._pie(circleData)).enter().append(\"g\").attr(\"class\", css.COLOR_SEGMENT);\n\n        segment.append(\"path\").attr(\"class\", css.COLOR_BUTTON).attr(\"d\", self._arc).style(\"fill\", function (d) {\n          return d.data.display;\n        }).style(\"stroke\", function (d) {\n          return d.data.display;\n        }).on(\"mouseover\", function (d) {\n          self._cellHover(d.data.meaning, this);\n        }).on(\"mouseout\", function () {\n          return self._cellUnhover();\n        });\n      });\n\n      circles.append(\"circle\").attr(\"r\", _minRadius).attr(\"fill\", _colorWhite).attr(\"class\", css.COLOR_BUTTON).on(\"mouseover\", function () {\n        d3.select(this).style(\"stroke\", \"#555\");\n        self._cellHover(_colorWhite);\n      }).on(\"mouseout\", function () {\n        d3.select(this).style(\"stroke\", \"none\");\n      });\n\n      this._colorPointer = circles.append(\"path\").attr(\"class\", css.COLOR_POINTER + \" \" + css.INVISIBLE);\n\n      _svg.selectAll(\".\" + css.COLOR_BUTTON).on(\"click\", function (d) {\n        d3.event.stopPropagation();\n        _this2._changeColor(d ? d.data.meaning : _this2._colorDef, true);\n        _this2.show(false);\n      });\n    }\n  }, {\n    key: \"_style\",\n    value: function _style() {\n      var _svg = this._svg,\n          _colorWhite = this._colorWhite;\n\n\n      _svg.select(\".\" + css.COLOR_BACKGR).style(\"fill\", \"white\");\n\n      _svg.select(\".\" + css.COLOR_POINTER).style(\"stroke-width\", 2).style(\"stroke\", _colorWhite).style(\"pointer-events\", \"none\").style(\"fill\", \"none\");\n\n      _svg.selectAll(\".\" + css.COLOR_BUTTON).style(\"cursor\", \"pointer\");\n\n      _svg.selectAll(\"text\").style(\"pointer-events\", \"none\").style(\"fill\", \"#D9D9D9\").style(\"font-size\", \"0.7em\").style(\"text-transform\", \"uppercase\");\n\n      _svg.selectAll(\"circle.\" + css.COLOR_BUTTON).style(\"stroke-width\", 2);\n\n      _svg.selectAll(\"rect.\" + css.COLOR_SAMPLE).style(\"pointer-events\", \"none\");\n    }\n  }, {\n    key: \"_cellHover\",\n    value: function _cellHover(value, view) {\n      // show color pointer if the view is set (a cell of colorwheel)\n      if (view != null) this._colorPointer.classed(css.INVISIBLE, false).attr(\"d\", d3.select(view).attr(\"d\"));\n\n      this._sampleRect.style(\"fill\", value);\n      this._sampleText.text(value);\n\n      var isTouch = (0, _utils.isTouchDevice)();\n\n      this._changeColor(value, isTouch);\n      isTouch && this.show(false);\n    }\n  }, {\n    key: \"_changeColor\",\n    value: function _changeColor(color) {\n      var isClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._callback(color, isClick);\n    }\n  }, {\n    key: \"_cellUnhover\",\n    value: function _cellUnhover() {\n      this._colorPointer.classed(css.INVISIBLE, true);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(arg) {\n      if (!arguments.length) return;\n\n      if (typeof arg !== \"undefined\") {\n        var _margin = this._margin;\n\n        var svg = arg;\n\n        var _getComputedStyle2 = getComputedStyle(svg.node()),\n            svgWidth = _getComputedStyle2.width,\n            svgHeight = _getComputedStyle2.height;\n\n        var width = this.constructor.px2num(svgWidth);\n        var height = this.constructor.px2num(svgHeight);\n\n        var maxRadius = width / 2 * (1 - _margin.left - _margin.right);\n        var selectedColor = svg.select(\".\" + css.COLOR_DEFAULT);\n        var defaultLabel = svg.select(\".vzb-default-label\");\n        var circles = svg.select(\".\" + css.COLOR_CIRCLES);\n\n        var hPos = maxRadius + height * _margin.top;\n        var hPosCenter = (1 + _margin.top * 0.5) * height * 0.5;\n\n        var tx = maxRadius + width * _margin.left;\n        var ty = hPos > hPosCenter ? hPosCenter : hPos;\n        circles.attr(\"transform\", \"translate(\" + tx + \", \" + ty + \")\");\n\n        selectedColor.attr(\"cx\", width * _margin.left * 1.5).attr(\"cy\", height * (1 - _margin.bottom * 1.5));\n\n        defaultLabel.attr(\"x\", width * 0.1).attr(\"y\", height * (1 - _margin.bottom));\n      }\n\n      return this.fitToScreen();\n    }\n  }, {\n    key: \"fitToScreen\",\n    value: function fitToScreen(arg) {\n      var screen = this._container.node().getBoundingClientRect();\n      var xPos = void 0,\n          yPos = void 0;\n\n      var _getComputedStyle3 = getComputedStyle(this._wrapper.node()),\n          wrapperWidth = _getComputedStyle3.width,\n          wrapperHeight = _getComputedStyle3.height,\n          wrapperRight = _getComputedStyle3.right,\n          wrapperTop = _getComputedStyle3.top;\n\n      var width = this.constructor.px2num(wrapperWidth);\n      var height = this.constructor.px2num(wrapperHeight);\n\n      if (!arg) {\n        xPos = screen.width - this.constructor.px2num(wrapperRight) - width;\n        yPos = this.constructor.px2num(wrapperTop);\n      } else {\n        xPos = arg[0] - screen.left;\n        yPos = arg[1] - screen.top;\n      }\n\n      var styles = { left: \"\" };\n      if (screen.width * 0.8 <= width) {\n        styles.right = (screen.width - width) * 0.5 + \"px\";\n      } else if (xPos + width > screen.width) {\n        styles.right = Math.min(screen.width * 0.1, 20) + \"px\";\n      } else {\n        styles.right = screen.width - xPos - width + \"px\";\n      }\n\n      if (styles.right) {\n        this._wrapper.style(\"right\", styles.right);\n      }\n\n      if (screen.height * 0.8 <= height) {\n        styles.top = (screen.height - height) * 0.5 + \"px\";\n      } else if (yPos + height * 1.2 > screen.height) {\n        styles.top = screen.height * 0.9 - height + \"px\";\n      } else {\n        styles.top = yPos + \"px\";\n      }\n\n      if (styles.top) {\n        this._wrapper.style(\"top\", styles.top);\n      }\n\n      this._wrapper.style(\"left\", styles.left);\n\n      return this;\n    }\n  }, {\n    key: \"show\",\n    value: function show(arg) {\n      if (!arguments.length) {\n        return this._showColorPicker;\n      }\n\n      if (this._svg == null) {\n        console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n      }\n\n      this._showColorPicker = arg == \"toggle\" ? !this._showColorPicker : arg;\n\n      if (!this._showColorPicker) {\n        this._callback = function () {\n          return void 0;\n        };\n      }\n\n      this._wrapper.classed(css.INVISIBLE, !this._showColorPicker);\n    }\n  }, {\n    key: \"_getOrSet\",\n    value: function _getOrSet(property, value) {\n      property = \"_\" + property;\n\n      if (arguments.length > 1) {\n        this[property] = value;\n        return this;\n      }\n\n      return this[property];\n    }\n  }, {\n    key: \"nCellsH\",\n    value: function nCellsH() {\n      return this._getOrSet.apply(this, [\"nCellsH\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"minH\",\n    value: function minH() {\n      return this._getOrSet.apply(this, [\"minH\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"nCellsL\",\n    value: function nCellsL() {\n      return this._getOrSet.apply(this, [\"nCellsL\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"minL\",\n    value: function minL() {\n      return this._getOrSet.apply(this, [\"minL\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"outerL_display\",\n    value: function outerL_display() {\n      return this._getOrSet.apply(this, [\"outerL_display\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"outerL_meaning\",\n    value: function outerL_meaning() {\n      return this._getOrSet.apply(this, [\"outerL_meaning\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"satConstant\",\n    value: function satConstant() {\n      return this._getOrSet.apply(this, [\"satConstant\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"firstAngleSat\",\n    value: function firstAngleSat() {\n      return this._getOrSet.apply(this, [\"firstAngleSat\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"minRadius\",\n    value: function minRadius() {\n      return this._getOrSet.apply(this, [\"minRadius\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"margin\",\n    value: function margin() {\n      return this._getOrSet.apply(this, [\"margin\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"callback\",\n    value: function callback() {\n      return this._getOrSet.apply(this, [\"callback\"].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"colorDef\",\n    value: function colorDef(arg) {\n      if (!arguments.length) return this._colorDef;\n\n      if (typeof arg !== \"undefined\") {\n        this._colorDef = arg;\n      }\n\n      if (this._svg == null) {\n        console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n      }\n\n      this._svg.select(\".\" + css.COLOR_DEFAULT).style(\"fill\", this._colorDef);\n\n      return this;\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(translator) {\n      if (typeof translator === \"function\") {\n        this._svg.select(\".vzb-default-label\").text(translator(\"colorpicker/default\"));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"colorOld\",\n    value: function colorOld(arg) {\n      if (!arguments.length) {\n        return this._colorOld;\n      }\n\n      this._colorOld = arg;\n\n      if (this._svg == null) {\n        console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n      }\n\n      this._svg.select(\"rect.\" + css.COLOR_SAMPLE).style(\"fill\", this._colorOld);\n      this._svg.select(\"text.\" + css.COLOR_SAMPLE).text(this._colorOld);\n\n      return this;\n    }\n  }], [{\n    key: \"hsl2rgb\",\n    value: function hsl2rgb(h, s, l) {\n      var r = void 0,\n          g = void 0,\n          b = void 0;\n      if (s == 0) {\n        r = g = b = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = this.hue2rgb(p, q, h + 1 / 3);\n        g = this.hue2rgb(p, q, h);\n        b = this.hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return \"#\" + Math.round(r * 255).toString(16) + Math.round(g * 255).toString(16) + Math.round(b * 255).toString(16);\n    }\n  }, {\n    key: \"hue2rgb\",\n    value: function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n  }, {\n    key: \"px2num\",\n    value: function px2num(px) {\n      return parseFloat(px) || 0;\n    }\n  }]);\n\n  return ColorPicker;\n}();\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = axisSmart;\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//d3.axisSmart\n\nfunction axisSmart(_orient) {\n\n  return function d3_axis_smart(_super) {\n\n    var VERTICAL = \"vertical axis\";\n    var HORIZONTAL = \"horizontal axis\";\n    var X = \"labels stack side by side\";\n    var Y = \"labels stack top to bottom\";\n\n    var OPTIMISTIC = \"optimistic approximation: labels have different lengths\";\n    var PESSIMISTIC = \"pessimistic approximation: all labels have the largest length\";\n    var DEFAULT_LOGBASE = 10;\n\n    function onlyUnique(value, index, self) {\n      return self.indexOf(value) === index;\n    }\n\n    function axis(g) {\n      var checkDmn = axis.scale().domain();\n      var checkRng = axis.scale().range();\n      if (!checkDmn[0] && checkDmn[0] !== 0 || !checkDmn[1] && checkDmn[1] !== 0 || !checkRng[0] && checkRng[0] !== 0 || !checkRng[1] && checkRng[1] !== 0) {\n        return utils.warn(\"d3.axisSmart() skips action because of invalid domain \" + JSON.stringify(checkDmn) + \" or range \" + JSON.stringify(checkRng) + \" of the attached scale\");\n      }\n\n      if (highlightValue != null) {\n        axis.highlightValueRun(g);\n        return;\n      }\n\n      // measure the width and height of one digit\n      var widthSampleG = g.append(\"g\").attr(\"class\", \"tick widthSampling\");\n      var widthSampleT = widthSampleG.append(\"text\").text(\"0\");\n      if (!options.cssMargin) options.cssMargin = {};\n      options.cssMargin.top = widthSampleT.style(\"margin-top\");\n      options.cssMargin.bottom = widthSampleT.style(\"margin-bottom\");\n      options.cssMargin.left = widthSampleT.style(\"margin-left\");\n      options.cssMargin.right = widthSampleT.style(\"margin-right\");\n      options.widthOfOneDigit = widthSampleT.node().getBBox().width;\n      options.heightOfOneDigit = widthSampleT.node().getBBox().height;\n      widthSampleG.remove();\n\n      // run label factory - it will store labels in tickValues property of axis\n      axis.labelFactory(options);\n\n      // construct the view (d3 constructor is used)\n      var transition = null;\n      if (options.transitionDuration > 0) {\n        _super(transition = g.transition().duration(options.transitionDuration));\n      } else {\n        _super(g);\n      }\n\n      //remove axis d3v4 hardcoded attributes\n      g.attr(\"fill\", null);\n      g.attr(\"font-size\", null);\n      g.attr(\"font-family\", null);\n      g.attr(\"text-anchor\", null);\n\n      //identify the orientation of axis and the direction of labels\n      var orient = axis.orient() == \"top\" || axis.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n      var dimension = orient == HORIZONTAL && axis.pivot() || orient == VERTICAL && !axis.pivot() ? Y : X;\n\n      //add an invisible element that would represent hovered value\n      g.selectAll(\".vzb-axis-value\").data([null]).enter().append(\"g\").attr(\"class\", \"vzb-axis-value\").classed(\"vzb-hidden\", true).append(\"text\");\n\n      // patch the label positioning after the view is generated\n      var padding = axis.tickPadding();\n      g.selectAll(\"text\").each(function (d, i) {\n        if (axis.pivot() == null) return;\n\n        var view = d3.select(this);\n        view.attr(\"transform\", \"rotate(\" + (axis.pivot() ? -90 : 0) + \")\");\n        view.style(\"text-anchor\", dimension == X ? \"middle\" : \"end\");\n        view.attr(\"x\", dimension == X ? orient == VERTICAL ? -padding : 0 : -padding);\n        view.attr(\"y\", dimension == X ? orient == VERTICAL ? 0 : padding : 0);\n        view.attr(\"dx\", dimension == X ? orient == VERTICAL ? padding : 0 : 0);\n        view.attr(\"dy\", dimension == X ? orient == VERTICAL ? -padding : \".72em\" : \".32em\");\n      });\n\n      //apply label repositioning: first and last visible values would shift away from the borders\n      if (axis.repositionLabels() != null) {\n        var patchLabelsPosition = function patchLabelsPosition() {\n          g.selectAll(\".tick\").each(function (d) {\n            var view = d3.select(this).select(\"text\");\n            var shift = axis.repositionLabels()[d] || { x: 0, y: 0 };\n            view.attr(\"x\", +view.attr(\"x\") + shift.x);\n            view.attr(\"y\", +view.attr(\"y\") + shift.y);\n          });\n        };\n        transition ? transition.on(\"end\", function () {\n          return patchLabelsPosition();\n        }) : patchLabelsPosition();\n      }\n\n      //hide axis labels that are outside the available viewport\n      var scale = axis.scale();\n      if (options.viewportLength) {\n        g.selectAll(\".tick\").classed(\"vzb-hidden\", function (d) {\n          return scale(d) < 0 || scale(d) > options.viewportLength;\n        });\n      }\n\n      // add minor ticks. if none exist add an empty array\n      if (axis.tickValuesMinor() == null) axis.tickValuesMinor([]);\n      var minorTicks = g.selectAll(\".tick-minor\").data(tickValuesMinor);\n      minorTicks.exit().remove();\n      minorTicks = minorTicks.enter().append(\"line\").attr(\"class\", \"tick-minor\").merge(minorTicks);\n\n      var tickLengthOut = axis.tickSizeMinor().outbound;\n      var tickLengthIn = axis.tickSizeMinor().inbound;\n      minorTicks.classed(\"vzb-hidden\", function (d) {\n        return scale(d) < 0 || scale(d) > options.viewportLength;\n      }).attr(\"y1\", orient == HORIZONTAL ? (axis.orient() == \"top\" ? 1 : -1) * tickLengthIn : scale).attr(\"y2\", orient == HORIZONTAL ? (axis.orient() == \"top\" ? -1 : 1) * tickLengthOut : scale).attr(\"x1\", orient == VERTICAL ? (axis.orient() == \"right\" ? -1 : 1) * tickLengthIn : scale).attr(\"x2\", orient == VERTICAL ? (axis.orient() == \"right\" ? 1 : -1) * tickLengthOut : scale);\n\n      //adjust axis rake\n      g.selectAll(\"path\").remove();\n      var rake = g.selectAll(\".vzb-axis-line\").data([0]);\n      rake.exit().remove();\n      rake = rake.enter().append(\"line\").attr(\"class\", \"vzb-axis-line\").merge(rake);\n\n      if (options.viewportLength) {\n        rake.attr(\"x1\", orient == VERTICAL ? 0 : -1).attr(\"x2\", orient == VERTICAL ? 0 : options.viewportLength).attr(\"y1\", orient == HORIZONTAL ? 0 : 0).attr(\"y2\", orient == HORIZONTAL ? 0 : options.viewportLength);\n      } else {\n        //TODO: this will not work for the \"ordinal\" scaleType\n        rake.attr(\"x1\", orient == VERTICAL ? 0 : d3.min(scale.range()) - (options.bump || 0) - 1).attr(\"x2\", orient == VERTICAL ? 0 : d3.max(scale.range()) + (options.bump || 0)).attr(\"y1\", orient == HORIZONTAL ? 0 : d3.min(scale.range()) - (options.bump || 0)).attr(\"y2\", orient == HORIZONTAL ? 0 : d3.max(scale.range()) + (options.bump || 0));\n      }\n    }\n\n    axis.highlightValueRun = function (g) {\n\n      //if viewport is defined and HL value is outside then behave as reset HL\n      if (options.viewportLength && highlightValue != \"none\" && (axis.scale()(highlightValue) > options.viewportLength || axis.scale()(highlightValue) < 0)) highlightValue = \"none\";\n\n      //identify the orientation of axis and the direction of labels\n      var orient = axis.orient() == \"top\" || axis.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n      var dimension = orient == HORIZONTAL && axis.pivot() || orient == VERTICAL && !axis.pivot() ? \"y\" : \"x\";\n      var pivot = axis.pivot() ? -1 : 1;\n\n      //set content and visibility of HL value\n      g.select(\".vzb-axis-value\").classed(\"vzb-hidden\", highlightValue == \"none\");\n\n      var bbox = void 0;\n      var o = {};\n\n      if (highlightValue != \"none\") {\n        // measure its width and height for collision resolving\n        bbox = g.select(\".vzb-axis-value\").node().getBBox();\n\n        // clone a known options object (because we don't want to overwrite widthOfOneDigit / heightOfOneDigit in the original one\n        o.bump = options.bump;\n        o.formatter = options.formatter;\n        o.viewportLength = options.viewportLength;\n        o.toolMargin = options.toolMargin;\n        o.cssMargin = options.cssMargin;\n        o.widthOfOneDigit = bbox[axis.pivot() ? \"height\" : \"width\"] / options.formatter(highlightValue).length;\n        o.heightOfOneDigit = bbox[axis.pivot() ? \"width\" : \"height\"];\n      }\n\n      // this will give additive shifting for the hovered value in case it sticks out a little outside viewport\n      var hlValueShift = (highlightValue == \"none\" ? { x: 0, y: 0 } : repositionLabelsThatStickOut([highlightValue], o, orient, axis.scale(), dimension)[highlightValue])[dimension];\n\n      // this function will help to move the hovered value to the right place\n      var getTransform = function getTransform(d) {\n        return highlightValue == \"none\" ? \"translate(0,0)\" : \"translate(\" + (orient == HORIZONTAL ? axis.scale()(highlightValue) + hlValueShift * pivot : 0) + \",\" + (orient == VERTICAL ? axis.scale()(highlightValue) + hlValueShift * pivot : 0) + \")\";\n      };\n\n      // this function will help to compute opacity for the axis labels that would overlap with the HL label\n      var getOpacity = function getOpacity(d, t, view) {\n        if (highlightValue == \"none\") return 1;\n\n        var wh = orient == HORIZONTAL ? \"width\" : \"height\";\n        var shift = (axis.repositionLabels()[d] || { x: 0, y: 0 })[dimension];\n\n        // opacity depends on the collision between label's boundary boxes\n        return axis.hlOpacityScale()(\n        // this computes the distance between the box centers, this is a 1-d problem because all labels are along the axis\n        // shifts of labels that stick out from the viewport are also taken into account\n        Math.abs(axis.scale()(d) + shift * pivot - axis.scale()(highlightValue) - hlValueShift * pivot)\n        // this computes the sides of boundary boxes, each has a half-size to reduce the distance between centers\n        - view.getBBox()[wh] / 2 - bbox[wh] / 2);\n      };\n\n      // apply translation of the HL value and opacity of tick labels\n      if (highlightTransDuration) {\n        g.select(\".vzb-axis-value\").transition().duration(highlightTransDuration).ease(d3.easeLinear).attr(\"transform\", getTransform);\n\n        g.select(\".vzb-axis-value\").select(\"text\").transition(\"text\").delay(highlightTransDuration).text(highlightValue == \"none\" ? \"\" : options.formatter(highlightValue));\n\n        g.selectAll(\".tick:not(.vzb-hidden)\").each(function (d, t) {\n          d3.select(this).select(\"text\").transition().duration(highlightTransDuration).ease(d3.easeLinear).style(\"opacity\", getOpacity(d, t, this));\n        });\n      } else {\n        g.select(\".vzb-axis-value\").interrupt().attr(\"transform\", getTransform).transition();\n\n        g.select(\".vzb-axis-value\").select(\"text\").interrupt().text(highlightValue == \"none\" ? \"\" : options.formatter(highlightValue)).transition();\n\n        g.selectAll(\".tick:not(.vzb-hidden)\").each(function (d, t) {\n          d3.select(this).select(\"text\").interrupt().style(\"opacity\", getOpacity(d, t, this)).transition();\n        });\n      }\n\n      highlightValue = null;\n    };\n\n    var hlOpacityScale = d3.scaleLinear().domain([0, 5]).range([0, 1]).clamp(true);\n    axis.hlOpacityScale = function (arg) {\n      if (!arguments.length) return hlOpacityScale;\n      hlOpacityScale = arg;\n      return axis;\n    };\n\n    var highlightValue = null;\n    axis.highlightValue = function (arg) {\n      if (!arguments.length) return highlightValue;\n      highlightValue = arg;\n      return axis;\n    };\n\n    var highlightTransDuration = 0;\n    axis.highlightTransDuration = function (arg) {\n      if (!arguments.length) return highlightTransDuration;\n      highlightTransDuration = arg;\n      return axis;\n    };\n\n    var repositionLabels = null;\n    axis.repositionLabels = function (arg) {\n      if (!arguments.length) return repositionLabels;\n      repositionLabels = arg;\n      return axis;\n    };\n\n    var pivot = false;\n    axis.pivot = function (arg) {\n      if (!arguments.length) return pivot;\n      pivot = !!arg;\n      return axis;\n    };\n\n    var tickValuesMinor = [];\n    axis.tickValuesMinor = function (arg) {\n      if (!arguments.length) return tickValuesMinor;\n      tickValuesMinor = arg;\n      return axis;\n    };\n\n    var tickSizeMinor = {\n      outbound: 0,\n      inbound: 0\n    };\n    axis.tickSizeMinor = function (arg1, arg2) {\n      if (!arguments.length) return tickSizeMinor;\n      tickSizeMinor = {\n        outbound: arg1,\n        inbound: arg2 || 0\n      };\n      meow(\"setting\", tickSizeMinor);\n      return axis;\n    };\n\n    var options = {};\n    axis.labelerOptions = function (arg) {\n      if (!arguments.length) return options;\n      options = arg;\n      return axis;\n    };\n\n    axis.METHOD_REPEATING = \"repeating specified powers\";\n    axis.METHOD_DOUBLING = \"doubling the value\";\n\n    axis.labelFactory = function (options) {\n      if (options == null) options = {};\n      if (options.scaleType != \"linear\" && options.scaleType != \"time\" && options.scaleType != \"genericLog\" && options.scaleType != \"log\" && options.scaleType != \"ordinal\") {\n        return axis.ticks(ticksNumber).tickFormat(null).tickValues(null).tickValuesMinor(null).pivot(null).repositionLabels(null);\n      }\n      if (options.scaleType == \"ordinal\") return axis;\n\n      if (options.logBase == null) options.logBase = DEFAULT_LOGBASE;\n      if (options.stops == null) options.stops = [1, 2, 5, 3, 7, 4, 6, 8, 9];\n\n      if (options.removeAllLabels == null) options.removeAllLabels = false;\n\n      if (options.formatter == null) options.formatter = axis.tickFormat() ? axis.tickFormat() : function (d) {\n        return d + \"\";\n      };\n      options.cssLabelMarginLimit = 5; //px\n\n      if (options.cssMargin == null) options.cssMargin = {};\n      if (options.cssMargin.left == null || parseInt(options.cssMargin.left) < options.cssLabelMarginLimit) options.cssMargin.left = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.right == null || parseInt(options.cssMargin.right) < options.cssLabelMarginLimit) options.cssMargin.right = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.top == null || parseInt(options.cssMargin.top) < options.cssLabelMarginLimit) options.cssMargin.top = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.bottom == null || parseInt(options.cssMargin.bottom) < options.cssLabelMarginLimit) options.cssMargin.bottom = options.cssLabelMarginLimit + \"px\";\n      if (options.toolMargin == null) options.toolMargin = {\n        left: 30,\n        bottom: 30,\n        right: 30,\n        top: 30\n      };\n      if (options.bump == null) options.bump = 0;\n      if (options.viewportLength == null) options.viewportLength = 0;\n\n      if (options.pivotingLimit == null) options.pivotingLimit = options.toolMargin[this.orient()];\n\n      if (options.showOuter == null) options.showOuter = false;\n      if (options.limitMaxTickNumber == null) options.limitMaxTickNumber = 0; //0 is unlimited\n\n      var orient = this.orient() == \"top\" || this.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n\n      if (options.isPivotAuto == null) options.isPivotAuto = orient == VERTICAL;\n\n      if (options.cssFontSize == null) options.cssFontSize = \"13px\";\n      if (options.widthToFontsizeRatio == null) options.widthToFontsizeRatio = 0.75;\n      if (options.heightToFontsizeRatio == null) options.heightToFontsizeRatio = 1.20;\n      if (options.widthOfOneDigit == null) options.widthOfOneDigit = parseInt(options.cssFontSize) * options.widthToFontsizeRatio;\n      if (options.heightOfOneDigit == null) options.heightOfOneDigit = parseInt(options.cssFontSize) * options.heightToFontsizeRatio;\n      if (options.fitIntoScale == null || options.fitIntoScale == \"pessimistic\") options.fitIntoScale = PESSIMISTIC;\n      if (options.fitIntoScale == \"optimistic\") options.fitIntoScale = OPTIMISTIC;\n\n      meow(\"********** \" + orient + \" **********\");\n\n      var domain = axis.scale().domain();\n      var range = axis.scale().range();\n      var lengthDomain = Math.abs(domain[domain.length - 1] - domain[0]);\n      var lengthRange = Math.abs(range[range.length - 1] - range[0]);\n\n      var min = d3.min([domain[0], domain[domain.length - 1]]);\n      var max = d3.max([domain[0], domain[domain.length - 1]]);\n      var bothSidesUsed = (options.scaleType == \"linear\" ? min < 0 : min <= 0) && max >= 0 && options.scaleType != \"time\";\n\n      var tickValues = options.showOuter ? [min, max] : [];\n      var tickValuesMinor = []; //[min, max];\n      var ticksNumber = 5;\n\n      function getBaseLog(x, base) {\n        if (x == 0 || base == 0) {\n          return 0;\n        }\n        if (base == null) base = options.logBase;\n        return Math.log(x) / Math.log(base);\n      }\n\n      // estimate the longest formatted label in pixels\n      var estLongestLabelLength =\n      //take 17 sample values and measure the longest formatted label\n      d3.max(d3.range(min, max, (max - min) / 17).concat(max).map(function (d) {\n        return options.formatter(d).replace(\".\", \"\").length;\n      })) * options.widthOfOneDigit + parseInt(options.cssMargin.left);\n\n      var pivot = options.isPivotAuto && (estLongestLabelLength > options.pivotingLimit && orient == VERTICAL || !(estLongestLabelLength > options.pivotingLimit) && !(orient == VERTICAL));\n\n      var labelsStackOnTop = orient == HORIZONTAL && pivot || orient == VERTICAL && !pivot;\n\n      // conditions to remove labels altogether\n      var labelsJustDontFit = !labelsStackOnTop && options.heightOfOneDigit > options.pivotingLimit;\n      if (options.removeAllLabels) return axis.tickValues([]);\n\n      // return a single tick if have only one point in the domain\n      if (min == max) return axis.tickValues([min]).ticks(1).tickFormat(options.formatter);\n\n      // LABELS FIT INTO SCALE\n      // measure if all labels in array tickValues can fit into the allotted lengthRange\n      // approximationStyle can be OPTIMISTIC or PESSIMISTIC\n      // in optimistic style the length of every label is added up and then we check if the total pack of symbols fit\n      // in pessimistic style we assume all labels have the length of the longest label from tickValues\n      // returns TRUE if labels fit and FALSE otherwise\n      var labelsFitIntoScale = function labelsFitIntoScale(tickValues, lengthRange, approximationStyle, rescalingLabels) {\n        if (tickValues == null || tickValues.length <= 1) return true;\n        if (approximationStyle == null) approximationStyle = PESSIMISTIC;\n        if (rescalingLabels == null) scaleType = \"none\";\n\n        if (labelsStackOnTop) {\n          //labels stack on top of each other. digit height matters\n          return lengthRange > tickValues.length * (options.heightOfOneDigit + parseInt(options.cssMargin.top) + parseInt(options.cssMargin.bottom));\n        }\n\n        //labels stack side by side. label width matters\n        var marginsLR = parseInt(options.cssMargin.left) + parseInt(options.cssMargin.right);\n        var maxLength = d3.max(tickValues.map(function (d) {\n          return options.formatter(d).length;\n        }));\n\n        // log scales need to rescale labels, so that 9 takes more space than 2\n        if (rescalingLabels == \"log\") {\n          // sometimes only a fragment of axis is used. in this case we want to limit the scope to that fragment\n          // yes, this is hacky and experimental\n          lengthRange = Math.abs(axis.scale()(d3.max(tickValues)) - axis.scale()(d3.min(tickValues)));\n\n          return lengthRange > d3.sum(tickValues.map(function (d) {\n            return (options.widthOfOneDigit * (approximationStyle == PESSIMISTIC ? maxLength : options.formatter(d).length) + marginsLR) * (\n            // this is a logarithmic rescaling of labels\n            1 + Math.log(d.toString().replace(/([0.])/g, \"\")[0]) / Math.LN10);\n          }));\n        }\n\n        return lengthRange > tickValues.length * marginsLR + (approximationStyle == PESSIMISTIC ? options.widthOfOneDigit * tickValues.length * maxLength : 0) + (approximationStyle == OPTIMISTIC ? options.widthOfOneDigit * tickValues.map(function (d) {\n          return options.formatter(d);\n        }).join(\"\").length : 0);\n      };\n\n      // COLLISION BETWEEN\n      // Check is there is a collision between labels ONE and TWO\n      // ONE is a value, TWO can be a value or an array\n      // returns TRUE if collision takes place and FALSE otherwise\n      var collisionBetween = function collisionBetween(one, two) {\n        if (two == null || two.length == 0) return false;\n        if (!(two instanceof Array)) two = [two];\n\n        for (var i = 0; i < two.length; i++) {\n          if (one != two[i] && one != 0 && Math.abs(axis.scale()(one) - axis.scale()(two[i])) < (labelsStackOnTop ? options.heightOfOneDigit : (options.formatter(one).length + options.formatter(two[i]).length) * options.widthOfOneDigit / 2)) return true;\n        }\n        return false;\n      };\n\n      if (options.scaleType == \"genericLog\" || options.scaleType == \"log\") {\n        var eps = axis.scale().eps ? axis.scale().eps() : 0;\n\n        var spawnZero = bothSidesUsed ? [0] : [];\n\n        // check if spawn positive is needed. if yes then spawn!\n        var spawnPos = max < eps ? [] : d3.range(Math.floor(getBaseLog(Math.max(eps, min))), Math.ceil(getBaseLog(max)), 1).concat(Math.ceil(getBaseLog(max))).map(function (d) {\n          return Math.pow(options.logBase, d);\n        });\n\n        // check if spawn negative is needed. if yes then spawn!\n        var spawnNeg = min > -eps ? [] : d3.range(Math.floor(getBaseLog(Math.max(eps, -max))), Math.ceil(getBaseLog(-min)), 1).concat(Math.ceil(getBaseLog(-min))).map(function (d) {\n          return -Math.pow(options.logBase, d);\n        });\n\n        // automatic chosing of method if it's not explicitly defined\n        if (options.method == null) {\n          var coverage = bothSidesUsed ? Math.max(Math.abs(max), Math.abs(min)) / eps : Math.max(Math.abs(max), Math.abs(min)) / Math.min(Math.abs(max), Math.abs(min));\n          options.method = 10 <= coverage && coverage <= 1024 ? this.METHOD_DOUBLING : this.METHOD_REPEATING;\n        }\n\n        //meow('spawn pos/neg: ', spawnPos, spawnNeg);\n\n\n        if (options.method == this.METHOD_DOUBLING) {\n          (function () {\n            var doublingLabels = [];\n            if (bothSidesUsed) tickValues.push(0);\n            var avoidCollidingWith = [].concat(tickValues);\n\n            // start with the smallest abs number on the scale, rounded to nearest nice power\n            //var startPos = max<eps? null : Math.pow(options.logBase, Math.floor(getBaseLog(Math.max(eps,min))));\n            //var startNeg = min>-eps? null : -Math.pow(options.logBase, Math.floor(getBaseLog(Math.max(eps,-max))));\n\n            var startPos = max < eps ? null : 4 * spawnPos[Math.floor(spawnPos.length / 2) - 1];\n            var startNeg = min > -eps ? null : 4 * spawnNeg[Math.floor(spawnNeg.length / 2) - 1];\n\n            //meow('starter pos/neg: ', startPos, startNeg);\n\n            if (startPos) {\n              for (var l = startPos; l <= max; l *= 2) {\n                doublingLabels.push(l);\n              }\n            }\n            if (startPos) {\n              for (var _l = startPos / 2; _l >= Math.max(min, eps); _l /= 2) {\n                doublingLabels.push(_l);\n              }\n            }\n            if (startNeg) {\n              for (var _l2 = startNeg; _l2 >= min; _l2 *= 2) {\n                doublingLabels.push(_l2);\n              }\n            }\n            if (startNeg) {\n              for (var _l3 = startNeg / 2; _l3 <= Math.min(max, -eps); _l3 /= 2) {\n                doublingLabels.push(_l3);\n              }\n            }\n\n            doublingLabels = doublingLabels.sort(d3.ascending).filter(function (d) {\n              return min <= d && d <= max;\n            });\n\n            tickValuesMinor = tickValuesMinor.concat(doublingLabels);\n\n            doublingLabels = groupByPriorities(doublingLabels, false); // don't skip taken values\n\n            var tickValues_1 = tickValues;\n            for (var j = 0; j < doublingLabels.length; j++) {\n\n              // compose an attempt to add more axis labels\n              var trytofit = tickValues_1.concat(doublingLabels[j]).filter(function (d) {\n                return !collisionBetween(d, avoidCollidingWith);\n              }).filter(onlyUnique);\n\n              // stop populating if labels don't fit\n              if (!labelsFitIntoScale(trytofit, lengthRange, PESSIMISTIC, \"none\")) break;\n\n              // apply changes if no blocking instructions\n              tickValues = trytofit;\n            }\n          })();\n        }\n\n        if (options.method == this.METHOD_REPEATING) {\n\n          var spawn = spawnZero.concat(spawnPos).concat(spawnNeg).sort(d3.ascending);\n\n          options.stops.forEach(function (stop, i) {\n            tickValuesMinor = tickValuesMinor.concat(spawn.map(function (d) {\n              return d * stop;\n            }));\n          });\n\n          spawn = groupByPriorities(spawn);\n          var avoidCollidingWith = spawnZero.concat(tickValues);\n\n          var stopTrying = false;\n\n          options.stops.forEach(function (stop, i) {\n            if (i == 0) {\n              var _ref;\n\n              for (var j = 0; j < spawn.length; j++) {\n\n                // compose an attempt to add more axis labels\n                var trytofit = tickValues.concat(spawn[j].map(function (d) {\n                  return d * stop;\n                }))\n                // throw away labels that collide with \"special\" labels 0, min, max\n                .filter(function (d) {\n                  return !collisionBetween(d, avoidCollidingWith);\n                }).filter(function (d) {\n                  return min <= d && d <= max;\n                }).filter(onlyUnique);\n\n                // stop populating if labels don't fit\n                if (!labelsFitIntoScale(trytofit, lengthRange, PESSIMISTIC, \"none\")) break;\n\n                // apply changes if no blocking instructions\n                tickValues = trytofit;\n              }\n\n              // flatten the spawn array\n              spawn = (_ref = []).concat.apply(_ref, _toConsumableArray(spawn));\n            } else {\n              if (stopTrying) return;\n\n              // compose an attempt to add more axis labels\n              var _trytofit = tickValues.concat(spawn.map(function (d) {\n                return d * stop;\n              })).filter(function (d) {\n                return min <= d && d <= max;\n              }).filter(onlyUnique);\n\n              // stop populating if the new composition doesn't fit\n              if (!labelsFitIntoScale(_trytofit, lengthRange, PESSIMISTIC, \"log\")) {\n                stopTrying = true;\n                return;\n              }\n              // stop populating if the number of labels is limited in options\n              if (tickValues.length > options.limitMaxTickNumber && options.limitMaxTickNumber != 0) {\n                stopTrying = true;\n                return;\n              }\n\n              // apply changes if no blocking instructions\n              tickValues = _trytofit;\n            }\n          });\n        } //method\n\n      } //logarithmic\n\n\n      if (options.scaleType == \"linear\" || options.scaleType == \"time\") {\n        (function () {\n          if (bothSidesUsed) tickValues.push(0);\n          var avoidCollidingWith = [].concat(tickValues);\n\n          if (labelsStackOnTop) {\n            ticksNumber = Math.max(Math.floor(lengthRange / (options.heightOfOneDigit + parseInt(options.cssMargin.top))), 2);\n          } else {\n            ticksNumber = Math.max(Math.floor(lengthRange / estLongestLabelLength), 2);\n          }\n\n          // limit maximum ticks number\n          if (options.limitMaxTickNumber != 0 && ticksNumber > options.limitMaxTickNumber) ticksNumber = options.limitMaxTickNumber;\n\n          var addLabels = axis.scale().ticks(ticksNumber).sort(d3.ascending).filter(function (d) {\n            return min <= d && d <= max;\n          });\n\n          tickValuesMinor = tickValuesMinor.concat(addLabels);\n\n          addLabels = groupByPriorities(addLabels, false);\n\n          var tickValues_1 = tickValues;\n          for (var j = 0; j < addLabels.length; j++) {\n\n            // compose an attempt to add more axis labels\n            var trytofit = tickValues_1.concat(addLabels[j]).filter(function (d) {\n              return !collisionBetween(d, avoidCollidingWith);\n            }).filter(onlyUnique);\n\n            // stop populating if labels don't fit\n            if (!labelsFitIntoScale(trytofit, lengthRange, options.fitIntoScale, \"none\")) break;\n\n            // apply changes if no blocking instructions\n            tickValues = trytofit;\n          }\n\n          tickValues = tickValues //.concat(addLabels)\n          .filter(function (d) {\n            return !collisionBetween(d, avoidCollidingWith);\n          }).filter(onlyUnique);\n        })();\n      }\n\n      if (tickValues != null && tickValues.length <= 2 && !bothSidesUsed) {\n        //remove min tick if min, max ticks have collision between them\n        tickValues = Math.abs(axis.scale()(min) - axis.scale()(max)) < (labelsStackOnTop ? options.heightOfOneDigit : (options.formatter(min).length + options.formatter(max).length) * options.widthOfOneDigit) ? [max] : [min, max];\n        if (tickValues.length == 1 && (options.scaleType == \"linear\" || options.scaleType == \"time\")) {\n          tickValuesMinor = [];\n        }\n      }\n\n      if (tickValues != null && tickValues.length <= 3 && bothSidesUsed) {\n        if (!collisionBetween(0, [min, max])) {\n          tickValues = [min, 0, max];\n        } else {\n          tickValues = [min, max];\n        }\n      }\n\n      if (tickValues != null) tickValues.sort(function (a, b) {\n        return (orient == HORIZONTAL ? -1 : 1) * (axis.scale()(b) - axis.scale()(a));\n      });\n\n      if (labelsJustDontFit) tickValues = [];\n      tickValuesMinor = tickValuesMinor.filter(function (d) {\n        return tickValues.indexOf(d) == -1 && min <= d && d <= max;\n      });\n\n      meow(\"final result\", tickValues);\n\n      return axis.ticks(ticksNumber).tickFormat(options.formatter).tickValues(tickValues).tickValuesMinor(tickValuesMinor).pivot(pivot).repositionLabels(repositionLabelsThatStickOut(tickValues, options, orient, axis.scale(), labelsStackOnTop ? \"y\" : \"x\"));\n    };\n\n    // GROUP ELEMENTS OF AN ARRAY, SO THAT...\n    // less-prio elements are between the high-prio elements\n    // Purpose: enable adding axis labels incrementally, like this for 9 labels:\n    // PRIO 1: +--------, concat result: +-------- first we show only 1 label\n    // PRIO 2: ----+---+, concat result: +---+---+ then we add 2 more, that are maximally spaced\n    // PRIO 3: --+---+--, concat result: +-+-+-+-+ then we fill spaces with 2 more labels\n    // PRIO 4: -+-+-+-+-, concat result: +++++++++ then we fill the remaing spaces and show all labels\n    // exception: zero jumps to the front, if it's on the list\n    // example1: [1 2 3 4 5 6 7] --> [[1][4 7][2 3 5 6]]\n    // example2: [1 2 3 4 5 6 7 8 9] --> [[1][5 9][3 7][2 4 6 8]]\n    // example3: [-4 -3 -2 -1 0 1 2 3 4 5 6 7] --> [[0][-4][2][-1 5][-3 -2 1 3 4 6 7]]\n    // inputs:\n    // array - the source array to be processed. Only makes sense if sorted\n    // removeDuplicates - return incremental groups (true, default), or return concatinated result (false)\n    // returns:\n    // the nested array\n    function groupByPriorities(array, removeDuplicates) {\n      if (removeDuplicates == null) removeDuplicates = true;\n\n      var result = [];\n      var taken = [];\n\n      //zero is an exception, if it's present we manually take it to the front\n      if (array.indexOf(0) != -1) {\n        result.push([0]);\n        taken.push(array.indexOf(0));\n      }\n\n      var _loop = function _loop(k) {\n        // push the next group of elements to the result\n        result.push(array.filter(function (d, i) {\n          if (i % Math.floor(k) == 0 && (taken.indexOf(i) == -1 || !removeDuplicates)) {\n            taken.push(i);\n            return true;\n          }\n          return false;\n        }));\n      };\n\n      for (var k = array.length; k >= 1; k = k < 4 ? k - 1 : k / 2) {\n        _loop(k);\n      }\n\n      return result;\n    }\n\n    // REPOSITION LABELS THAT STICK OUT\n    // Purpose: the outer labels can easily be so large, they stick out of the allotted area\n    // Example:\n    // Label is fine:    Label sticks out:    Label sticks out more:    Solution - label is shifted:\n    //      12345 |           1234|                123|5                   12345|\n    // _______.   |      _______. |           _______.|                 _______.|\n    //\n    // this is what the function does on the first step (only outer labels)\n    // on the second step it shifts the inner labels that start to overlap with the shifted outer labels\n    //\n    // requires tickValues array to be sorted from tail-first\n    // tail means left or bottom, head means top or right\n    //\n    // dimension - which dimension requires shifting\n    // X if labels stack side by side, Y if labels stack on top of one another\n    //\n    // returns the array of recommended {x,y} shifts\n\n    function repositionLabelsThatStickOut(tickValues, options, orient, scale, dimension) {\n      if (!tickValues) return null;\n      var result = {};\n\n      // make an abstraction layer for margin sizes\n      // tail means left or bottom, head means top or right\n      var margin = orient == VERTICAL ? {\n        head: options.toolMargin.top,\n        tail: options.toolMargin.bottom\n      } : {\n        head: options.toolMargin.right,\n        tail: options.toolMargin.left\n      };\n\n      var range = scale.range();\n      var bump = options.bump;\n\n      //when a viewportLength is given: adjust outer VISIBLE tick values\n      //this is helpful when the scaled is zoomed, so labels don't get truncated by a viewport svg\n      if (options.viewportLength) {\n        //remove invisible ticks from the array\n        tickValues = tickValues.filter(function (d) {\n          return scale(d) >= 0 && scale(d) <= options.viewportLength;\n        });\n        //overwrite the available range with viewport limits. direction doesn't matter because we take min-max later anyway\n        range = [0, options.viewportLength];\n        //reset the bump because zoomed axis has no bump\n        bump = 0;\n      }\n\n      // STEP 1:\n      // for outer labels: avoid sticking out from the tool margin\n      tickValues.forEach(function (d, i) {\n        if (i != 0 && i != tickValues.length - 1) return;\n\n        // compute the influence of the axis head\n        var repositionHead = Math.min(margin.head, options.widthOfOneDigit * 0.5) + bump + (orient == HORIZONTAL ? 1 : 0) * d3.max(range) - (orient == HORIZONTAL ? 0 : 1) * d3.min(range) + (orient == HORIZONTAL ? -1 : 1) * scale(d) - (dimension == \"x\") * options.formatter(d).length * options.widthOfOneDigit / 2 - (dimension == \"y\") * options.heightOfOneDigit / 2\n        // we may consider or not the label margins to give them a bit of spacing from the edges\n        - (dimension == \"x\") * parseInt(options.cssMargin.right) - (dimension == \"y\") * parseInt(options.cssMargin.top);\n\n        // compute the influence of the axis tail\n        var repositionTail = Math.min(margin.tail, options.widthOfOneDigit * 0.5) + bump + (orient == VERTICAL ? 1 : 0) * d3.max(range) - (orient == VERTICAL ? 0 : 1) * d3.min(range) + (orient == VERTICAL ? -1 : 1) * scale(d) - (dimension == \"x\") * options.formatter(d).length * options.widthOfOneDigit / 2 - (dimension == \"y\") * options.heightOfOneDigit / 2\n        // we may consider or not the label margins to give them a bit of spacing from the edges\n        - (dimension == \"x\") * parseInt(options.cssMargin.left) - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // apply limits in order to cancel repositioning of labels that are good\n        if (repositionHead > 0) repositionHead = 0;\n        if (repositionTail > 0) repositionTail = 0;\n\n        // add them up with appropriate signs, save to the axis\n        result[d] = { x: 0, y: 0 };\n        result[d][dimension] = (dimension == \"y\" && orient == VERTICAL ? -1 : 1) * (repositionHead - repositionTail);\n      });\n\n      // STEP 2:\n      // for inner labels: avoid collision with outer labels\n      tickValues.forEach(function (d, i) {\n        if (i == 0 || i == tickValues.length - 1) return;\n\n        // compute the influence of the head-side outer label\n        var repositionHead =\n        // take the distance between head and the tick at hand\n        Math.abs(scale(d) - scale(tickValues[tickValues.length - 1]))\n\n        // substract the shift of the head TODO: THE SIGN CHOICE HERE MIGHT BE WRONG. NEED TO TEST ALL CASES\n        - (dimension == \"y\") * (orient == HORIZONTAL ? -1 : 1) * result[tickValues[tickValues.length - 1]][dimension] - (dimension == \"x\") * (orient == HORIZONTAL ? 1 : -1) * result[tickValues[tickValues.length - 1]][dimension]\n\n        // substract half-length of the overlapping labels\n        - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(d).length - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(tickValues[tickValues.length - 1]).length - (dimension == \"y\") * options.heightOfOneDigit * 0.7 //TODO remove magic constant - relation of actual font height to BBox-measured height\n\n        // we may consider or not the label margins to give them a bit of spacing from the edges\n        - (dimension == \"x\") * parseInt(options.cssMargin.left) - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // compute the influence of the tail-side outer label\n        var repositionTail =\n        // take the distance between tail and the tick at hand\n        Math.abs(scale(d) - scale(tickValues[0]))\n\n        // substract the shift of the tail TODO: THE SIGN CHOICE HERE MIGHT BE WRONG. NEED TO TEST ALL CASES\n        - (dimension == \"y\") * (orient == VERTICAL ? -1 : 1) * result[tickValues[0]][dimension] - (dimension == \"x\") * (orient == VERTICAL ? 1 : -1) * result[tickValues[0]][dimension]\n\n        // substract half-length of the overlapping labels\n        - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(d).length - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(tickValues[0]).length - (dimension == \"y\") * options.heightOfOneDigit * 0.7 //TODO remove magic constant - relation of actual font height to BBox-measured height\n\n        // we may consider or not the label margins to give them a bit of spacing from the edges\n        - (dimension == \"x\") * parseInt(options.cssMargin.left) - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // apply limits in order to cancel repositioning of labels that are good\n        if (repositionHead > 0) repositionHead = 0;\n        if (repositionTail > 0) repositionTail = 0;\n\n        // add them up with appropriate signs, save to the axis\n        result[d] = { x: 0, y: 0 };\n        result[d][dimension] = (dimension == \"y\" && orient == VERTICAL ? -1 : 1) * (repositionHead - repositionTail);\n      });\n\n      return result;\n    } // function repositionLabelsThatStickOut()\n\n\n    axis.copy = function () {\n      return d3_axis_smart(d3[\"axis\" + utils.capitalize(_orient)]());\n    };\n\n    axis.orient = function () {\n      if (!arguments.length) return _orient;\n      return axis;\n    };\n\n    return d3.rebind(axis, _super, \"scale\", \"ticks\", \"tickArguments\", \"tickValues\", \"tickFormat\", \"tickSize\", \"tickSizeInner\", \"tickSizeOuter\", \"tickPadding\");\n\n    function meow() {\n      var _console;\n\n      if (!axis.labelerOptions().isDevMode) return;\n      (_console = console).log.apply(_console, arguments);\n    }\n  }(d3[\"axis\" + utils.capitalize(_orient)]());\n}\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _globals = __webpack_require__(102);\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _tool = __webpack_require__(133);\n\nvar _tool2 = _interopRequireDefault(_tool);\n\nvar _data = __webpack_require__(101);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar About = _dialog2.default.extend(\"about\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"about\";\n\n    this._super(config, parent);\n  },\n  readyOnce: function readyOnce() {\n    var version = _globals2.default.version;\n    var updated = new Date(parseInt(_globals2.default.build));\n\n    this.element = d3.select(this.element);\n    this.element.select(\".vzb-about-text0\").html(\"This chart is made with Vizabi,\");\n    this.element.select(\".vzb-about-text1\").html(\"a project by <a href='http://gapminder.org'>Gapminder Foundation</a>\");\n    this.element.select(\".vzb-about-version\").html(\"<a href='https://github.com/Gapminder/vizabi/releases/tag/v\" + version + \"'>Version: \" + version + \"</a>\");\n    this.element.select(\".vzb-about-updated\").html(\"Build: \" + d3.time.format(\"%Y-%m-%d at %H:%M\")(updated));\n    this.element.select(\".vzb-about-report\").html(\"<a href='https://getsatisfaction.com/gapminder/'>Report a problem</a>\");\n    this.element.select(\".vzb-about-credits\").html(\"<a href='https://github.com/Gapminder/vizabi/graphs/contributors'>Contributors</a>\");\n\n    //versions\n    var data = _data2.default;\n\n    var toolData = {};\n    var versionInfo = this.root.versionInfo;\n    toolData.version = versionInfo ? versionInfo.version : \"N/A\";\n    toolData.build = versionInfo ? d3.time.format(\"%Y-%m-%d at %H:%M\")(new Date(parseInt(versionInfo.build))) : \"N/A\";\n    toolData.name = this.root.name;\n\n    var toolsEl = this.element.select(\".vzb-about-tool\");\n    toolsEl.html(\"\");\n    toolsEl.append(\"p\").text(\"Tool: \" + toolData.name);\n    toolsEl.append(\"p\").text(\"-version: \" + toolData.version);\n    toolsEl.append(\"p\").text(\"-build: \" + toolData.build);\n\n    var readerData = data.instances.map(function (dataInstance) {\n      var data = {};\n      var versionInfo = dataInstance.readerObject.versionInfo;\n      data.version = versionInfo ? versionInfo.version : \"N/A\";\n      data.build = versionInfo ? d3.time.format(\"%Y-%m-%d at %H:%M\")(new Date(parseInt(versionInfo.build))) : \"N/A\";\n      data.name = dataInstance.readerObject._name;\n      return data;\n    });\n\n    var readersEl = this.element.select(\".vzb-about-readers\").selectAll(\".vzb-about-reader\").data(readerData);\n    readersEl.exit().remove();\n    readersEl = readersEl.enter().append(\"p\").attr(\"class\", \"vzb-about-reader\");\n    readersEl.append(\"p\").text(function (d) {\n      return d.name;\n    });\n    readersEl.append(\"p\").text(function (d) {\n      return \"-version: \" + d.version;\n    });\n    readersEl.append(\"p\").text(function (d) {\n      return \"-build: \" + d.build;\n    });\n\n    var datasetData = data.instances.map(function (dataInstance) {\n      return dataInstance.getDatasetName();\n    });\n\n    var datasetsEl = this.element.select(\".vzb-about-datasets\").selectAll(\".vzb-about-dataset\").data(datasetData);\n    datasetsEl.exit().remove();\n    datasetsEl = datasetsEl.enter().append(\"p\").attr(\"class\", \"vzb-about-dataset\");\n    datasetsEl.append(\"p\").text(function (d) {\n      return d;\n    });\n  }\n});\n\nexports.default = About;\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nvar _minmaxinputs = __webpack_require__(154);\n\nvar _minmaxinputs2 = _interopRequireDefault(_minmaxinputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Axes dialog\n */\n\nvar Axes = _dialog2.default.extend(\"axes\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"axes\";\n    var _this = this;\n\n    this.components = [{\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-xaxis-selector\",\n      model: [\"state.time\", \"state.marker.axis_x\", \"locale\"]\n    }, {\n      component: _minmaxinputs2.default,\n      placeholder: \".vzb-xaxis-minmax\",\n      model: [\"state.marker\", \"state.time\", \"locale\"],\n      markerID: \"axis_x\",\n      ui: {\n        selectDomainMinMax: false,\n        selectZoomedMinMax: true\n      }\n    }, {\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-yaxis-selector\",\n      model: [\"state.time\", \"state.marker.axis_y\", \"locale\"]\n    }, {\n      component: _minmaxinputs2.default,\n      placeholder: \".vzb-yaxis-minmax\",\n      model: [\"state.marker\", \"state.time\", \"locale\"],\n      markerID: \"axis_y\",\n      ui: {\n        selectDomainMinMax: false,\n        selectZoomedMinMax: true\n      }\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Axes;\n\n/***/ }),\n/* 154 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*!\n * VIZABI MIN MAX INPUT FIELDS\n */\n\nvar DOMAINMIN = \"domainMin\";\nvar DOMAINMAX = \"domainMax\";\nvar ZOOMEDMIN = \"zoomedMin\";\nvar ZOOMEDMAX = \"zoomedMax\";\n\nvar MinMaxInputs = _component2.default.extend({\n\n  /**\n   * Initializes the Component.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init: function init(config, context) {\n    var _this2 = this,\n        _model_binds;\n\n    this.name = \"gapminder-minmaxinputs\";\n    this.template = __webpack_require__(388);\n\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.markerID = config.markerID;\n    if (!config.markerID) utils.warn(\"minmaxinputs.js complains on 'markerID' property: \" + config.markerID);\n\n    this.model_binds = (_model_binds = {\n      \"translate:locale\": function translateLocale() {\n        _this2.updateView();\n      }\n\n    }, _defineProperty(_model_binds, \"change:marker.\" + this.markerID, function undefined() {\n      _this2.updateView();\n    }), _defineProperty(_model_binds, \"ready\", function ready() {\n      _this2.updateView();\n    }), _model_binds);\n\n    // contructor is the same as any component\n    this._super(config, context);\n\n    // SPECIFIC COMPONENT UI! NOT TOOLMODEL UI!\n    this.ui = utils.extend({\n      selectDomainMinMax: false,\n      selectZoomedMinMax: false\n    }, this.ui.getPlainObject());\n  },\n  ready: function ready() {\n    this.updateView();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.element = d3.select(this.element);\n\n    this.el_domain_labelMin = this.element.select(\".vzb-mmi-domainmin-label\");\n    this.el_domain_labelMax = this.element.select(\".vzb-mmi-domainmax-label\");\n    this.el_domain_fieldMin = this.element.select(\".vzb-mmi-domainmin\");\n    this.el_domain_fieldMax = this.element.select(\".vzb-mmi-domainmax\");\n\n    this.el_break = this.element.select(\".vzb-mmi-break\");\n\n    this.el_zoomed_labelMin = this.element.select(\".vzb-mmi-zoomedmin-label\");\n    this.el_zoomed_labelMax = this.element.select(\".vzb-mmi-zoomedmax-label\");\n    this.el_zoomed_fieldMin = this.element.select(\".vzb-mmi-zoomedmin\");\n    this.el_zoomed_fieldMax = this.element.select(\".vzb-mmi-zoomedmax\");\n\n    _this.el_domain_fieldMin.on(\"change\", function () {\n      _this._setModel(DOMAINMIN, this.value);\n    });\n    _this.el_domain_fieldMax.on(\"change\", function () {\n      _this._setModel(DOMAINMAX, this.value);\n    });\n\n    _this.el_zoomed_fieldMin.on(\"change\", function () {\n      _this._setModel(ZOOMEDMIN, this.value);\n    });\n    _this.el_zoomed_fieldMax.on(\"change\", function () {\n      _this._setModel(ZOOMEDMAX, this.value);\n    });\n\n    this.element.selectAll(\"input\").on(\"keypress\", function () {\n      if (d3.event.which == 13) document.activeElement.blur();\n    });\n  },\n  updateView: function updateView() {\n    var _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    this.el_domain_labelMin.text(this.translator(\"hints/min\") + \":\");\n    this.el_domain_labelMax.text(this.translator(\"hints/max\") + \":\");\n    this.el_zoomed_labelMin.text(this.translator(\"hints/min\") + \":\");\n    this.el_zoomed_labelMax.text(this.translator(\"hints/max\") + \":\");\n\n    this.el_domain_labelMin.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_labelMax.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_fieldMin.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_fieldMax.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n\n    this.el_break.classed(\"vzb-hidden\", !(this.ui.selectDomainMinMax && this.ui.selectZoomedMinMax));\n\n    this.el_zoomed_labelMin.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_labelMax.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_fieldMin.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_fieldMax.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n\n    var formatter = function formatter(n) {\n      if (!n && n !== 0) return n;\n      if (utils.isDate(n)) return _this.model.time.formatDate(n);\n      return d3.format(\".2r\")(n);\n    };\n\n    var marker = this.model.marker[this.markerID];\n    var domain = marker.getScale().domain();\n\n    this.el_domain_fieldMin.property(\"value\", formatter(d3.min(domain)));\n    this.el_domain_fieldMax.property(\"value\", formatter(d3.max(domain)));\n    this.el_zoomed_fieldMin.property(\"value\", formatter(marker.getZoomedMin()));\n    this.el_zoomed_fieldMax.property(\"value\", formatter(marker.getZoomedMax()));\n  },\n  _setModel: function _setModel(what, value) {\n    this.model.marker[this.markerID][what] = utils.strToFloat(value);\n  }\n});\n\nexports.default = MinMaxInputs;\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _colorlegend = __webpack_require__(104);\n\nvar _colorlegend2 = _interopRequireDefault(_colorlegend);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI COLOR DIALOG\n */\n\nvar Colors = _dialog2.default.extend(\"colors\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"colors\";\n\n    this.components = [{\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-caxis-selector\",\n      model: [\"state.time\", \"state.marker.color\", \"locale\"],\n      showHoverValues: true\n    }, {\n      component: _colorlegend2.default,\n      placeholder: \".vzb-clegend-container\",\n      model: [\"state.time\", \"state.entities\", \"state.marker\", \"state.marker.color\", \"locale\", \"ui\"]\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Colors;\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * VIZABI DIALOGS\n * Reusable dialogs component\n */\n\n//default existing dialogs\nvar class_active = \"vzb-active\";\nvar class_expand_dialog = \"vzb-dialog-side\";\n\nvar Dialogs = _component2.default.extend({\n\n  /**\n   * Initializes the dialogs\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, context) {\n\n    // set properties\n    this.name = \"gapminder-dialogs\";\n    this._curr_dialog_index = 20;\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    var components = _dialog2.default.getCollection();\n    this._available_dialogs = Object.keys(components).reduce(function (result, key) {\n      var component = components[key];\n\n      if (component.prototype.isDialog && !key.startsWith(\"_\")) {\n        result[key] = { dialog: component };\n      }\n\n      return result;\n    }, {});\n\n    this._super(config, context);\n  },\n  domReady: function domReady() {\n    var dialog_popup = (this.model.ui.dialogs || {}).popup || [];\n    var dialog_sidebar = (this.model.ui.dialogs || {}).sidebar || [];\n\n    this.rootEl = this.root.element instanceof Array ? this.root.element : d3.select(this.root.element);\n\n    // if dialog_sidebar has been passed in with boolean param or array must check and covert to array\n    if (dialog_sidebar === true) {\n      dialog_sidebar = dialog_popup;\n      (this.model.ui.dialogs || {}).sidebar = dialog_sidebar;\n    }\n    if (dialog_sidebar.length !== 0) {\n      this.rootEl.classed(\"vzb-dialog-expand-true\", true);\n    }\n    this.dialog_popup = dialog_popup;\n    this.dialog_sidebar = dialog_sidebar;\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n    if (utils.isTouchDevice()) {\n      this.element.classed(\"vzb-no-hover\", true);\n    }\n\n    this._addDialogs(this.dialog_popup, this.dialog_sidebar);\n\n    this.resize();\n\n    if (this.dialog_popup.length !== 0) {\n      this.root.findChildByName(\"gapminder-buttonlist\").on(\"click\", function (evt, button) {\n        if (!_this._available_dialogs[button.id]) return;\n\n        if (button.active) {\n          _this.openDialog(button.id);\n        } else {\n          _this.closeDialog(button.id);\n        }\n      });\n\n      var popupDialogs = this.element.selectAll(\".vzb-top-dialog\").filter(function (d) {\n        return _this.dialog_popup.indexOf(d.id) > -1;\n      });\n\n      var close_buttons = popupDialogs.select(\".vzb-top-dialog>.vzb-dialog-modal>.vzb-dialog-buttons>[data-click='closeDialog']\");\n      close_buttons.on(\"click\", function (d, i) {\n        _this.closeDialog(d.id);\n      });\n\n      var pinDialog = popupDialogs.select(\".vzb-top-dialog>.vzb-dialog-modal>[data-click='pinDialog']\");\n      pinDialog.on(\"click\", function (d, i) {\n        _this.pinDialog(d.id);\n      });\n\n      this.rootEl.node().addEventListener(\"click\", function () {\n        _this.closeAllDialogs();\n      });\n\n      this.rootEl.on(\"mousedown\", function (e) {\n        if (!this._active_comp) return; //don't do anything if nothing is open\n\n        var target = d3.event.target;\n        var closeDialog = true;\n        while (target) {\n          if (target.classList.contains(\"vzb-dialog-modal\")) {\n            closeDialog = false;\n            break;\n          }\n          target = target.parentElement;\n        }\n        if (closeDialog) {\n          _this.closeAllDialogs();\n        }\n      });\n    }\n\n    this.element.on(\"click\", function () {\n      d3.event.stopPropagation();\n    });\n  },\n  resize: function resize() {\n    if (!this.element.selectAll) return utils.warn(\"dialogs resize() aborted because element is not yet defined\");\n\n    var _this = this;\n    var profile = this.getLayoutProfile();\n\n    this.element.selectAll(\".vzb-top-dialog\").each(function (d) {\n      var dialogEl = d3.select(this);\n      var cls = dialogEl.attr(\"class\").replace(\" vzb-popup\", \"\").replace(\" vzb-sidebar\", \"\");\n\n      if (profile === \"large\" && _this.dialog_sidebar.indexOf(d.id) > -1) {\n        cls += \" vzb-sidebar\";\n      } else if (_this.dialog_popup.indexOf(d.id) > -1) {\n        cls += \" vzb-popup\";\n      }\n\n      dialogEl.attr(\"class\", cls);\n    });\n  },\n\n\n  /*\n   * adds dialogs configuration to the components and template_data\n   * @param {Array} dialog_list list of dialogs to be added\n   */\n  _addDialogs: function _addDialogs(dialog_popup, dialog_sidebar) {\n\n    var profile = this.getLayoutProfile();\n    var dialog_list = [];\n\n    dialog_list = dialog_popup ? dialog_list.concat(dialog_popup) : dialog_list;\n    dialog_list = dialog_sidebar ? dialog_list.concat(dialog_sidebar) : dialog_list;\n\n    dialog_list = utils.unique(dialog_list);\n\n    this._components_config = [];\n    var details_dlgs = [];\n    if (!dialog_list.length) return;\n    //add a component for each dialog\n    for (var i = 0; i < dialog_list.length; i++) {\n\n      var dlg = dialog_list[i];\n      var dlg_config = this._available_dialogs[dlg];\n\n      //if it's a dialog, add component\n      if (dlg_config && dlg_config.dialog) {\n        var comps = this._components_config;\n\n        //add corresponding component\n        comps.push({\n          component: dlg_config.dialog,\n          placeholder: '.vzb-dialogs-dialog[data-dlg=\"' + dlg + '\"]',\n          model: [\"state\", \"ui\", \"locale\"]\n        });\n\n        dlg_config.component = comps.length - 1;\n      }\n\n      dlg_config.id = dlg;\n      details_dlgs.push(dlg_config);\n    }\n\n    this.element.selectAll(\"div\").data(details_dlgs).enter().append(\"div\").attr(\"data-dlg\", function (d) {\n      return d.id;\n    }).attr(\"class\", \"vzb-top-dialog vzb-dialogs-dialog vzb-dialog-shadow\");\n\n    this.loadSubComponents();\n\n    var _this = this;\n    //render each subcomponent\n    utils.forEach(this.components, function (subcomp) {\n      subcomp.render();\n      _this.on(\"resize\", function () {\n        subcomp.trigger(\"resize\");\n      });\n      subcomp.on(\"dragstart\", function () {\n        _this.bringForward(subcomp.name);\n      });\n      subcomp.on(\"close\", function () {\n        this.placeholderEl.each(function (d) {\n          var evt = {};\n          evt.id = d.id;\n          _this.trigger(\"close\", evt);\n        });\n      });\n    });\n  },\n  bringForward: function bringForward(id) {\n    var dialog = this.element.select(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n    dialog.style(\"z-index\", this._curr_dialog_index);\n    this._curr_dialog_index += 10;\n  },\n\n\n  //TODO: make opening/closing a dialog via update and model\n  /*\n   * Activate a dialog\n   * @param {String} id dialog id\n   */\n  openDialog: function openDialog(id) {\n    //close pinned dialogs for small profile\n    var forceClose = this.getLayoutProfile() === \"small\";\n    this.closeAllDialogs(forceClose);\n\n    var dialog = this.element.selectAll(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    this._active_comp = this.components[this._available_dialogs[id].component];\n\n    this._active_comp.beforeOpen();\n    //add classes\n    dialog.classed(class_active, true);\n\n    this.bringForward(id);\n\n    //call component function\n    this._active_comp.open();\n  },\n  pinDialog: function pinDialog(id) {\n    var dialog = this.element.select(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    if (this._available_dialogs[id].ispin) {\n      dialog.classed(\"pinned\", false);\n      this._available_dialogs[id].ispin = false;\n    } else {\n      dialog.classed(\"pinned\", true);\n      this._available_dialogs[id].ispin = true;\n    }\n  },\n\n\n  /*\n   * Closes a dialog\n   * @param {String} id dialog id\n   */\n  closeDialog: function closeDialog(id) {\n    var dialog = this.element.selectAll(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    this._active_comp = this.components[this._available_dialogs[id].component];\n\n    if (this._active_comp && !this._active_comp.isOpen) return;\n\n    if (this._available_dialogs[id].ispin) this.pinDialog(id);\n\n    if (this._active_comp) {\n      this._active_comp.beforeClose();\n    }\n    //remove classes\n    dialog.classed(class_active, false);\n\n    //call component close function\n    if (this._active_comp) {\n      this._active_comp.close();\n    }\n    this._active_comp = false;\n  },\n\n\n  /*\n   * Close all dialogs\n   */\n  closeAllDialogs: function closeAllDialogs(forceclose) {\n    var _this = this;\n    //remove classes\n    var dialogClass = forceclose ? \".vzb-popup.vzb-dialogs-dialog.vzb-active\" : \".vzb-popup.vzb-dialogs-dialog.vzb-active:not(.pinned)\";\n    var all_dialogs = this.element.selectAll(dialogClass);\n    all_dialogs.each(function (d) {\n      _this.closeDialog(d.id);\n    });\n  }\n});\n\nexports.default = Dialogs;\n\n/***/ }),\n/* 157 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simpleslider = __webpack_require__(55);\n\nvar _simpleslider2 = _interopRequireDefault(_simpleslider);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI FIND CONTROL\n * Reusable find dialog\n */\n\nvar Find = _dialog2.default.extend(\"find\", {\n  init: function init(config, parent) {\n    this.name = \"find\";\n    var _this = this;\n\n    this.components = [{\n      component: _simpleslider2.default,\n      placeholder: \".vzb-dialog-bubbleopacity\",\n      model: [\"state.marker\"],\n      arg: \"opacitySelectDim\",\n      properties: { step: 0.01 }\n    }];\n\n    this.enablePicker = ((config.ui.dialogs.dialog || {}).find || {}).enablePicker;\n    if (this.enablePicker) {\n      this.components.push({\n        component: _indicatorpicker2.default,\n        placeholder: \".vzb-find-filter-selector\",\n        model: [\"state.time\", \"state.entities\", \"locale\"]\n      });\n    }\n\n    this.model_binds = {\n      \"change:state.marker.select\": function changeStateMarkerSelect(evt) {\n        _this.items.order();\n        _this.selectDataPoints();\n        _this.showHideDeselect();\n      },\n      \"change:state.time.playing\": function changeStateTimePlaying(evt) {\n        if (!_this.model.state.time.playing) {\n          _this.time = _this.model.state.time.value;\n\n          _this.model.state.marker.getFrame(_this.time, function (values, time) {\n            if (!values || _this.time - time) return;\n            _this.redrawDataPoints(values);\n          });\n        }\n      },\n      \"change:state.time.value\": function changeStateTimeValue(evt) {\n        // hide changes if the dialog is not visible\n        if (!_this.placeholderEl.classed(\"vzb-active\") && !_this.placeholderEl.classed(\"vzb-sidebar\")) return;\n\n        _this.time = _this.model.state.time.value;\n\n        _this.model.state.marker.getFrame(_this.time, function (values) {\n          if (!values) return;\n          _this.redrawDataPoints(values);\n        });\n      },\n      \"translate:locale\": function translateLocale() {\n        _this.input_search.attr(\"placeholder\", _this.translator(\"placeholder/search\") + \"...\");\n      }\n    };\n\n    this._super(config, parent);\n  },\n\n\n  /**\n   * Grab the list div\n   */\n  readyOnce: function readyOnce() {\n    this._super();\n\n    this.list = this.element.select(\".vzb-find-list\");\n    this.input_search = this.element.select(\".vzb-find-search\");\n    this.deselect_all = this.element.select(\".vzb-find-deselect\");\n    this.opacity_nonselected = this.element.select(\".vzb-dialog-bubbleopacity\");\n\n    this.element.select(\".vzb-find-filter-selector\").classed(\"vzb-hidden\", !this.enablePicker);\n    this.element.select(\".vzb-dialog-title\").classed(\"vzb-title-two-rows\", this.enablePicker);\n\n    this.KEY = this.model.state.entities.getDimension();\n\n    var _this = this;\n\n    this.input_search.on(\"keyup\", function () {\n      var event = d3.event;\n      if (event.keyCode == 13 && _this.input_search.node().value == \"select all\") {\n        _this.input_search.node().value = \"\";\n        //clear highlight so it doesn't get in the way when selecting an entity\n        if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n        _this.model.state.marker.selectAll();\n      }\n    });\n\n    this.input_search.on(\"input\", function () {\n      _this.showHideSearch();\n    });\n\n    this.deselect_all.on(\"click\", function () {\n      _this.deselectMarkers();\n    });\n\n    this.translator = this.model.locale.getTFunction();\n    this.input_search.attr(\"placeholder\", this.translator(\"placeholder/search\") + \"...\");\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", function () {\n      _this.ready();\n    });\n  },\n  open: function open() {\n    var _this = this;\n    this._super();\n\n    this.input_search.node().value = \"\";\n    this.showHideSearch();\n\n    this.time = this.model.state.time.value;\n\n    this.model.state.marker.getFrame(this.time, function (values) {\n      if (!values) return;\n      _this.redrawDataPoints(values);\n    });\n  },\n\n\n  /**\n   * Build the list everytime it updates\n   */\n  //TODO: split update in render and update methods\n  ready: function ready() {\n    this._super();\n\n    var _this = this;\n    var KEY = this.KEY = this.model.state.entities.getDimension();\n    var KEYS = this.KEYS = utils.unique(this.model.state.marker._getAllDimensions({ exceptType: \"time\" }));\n    this.multiDim = KEYS.length > 1;\n\n    this.importantHooks = _this.model.state.marker.getImportantHooks();\n    var labelNames = _this.model.state.marker.getLabelHookNames();\n\n    this.time = this.model.state.time.value;\n    this.model.state.marker.getFrame(this.time, function (values) {\n      if (!values) return;\n\n      var data = _this.multiDim ? _this.model.state.marker.getKeysMD().map(function (pointer) {\n        pointer.brokenData = false;\n        pointer.name = KEYS.map(function (key, index) {\n          return values[labelNames[index]][pointer[key]];\n        }).join(\", \");\n\n        return pointer;\n      }) : _this.model.state.marker.getKeys().map(function (d) {\n        var pointer = {};\n        pointer[KEY] = d[KEY];\n        pointer.brokenData = false;\n        pointer.name = values.label[d[KEY]];\n\n        return pointer;\n      });\n\n      //sort data alphabetically\n      data.sort(function (a, b) {\n        return a.name < b.name ? -1 : 1;\n      });\n\n      _this.list.html(\"\");\n\n      _this.items = _this.list.selectAll(\".vzb-find-item\").data(data).enter().append(\"div\").attr(\"class\", \"vzb-find-item vzb-dialog-checkbox\");\n\n      _this.items.append(\"input\").attr(\"type\", \"checkbox\").attr(\"class\", \"vzb-find-item\").attr(\"id\", function (d, i) {\n        return \"-find-\" + i + \"-\" + _this._id;\n      }).on(\"change\", function (d) {\n        //clear highlight so it doesn't get in the way when selecting an entity\n        if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n        _this.model.state.marker.selectMarker(d);\n        //return to highlighted state\n        if (!utils.isTouchDevice() && !d.brokenData) _this.model.state.marker.highlightMarker(d);\n      });\n\n      _this.items.append(\"label\").attr(\"for\", function (d, i) {\n        return \"-find-\" + i + \"-\" + _this._id;\n      }).text(function (d) {\n        return d.name;\n      }).attr(\"title\", function (d) {\n        return this.offsetWidth < this.scrollWidth ? d.name : null;\n      }).on(\"mouseover\", function (d) {\n        if (!utils.isTouchDevice() && !d.brokenData) _this.model.state.marker.highlightMarker(d);\n      }).on(\"mouseout\", function (d) {\n        if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n      });\n      utils.preventAncestorScrolling(_this.element.select(\".vzb-dialog-scrollable\"));\n\n      _this.redrawDataPoints(values);\n      _this.selectDataPoints();\n      _this.showHideSearch();\n      _this.showHideDeselect();\n    });\n  },\n  redrawDataPoints: function redrawDataPoints(values) {\n    var _this = this;\n    var KEY = this.KEY;\n    var KEYS = this.KEYS;\n\n    if (this.multiDim) {\n      _this.items.each(function (d) {\n        var view = d3.select(this).select(\"label\");\n        d.brokenData = false;\n\n        utils.forEach(_this.importantHooks, function (name) {\n          var hook = values[name];\n          if (!hook) return;\n          var value = utils.getValueMD(d, hook, KEYS) || false;\n          if (!value && value !== 0) {\n            d.brokenData = true;\n            return false;\n          }\n        });\n\n        var nameIfEllipsis = this.offsetWidth < this.scrollWidth ? d.name : \"\";\n        view.classed(\"vzb-find-item-brokendata\", d.brokenData).attr(\"title\", nameIfEllipsis + (d.brokenData ? (nameIfEllipsis ? \" | \" : \"\") + _this.model.state.time.formatDate(_this.time) + \": \" + _this.translator(\"hints/nodata\") : \"\"));\n      });\n    } else {\n      _this.items.each(function (d) {\n        var view = d3.select(this).select(\"label\");\n\n        d.brokenData = false;\n        utils.forEach(values, function (hook, name) {\n          //TODO: remove the hack with hardcoded hook names (see discussion in #1389)\n          if (name !== \"color\" && name !== \"size_label\" && _this.model.state.marker[name].use !== \"constant\" && !hook[d[KEY]] && hook[d[KEY]] !== 0) {\n            d.brokenData = true;\n          }\n        });\n\n        var nameIfEllipsis = this.offsetWidth < this.scrollWidth ? d.name : \"\";\n        view.classed(\"vzb-find-item-brokendata\", d.brokenData).attr(\"title\", nameIfEllipsis + (d.brokenData ? (nameIfEllipsis ? \" | \" : \"\") + _this.model.state.time.formatDate(_this.time) + \": \" + _this.translator(\"hints/nodata\") : \"\"));\n      });\n    }\n  },\n  selectDataPoints: function selectDataPoints() {\n    var _this = this;\n    var KEY = this.KEY;\n    //    const selected = this.model.state.marker.getSelected(KEY);\n    var selected = this.model.state.marker;\n    this.items.selectAll(\"input\")\n    //      .property(\"checked\", d => (selected.indexOf(d[KEY]) !== -1));\n    .property(\"checked\", function (d) {\n      var isSelected = selected.isSelected(d);\n      d3.select(this.parentNode).classed(\"vzb-checked\", isSelected);\n      return isSelected;\n    });\n    var lastCheckedNode = this.list.selectAll(\".vzb-checked\").classed(\"vzb-separator\", false).lower().nodes()[0];\n    d3.select(lastCheckedNode).classed(\"vzb-separator\", true);\n    this.contentEl.node().scrollTop = 0;\n  },\n  showHideSearch: function showHideSearch() {\n    var search = this.input_search.node().value || \"\";\n    search = search.toLowerCase();\n\n    this.list.selectAll(\".vzb-find-item\").classed(\"vzb-hidden\", function (d) {\n      var lower = (d.name || \"\").toString().toLowerCase();\n      return lower.indexOf(search) === -1;\n    });\n  },\n  showHideDeselect: function showHideDeselect() {\n    var someSelected = !!this.model.state.marker.select.length;\n    this.deselect_all.classed(\"vzb-hidden\", !someSelected);\n    this.opacity_nonselected.classed(\"vzb-hidden\", !someSelected);\n  },\n  deselectMarkers: function deselectMarkers() {\n    this.model.state.marker.clearSelected();\n  },\n  transitionEnd: function transitionEnd(event) {\n    this._super(event);\n\n    if (!utils.isTouchDevice()) this.input_search.node().focus();\n  }\n});\n\nexports.default = Find;\n\n/***/ }),\n/* 158 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simpleslider = __webpack_require__(55);\n\nvar _simpleslider2 = _interopRequireDefault(_simpleslider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar Grouping = _dialog2.default.extend(\"grouping\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"grouping\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.groupStops = [1, 5, 10, 15];\n\n    this.components = [{\n      component: _simpleslider2.default,\n      placeholder: \".vzb-dialog-placeholder\",\n      model: [\"state.entities_age\"],\n      arg: \"grouping\",\n      properties: { min: 1, max: this.groupStops.length, step: 1, suppressInput: true, scale: d3.scaleLinear().domain(d3.range(1, this.groupStops.length)).range(this.groupStops)\n      }\n    }];\n\n    this._super(config, parent);\n  },\n  readyOnce: function readyOnce() {\n    this._super();\n    //    this.element = d3.select(this.element);\n    var groups = this.element.select(\".vzb-dialog-groups\");\n\n    groups.selectAll(\".vzb-dialog-groups-title\").data(this.groupStops).enter().append(\"span\").attr(\"class\", \".vzb-dialog-groups-title\").text(function (d) {\n      return d;\n    });\n  }\n});\n\nexports.default = Grouping;\n\n/***/ }),\n/* 159 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _sizeslider = __webpack_require__(160);\n\nvar _sizeslider2 = _interopRequireDefault(_sizeslider);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nvar _simplecheckbox = __webpack_require__(56);\n\nvar _simplecheckbox2 = _interopRequireDefault(_simplecheckbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Label dialog\n */\n\nvar Label = _dialog2.default.extend(\"label\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"label\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: _sizeslider2.default,\n      placeholder: \".vzb-dialog-sizeslider\",\n      model: [\"state.marker.size_label\", \"locale\"],\n      propertyname: \"LabelTextSize\",\n      ui: {\n        constantUnit: \"unit/pixels\"\n      }\n    }, {\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-saxis-selector\",\n      model: [\"state.time\", \"state.marker.size_label\", \"locale\"],\n      showHoverValues: true\n    }, {\n      component: _simplecheckbox2.default,\n      placeholder: \".vzb-removelabelbox-switch\",\n      model: [\"ui.chart\", \"locale\"],\n      checkbox: \"removeLabelBox\",\n      submodel: \"labels\"\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Label;\n\n/***/ }),\n/* 160 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI BUBBLE SIZE slider\n * Reusable bubble size slider\n */\n\nvar OPTIONS = {\n  EXTENT_MIN: 0,\n  EXTENT_MAX: 1,\n  TEXT_PARAMS: { TOP: 18, LEFT: 10, MAX_WIDTH: 42, MAX_HEIGHT: 16 },\n  BAR_WIDTH: 6,\n  THUMB_RADIUS: 10,\n  THUMB_STROKE_WIDTH: 4,\n  INTRO_DURATION: 250,\n  MARGIN: { TOP: 2, LEFT: 5, RIGHT: 5 }\n};\n\nvar profiles = {\n  \"small\": {\n    minLabelTextSize: 7,\n    maxLabelTextSize: 21,\n    defaultLabelTextSize: 12\n  },\n  \"medium\": {\n    minLabelTextSize: 7,\n    maxLabelTextSize: 30,\n    defaultLabelTextSize: 15\n  },\n  \"large\": {\n    minLabelTextSize: 6,\n    maxLabelTextSize: 48,\n    defaultLabelTextSize: 20\n  }\n};\n\nvar SizeSlider = _component2.default.extend({\n\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init: function init(config, context) {\n\n    this.name = \"sizeslider\";\n\n    this.template = this.template || __webpack_require__(389);\n\n    this.propertyName = config.propertyname;\n\n    this.model_expects = [{\n      name: \"size\",\n      type: \"size\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    var _this = this;\n    this.model_binds = {\n      \"change:size.domainMin\": changeMinMaxHandler,\n      \"change:size.domainMax\": changeMinMaxHandler,\n      \"change:size.extent\": changeMinMaxHandler,\n      \"ready\": function ready() {\n        _this.modelReady();\n      }\n    };\n\n    function changeMinMaxHandler(evt, path) {\n      var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._updateLabels(extent);\n      _this._moveBrush(extent);\n    }\n\n    this._setModel = utils.throttle(this._setModel, 50);\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n  modelReady: function modelReady() {\n    var _this = this;\n    _this.modelUse = _this.model.size.use;\n    var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    if (_this.modelUse != \"constant\") {\n      _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n      _this.sliderEl.selectAll(\".w\").classed(\"vzb-hidden\", false);\n      _this.sliderEl.select(\".selection\").classed(\"vzb-hidden\", false);\n      _this.sliderEl.select(\".overlay\").classed(\"vzb-pointerevents-none\", false);\n      _this._setLabelsText();\n    } else {\n      _this.sliderEl.selectAll(\".w\").classed(\"vzb-hidden\", true);\n      _this.sliderEl.select(\".selection\").classed(\"vzb-hidden\", true);\n      _this.sliderEl.select(\".overlay\").classed(\"vzb-pointerevents-none\", true);\n      if (!_this.model.size.which) {\n        var p = _this.propertyActiveProfile;\n        extent[1] = (p.default - p.min) / (p.max - p.min);\n        _this.model.size.which = \"_default\";\n      }\n    }\n    _this._moveBrush(extent);\n  },\n\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available as a d3 object\n   */\n  readyOnce: function readyOnce() {\n    var _this = this;\n    var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    this.element = d3.select(this.element);\n    this.sliderSvg = this.element.select(\".vzb-szs-svg\");\n    this.sliderWrap = this.sliderSvg.select(\".vzb-szs-slider-wrap\");\n    this.sliderEl = this.sliderWrap.select(\".vzb-szs-slider\");\n\n    var textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n    var textMaxWidth = OPTIONS.TEXT_PARAMS.MAX_WIDTH;\n    var textMaxHeight = OPTIONS.TEXT_PARAMS.MAX_HEIGHT;\n    var barWidth = OPTIONS.BAR_WIDTH;\n    var thumbRadius = OPTIONS.THUMB_RADIUS;\n    var thumbStrokeWidth = OPTIONS.THUMB_STROKE_WIDTH;\n    var padding = {\n      top: OPTIONS.MARGIN.TOP + barWidth * 1.25,\n      left: thumbRadius,\n      right: thumbRadius,\n      bottom: barWidth + textMaxHeight\n    };\n\n    var componentWidth = this.element.node().offsetWidth - padding.left - padding.right || 0;\n    if (componentWidth < 0) componentWidth = 0;\n\n    this.padding = padding;\n\n    this.propertyActiveProfile = this.getPropertyActiveProfile();\n    this.translator = this.model.locale.getTFunction();\n\n    this.propertyScale = d3.scaleLinear().domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX]).range([this.propertyActiveProfile.min, this.propertyActiveProfile.max]).clamp(true);\n\n    this.xScale = d3.scaleLinear().domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX]).range([0, componentWidth]).clamp(true);\n\n    this.brush = d3.brushX().extent([[0, 0], [componentWidth, barWidth]]).handleSize(thumbRadius * 2 + barWidth * 2).on(\"start\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n        var brushDatum = _this.sliderEl.node().__brush;\n        brushDatum.selection[1][0] += 0.01;\n      }\n      _this._setFromExtent(false, false, false);\n    }).on(\"brush\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n        var brushDatum = _this.sliderEl.node().__brush;\n        brushDatum.selection[1][0] += 0.01;\n      }\n      _this._setFromExtent(true, false, false); // non persistent change\n    }).on(\"end\", function () {\n      if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n      _this._setFromExtent(true, true); // force a persistent change\n    });\n\n    this.sliderThumbs = this.sliderEl.selectAll(\".handle\").data([{ type: \"w\" }, { type: \"e\" }], function (d) {\n      return d.type;\n    }).enter().append(\"svg\").attr(\"class\", function (d) {\n      return \"handle handle--\" + d.type + \" \" + d.type;\n    }).classed(\"vzb-szs-slider-thumb\", true);\n\n    this.sliderThumbs.append(\"g\").attr(\"class\", \"vzb-szs-slider-thumb-badge\").append(\"path\").attr(\"d\", \"M\" + (thumbRadius + barWidth) + \" \" + (thumbRadius + barWidth * 1.5) + \"l\" + -thumbRadius + \" \" + thumbRadius * 1.5 + \"h\" + thumbRadius * 2 + \"Z\");\n\n    this.sliderEl.call(_this.brush);\n\n    this.sliderLabelsWrapperEl = this.sliderEl.append(\"g\");\n    this.sliderLabelsWrapperEl.selectAll(\"text\").data([0, 0]).enter().append(\"text\").attr(\"class\", function (d, i) {\n      return \"vzb-szs-slider-thumb-label \" + (i ? \"e\" : \"w\");\n    }).attr(\"dy\", -barWidth * 1.25 + \"px\");\n\n    this.sliderLabelsEl = this.sliderEl.selectAll(\"text.vzb-szs-slider-thumb-label\");\n\n    this.sliderEl.selectAll(\".selection,.overlay\").attr(\"height\", barWidth).attr(\"rx\", barWidth * 0.25).attr(\"ry\", barWidth * 0.25).attr(\"transform\", \"translate(0,\" + -barWidth * 0.5 + \")\");\n    this.sliderEl.select(\".extent\").classed(\"vzb-szs-slider-extent\", true);\n\n    this.on(\"resize\", function () {\n      //console.log(\"EVENT: resize\");\n      _this.propertyActiveProfile = _this.getPropertyActiveProfile();\n      _this.propertyScale.range([_this.propertyActiveProfile.min, _this.propertyActiveProfile.max]);\n\n      var componentWidth = (_this.element.node().offsetWidth || 0) - padding.left - padding.right;\n      if (componentWidth < 0) componentWidth = 0;\n\n      _this.xScale.range([0, componentWidth]);\n      _this._updateSize();\n      _this.sliderEl.call(_this.brush.extent([[0, 0], [componentWidth, barWidth]]));\n      var extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._moveBrush(extent);\n    });\n\n    this._moveBrush(extent);\n\n    _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n\n    if (_this.sizeScaleMinMax) {\n      _this._setLabelsText();\n    }\n\n    if (_this.model._ready) this.modelReady();\n  },\n  ready: function ready() {\n    this.isRTL = this.model.locale.isRTL();\n    this._updateSize();\n    this._updateLabels();\n  },\n  getPropertyActiveProfile: function getPropertyActiveProfile() {\n    var profile = profiles[this.getLayoutProfile()];\n    return { min: profile[\"min\" + this.propertyName], max: profile[\"max\" + this.propertyName], default: profile[\"default\" + this.propertyName] };\n  },\n  _moveBrush: function _moveBrush(s) {\n    var _s = s.map(this.xScale);\n    this.nonBrushChange = true;\n    this.sliderEl.call(this.brush.move, [_s[0], _s[1] + 0.01]);\n    this.nonBrushChange = false;\n    this._setFromExtent(false, false, false);\n  },\n\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   */\n  _updateSize: function _updateSize() {\n    var isRTL = this.model.locale.isRTL();\n    var componentWidth = this.element.node().offsetWidth - this.padding.right || 0;\n    if (componentWidth < 0) componentWidth = 0;\n\n    this.sliderSvg.attr(\"height\", this.propertyActiveProfile.max + this.padding.top + this.padding.bottom).attr(\"width\", \"100%\");\n    this.sliderWrap.attr(\"transform\", isRTL ? \"translate(\" + componentWidth + \",\" + (this.propertyActiveProfile.max + this.padding.top) + \") scale(-1,1)\" : \"translate(\" + this.padding.left + \",\" + (this.propertyActiveProfile.max + this.padding.top) + \")\");\n    this.sliderLabelsWrapperEl.attr(\"transform\", isRTL ? \"scale(-1,1)\" : null);\n    this.sliderLabelsEl.attr(\"text-anchor\", function (d, i) {\n      return (isRTL ? i : !i) ? \"start\" : \"end\";\n    });\n  },\n  _updateLabels: function _updateLabels(s) {\n    var _this = this;\n    if (s) {\n      this.sliderLabelsEl.data(s);\n    }\n    this.sliderLabelsEl.attr(\"transform\", function (d, i) {\n      var dX = _this.xScale(i);\n      var dY = 0; //i ? -textMargin.v : 0;\n      return \"translate(\" + (_this.isRTL ? -1 : 1) * dX + \",\" + dY + \")\";\n    }).attr(\"font-size\", function (d, i) {\n      return _this.propertyScale(d);\n    });\n    if (_this.model.size.use === \"constant\") this.sliderLabelsEl.text(function (d) {\n      return ~~_this.propertyScale(d) + (_this.translator(_this.ui.constantUnit) || \"\");\n    });\n  },\n  _setLabelsText: function _setLabelsText() {\n    var _this = this;\n    var texts = [_this.model.size.getTickFormatter()(_this.sizeScaleMinMax[0]), _this.model.size.getTickFormatter()(_this.sizeScaleMinMax[1])];\n    _this.sliderLabelsEl.text(function (d, i) {\n      return texts[i];\n    });\n  },\n\n\n  /**\n   * Prepares setting of the current model with the values from extent.\n   * @param {boolean} set model\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setFromExtent: function _setFromExtent(setModel, force, persistent) {\n    var s = d3.brushSelection(this.sliderEl.node());\n    if (!s) return;\n    s = [this.xScale.invert(s[0]), this.xScale.invert(+s[1].toFixed(1))];\n    this._updateLabels(s);\n    if (setModel) this._setModel(s, force, persistent);\n  },\n\n\n  /**\n   * Sets the current value in model. avoid updating more than once in framerate\n   * @param {number} value\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setModel: function _setModel(value, force, persistent) {\n    value = [+value[0].toFixed(2), +value[1].toFixed(2)];\n    this.model.size.set({ \"extent\": value }, force, persistent);\n  }\n});\n\nexports.default = SizeSlider;\n\n/***/ }),\n/* 161 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simpleslider = __webpack_require__(55);\n\nvar _simpleslider2 = _interopRequireDefault(_simpleslider);\n\nvar _bubblesize = __webpack_require__(103);\n\nvar _bubblesize2 = _interopRequireDefault(_bubblesize);\n\nvar _colorlegend = __webpack_require__(104);\n\nvar _colorlegend2 = _interopRequireDefault(_colorlegend);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nvar _simplecheckbox = __webpack_require__(56);\n\nvar _simplecheckbox2 = _interopRequireDefault(_simplecheckbox);\n\nvar _optionsbuttonlist = __webpack_require__(149);\n\nvar _optionsbuttonlist2 = _interopRequireDefault(_optionsbuttonlist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * More options dialog\n */\n\nvar MoreOptions = _dialog2.default.extend(\"moreoptions\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"moreoptions\";\n\n    //specifying components\n    this.components = [{\n      component: _optionsbuttonlist2.default,\n      placeholder: \".vzb-dialog-options-buttonlist\",\n      model: [\"state\", \"ui\", \"locale\"]\n    }];\n\n    this._super(config, parent);\n  },\n  readyOnce: function readyOnce() {\n    this._super();\n\n    var _this = this;\n    this.accordionEl = this.contentEl.select(\".vzb-accordion\");\n\n    this.on(\"dragend\", function () {\n      _this._setMaxHeight();\n    });\n\n    var dialog_popup = (this.model.ui.dialogs || {}).popup || [];\n    var dialog_moreoptions = (this.model.ui.dialogs || {}).moreoptions || [];\n\n    // if dialog_moreoptions has been passed in with boolean param or array must check and covert to array\n    if (dialog_moreoptions === true) {\n      dialog_moreoptions = dialog_popup;\n      (this.model.ui.dialogs || {}).moreoptions = dialog_moreoptions;\n    }\n\n    this._addDialogs(dialog_moreoptions);\n\n    //accordion\n    if (this.accordionEl) {\n      var titleEl = this.accordionEl.selectAll(\".vzb-accordion-section\").select(\".vzb-dialog-title>span:first-child\");\n      titleEl.on(\"click\", function (d) {\n        var element = _this.components[d.component].element;\n        var sectionEl = _this.components[d.component].placeholderEl;\n        var activeEl = _this.accordionEl.select(\".vzb-accordion-active\");\n        if (activeEl) {\n          activeEl.classed(\"vzb-accordion-active\", false);\n        }\n        if (sectionEl.node() !== activeEl.node()) {\n          sectionEl.classed(\"vzb-accordion-active\", true);\n        }\n      });\n    }\n  },\n  _addDialogs: function _addDialogs(dialog_list) {\n    this._components_config = [];\n    var details_dlgs = [];\n    if (!dialog_list.length) return;\n    //add a component for each dialog\n    for (var i = 0; i < dialog_list.length; i++) {\n\n      //check moreoptions in dialog.moreoptions\n      if (dialog_list[i] === \"moreoptions\") continue;\n\n      var dlg = dialog_list[i];\n      var dlg_config = utils.deepClone(this.parent._available_dialogs[dlg]);\n\n      //if it's a dialog, add component\n      if (dlg_config && dlg_config.dialog) {\n        var comps = this._components_config;\n\n        //add corresponding component\n        comps.push({\n          component: dlg_config.dialog,\n          placeholder: '.vzb-dialogs-dialog[data-dlg=\"' + dlg + '\"]',\n          model: [\"state\", \"ui\", \"locale\"]\n        });\n\n        dlg_config.component = comps.length - 1;\n\n        dlg_config.id = dlg;\n        details_dlgs.push(dlg_config);\n      }\n    }\n\n    this.accordionEl.selectAll(\"div\").data(details_dlgs).enter().append(\"div\").attr(\"class\", function (d) {\n      var cls = \"vzb-dialogs-dialog vzb-moreoptions vzb-accordion-section\";\n      return cls;\n    }).attr(\"data-dlg\", function (d) {\n      return d.id;\n    });\n\n    this.loadSubComponents();\n\n    var _this = this;\n    //render each subcomponent\n    utils.forEach(this.components, function (subcomp) {\n      subcomp.render();\n      _this.on(\"resize\", function () {\n        subcomp.trigger(\"resize\");\n      });\n    });\n  }\n});\n\nexports.default = MoreOptions;\n\n/***/ }),\n/* 162 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simpleslider = __webpack_require__(55);\n\nvar _simpleslider2 = _interopRequireDefault(_simpleslider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar Opacity = _dialog2.default.extend(\"opacity\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"opacity\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: _simpleslider2.default,\n      placeholder: \".vzb-dialog-bubbleopacity-regular\",\n      model: [\"state.marker\"],\n      arg: \"opacityRegular\",\n      properties: { step: 0.01 }\n    }, {\n      component: _simpleslider2.default,\n      placeholder: \".vzb-dialog-bubbleopacity-selectdim\",\n      model: [\"state.marker\"],\n      arg: \"opacitySelectDim\",\n      properties: { step: 0.01 }\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Opacity;\n\n/***/ }),\n/* 163 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simplecheckbox = __webpack_require__(56);\n\nvar _simplecheckbox2 = _interopRequireDefault(_simplecheckbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar Presentation = _dialog2.default.extend(\"presentation\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"presentation\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: _simplecheckbox2.default,\n      placeholder: \".vzb-presentationmode-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"presentation\"\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Presentation;\n\n/***/ }),\n/* 164 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI SHOW CONTROL\n * Reusable show dialog\n */\n\nvar Show = _dialog2.default.extend(\"show\", {\n  init: function init(config, parent) {\n    this.name = \"show\";\n    var _this = this;\n\n    this.model_binds = {\n      \"change:state.entities.show\": function changeStateEntitiesShow(evt) {\n        _this.redraw();\n      }\n    };\n\n    this.enablePicker = ((config.ui.dialogs.dialog || {}).show || {}).enablePicker;\n    if (this.enablePicker) {\n      this.components = [{\n        component: _indicatorpicker2.default,\n        placeholder: \".vzb-show-filter-selector\",\n        model: [\"state.time\", \"state.entities\", \"locale\"]\n      }];\n    }\n\n    this._super(config, parent);\n  },\n\n\n  /**\n   * Grab the list div\n   */\n  readyOnce: function readyOnce() {\n    this._super();\n\n    this.resetFilter = utils.deepExtend({}, this.model.state.entities.show);\n\n    this.element.select(\".vzb-show-filter-selector\").classed(\"vzb-hidden\", !this.enablePicker);\n    this.element.select(\".vzb-dialog-title\").classed(\"vzb-title-two-rows\", this.enablePicker);\n\n    this.list = this.element.select(\".vzb-show-list\");\n    this.input_search = this.element.select(\".vzb-show-search\");\n    this.deselect_all = this.element.select(\".vzb-show-deselect\");\n\n    this.KEY = this.model.state.entities.getDimension();\n    this.TIMEDIM = this.model.state.time.getDimension();\n\n    var _this = this;\n    this.input_search.on(\"input\", function () {\n      _this.showHideSearch();\n    });\n\n    this.deselect_all.on(\"click\", function () {\n      _this.deselectEntities();\n    });\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", function () {\n      _this.KEY = _this.model.state.entities.getDimension();\n      _this.redraw();\n    });\n  },\n  open: function open() {\n    this._super();\n\n    this.input_search.node().value = \"\";\n    this.showHideSearch();\n  },\n  ready: function ready() {\n    this._super();\n    this.KEY = this.model.state.entities.getDimension();\n    this.redraw();\n    utils.preventAncestorScrolling(this.element.select(\".vzb-dialog-scrollable\"));\n  },\n  redraw: function redraw() {\n\n    var _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    if (!this.KEY) {\n      _this.list.html(\"\");\n      return;\n    }\n\n    this.model.state.marker_allpossible.getFrame(this.model.state.time.value, function (values) {\n      if (!values) return;\n      var data = utils.keys(values.label).map(function (d) {\n        var result = {};\n        result[_this.KEY] = d;\n        result[\"label\"] = values.label[d];\n        return result;\n      });\n\n      //sort data alphabetically\n      data.sort(function (a, b) {\n        return a.label < b.label ? -1 : 1;\n      });\n\n      _this.list.html(\"\");\n\n      var items = _this.list.selectAll(\".vzb-show-item\").data(data).enter().append(\"div\").attr(\"class\", \"vzb-show-item vzb-dialog-checkbox\");\n\n      items.append(\"input\").attr(\"type\", \"checkbox\").attr(\"class\", \"vzb-show-item\").attr(\"id\", function (d) {\n        return \"-show-\" + d[_this.KEY] + \"-\" + _this._id;\n      }).property(\"checked\", function (d) {\n        var isShown = _this.model.state.entities.isShown(d);\n        d3.select(this.parentNode).classed(\"vzb-checked\", isShown);\n        return isShown;\n      }).on(\"change\", function (d) {\n        _this.model.state.marker.clearSelected();\n        _this.model.state.entities.showEntity(d);\n        _this.showHideDeselect();\n      });\n\n      items.append(\"label\").attr(\"for\", function (d) {\n        return \"-show-\" + d[_this.KEY] + \"-\" + _this._id;\n      }).text(function (d) {\n        return d.label;\n      }).attr(\"title\", function (d) {\n        return this.offsetWidth < this.scrollWidth ? d.label : null;\n      });\n\n      var lastCheckedNode = _this.list.selectAll(\".vzb-checked\").classed(\"vzb-separator\", false).lower().nodes()[0];\n      d3.select(lastCheckedNode).classed(\"vzb-separator\", true);\n      _this.contentEl.node().scrollTop = 0;\n\n      _this.input_search.attr(\"placeholder\", _this.translator(\"placeholder/search\") + \"...\");\n\n      _this.showHideSearch();\n      _this.showHideDeselect();\n    });\n  },\n  showHideSearch: function showHideSearch() {\n\n    var search = this.input_search.node().value || \"\";\n    search = search.toLowerCase();\n\n    this.list.selectAll(\".vzb-show-item\").classed(\"vzb-hidden\", function (d) {\n      var lower = (d.label || \"\").toString().toLowerCase();\n      return lower.indexOf(search) === -1;\n    });\n  },\n  showHideDeselect: function showHideDeselect() {\n    var show = this.model.state.entities.show[this.KEY];\n    this.deselect_all.classed(\"vzb-hidden\", !show || show.length == 0);\n  },\n  deselectEntities: function deselectEntities() {\n    var KEY = this.KEY;\n    if (this.resetFilter[KEY]) {\n      var newShow = Object.assign({}, this.model.state.entities.show);\n      newShow[KEY] = this.resetFilter[KEY];\n      this.model.state.entities.show = newShow;\n    } else {\n      this.model.state.entities.clearShow();\n    }\n    this.showHideDeselect();\n  },\n  transitionEnd: function transitionEnd(event) {\n    this._super(event);\n\n    if (!utils.isTouchDevice()) this.input_search.node().focus();\n  }\n});\n\nexports.default = Show;\n\n/***/ }),\n/* 165 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nvar _simplecheckbox = __webpack_require__(56);\n\nvar _simplecheckbox2 = _interopRequireDefault(_simplecheckbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI SIDE CONTROL\n * Reusable side dialog\n */\n\nvar Side = _dialog2.default.extend(\"side\", {\n  init: function init(config, parent) {\n    this.name = \"side\";\n    var _this = this;\n\n    this.model_binds = {\n      \"change:state.marker.side.which\": function changeStateMarkerSideWhich(evt) {\n        if (_this.model.state.entities_allpossibleside) {\n          var sideDim = _this.model.state.marker.side.use == \"constant\" ? null : _this.model.state.marker.side.which;\n          _this.model.state.entities_allpossibleside.set(\"dim\", sideDim);\n        }\n      },\n      \"change:state.entities_side.show\": function changeStateEntities_sideShow(evt) {\n        if (!_this._readyOnce) return;\n        _this.updateState();\n        _this.redraw();\n      },\n      \"change:ui.chart.flipSides\": function changeUiChartFlipSides(evt) {\n        if (!_this._readyOnce) return;\n        _this.updateState();\n        _this.redraw();\n      }\n\n    };\n\n    this.components = [{\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-side-selector\",\n      model: [\"state.time\", \"state.marker.side\", \"locale\"],\n      showHoverValues: false\n    }];\n\n    this._super(config, parent);\n  },\n\n\n  /**\n   * Grab the list div\n   */\n  readyOnce: function readyOnce() {\n    this._super();\n    this.listLeft = this.element.select(\".vzb-side-list-left\");\n    this.listRight = this.element.select(\".vzb-side-list-right\");\n    this.switchSides = this.element.select(\".vzb-side-switch-sides\");\n\n    this.TIMEDIM = this.model.state.time.getDimension();\n    this.state = {};\n    var _this = this;\n\n    this.switchSides.on(\"click\", function () {\n      _this.model.ui.chart.flipSides = !_this.model.ui.chart.flipSides;\n    });\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", function () {\n      _this.redraw();\n    });\n  },\n  ready: function ready() {\n    this._super();\n\n    this.KEY = this.model.state.entities_side.getDimension();\n    if (this.model.state.marker.side.use !== \"constant\" && !(this.model.state.entities_side.show[this.KEY] || {})[\"$in\"]) {\n      var key = this.model.state.entities_allpossibleside.dim;\n      var sideKeys = this.model.state.marker_allpossibleside.getKeys().map(function (d) {\n        return d[key];\n      });\n      var filterKeys = sideKeys.sort(d3.ascending).slice(0, 2);\n      if (filterKeys.length > 0) {\n        var show = Object.assign({}, this.model.state.entities_side.show);\n        show[this.KEY] = { \"$in\": filterKeys };\n        this.model.state.entities_side.set(\"show\", show);\n      }\n    }\n\n    this.updateState();\n    this.redraw();\n    utils.preventAncestorScrolling(this.element.select(\".vzb-dialog-scrollable\"));\n  },\n  updateState: function updateState() {\n    var _this = this;\n    var sideDim = this.model.state.marker.side.getEntity().getDimension();\n    var modelSide = this.model.state.marker.side;\n\n    this.state[\"right\"] = {};\n    this.state[\"left\"] = {};\n    if (modelSide.state[\"left\"][sideDim] && modelSide.state[\"right\"][sideDim]) {\n      this.state[\"left\"][sideDim] = modelSide.state[\"left\"][sideDim];\n      this.state[\"right\"][sideDim] = modelSide.state[\"right\"][sideDim];\n    } else {\n      var sides = this.model.state.marker.getKeys(sideDim);\n      var sideKeys = [];\n      var sideFiltered = !!this.model.state.marker.side.getEntity().show[sideDim];\n      sideKeys = sides.filter(function (f) {\n        return !sideFiltered || _this.model.state.marker.side.getEntity().isShown(f);\n      }).map(function (m) {\n        return m[sideDim];\n      });\n\n      if (sideKeys.length > 2) sideKeys.length = 2;\n      if (sideKeys.length > 1) {\n        var sortFunc = this.ui.chart.flipSides ? d3.ascending : d3.descending;\n        sideKeys.sort(sortFunc);\n      }\n\n      this.state[\"right\"] = {};\n      this.state[\"right\"][sideDim] = sideKeys[0];\n      this.state[\"left\"] = {};\n      this.state[\"left\"][sideDim] = sideKeys[1] ? sideKeys[1] : sideKeys[0];\n    }\n\n    var hidden = this.model.state.marker.side.use == \"constant\";\n\n    this.listLeft.classed(\"vzb-hidden\", hidden);\n    this.listRight.classed(\"vzb-hidden\", hidden);\n    this.switchSides.classed(\"vzb-hidden\", hidden || this.state[\"left\"][sideDim] == this.state[\"right\"][sideDim]);\n  },\n  redraw: function redraw() {\n\n    var _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    if (!_this.model.state.entities_allpossibleside.dim) return;\n    this.model.state.marker_allpossibleside.getFrame(this.model.state.time.value, function (values) {\n      if (!values) return;\n      var data = utils.keys(values.label).map(function (d) {\n        var result = {};\n        result[_this.KEY] = d;\n        result[\"label\"] = values.label[d];\n        return result;\n      });\n\n      //sort data alphabetically\n      data.sort(function (a, b) {\n        return a.label < b.label ? -1 : 1;\n      });\n\n      _this.listLeft.html(\"\");\n      _this.listRight.html(\"\");\n      _this.createList(_this.listLeft, \"left\", data);\n      _this.createList(_this.listRight, \"right\", data);\n    });\n  },\n  createList: function createList(listSel, name, data) {\n    var _this = this;\n    var sideDim = this.model.state.marker.side.getEntity().getDimension();\n\n    var items = listSel.selectAll(\".vzb-side-item\").data(data).enter().append(\"div\").attr(\"class\", \"vzb-side-item vzb-dialog-radio\");\n\n    items.append(\"input\").attr(\"type\", \"radio\").attr(\"name\", name + \"-\" + _this._id).attr(\"class\", \"vzb-side-item\").attr(\"id\", function (d) {\n      return \"-side-\" + name + \"-\" + d[sideDim] + \"-\" + _this._id;\n    }).property(\"checked\", function (d) {\n      return _this.state[name][sideDim] === d[sideDim];\n    }).on(\"change\", function (d, i) {\n      var sideEntities = _this.model.state.entities_side;\n      var sideDim = sideEntities.getDimension();\n      var otherSide = name == \"left\" ? \"right\" : \"left\";\n      var modelSide = _this.model.state.marker.side;\n\n      modelSide.state[name][sideDim] = d[sideDim];\n      modelSide.state[otherSide][sideDim] = _this.state[otherSide][sideDim];\n\n      var showArray = [];\n\n      if (!sideEntities.isShown(d)) {\n        showArray.push(d);\n      }\n      if (d[sideDim] !== _this.state[otherSide][sideDim] && !sideEntities.isShown(_this.state[otherSide])) {\n        showArray.push(_this.state[otherSide]);\n      }\n      if (_this.state[name][sideDim] !== _this.state[otherSide][sideDim] && sideEntities.isShown(_this.state[name])) {\n        showArray.push(_this.state[name]);\n      }\n\n      if (d[sideDim] !== _this.state[otherSide][sideDim]) {\n        var sideKeys = [d[sideDim], _this.state[otherSide][sideDim]];\n        var sortFunc = _this.ui.chart.flipSides ? d3.ascending : d3.descending;\n        sideKeys.sort(sortFunc);\n        if (sideKeys[name == \"left\" ? 0 : 1] == d[sideDim]) {\n          _this.model.state.marker.side.switchSideState();\n          _this.ui.chart.flipSides = !_this.ui.chart.flipSides;\n        }\n      }\n\n      if (showArray.length) {\n        sideEntities.showEntity(showArray);\n      }\n    });\n\n    items.append(\"label\").attr(\"for\", function (d) {\n      return \"-side-\" + name + \"-\" + d[_this.KEY] + \"-\" + _this._id;\n    }).text(function (d) {\n      return d.label;\n    });\n  }\n});\n\nexports.default = Side;\n\n/***/ }),\n/* 166 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _bubblesize = __webpack_require__(103);\n\nvar _bubblesize2 = _interopRequireDefault(_bubblesize);\n\nvar _indicatorpicker = __webpack_require__(33);\n\nvar _indicatorpicker2 = _interopRequireDefault(_indicatorpicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar Size = _dialog2.default.extend(\"size\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"size\";\n\n    // in dialog, this.model_expects = [\"state\", \"ui\", \"locale\"];\n\n    this.components = [{\n      component: _indicatorpicker2.default,\n      placeholder: \".vzb-saxis-selector\",\n      model: [\"state.time\", \"state.marker.size\", \"locale\"],\n      showHoverValues: true\n    }];\n\n    // config.ui is same as this.model.ui here but this.model.ui is not yet available because constructor hasn't been called.\n    // can't call constructor earlier because this.components needs to be complete before calling constructor\n    if (!config.ui.chart || config.ui.chart.sizeSelectorActive !== 0) {\n      this.components.push({\n        component: _bubblesize2.default,\n        placeholder: \".vzb-dialog-bubblesize\",\n        model: [\"state.marker.size\", \"locale\"],\n        ui: {\n          show_button: false\n        }\n      });\n    }\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Size;\n\n/***/ }),\n/* 167 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _simpleslider = __webpack_require__(55);\n\nvar _simpleslider2 = _interopRequireDefault(_simpleslider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Size dialog\n */\n\nvar Speed = _dialog2.default.extend(\"speed\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"speed\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: _simpleslider2.default,\n      placeholder: \".vzb-dialog-placeholder\",\n      model: [\"state.time\"],\n      arg: \"delay\",\n      properties: { min: 1, max: 6, step: 0.1, scale: d3.scaleLinear().domain([1, 2, 3, 4, 5, 6]).range([1200, 900, 450, 200, 150, 100])\n      }\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Speed;\n\n/***/ }),\n/* 168 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _draggablelist = __webpack_require__(169);\n\nvar _draggablelist2 = _interopRequireDefault(_draggablelist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * stack dialog\n */\n\nvar Stack = _dialog2.default.extend(\"stack\", {\n\n  /**\n     * Initializes the dialog component\n     * @param config component configuration\n     * @param context component context (parent)\n     */\n  init: function init(config, parent) {\n    this.name = \"stack\";\n    var _this = this;\n\n    // in dialog, this.model_expects = [\"state\", \"ui\", \"locale\"];\n\n    this.components = [{\n      component: _draggablelist2.default,\n      placeholder: \".vzb-dialog-draggablelist\",\n      model: [\"state.marker.group\", \"state.marker.color\", \"locale\", \"ui.chart\"],\n      groupID: \"manualSorting\",\n      isEnabled: \"manualSortingEnabled\",\n      dataArrFn: _this.manualSorting.bind(_this),\n      lang: \"\"\n    }];\n\n    this.model_binds = {\n      \"change:state.marker.group\": function changeStateMarkerGroup(evt) {\n        //console.log(\"group change \" + evt);\n        if (!_this._ready) return;\n        _this.updateView();\n      }\n    };\n\n    this._super(config, parent);\n  },\n  readyOnce: function readyOnce() {\n    this._super();\n\n    var _this = this;\n    this.group = this.model.state.marker.group;\n    this.stack = this.model.state.marker.stack;\n\n    this.howToStackEl = this.element.select(\".vzb-howtostack\").selectAll(\"input\").on(\"change\", function () {\n      _this.setModel(\"stack\", d3.select(this).node().value);\n    });\n    this.howToMergeEl = this.element.select(\".vzb-howtomerge\").selectAll(\"input\").on(\"change\", function () {\n      _this.setModel(\"merge\", d3.select(this).node().value);\n    });\n\n    this.updateView();\n  },\n  ready: function ready() {\n    this._super();\n    if (!this.model.state.marker.color.isDiscrete()) {\n      if (this.stack.use == \"property\") {\n        this.setModel(\"stack\", \"none\");\n        return;\n      } else if (this.group.merge) {\n        this.setModel(\"merge\", \"none\");\n        return;\n      }\n    }\n    this.updateView();\n  },\n  updateView: function updateView() {\n    var _this = this;\n\n    this.howToStackEl.property(\"checked\", function () {\n      if (d3.select(this).node().value === \"none\") return _this.stack.which === \"none\";\n      if (d3.select(this).node().value === \"bycolor\") return _this.stack.which === _this.model.state.marker.color.which;\n      if (d3.select(this).node().value === \"all\") return _this.stack.which === \"all\";\n    }).attr(\"disabled\", function () {\n      if (d3.select(this).node().value === \"none\") return null; // always enabled\n      if (d3.select(this).node().value === \"all\") return null; // always enabled\n      if (d3.select(this).node().value === \"bycolor\") return _this.model.state.marker.color.use !== \"property\" ? true : null;\n    });\n\n    _this.model.ui.chart.manualSortingEnabled = _this.stack.which == \"all\";\n\n    this.howToMergeEl.property(\"checked\", function () {\n      if (d3.select(this).node().value === \"none\") return !_this.group.merge && !_this.stack.merge;\n      if (d3.select(this).node().value === \"grouped\") return _this.group.merge;\n      if (d3.select(this).node().value === \"stacked\") return _this.stack.merge;\n    }).attr(\"disabled\", function () {\n      if (d3.select(this).node().value === \"none\") return null; // always enabled\n      if (d3.select(this).node().value === \"grouped\") return _this.stack.which === \"none\" || _this.model.state.marker.color.use !== \"property\" ? true : null;\n      if (d3.select(this).node().value === \"stacked\") return _this.stack.which === \"all\" ? null : true;\n    });\n  },\n  manualSorting: function manualSorting(value) {\n    var persistent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (arguments.length === 0) return this.model.state.marker.group.manualSorting;\n    this.model.state.marker.group.set({ manualSorting: value }, false, persistent);\n  },\n  setModel: function setModel(what, value) {\n\n    var obj = { stack: {}, group: {} };\n\n    if (what === \"merge\") {\n      switch (value) {\n        case \"none\":\n          obj.group.merge = false;\n          obj.stack.merge = false;\n          break;\n        case \"grouped\":\n          obj.group.merge = true;\n          obj.stack.merge = false;\n          break;\n        case \"stacked\":\n          obj.group.merge = false;\n          obj.stack.merge = true;\n          break;\n      }\n    }\n    if (what === \"stack\") {\n\n      switch (value) {\n        case \"all\":\n          obj.stack.use = \"constant\";\n          obj.stack.which = \"all\";\n          break;\n        case \"none\":\n          obj.stack.use = \"constant\";\n          obj.stack.which = \"none\";\n          break;\n        case \"bycolor\":\n          obj.stack.use = \"property\";\n          obj.stack.which = this.model.state.marker.color.which;\n          break;\n      }\n\n      //validate possible merge values in group and stack hooks\n      if (value === \"none\" && this.group.merge) obj.group.merge = false;\n      if (value !== \"all\" && this.stack.merge) obj.stack.merge = false;\n    }\n\n    this.model.state.marker.set(obj);\n  }\n});\n\nexports.default = Stack;\n\n/***/ }),\n/* 169 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DraggableList = _component2.default.extend({\n  init: function init(config, context) {\n    this.template = '<span class=\"vzb-dl-holder\"><ul class=\"vzb-draggable list vzb-dialog-scrollable\"></ul></span>';\n    var _this = this;\n    this.name = \"draggableList\";\n\n    this.dataArrFn = config.dataArrFn;\n    this.lang = config.lang;\n\n    this.model_expects = [{\n      name: \"group\",\n      type: \"model\"\n    }, {\n      name: \"color\",\n      type: \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }, {\n      name: \"chart\",\n      type: \"model\"\n    }];\n\n    this.groupID = config.groupID;\n    this.isEnabled = config.isEnabled;\n    this.draggable = true;\n\n    if (!config.groupID) utils.warn(\"draggablelist.js complains on 'groupID' property: \" + config.groupID);\n\n    this.model_binds = {\n      \"translate:locale\": function translateLocale(evt) {\n        _this.updateView();\n      },\n      \"change:group.which\": function changeGroupWhich(evt) {\n        _this.updateView();\n      }\n    };\n\n    this.model_binds[\"change:group.\" + this.groupID] = function (evt) {\n      _this.updateView();\n    };\n    this.model_binds[\"change:chart.\" + this.isEnabled] = function (evt) {\n      _this.draggable = _this.model.chart[_this.isEnabled];\n      _this.updateView();\n    };\n\n    this._super(config, context);\n\n    this.updateData = utils.debounce(this.updateData, 1000);\n\n    this.itemDragger = d3.drag().on(\"start\", function (draggedData, i) {\n      if (_this.dataUpdateFlag || !_this.draggable) return;\n      d3.event.sourceEvent.stopPropagation();\n      _this.parentBoundRect = _this.element.node().getBoundingClientRect();\n      _this.element.selectAll(\"div\").each(function (d, i) {\n        var boundRect = this.getBoundingClientRect();\n        d._y = boundRect.top;\n        d._top = 0;\n        if (draggedData.data === d.data) {\n          d._height = boundRect.height;\n          _this.selectedNode = this;\n        }\n      });\n      d3.select(_this.selectedNode).classed(\"dragged\", true);\n    }).on(\"drag\", function (draggedData, draggedIndex) {\n      if (_this.dataUpdateFlag || !_this.draggable) return;\n      draggedData._top += d3.event.dy;\n      var newDraggedY = draggedData._y + draggedData._top;\n      if (newDraggedY > _this.parentBoundRect.top && newDraggedY + draggedData._height < _this.parentBoundRect.top + _this.parentBoundRect.height) {\n        _this.itemsEl.style(\"top\", function (d, i) {\n          var top = 0;\n\n          if (i < draggedIndex && d._y + draggedData._height * 0.5 > newDraggedY) {\n            top = draggedData._height;\n          } else if (i > draggedIndex && d._y - draggedData._height * 0.5 < newDraggedY) {\n            top = -draggedData._height;\n          }\n\n          if (i != draggedIndex) d._top = top;\n          return d._top + \"px\";\n        });\n      }\n    }).on(\"end\", function (d, i) {\n      if (_this.dataUpdateFlag || !_this.draggable) return;\n      _this.getData();\n    });\n  },\n  ready: function ready() {\n    var _this = this;\n\n    this.updateView();\n\n    this.itemsEl = this.element.selectAll(\"div\");\n\n    this.itemsEl.call(_this.itemDragger);\n\n    var test = this.itemsEl.select(\"li\").on(\"mouseover\", function () {\n      d3.select(this).classed(\"hover\", true);\n    }).on(\"mouseout\", function () {\n      d3.select(this).classed(\"hover\", false);\n    }).on(\"touchstart\", function () {\n      d3.event.preventDefault();\n    });\n  },\n  updateView: function updateView() {\n    var _this = this;\n\n    var labels = _this.model.color.getColorlegendMarker().label.getItems();\n    var labelsKeys = utils.keys(labels);\n\n    var labelsKeysSorted = labelsKeys.slice().sort();\n    var prevLabelsKeysSorted = (this.dataArrFn() || []).slice().sort();\n    if (utils.arrayEquals(labelsKeysSorted, prevLabelsKeysSorted) === false) {\n      this.dataArrFn(labelsKeys);\n    }\n\n    this.items = this.element.selectAll(\"div\").data(function () {\n      return (_this.dataArrFn() || []).map(function (d) {\n        return { data: d };\n      });\n    });\n\n    this.items.exit().remove();\n\n    this.items = this.items.enter().append(\"div\").append(\"li\").each(function () {\n      var view = d3.select(this);\n\n      view.append(\"span\").classed(\"label-circle\", true);\n\n      view.append(\"span\").classed(\"label-text\", true);\n    }).merge(this.items);\n\n    var colorScale = this.model.color.getScale();\n    this.items.select(\"li\").each(function (_ref) {\n      var data = _ref.data;\n\n      var view = d3.select(this);\n\n      view.classed(\"hover\", false).attr(\"data\", data);\n\n      view.select(\".label-circle\").style(\"background\", colorScale(data));\n\n      view.select(\".label-text\").text(labels[data]);\n    });\n\n    var draggable = _this.draggable ? true : null;\n    this.element.selectAll(\"div\").style(\"top\", \"\").attr(\"draggable\", draggable).classed(\"dragged\", false);\n    this.dataUpdateFlag = false;\n  },\n  getData: function getData() {\n    var dataArr = [];\n    var data = this.element.selectAll(\"div\").data();\n\n    dataArr = data.sort(function (a, b) {\n      return a._y + a._top - (b._y + b._top);\n    }).map(function (d) {\n      return d.data;\n    });\n    if (utils.arrayEquals(this.dataArrFn(), dataArr)) {\n      this.updateView();\n    } else {\n      this.dataUpdateFlag = true;\n      this.updateData(dataArr, true);\n    }\n  },\n  updateData: function updateData(dataArr, persistent) {\n    this.dataArrFn(dataArr, persistent);\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.element = d3.select(this.element).select(\".list\");\n  }\n});\n\nexports.default = DraggableList;\n\n/***/ }),\n/* 170 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _d = __webpack_require__(171);\n\nvar _d2 = _interopRequireDefault(_d);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Timedisplay dialog\n */\nvar TimeDisplay = _dialog2.default.extend(\"timedisplay\", {\n  init: function init(config, parent) {\n    var _this = this;\n\n    this.name = \"timedisplay\";\n\n    this.model_binds = {\n      \"change:state.time.value\": function changeStateTimeValue() {\n        _this.updateTime();\n      }\n    };\n\n    this._super(config, parent);\n  },\n  ready: function ready() {\n    this.updateTime();\n  },\n  readyOnce: function readyOnce() {\n    this._super();\n    this.timeLabel = new _d2.default(this.element.select(\".vzb-timedisplay\"));\n    this.timeLabel.setConditions({ widthRatio: 1, heightRatio: 1 });\n    this.resize();\n  },\n  resize: function resize() {\n    if (this.timeLabel) {\n      this.timeLabel.resize(this.contentEl.style(\"width\"), this.contentEl.style(\"height\"));\n    }\n  },\n  updateTime: function updateTime() {\n    var timeMdl = this.model.state.time;\n    this.time_1 = this.time == null ? timeMdl.value : this.time;\n    this.time = timeMdl.value;\n    var duration = timeMdl.playing && this.time - this.time_1 > 0 ? timeMdl.delayAnimations : 0;\n    this.timeLabel.setText(timeMdl.formatDate(this.time, \"ui\"), duration);\n  }\n});\n\nexports.default = TimeDisplay;\n\n/***/ }),\n/* 171 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _class2.default.extend({\n  init: function init(context, conditions) {\n    this.context = context;\n    this.context.classed(\"vzb-dynamic-background\", true);\n\n    this.width = 0;\n    this.height = 0;\n    this.topOffset = 0;\n    this.leftOffset = 0;\n    this.bottomOffset = 0;\n    this.rightOffset = 0;\n    this.textWidth = 0;\n    this.textHeight = 0;\n    this.widthRatio = 0.9;\n    this.heightRatio = 0.9;\n    this.xAlign = \"center\";\n    this.yAlign = \"center\";\n    this.element = this.context.append(\"text\").style(\"font-size\", \"20px\");\n    this._sample = this.context.append(\"text\").style(\"font-size\", \"20px\").style(\"opacity\", 0);\n\n    if (conditions) {\n      this.setConditions(conditions);\n    }\n  },\n  setConditions: function setConditions(conditions) {\n    if (!isNaN(parseFloat(conditions.rightOffset)) && isFinite(conditions.rightOffset)) {\n      this.rightOffset = conditions.rightOffset;\n    }\n    if (!isNaN(parseFloat(conditions.leftOffset)) && isFinite(conditions.leftOffset)) {\n      this.leftOffset = conditions.leftOffset;\n    }\n    if (!isNaN(parseFloat(conditions.topOffset)) && isFinite(conditions.topOffset)) {\n      this.topOffset = conditions.topOffset;\n    }\n    if (!isNaN(parseFloat(conditions.bottomOffset)) && isFinite(conditions.bottomOffset)) {\n      this.bottomOffset = conditions.bottomOffset;\n    }\n    if (conditions.xAlign) {\n      this.xAlign = conditions.xAlign;\n    }\n    if (conditions.yAlign) {\n      this.yAlign = conditions.yAlign;\n    }\n    if (!isNaN(parseFloat(conditions.widthRatio)) && conditions.widthRatio > 0 && conditions.widthRatio <= 1) {\n      this.widthRatio = conditions.widthRatio;\n    }\n    if (!isNaN(parseFloat(conditions.heightRatio)) && conditions.heightRatio > 0 && conditions.heightRatio <= 1) {\n      this.heightRatio = conditions.heightRatio;\n    }\n    return this;\n  },\n  resize: function resize(width, height, topOffset, leftOffset) {\n    this.width = parseInt(width, 10) || 0;\n    this.height = parseInt(height, 10) || 0;\n\n    if (topOffset) {\n      this.topOffset = topOffset;\n    }\n    if (leftOffset) {\n      this.leftOffset = leftOffset;\n    }\n\n    this._resizeText();\n  },\n  setText: function setText(text) {\n    var _this = this;\n\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var callback = function callback() {\n      _this._sample.text(text);\n      _this._resizeText();\n      _this.element.text(text);\n    };\n\n    var clear = function clear() {\n      clearTimeout(_this._text.timeout);\n      delete _this._text;\n    };\n\n    if (!delay) {\n      if (this._text) {\n        clear();\n      }\n      callback();\n    } else {\n      if (this._text) {\n        this._text.callback();\n        clear();\n      }\n      this._text = {\n        callback: callback,\n        timeout: setTimeout(function () {\n          callback();\n          clear();\n        }, delay)\n      };\n    }\n\n    return this;\n  },\n  _resizeText: function _resizeText() {\n    var bbox = this._sample.node().getBBox();\n    if (!bbox.width || !bbox.height || !this.width || !this.height) return this;\n\n    // method from http://stackoverflow.com/a/22580176\n    var widthTransform = this.width * this.widthRatio / bbox.width;\n    var heightTransform = this.height * this.heightRatio / bbox.height;\n    this.scalar = Math.min(widthTransform, heightTransform);\n    this.element.attr(\"transform\", \"scale(\" + this.scalar + \")\");\n\n    this.textHeight = bbox.height * this.scalar;\n    this.textWidth = bbox.width * this.scalar;\n\n    switch (this.yAlign) {\n      case \"bottom\":\n        this.context.select(\"text\").attr(\"dy\", \".325em\");break;\n      case \"center\":\n        this.context.select(\"text\").attr(\"dy\", \".325em\");break;\n      case \"top\":\n        this.context.select(\"text\").attr(\"dy\", \"0\");break;\n    }\n\n    this.context.attr(\"transform\", \"translate(\" + this._getLeftOffset() + \",\" + this._getTopOffset() + \")\");\n\n    return this;\n  },\n  _getLeftOffset: function _getLeftOffset() {\n    switch (this.xAlign) {\n      case \"right\":\n        return this.width - this.textWidth / 2 - this.rightOffset;\n      case \"left\":\n        return this.textWidth / 2 + this.leftOffset;\n      default:\n        return this.width / 2;\n    }\n  },\n  _getTopOffset: function _getTopOffset() {\n    switch (this.yAlign) {\n      case \"top\":\n        return this.textHeight / 2 + this.topOffset;\n      case \"bottom\":\n        return this.height - this.textHeight / 2 - this.bottomOffset;\n      default:\n        return this.height / 2;\n    }\n  }\n}); //d3.svg.dynamicBackground\n\n/***/ }),\n/* 172 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _dialog = __webpack_require__(10);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _zoombuttonlist = __webpack_require__(173);\n\nvar _zoombuttonlist2 = _interopRequireDefault(_zoombuttonlist);\n\nvar _simplecheckbox = __webpack_require__(56);\n\nvar _simplecheckbox2 = _interopRequireDefault(_simplecheckbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*\n * Zoom dialog\n */\n\nvar Zoom = _dialog2.default.extend(\"zoom\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, parent) {\n    this.name = \"zoom\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: _zoombuttonlist2.default,\n      placeholder: \".vzb-dialog-zoom-buttonlist\",\n      model: [\"state\", \"ui\", \"locale\"]\n    }, {\n      component: _simplecheckbox2.default,\n      placeholder: \".vzb-panwitharrow-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"panWithArrow\"\n    }, {\n      component: _simplecheckbox2.default,\n      placeholder: \".vzb-zoomonscrolling-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"zoomOnScrolling\"\n    }, {\n      component: _simplecheckbox2.default,\n      placeholder: \".vzb-adaptminmaxzoom-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"adaptMinMaxZoom\"\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexports.default = Zoom;\n\n/***/ }),\n/* 173 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nvar iconset = _interopRequireWildcard(_iconset);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI OPTIONSBUTTONLIST\n * Reusable optionsbuttonlist component\n */\n\n//default existing buttons\nvar class_active = \"vzb-active\";\n// var class_active_locked = \"vzb-active-locked\";\n// var class_expand_dialog = \"vzb-dialog-side\";\n// var class_hide_btn = \"vzb-dialog-side-btn\";\n// var class_unavailable = \"vzb-unavailable\";\n// var class_vzb_fullscreen = \"vzb-force-fullscreen\";\n// var class_container_fullscreen = \"vzb-container-fullscreen\";\n\nvar ZoomButtonList = _component2.default.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init: function init(config, context) {\n\n    //set properties\n    var _this = this;\n    this.name = \"gapminder-zoombuttonlist\";\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this._available_buttons = {\n      \"arrow\": {\n        title: \"buttons/cursorarrow\",\n        icon: \"cursorArrow\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"plus\": {\n        title: \"buttons/cursorplus\",\n        icon: \"cursorPlus\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"minus\": {\n        title: \"buttons/cursorminus\",\n        icon: \"cursorMinus\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"hand\": {\n        title: \"buttons/cursorhand\",\n        icon: \"cursorHand\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"hundredpercent\": {\n        title: \"buttons/hundredpercent\",\n        icon: \"hundredPercent\",\n        func: this.toggleHundredPercent.bind(this),\n        required: true\n        // ,\n        // statebind: \"ui.chart.trails\",\n        // statebindfunc: this.setBubbleTrails.bind(this)\n      }\n    };\n\n    this.model_binds = {};\n\n    Object.keys(this._available_buttons).forEach(function (buttonId) {\n      var button = _this._available_buttons[buttonId];\n      if (button && button.statebind) {\n        _this.model_binds[\"change:\" + button.statebind] = function (evt) {\n          button.statebindfunc(buttonId, evt.source.value);\n        };\n      }\n    });\n\n    this._super(config, context);\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n\n    this._addButtons(Object.keys(this._available_buttons), []);\n    this.setCursorMode(\"arrow\");\n  },\n\n\n  /*\n   * adds buttons configuration to the components and template_data\n   * @param {Array} button_list list of buttons to be added\n   */\n  _addButtons: function _addButtons(button_list, button_expand) {\n    var _this = this;\n    this._components_config = [];\n    var details_btns = [];\n    if (!button_list.length) return;\n    //add a component for each button\n    for (var i = 0; i < button_list.length; i++) {\n\n      var btn = button_list[i];\n      var btn_config = this._available_buttons[btn];\n\n      //add template data\n      var d = btn_config ? btn : \"_default\";\n      var details_btn = utils.clone(this._available_buttons[d]);\n\n      details_btn.id = btn;\n      details_btn.icon = iconset[details_btn.icon];\n      details_btns.push(details_btn);\n    }\n\n    var t = this.getTranslationFunction(true);\n\n    this.element.selectAll(\"button\").data(details_btns).enter().append(\"button\").attr(\"class\", function (d) {\n      var cls = \"vzb-buttonlist-btn\";\n      if (button_expand.length > 0) {\n        if (button_expand.indexOf(d.id) > -1) {\n          cls += \" vzb-dialog-side-btn\";\n        }\n      }\n\n      return cls;\n    }).attr(\"data-btn\", function (d) {\n      return d.id;\n    }).html(function (btn) {\n      return \"<span class='vzb-buttonlist-btn-icon fa'>\" + btn.icon + \"</span><span class='vzb-buttonlist-btn-title'>\" + t(btn.title) + \"</span>\";\n    });\n\n    var buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    //clicking the button\n    buttons.on(\"click\", function () {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      var id = d3.select(this).attr(\"data-btn\");\n      _this.proceedClick(id);\n    });\n  },\n  proceedClick: function proceedClick(id) {\n    var _this = this;\n    var btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    var classes = btn.attr(\"class\");\n    var btn_config = _this._available_buttons[id];\n\n    if (btn_config && btn_config.func) {\n      btn_config.func(id);\n    } else {\n      var btn_active = classes.indexOf(class_active) === -1;\n\n      btn.classed(class_active, btn_active);\n      var evt = {};\n      evt[\"id\"] = id;\n      evt[\"active\"] = btn_active;\n      _this.trigger(\"click\", evt);\n    }\n  },\n  setButtonActive: function setButtonActive(id, boolActive) {\n    var btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active, boolActive);\n  },\n  toggleCursorMode: function toggleCursorMode(id) {\n    var value = id;\n    this.model.ui.set(\"cursorMode\", value, false, false);\n  },\n  setCursorMode: function setCursorMode(id) {\n    var value = this.model.ui.cursorMode ? this.model.ui.cursorMode : \"arrow\";\n    this.element.selectAll(\".vzb-buttonlist-btn\").classed(class_active, function (d) {\n      return d.id == value;\n    });\n  },\n  toggleHundredPercent: function toggleHundredPercent(id) {\n    this.root.trigger(\"resetZoom\");\n  }\n});\n\nexports.default = ZoomButtonList;\n\n/***/ }),\n/* 174 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(175);\n\nvar _vizabi = __webpack_require__(358);\n\nvar _vizabi2 = _interopRequireDefault(_vizabi);\n\n__webpack_require__(404);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _vizabi2.default;\n\nmodule.exports = _vizabi2.default;\n\n/***/ }),\n/* 175 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n__webpack_require__(176);\n\n__webpack_require__(354);\n\n__webpack_require__(355);\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(72)))\n\n/***/ }),\n/* 176 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(177);\n__webpack_require__(180);\n__webpack_require__(181);\n__webpack_require__(182);\n__webpack_require__(183);\n__webpack_require__(184);\n__webpack_require__(185);\n__webpack_require__(186);\n__webpack_require__(187);\n__webpack_require__(188);\n__webpack_require__(189);\n__webpack_require__(190);\n__webpack_require__(191);\n__webpack_require__(192);\n__webpack_require__(193);\n__webpack_require__(194);\n__webpack_require__(195);\n__webpack_require__(196);\n__webpack_require__(197);\n__webpack_require__(198);\n__webpack_require__(199);\n__webpack_require__(200);\n__webpack_require__(201);\n__webpack_require__(202);\n__webpack_require__(203);\n__webpack_require__(204);\n__webpack_require__(205);\n__webpack_require__(206);\n__webpack_require__(207);\n__webpack_require__(208);\n__webpack_require__(209);\n__webpack_require__(210);\n__webpack_require__(211);\n__webpack_require__(212);\n__webpack_require__(213);\n__webpack_require__(214);\n__webpack_require__(215);\n__webpack_require__(216);\n__webpack_require__(217);\n__webpack_require__(218);\n__webpack_require__(219);\n__webpack_require__(220);\n__webpack_require__(221);\n__webpack_require__(222);\n__webpack_require__(223);\n__webpack_require__(224);\n__webpack_require__(225);\n__webpack_require__(226);\n__webpack_require__(227);\n__webpack_require__(228);\n__webpack_require__(229);\n__webpack_require__(230);\n__webpack_require__(231);\n__webpack_require__(232);\n__webpack_require__(233);\n__webpack_require__(234);\n__webpack_require__(235);\n__webpack_require__(236);\n__webpack_require__(237);\n__webpack_require__(238);\n__webpack_require__(239);\n__webpack_require__(240);\n__webpack_require__(241);\n__webpack_require__(242);\n__webpack_require__(243);\n__webpack_require__(244);\n__webpack_require__(245);\n__webpack_require__(246);\n__webpack_require__(247);\n__webpack_require__(248);\n__webpack_require__(249);\n__webpack_require__(250);\n__webpack_require__(251);\n__webpack_require__(252);\n__webpack_require__(253);\n__webpack_require__(254);\n__webpack_require__(255);\n__webpack_require__(256);\n__webpack_require__(257);\n__webpack_require__(259);\n__webpack_require__(260);\n__webpack_require__(261);\n__webpack_require__(262);\n__webpack_require__(263);\n__webpack_require__(264);\n__webpack_require__(265);\n__webpack_require__(268);\n__webpack_require__(269);\n__webpack_require__(270);\n__webpack_require__(271);\n__webpack_require__(272);\n__webpack_require__(273);\n__webpack_require__(274);\n__webpack_require__(275);\n__webpack_require__(276);\n__webpack_require__(277);\n__webpack_require__(278);\n__webpack_require__(279);\n__webpack_require__(280);\n__webpack_require__(94);\n__webpack_require__(281);\n__webpack_require__(282);\n__webpack_require__(122);\n__webpack_require__(283);\n__webpack_require__(284);\n__webpack_require__(285);\n__webpack_require__(286);\n__webpack_require__(287);\n__webpack_require__(123);\n__webpack_require__(125);\n__webpack_require__(126);\n__webpack_require__(288);\n__webpack_require__(289);\n__webpack_require__(290);\n__webpack_require__(291);\n__webpack_require__(292);\n__webpack_require__(293);\n__webpack_require__(294);\n__webpack_require__(295);\n__webpack_require__(296);\n__webpack_require__(297);\n__webpack_require__(298);\n__webpack_require__(299);\n__webpack_require__(300);\n__webpack_require__(301);\n__webpack_require__(302);\n__webpack_require__(303);\n__webpack_require__(304);\n__webpack_require__(305);\n__webpack_require__(306);\n__webpack_require__(307);\n__webpack_require__(308);\n__webpack_require__(309);\n__webpack_require__(310);\n__webpack_require__(311);\n__webpack_require__(312);\n__webpack_require__(313);\n__webpack_require__(314);\n__webpack_require__(315);\n__webpack_require__(316);\n__webpack_require__(317);\n__webpack_require__(318);\n__webpack_require__(319);\n__webpack_require__(320);\n__webpack_require__(321);\n__webpack_require__(322);\n__webpack_require__(323);\n__webpack_require__(324);\n__webpack_require__(325);\n__webpack_require__(326);\n__webpack_require__(327);\n__webpack_require__(328);\n__webpack_require__(329);\n__webpack_require__(330);\n__webpack_require__(331);\n__webpack_require__(332);\n__webpack_require__(333);\n__webpack_require__(334);\n__webpack_require__(335);\n__webpack_require__(336);\n__webpack_require__(337);\n__webpack_require__(338);\n__webpack_require__(339);\n__webpack_require__(340);\n__webpack_require__(341);\n__webpack_require__(342);\n__webpack_require__(343);\n__webpack_require__(344);\n__webpack_require__(345);\n__webpack_require__(346);\n__webpack_require__(347);\n__webpack_require__(348);\n__webpack_require__(349);\n__webpack_require__(352);\n__webpack_require__(353);\nmodule.exports = __webpack_require__(29);\n\n/***/ }),\n/* 177 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// ECMAScript 6 symbols shim\nvar global         = __webpack_require__(4)\n  , has            = __webpack_require__(13)\n  , DESCRIPTORS    = __webpack_require__(8)\n  , $export        = __webpack_require__(0)\n  , redefine       = __webpack_require__(15)\n  , META           = __webpack_require__(35).KEY\n  , $fails         = __webpack_require__(5)\n  , shared         = __webpack_require__(60)\n  , setToStringTag = __webpack_require__(49)\n  , uid            = __webpack_require__(38)\n  , wks            = __webpack_require__(7)\n  , wksExt         = __webpack_require__(106)\n  , wksDefine      = __webpack_require__(74)\n  , keyOf          = __webpack_require__(178)\n  , enumKeys       = __webpack_require__(179)\n  , isArray        = __webpack_require__(77)\n  , anObject       = __webpack_require__(2)\n  , toIObject      = __webpack_require__(17)\n  , toPrimitive    = __webpack_require__(25)\n  , createDesc     = __webpack_require__(34)\n  , _create        = __webpack_require__(42)\n  , gOPNExt        = __webpack_require__(109)\n  , $GOPD          = __webpack_require__(19)\n  , $DP            = __webpack_require__(9)\n  , $keys          = __webpack_require__(40)\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  __webpack_require__(43).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(58).f  = $propertyIsEnumerable;\n  __webpack_require__(62).f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !__webpack_require__(39)){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(14)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ }),\n/* 178 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getKeys   = __webpack_require__(40)\n  , toIObject = __webpack_require__(17);\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n/***/ }),\n/* 179 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(40)\n  , gOPS    = __webpack_require__(62)\n  , pIE     = __webpack_require__(58);\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n/***/ }),\n/* 180 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0)\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: __webpack_require__(42)});\n\n/***/ }),\n/* 181 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(8), 'Object', {defineProperty: __webpack_require__(9).f});\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0);\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !__webpack_require__(8), 'Object', {defineProperties: __webpack_require__(108)});\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = __webpack_require__(17)\n  , $getOwnPropertyDescriptor = __webpack_require__(19).f;\n\n__webpack_require__(26)('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = __webpack_require__(12)\n  , $getPrototypeOf = __webpack_require__(20);\n\n__webpack_require__(26)('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n/***/ }),\n/* 185 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(12)\n  , $keys    = __webpack_require__(40);\n\n__webpack_require__(26)('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n/***/ }),\n/* 186 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 Object.getOwnPropertyNames(O)\n__webpack_require__(26)('getOwnPropertyNames', function(){\n  return __webpack_require__(109).f;\n});\n\n/***/ }),\n/* 187 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.5 Object.freeze(O)\nvar isObject = __webpack_require__(6)\n  , meta     = __webpack_require__(35).onFreeze;\n\n__webpack_require__(26)('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n\n/***/ }),\n/* 188 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.17 Object.seal(O)\nvar isObject = __webpack_require__(6)\n  , meta     = __webpack_require__(35).onFreeze;\n\n__webpack_require__(26)('seal', function($seal){\n  return function seal(it){\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n\n/***/ }),\n/* 189 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = __webpack_require__(6)\n  , meta     = __webpack_require__(35).onFreeze;\n\n__webpack_require__(26)('preventExtensions', function($preventExtensions){\n  return function preventExtensions(it){\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n\n/***/ }),\n/* 190 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.12 Object.isFrozen(O)\nvar isObject = __webpack_require__(6);\n\n__webpack_require__(26)('isFrozen', function($isFrozen){\n  return function isFrozen(it){\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n\n/***/ }),\n/* 191 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.13 Object.isSealed(O)\nvar isObject = __webpack_require__(6);\n\n__webpack_require__(26)('isSealed', function($isSealed){\n  return function isSealed(it){\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n\n/***/ }),\n/* 192 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.11 Object.isExtensible(O)\nvar isObject = __webpack_require__(6);\n\n__webpack_require__(26)('isExtensible', function($isExtensible){\n  return function isExtensible(it){\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n\n/***/ }),\n/* 193 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(0);\n\n$export($export.S + $export.F, 'Object', {assign: __webpack_require__(110)});\n\n/***/ }),\n/* 194 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.10 Object.is(value1, value2)\nvar $export = __webpack_require__(0);\n$export($export.S, 'Object', {is: __webpack_require__(111)});\n\n/***/ }),\n/* 195 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(0);\n$export($export.S, 'Object', {setPrototypeOf: __webpack_require__(79).set});\n\n/***/ }),\n/* 196 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.3.6 Object.prototype.toString()\nvar classof = __webpack_require__(59)\n  , test    = {};\ntest[__webpack_require__(7)('toStringTag')] = 'z';\nif(test + '' != '[object z]'){\n  __webpack_require__(15)(Object.prototype, 'toString', function toString(){\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n\n/***/ }),\n/* 197 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = __webpack_require__(0);\n\n$export($export.P, 'Function', {bind: __webpack_require__(112)});\n\n/***/ }),\n/* 198 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP         = __webpack_require__(9).f\n  , createDesc = __webpack_require__(34)\n  , has        = __webpack_require__(13)\n  , FProto     = Function.prototype\n  , nameRE     = /^\\s*function ([^ (]*)/\n  , NAME       = 'name';\n\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\n\n// 19.2.4.2 name\nNAME in FProto || __webpack_require__(8) && dP(FProto, NAME, {\n  configurable: true,\n  get: function(){\n    try {\n      var that = this\n        , name = ('' + that).match(nameRE)[1];\n      has(that, NAME) || !isExtensible(that) || dP(that, NAME, createDesc(5, name));\n      return name;\n    } catch(e){\n      return '';\n    }\n  }\n});\n\n/***/ }),\n/* 199 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar isObject       = __webpack_require__(6)\n  , getPrototypeOf = __webpack_require__(20)\n  , HAS_INSTANCE   = __webpack_require__(7)('hasInstance')\n  , FunctionProto  = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif(!(HAS_INSTANCE in FunctionProto))__webpack_require__(9).f(FunctionProto, HAS_INSTANCE, {value: function(O){\n  if(typeof this != 'function' || !isObject(O))return false;\n  if(!isObject(this.prototype))return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while(O = getPrototypeOf(O))if(this.prototype === O)return true;\n  return false;\n}});\n\n/***/ }),\n/* 200 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export   = __webpack_require__(0)\n  , $parseInt = __webpack_require__(113);\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), {parseInt: $parseInt});\n\n/***/ }),\n/* 201 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export     = __webpack_require__(0)\n  , $parseFloat = __webpack_require__(114);\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), {parseFloat: $parseFloat});\n\n/***/ }),\n/* 202 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global            = __webpack_require__(4)\n  , has               = __webpack_require__(13)\n  , cof               = __webpack_require__(22)\n  , inheritIfRequired = __webpack_require__(81)\n  , toPrimitive       = __webpack_require__(25)\n  , fails             = __webpack_require__(5)\n  , gOPN              = __webpack_require__(43).f\n  , gOPD              = __webpack_require__(19).f\n  , dP                = __webpack_require__(9).f\n  , $trim             = __webpack_require__(50).trim\n  , NUMBER            = 'Number'\n  , $Number           = global[NUMBER]\n  , Base              = $Number\n  , proto             = $Number.prototype\n  // Opera ~12 has broken Object#toString\n  , BROKEN_COF        = cof(__webpack_require__(42)(proto)) == NUMBER\n  , TRIM              = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function(argument){\n  var it = toPrimitive(argument, false);\n  if(typeof it == 'string' && it.length > 2){\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0)\n      , third, radix, maxCode;\n    if(first === 43 || first === 45){\n      third = it.charCodeAt(2);\n      if(third === 88 || third === 120)return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if(first === 48){\n      switch(it.charCodeAt(1)){\n        case 66 : case 98  : radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79 : case 111 : radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default : return +it;\n      }\n      for(var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++){\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if(code < 48 || code > maxCode)return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif(!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')){\n  $Number = function Number(value){\n    var it = arguments.length < 1 ? 0 : value\n      , that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function(){ proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for(var keys = __webpack_require__(8) ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++){\n    if(has(Base, key = keys[j]) && !has($Number, key)){\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  __webpack_require__(15)(global, NUMBER, $Number);\n}\n\n/***/ }),\n/* 203 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export      = __webpack_require__(0)\n  , toInteger    = __webpack_require__(36)\n  , aNumberValue = __webpack_require__(115)\n  , repeat       = __webpack_require__(82)\n  , $toFixed     = 1..toFixed\n  , floor        = Math.floor\n  , data         = [0, 0, 0, 0, 0, 0]\n  , ERROR        = 'Number.toFixed: incorrect invocation!'\n  , ZERO         = '0';\n\nvar multiply = function(n, c){\n  var i  = -1\n    , c2 = c;\n  while(++i < 6){\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function(n){\n  var i = 6\n    , c = 0;\n  while(--i >= 0){\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function(){\n  var i = 6\n    , s = '';\n  while(--i >= 0){\n    if(s !== '' || i === 0 || data[i] !== 0){\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function(x, n, acc){\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function(x){\n  var n  = 0\n    , x2 = x;\n  while(x2 >= 4096){\n    n += 12;\n    x2 /= 4096;\n  }\n  while(x2 >= 2){\n    n  += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128..toFixed(0) !== '1000000000000000128'\n) || !__webpack_require__(5)(function(){\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits){\n    var x = aNumberValue(this, ERROR)\n      , f = toInteger(fractionDigits)\n      , s = ''\n      , m = ZERO\n      , e, z, j, k;\n    if(f < 0 || f > 20)throw RangeError(ERROR);\n    if(x != x)return 'NaN';\n    if(x <= -1e21 || x >= 1e21)return String(x);\n    if(x < 0){\n      s = '-';\n      x = -x;\n    }\n    if(x > 1e-21){\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if(e > 0){\n        multiply(0, z);\n        j = f;\n        while(j >= 7){\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while(j >= 23){\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if(f > 0){\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n\n/***/ }),\n/* 204 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export      = __webpack_require__(0)\n  , $fails       = __webpack_require__(5)\n  , aNumberValue = __webpack_require__(115)\n  , $toPrecision = 1..toPrecision;\n\n$export($export.P + $export.F * ($fails(function(){\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function(){\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision){\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision); \n  }\n});\n\n/***/ }),\n/* 205 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.1 Number.EPSILON\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});\n\n/***/ }),\n/* 206 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.2 Number.isFinite(number)\nvar $export   = __webpack_require__(0)\n  , _isFinite = __webpack_require__(4).isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it){\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n\n/***/ }),\n/* 207 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Number', {isInteger: __webpack_require__(116)});\n\n/***/ }),\n/* 208 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.4 Number.isNaN(number)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number){\n    return number != number;\n  }\n});\n\n/***/ }),\n/* 209 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.5 Number.isSafeInteger(number)\nvar $export   = __webpack_require__(0)\n  , isInteger = __webpack_require__(116)\n  , abs       = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number){\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n\n/***/ }),\n/* 210 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});\n\n/***/ }),\n/* 211 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});\n\n/***/ }),\n/* 212 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export     = __webpack_require__(0)\n  , $parseFloat = __webpack_require__(114);\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', {parseFloat: $parseFloat});\n\n/***/ }),\n/* 213 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export   = __webpack_require__(0)\n  , $parseInt = __webpack_require__(113);\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', {parseInt: $parseInt});\n\n/***/ }),\n/* 214 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.3 Math.acosh(x)\nvar $export = __webpack_require__(0)\n  , log1p   = __webpack_require__(117)\n  , sqrt    = Math.sqrt\n  , $acosh  = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN \n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x){\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n\n/***/ }),\n/* 215 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.5 Math.asinh(x)\nvar $export = __webpack_require__(0)\n  , $asinh  = Math.asinh;\n\nfunction asinh(x){\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0 \n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', {asinh: asinh});\n\n/***/ }),\n/* 216 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.7 Math.atanh(x)\nvar $export = __webpack_require__(0)\n  , $atanh  = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0 \n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x){\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n\n/***/ }),\n/* 217 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.9 Math.cbrt(x)\nvar $export = __webpack_require__(0)\n  , sign    = __webpack_require__(83);\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x){\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n\n/***/ }),\n/* 218 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.11 Math.clz32(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x){\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n\n/***/ }),\n/* 219 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.12 Math.cosh(x)\nvar $export = __webpack_require__(0)\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x){\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n\n/***/ }),\n/* 220 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.14 Math.expm1(x)\nvar $export = __webpack_require__(0)\n  , $expm1  = __webpack_require__(84);\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', {expm1: $expm1});\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.16 Math.fround(x)\nvar $export   = __webpack_require__(0)\n  , sign      = __webpack_require__(83)\n  , pow       = Math.pow\n  , EPSILON   = pow(2, -52)\n  , EPSILON32 = pow(2, -23)\n  , MAX32     = pow(2, 127) * (2 - EPSILON32)\n  , MIN32     = pow(2, -126);\n\nvar roundTiesToEven = function(n){\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n\n$export($export.S, 'Math', {\n  fround: function fround(x){\n    var $abs  = Math.abs(x)\n      , $sign = sign(x)\n      , a, result;\n    if($abs < MIN32)return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n    a = (1 + EPSILON32 / EPSILON) * $abs;\n    result = a - (a - $abs);\n    if(result > MAX32 || result != result)return $sign * Infinity;\n    return $sign * result;\n  }\n});\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = __webpack_require__(0)\n  , abs     = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2){ // eslint-disable-line no-unused-vars\n    var sum  = 0\n      , i    = 0\n      , aLen = arguments.length\n      , larg = 0\n      , arg, div;\n    while(i < aLen){\n      arg = abs(arguments[i++]);\n      if(larg < arg){\n        div  = larg / arg;\n        sum  = sum * div * div + 1;\n        larg = arg;\n      } else if(arg > 0){\n        div  = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.18 Math.imul(x, y)\nvar $export = __webpack_require__(0)\n  , $imul   = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * __webpack_require__(5)(function(){\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y){\n    var UINT16 = 0xffff\n      , xn = +x\n      , yn = +y\n      , xl = UINT16 & xn\n      , yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.21 Math.log10(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  log10: function log10(x){\n    return Math.log(x) / Math.LN10;\n  }\n});\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.20 Math.log1p(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {log1p: __webpack_require__(117)});\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.22 Math.log2(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  log2: function log2(x){\n    return Math.log(x) / Math.LN2;\n  }\n});\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.28 Math.sign(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {sign: __webpack_require__(83)});\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.30 Math.sinh(x)\nvar $export = __webpack_require__(0)\n  , expm1   = __webpack_require__(84)\n  , exp     = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * __webpack_require__(5)(function(){\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x){\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.33 Math.tanh(x)\nvar $export = __webpack_require__(0)\n  , expm1   = __webpack_require__(84)\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x){\n    var a = expm1(x = +x)\n      , b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.2.2.34 Math.trunc(x)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it){\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export        = __webpack_require__(0)\n  , toIndex        = __webpack_require__(41)\n  , fromCharCode   = String.fromCharCode\n  , $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars\n    var res  = []\n      , aLen = arguments.length\n      , i    = 0\n      , code;\n    while(aLen > i){\n      code = +arguments[i++];\n      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export   = __webpack_require__(0)\n  , toIObject = __webpack_require__(17)\n  , toLength  = __webpack_require__(11);\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite){\n    var tpl  = toIObject(callSite.raw)\n      , len  = toLength(tpl.length)\n      , aLen = arguments.length\n      , res  = []\n      , i    = 0;\n    while(len > i){\n      res.push(String(tpl[i++]));\n      if(i < aLen)res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 21.1.3.25 String.prototype.trim()\n__webpack_require__(50)('trim', function($trim){\n  return function trim(){\n    return $trim(this, 3);\n  };\n});\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $at  = __webpack_require__(85)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(86)(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $at     = __webpack_require__(85)(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos){\n    return $at(this, pos);\n  }\n});\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n\nvar $export   = __webpack_require__(0)\n  , toLength  = __webpack_require__(11)\n  , context   = __webpack_require__(88)\n  , ENDS_WITH = 'endsWith'\n  , $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * __webpack_require__(89)(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /*, endPosition = @length */){\n    var that = context(this, searchString, ENDS_WITH)\n      , endPosition = arguments.length > 1 ? arguments[1] : undefined\n      , len    = toLength(that.length)\n      , end    = endPosition === undefined ? len : Math.min(toLength(endPosition), len)\n      , search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n\nvar $export  = __webpack_require__(0)\n  , context  = __webpack_require__(88)\n  , INCLUDES = 'includes';\n\n$export($export.P + $export.F * __webpack_require__(89)(INCLUDES), 'String', {\n  includes: function includes(searchString /*, position = 0 */){\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0);\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: __webpack_require__(82)\n});\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n\nvar $export     = __webpack_require__(0)\n  , toLength    = __webpack_require__(11)\n  , context     = __webpack_require__(88)\n  , STARTS_WITH = 'startsWith'\n  , $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * __webpack_require__(89)(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /*, position = 0 */){\n    var that   = context(this, searchString, STARTS_WITH)\n      , index  = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length))\n      , search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.2 String.prototype.anchor(name)\n__webpack_require__(18)('anchor', function(createHTML){\n  return function anchor(name){\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.3 String.prototype.big()\n__webpack_require__(18)('big', function(createHTML){\n  return function big(){\n    return createHTML(this, 'big', '', '');\n  }\n});\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.4 String.prototype.blink()\n__webpack_require__(18)('blink', function(createHTML){\n  return function blink(){\n    return createHTML(this, 'blink', '', '');\n  }\n});\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.5 String.prototype.bold()\n__webpack_require__(18)('bold', function(createHTML){\n  return function bold(){\n    return createHTML(this, 'b', '', '');\n  }\n});\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.6 String.prototype.fixed()\n__webpack_require__(18)('fixed', function(createHTML){\n  return function fixed(){\n    return createHTML(this, 'tt', '', '');\n  }\n});\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.7 String.prototype.fontcolor(color)\n__webpack_require__(18)('fontcolor', function(createHTML){\n  return function fontcolor(color){\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.8 String.prototype.fontsize(size)\n__webpack_require__(18)('fontsize', function(createHTML){\n  return function fontsize(size){\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.9 String.prototype.italics()\n__webpack_require__(18)('italics', function(createHTML){\n  return function italics(){\n    return createHTML(this, 'i', '', '');\n  }\n});\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.10 String.prototype.link(url)\n__webpack_require__(18)('link', function(createHTML){\n  return function link(url){\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.11 String.prototype.small()\n__webpack_require__(18)('small', function(createHTML){\n  return function small(){\n    return createHTML(this, 'small', '', '');\n  }\n});\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.12 String.prototype.strike()\n__webpack_require__(18)('strike', function(createHTML){\n  return function strike(){\n    return createHTML(this, 'strike', '', '');\n  }\n});\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.13 String.prototype.sub()\n__webpack_require__(18)('sub', function(createHTML){\n  return function sub(){\n    return createHTML(this, 'sub', '', '');\n  }\n});\n\n/***/ }),\n/* 252 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// B.2.3.14 String.prototype.sup()\n__webpack_require__(18)('sup', function(createHTML){\n  return function sup(){\n    return createHTML(this, 'sup', '', '');\n  }\n});\n\n/***/ }),\n/* 253 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Date', {now: function(){ return new Date().getTime(); }});\n\n/***/ }),\n/* 254 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export     = __webpack_require__(0)\n  , toObject    = __webpack_require__(12)\n  , toPrimitive = __webpack_require__(25);\n\n$export($export.P + $export.F * __webpack_require__(5)(function(){\n  return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({toISOString: function(){ return 1; }}) !== 1;\n}), 'Date', {\n  toJSON: function toJSON(key){\n    var O  = toObject(this)\n      , pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n\n/***/ }),\n/* 255 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = __webpack_require__(0)\n  , fails   = __webpack_require__(5)\n  , getTime = Date.prototype.getTime;\n\nvar lz = function(num){\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (fails(function(){\n  return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';\n}) || !fails(function(){\n  new Date(NaN).toISOString();\n})), 'Date', {\n  toISOString: function toISOString(){\n    if(!isFinite(getTime.call(this)))throw RangeError('Invalid time value');\n    var d = this\n      , y = d.getUTCFullYear()\n      , m = d.getUTCMilliseconds()\n      , s = y < 0 ? '-' : y > 9999 ? '+' : '';\n    return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n      '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n      'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n      ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n  }\n});\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DateProto    = Date.prototype\n  , INVALID_DATE = 'Invalid Date'\n  , TO_STRING    = 'toString'\n  , $toString    = DateProto[TO_STRING]\n  , getTime      = DateProto.getTime;\nif(new Date(NaN) + '' != INVALID_DATE){\n  __webpack_require__(15)(DateProto, TO_STRING, function toString(){\n    var value = getTime.call(this);\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar TO_PRIMITIVE = __webpack_require__(7)('toPrimitive')\n  , proto        = Date.prototype;\n\nif(!(TO_PRIMITIVE in proto))__webpack_require__(14)(proto, TO_PRIMITIVE, __webpack_require__(258));\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar anObject    = __webpack_require__(2)\n  , toPrimitive = __webpack_require__(25)\n  , NUMBER      = 'number';\n\nmodule.exports = function(hint){\n  if(hint !== 'string' && hint !== NUMBER && hint !== 'default')throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Array', {isArray: __webpack_require__(77)});\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ctx            = __webpack_require__(30)\n  , $export        = __webpack_require__(0)\n  , toObject       = __webpack_require__(12)\n  , call           = __webpack_require__(118)\n  , isArrayIter    = __webpack_require__(90)\n  , toLength       = __webpack_require__(11)\n  , createProperty = __webpack_require__(91)\n  , getIterFn      = __webpack_require__(92);\n\n$export($export.S + $export.F * !__webpack_require__(65)(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export        = __webpack_require__(0)\n  , createProperty = __webpack_require__(91);\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * __webpack_require__(5)(function(){\n  function F(){}\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */){\n    var index  = 0\n      , aLen   = arguments.length\n      , result = new (typeof this == 'function' ? this : Array)(aLen);\n    while(aLen > index)createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export   = __webpack_require__(0)\n  , toIObject = __webpack_require__(17)\n  , arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (__webpack_require__(57) != Object || !__webpack_require__(24)(arrayJoin)), 'Array', {\n  join: function join(separator){\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export    = __webpack_require__(0)\n  , html       = __webpack_require__(78)\n  , cof        = __webpack_require__(22)\n  , toIndex    = __webpack_require__(41)\n  , toLength   = __webpack_require__(11)\n  , arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * __webpack_require__(5)(function(){\n  if(html)arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end){\n    var len   = toLength(this.length)\n      , klass = cof(this);\n    end = end === undefined ? len : end;\n    if(klass == 'Array')return arraySlice.call(this, begin, end);\n    var start  = toIndex(begin, len)\n      , upTo   = toIndex(end, len)\n      , size   = toLength(upTo - start)\n      , cloned = Array(size)\n      , i      = 0;\n    for(; i < size; i++)cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export   = __webpack_require__(0)\n  , aFunction = __webpack_require__(16)\n  , toObject  = __webpack_require__(12)\n  , fails     = __webpack_require__(5)\n  , $sort     = [].sort\n  , test      = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function(){\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function(){\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !__webpack_require__(24)($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn){\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export  = __webpack_require__(0)\n  , $forEach = __webpack_require__(27)(0)\n  , STRICT   = __webpack_require__(24)([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */){\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = __webpack_require__(267);\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6)\n  , isArray  = __webpack_require__(77)\n  , SPECIES  = __webpack_require__(7)('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $map    = __webpack_require__(27)(1);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */){\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $filter = __webpack_require__(27)(2);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */){\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $some   = __webpack_require__(27)(3);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */){\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $every  = __webpack_require__(27)(4);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */){\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $reduce = __webpack_require__(119);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export = __webpack_require__(0)\n  , $reduce = __webpack_require__(119);\n\n$export($export.P + $export.F * !__webpack_require__(24)([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export       = __webpack_require__(0)\n  , $indexOf      = __webpack_require__(61)(false)\n  , $native       = [].indexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(24)($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /*, fromIndex = 0 */){\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export       = __webpack_require__(0)\n  , toIObject     = __webpack_require__(17)\n  , toInteger     = __webpack_require__(36)\n  , toLength      = __webpack_require__(11)\n  , $native       = [].lastIndexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(24)($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /*, fromIndex = @[*-1] */){\n    // convert -0 to +0\n    if(NEGATIVE_ZERO)return $native.apply(this, arguments) || 0;\n    var O      = toIObject(this)\n      , length = toLength(O.length)\n      , index  = length - 1;\n    if(arguments.length > 1)index = Math.min(index, toInteger(arguments[1]));\n    if(index < 0)index = length + index;\n    for(;index >= 0; index--)if(index in O)if(O[index] === searchElement)return index || 0;\n    return -1;\n  }\n});\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = __webpack_require__(0);\n\n$export($export.P, 'Array', {copyWithin: __webpack_require__(120)});\n\n__webpack_require__(52)('copyWithin');\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = __webpack_require__(0);\n\n$export($export.P, 'Array', {fill: __webpack_require__(93)});\n\n__webpack_require__(52)('fill');\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = __webpack_require__(0)\n  , $find   = __webpack_require__(27)(5)\n  , KEY     = 'find'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n__webpack_require__(52)(KEY);\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = __webpack_require__(0)\n  , $find   = __webpack_require__(27)(6)\n  , KEY     = 'findIndex'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n__webpack_require__(52)(KEY);\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(44)('Array');\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global            = __webpack_require__(4)\n  , inheritIfRequired = __webpack_require__(81)\n  , dP                = __webpack_require__(9).f\n  , gOPN              = __webpack_require__(43).f\n  , isRegExp          = __webpack_require__(64)\n  , $flags            = __webpack_require__(66)\n  , $RegExp           = global.RegExp\n  , Base              = $RegExp\n  , proto             = $RegExp.prototype\n  , re1               = /a/g\n  , re2               = /a/g\n  // \"new\" creates a new object, old webkit buggy here\n  , CORRECT_NEW       = new $RegExp(re1) !== re1;\n\nif(__webpack_require__(8) && (!CORRECT_NEW || __webpack_require__(5)(function(){\n  re2[__webpack_require__(7)('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))){\n  $RegExp = function RegExp(p, f){\n    var tiRE = this instanceof $RegExp\n      , piRE = isRegExp(p)\n      , fiU  = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function(key){\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function(){ return Base[key]; },\n      set: function(it){ Base[key] = it; }\n    });\n  };\n  for(var keys = gOPN(Base), i = 0; keys.length > i; )proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  __webpack_require__(15)(global, 'RegExp', $RegExp);\n}\n\n__webpack_require__(44)('RegExp');\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n__webpack_require__(122);\nvar anObject    = __webpack_require__(2)\n  , $flags      = __webpack_require__(66)\n  , DESCRIPTORS = __webpack_require__(8)\n  , TO_STRING   = 'toString'\n  , $toString   = /./[TO_STRING];\n\nvar define = function(fn){\n  __webpack_require__(15)(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif(__webpack_require__(5)(function(){ return $toString.call({source: 'a', flags: 'b'}) != '/a/b'; })){\n  define(function toString(){\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if($toString.name != TO_STRING){\n  define(function toString(){\n    return $toString.call(this);\n  });\n}\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// @@match logic\n__webpack_require__(67)('match', 1, function(defined, MATCH, $match){\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// @@replace logic\n__webpack_require__(67)('replace', 2, function(defined, REPLACE, $replace){\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue){\n    'use strict';\n    var O  = defined(this)\n      , fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// @@search logic\n__webpack_require__(67)('search', 1, function(defined, SEARCH, $search){\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// @@split logic\n__webpack_require__(67)('split', 2, function(defined, SPLIT, $split){\n  'use strict';\n  var isRegExp   = __webpack_require__(64)\n    , _split     = $split\n    , $push      = [].push\n    , $SPLIT     = 'split'\n    , LENGTH     = 'length'\n    , LAST_INDEX = 'lastIndex';\n  if(\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ){\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function(separator, limit){\n      var string = String(this);\n      if(separator === undefined && limit === 0)return [];\n      // If `separator` is not a regex, use native split\n      if(!isRegExp(separator))return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if(!NPCG)separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while(match = separatorCopy.exec(string)){\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if(lastIndex > lastLastIndex){\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          if(!NPCG && match[LENGTH] > 1)match[0].replace(separator2, function(){\n            for(i = 1; i < arguments[LENGTH] - 2; i++)if(arguments[i] === undefined)match[i] = undefined;\n          });\n          if(match[LENGTH] > 1 && match.index < string[LENGTH])$push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if(output[LENGTH] >= splitLimit)break;\n        }\n        if(separatorCopy[LAST_INDEX] === match.index)separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if(lastLastIndex === string[LENGTH]){\n        if(lastLength || !separatorCopy.test(''))output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if('0'[$SPLIT](undefined, 0)[LENGTH]){\n    $split = function(separator, limit){\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit){\n    var O  = defined(this)\n      , fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY            = __webpack_require__(39)\n  , global             = __webpack_require__(4)\n  , ctx                = __webpack_require__(30)\n  , classof            = __webpack_require__(59)\n  , $export            = __webpack_require__(0)\n  , isObject           = __webpack_require__(6)\n  , aFunction          = __webpack_require__(16)\n  , anInstance         = __webpack_require__(45)\n  , forOf              = __webpack_require__(53)\n  , speciesConstructor = __webpack_require__(95)\n  , task               = __webpack_require__(96).set\n  , microtask          = __webpack_require__(97)()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[__webpack_require__(7)('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(46)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\n__webpack_require__(49)($Promise, PROMISE);\n__webpack_require__(44)(PROMISE);\nWrapper = __webpack_require__(29)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(65)(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar weak = __webpack_require__(127);\n\n// 23.4 WeakSet Objects\n__webpack_require__(68)('WeakSet', function(get){\n  return function WeakSet(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value){\n    return weak.def(this, value, true);\n  }\n}, weak, false, true);\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export      = __webpack_require__(0)\n  , $typed       = __webpack_require__(69)\n  , buffer       = __webpack_require__(98)\n  , anObject     = __webpack_require__(2)\n  , toIndex      = __webpack_require__(41)\n  , toLength     = __webpack_require__(11)\n  , isObject     = __webpack_require__(6)\n  , ArrayBuffer  = __webpack_require__(4).ArrayBuffer\n  , speciesConstructor = __webpack_require__(95)\n  , $ArrayBuffer = buffer.ArrayBuffer\n  , $DataView    = buffer.DataView\n  , $isView      = $typed.ABV && ArrayBuffer.isView\n  , $slice       = $ArrayBuffer.prototype.slice\n  , VIEW         = $typed.VIEW\n  , ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), {ArrayBuffer: $ArrayBuffer});\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it){\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * __webpack_require__(5)(function(){\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end){\n    if($slice !== undefined && end === undefined)return $slice.call(anObject(this), start); // FF fix\n    var len    = anObject(this).byteLength\n      , first  = toIndex(start, len)\n      , final  = toIndex(end === undefined ? len : end, len)\n      , result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first))\n      , viewS  = new $DataView(this)\n      , viewT  = new $DataView(result)\n      , index  = 0;\n    while(first < final){\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\n__webpack_require__(44)(ARRAY_BUFFER);\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0);\n$export($export.G + $export.W + $export.F * !__webpack_require__(69).ABV, {\n  DataView: __webpack_require__(98).DataView\n});\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Int8', 1, function(init){\n  return function Int8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Uint8', 1, function(init){\n  return function Uint8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Uint8', 1, function(init){\n  return function Uint8ClampedArray(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Int16', 2, function(init){\n  return function Int16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Uint16', 2, function(init){\n  return function Uint16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Int32', 4, function(init){\n  return function Int32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Uint32', 4, function(init){\n  return function Uint32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Float32', 4, function(init){\n  return function Float32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(31)('Float64', 8, function(init){\n  return function Float64Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export   = __webpack_require__(0)\n  , aFunction = __webpack_require__(16)\n  , anObject  = __webpack_require__(2)\n  , rApply    = (__webpack_require__(4).Reflect || {}).apply\n  , fApply    = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !__webpack_require__(5)(function(){\n  rApply(function(){});\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList){\n    var T = aFunction(target)\n      , L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export    = __webpack_require__(0)\n  , create     = __webpack_require__(42)\n  , aFunction  = __webpack_require__(16)\n  , anObject   = __webpack_require__(2)\n  , isObject   = __webpack_require__(6)\n  , fails      = __webpack_require__(5)\n  , bind       = __webpack_require__(112)\n  , rConstruct = (__webpack_require__(4).Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function(){\n  function F(){}\n  return !(rConstruct(function(){}, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function(){\n  rConstruct(function(){});\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /*, newTarget*/){\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if(ARGS_BUG && !NEW_TARGET_BUG)return rConstruct(Target, args, newTarget);\n    if(Target == newTarget){\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch(args.length){\n        case 0: return new Target;\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args));\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto    = newTarget.prototype\n      , instance = create(isObject(proto) ? proto : Object.prototype)\n      , result   = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP          = __webpack_require__(9)\n  , $export     = __webpack_require__(0)\n  , anObject    = __webpack_require__(2)\n  , toPrimitive = __webpack_require__(25);\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * __webpack_require__(5)(function(){\n  Reflect.defineProperty(dP.f({}, 1, {value: 1}), 1, {value: 2});\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes){\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export  = __webpack_require__(0)\n  , gOPD     = __webpack_require__(19).f\n  , anObject = __webpack_require__(2);\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey){\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 26.1.5 Reflect.enumerate(target)\nvar $export  = __webpack_require__(0)\n  , anObject = __webpack_require__(2);\nvar Enumerate = function(iterated){\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = []       // keys\n    , key;\n  for(key in iterated)keys.push(key);\n};\n__webpack_require__(87)(Enumerate, 'Object', function(){\n  var that = this\n    , keys = that._k\n    , key;\n  do {\n    if(that._i >= keys.length)return {value: undefined, done: true};\n  } while(!((key = keys[that._i++]) in that._t));\n  return {value: key, done: false};\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target){\n    return new Enumerate(target);\n  }\n});\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD           = __webpack_require__(19)\n  , getPrototypeOf = __webpack_require__(20)\n  , has            = __webpack_require__(13)\n  , $export        = __webpack_require__(0)\n  , isObject       = __webpack_require__(6)\n  , anObject       = __webpack_require__(2);\n\nfunction get(target, propertyKey/*, receiver*/){\n  var receiver = arguments.length < 3 ? target : arguments[2]\n    , desc, proto;\n  if(anObject(target) === receiver)return target[propertyKey];\n  if(desc = gOPD.f(target, propertyKey))return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if(isObject(proto = getPrototypeOf(target)))return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', {get: get});\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD     = __webpack_require__(19)\n  , $export  = __webpack_require__(0)\n  , anObject = __webpack_require__(2);\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey){\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export  = __webpack_require__(0)\n  , getProto = __webpack_require__(20)\n  , anObject = __webpack_require__(2);\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target){\n    return getProto(anObject(target));\n  }\n});\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey){\n    return propertyKey in target;\n  }\n});\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.10 Reflect.isExtensible(target)\nvar $export       = __webpack_require__(0)\n  , anObject      = __webpack_require__(2)\n  , $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target){\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.11 Reflect.ownKeys(target)\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Reflect', {ownKeys: __webpack_require__(128)});\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.12 Reflect.preventExtensions(target)\nvar $export            = __webpack_require__(0)\n  , anObject           = __webpack_require__(2)\n  , $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target){\n    anObject(target);\n    try {\n      if($preventExtensions)$preventExtensions(target);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP             = __webpack_require__(9)\n  , gOPD           = __webpack_require__(19)\n  , getPrototypeOf = __webpack_require__(20)\n  , has            = __webpack_require__(13)\n  , $export        = __webpack_require__(0)\n  , createDesc     = __webpack_require__(34)\n  , anObject       = __webpack_require__(2)\n  , isObject       = __webpack_require__(6);\n\nfunction set(target, propertyKey, V/*, receiver*/){\n  var receiver = arguments.length < 4 ? target : arguments[3]\n    , ownDesc  = gOPD.f(anObject(target), propertyKey)\n    , existingDescriptor, proto;\n  if(!ownDesc){\n    if(isObject(proto = getPrototypeOf(target))){\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if(has(ownDesc, 'value')){\n    if(ownDesc.writable === false || !isObject(receiver))return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', {set: set});\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export  = __webpack_require__(0)\n  , setProto = __webpack_require__(79);\n\nif(setProto)$export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto){\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/tc39/Array.prototype.includes\nvar $export   = __webpack_require__(0)\n  , $includes = __webpack_require__(61)(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /*, fromIndex = 0 */){\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n__webpack_require__(52)('includes');\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = __webpack_require__(0)\n  , $at     = __webpack_require__(85)(true);\n\n$export($export.P, 'String', {\n  at: function at(pos){\n    return $at(this, pos);\n  }\n});\n\n/***/ }),\n/* 316 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = __webpack_require__(0)\n  , $pad    = __webpack_require__(129);\n\n$export($export.P, 'String', {\n  padStart: function padStart(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n\n/***/ }),\n/* 317 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = __webpack_require__(0)\n  , $pad    = __webpack_require__(129);\n\n$export($export.P, 'String', {\n  padEnd: function padEnd(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n\n/***/ }),\n/* 318 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\n__webpack_require__(50)('trimLeft', function($trim){\n  return function trimLeft(){\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n\n/***/ }),\n/* 319 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\n__webpack_require__(50)('trimRight', function($trim){\n  return function trimRight(){\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n\n/***/ }),\n/* 320 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export     = __webpack_require__(0)\n  , defined     = __webpack_require__(23)\n  , toLength    = __webpack_require__(11)\n  , isRegExp    = __webpack_require__(64)\n  , getFlags    = __webpack_require__(66)\n  , RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function(regexp, string){\n  this._r = regexp;\n  this._s = string;\n};\n\n__webpack_require__(87)($RegExpStringIterator, 'RegExp String', function next(){\n  var match = this._r.exec(this._s);\n  return {value: match, done: match === null};\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp){\n    defined(this);\n    if(!isRegExp(regexp))throw TypeError(regexp + ' is not a regexp!');\n    var S     = String(this)\n      , flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp)\n      , rx    = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n\n/***/ }),\n/* 321 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(74)('asyncIterator');\n\n/***/ }),\n/* 322 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(74)('observable');\n\n/***/ }),\n/* 323 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export        = __webpack_require__(0)\n  , ownKeys        = __webpack_require__(128)\n  , toIObject      = __webpack_require__(17)\n  , gOPD           = __webpack_require__(19)\n  , createProperty = __webpack_require__(91);\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object){\n    var O       = toIObject(object)\n      , getDesc = gOPD.f\n      , keys    = ownKeys(O)\n      , result  = {}\n      , i       = 0\n      , key;\n    while(keys.length > i)createProperty(result, key = keys[i++], getDesc(O, key));\n    return result;\n  }\n});\n\n/***/ }),\n/* 324 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/tc39/proposal-object-values-entries\nvar $export = __webpack_require__(0)\n  , $values = __webpack_require__(130)(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n\n/***/ }),\n/* 325 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/tc39/proposal-object-values-entries\nvar $export  = __webpack_require__(0)\n  , $entries = __webpack_require__(130)(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it){\n    return $entries(it);\n  }\n});\n\n/***/ }),\n/* 326 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export         = __webpack_require__(0)\n  , toObject        = __webpack_require__(12)\n  , aFunction       = __webpack_require__(16)\n  , $defineProperty = __webpack_require__(9);\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\n__webpack_require__(8) && $export($export.P + __webpack_require__(70), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter){\n    $defineProperty.f(toObject(this), P, {get: aFunction(getter), enumerable: true, configurable: true});\n  }\n});\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export         = __webpack_require__(0)\n  , toObject        = __webpack_require__(12)\n  , aFunction       = __webpack_require__(16)\n  , $defineProperty = __webpack_require__(9);\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\n__webpack_require__(8) && $export($export.P + __webpack_require__(70), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter){\n    $defineProperty.f(toObject(this), P, {set: aFunction(setter), enumerable: true, configurable: true});\n  }\n});\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export                  = __webpack_require__(0)\n  , toObject                 = __webpack_require__(12)\n  , toPrimitive              = __webpack_require__(25)\n  , getPrototypeOf           = __webpack_require__(20)\n  , getOwnPropertyDescriptor = __webpack_require__(19).f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\n__webpack_require__(8) && $export($export.P + __webpack_require__(70), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.get;\n    } while(O = getPrototypeOf(O));\n  }\n});\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $export                  = __webpack_require__(0)\n  , toObject                 = __webpack_require__(12)\n  , toPrimitive              = __webpack_require__(25)\n  , getPrototypeOf           = __webpack_require__(20)\n  , getOwnPropertyDescriptor = __webpack_require__(19).f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\n__webpack_require__(8) && $export($export.P + __webpack_require__(70), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.set;\n    } while(O = getPrototypeOf(O));\n  }\n});\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = __webpack_require__(0);\n\n$export($export.P + $export.R, 'Map', {toJSON: __webpack_require__(131)('Map')});\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = __webpack_require__(0);\n\n$export($export.P + $export.R, 'Set', {toJSON: __webpack_require__(131)('Set')});\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/ljharb/proposal-global\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'System', {global: __webpack_require__(4)});\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/ljharb/proposal-is-error\nvar $export = __webpack_require__(0)\n  , cof     = __webpack_require__(22);\n\n$export($export.S, 'Error', {\n  isError: function isError(it){\n    return cof(it) === 'Error';\n  }\n});\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n\n/***/ }),\n/* 336 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >> 16\n      , v1 = $v >> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n\n/***/ }),\n/* 337 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = __webpack_require__(0);\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >>> 16\n      , v1 = $v >>> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n\n/***/ }),\n/* 338 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata                  = __webpack_require__(32)\n  , anObject                  = __webpack_require__(2)\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey){\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n}});\n\n/***/ }),\n/* 339 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata               = __webpack_require__(32)\n  , anObject               = __webpack_require__(2)\n  , toMetaKey              = metadata.key\n  , getOrCreateMetadataMap = metadata.map\n  , store                  = metadata.store;\n\nmetadata.exp({deleteMetadata: function deleteMetadata(metadataKey, target /*, targetKey */){\n  var targetKey   = arguments.length < 3 ? undefined : toMetaKey(arguments[2])\n    , metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if(metadataMap === undefined || !metadataMap['delete'](metadataKey))return false;\n  if(metadataMap.size)return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n}});\n\n/***/ }),\n/* 340 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata               = __webpack_require__(32)\n  , anObject               = __webpack_require__(2)\n  , getPrototypeOf         = __webpack_require__(20)\n  , ordinaryHasOwnMetadata = metadata.has\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nvar ordinaryGetMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({getMetadata: function getMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n/***/ }),\n/* 341 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Set                     = __webpack_require__(125)\n  , from                    = __webpack_require__(132)\n  , metadata                = __webpack_require__(32)\n  , anObject                = __webpack_require__(2)\n  , getPrototypeOf          = __webpack_require__(20)\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nvar ordinaryMetadataKeys = function(O, P){\n  var oKeys  = ordinaryOwnMetadataKeys(O, P)\n    , parent = getPrototypeOf(O);\n  if(parent === null)return oKeys;\n  var pKeys  = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({getMetadataKeys: function getMetadataKeys(target /*, targetKey */){\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n\n/***/ }),\n/* 342 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata               = __webpack_require__(32)\n  , anObject               = __webpack_require__(2)\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({getOwnMetadata: function getOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n/***/ }),\n/* 343 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata                = __webpack_require__(32)\n  , anObject                = __webpack_require__(2)\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nmetadata.exp({getOwnMetadataKeys: function getOwnMetadataKeys(target /*, targetKey */){\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n\n/***/ }),\n/* 344 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata               = __webpack_require__(32)\n  , anObject               = __webpack_require__(2)\n  , getPrototypeOf         = __webpack_require__(20)\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nvar ordinaryHasMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({hasMetadata: function hasMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n/***/ }),\n/* 345 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata               = __webpack_require__(32)\n  , anObject               = __webpack_require__(2)\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({hasOwnMetadata: function hasOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n/***/ }),\n/* 346 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar metadata                  = __webpack_require__(32)\n  , anObject                  = __webpack_require__(2)\n  , aFunction                 = __webpack_require__(16)\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({metadata: function metadata(metadataKey, metadataValue){\n  return function decorator(target, targetKey){\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n}});\n\n/***/ }),\n/* 347 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export   = __webpack_require__(0)\n  , microtask = __webpack_require__(97)()\n  , process   = __webpack_require__(4).process\n  , isNode    = __webpack_require__(22)(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn){\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n\n/***/ }),\n/* 348 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/zenparsing/es-observable\nvar $export     = __webpack_require__(0)\n  , global      = __webpack_require__(4)\n  , core        = __webpack_require__(29)\n  , microtask   = __webpack_require__(97)()\n  , OBSERVABLE  = __webpack_require__(7)('observable')\n  , aFunction   = __webpack_require__(16)\n  , anObject    = __webpack_require__(2)\n  , anInstance  = __webpack_require__(45)\n  , redefineAll = __webpack_require__(46)\n  , hide        = __webpack_require__(14)\n  , forOf       = __webpack_require__(53)\n  , RETURN      = forOf.RETURN;\n\nvar getMethod = function(fn){\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function(subscription){\n  var cleanup = subscription._c;\n  if(cleanup){\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function(subscription){\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function(subscription){\n  if(!subscriptionClosed(subscription)){\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function(observer, subscriber){\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup      = subscriber(observer)\n      , subscription = cleanup;\n    if(cleanup != null){\n      if(typeof cleanup.unsubscribe === 'function')cleanup = function(){ subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch(e){\n    observer.error(e);\n    return;\n  } if(subscriptionClosed(this))cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe(){ closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function(subscription){\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if(m)return m.call(observer, value);\n      } catch(e){\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value){\n    var subscription = this._s;\n    if(subscriptionClosed(subscription))throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if(!m)throw value;\n      value = m.call(observer, value);\n    } catch(e){\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch(e){\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber){\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer){\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn){\n    var that = this;\n    return new (core.Promise || global.Promise)(function(resolve, reject){\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next : function(value){\n          try {\n            return fn(value);\n          } catch(e){\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x){\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if(method){\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function(observer){\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          try {\n            if(forOf(x, false, function(it){\n              observer.next(it);\n              if(done)return RETURN;\n            }) === RETURN)return;\n          } catch(e){\n            if(done)throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  },\n  of: function of(){\n    for(var i = 0, l = arguments.length, items = Array(l); i < l;)items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          for(var i = 0; i < items.length; ++i){\n            observer.next(items[i]);\n            if(done)return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function(){ return this; });\n\n$export($export.G, {Observable: $Observable});\n\n__webpack_require__(44)('Observable');\n\n/***/ }),\n/* 349 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// ie9- setTimeout & setInterval additional parameters fix\nvar global     = __webpack_require__(4)\n  , $export    = __webpack_require__(0)\n  , invoke     = __webpack_require__(63)\n  , partial    = __webpack_require__(350)\n  , navigator  = global.navigator\n  , MSIE       = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\nvar wrap = function(set){\n  return MSIE ? function(fn, time /*, ...args */){\n    return set(invoke(\n      partial,\n      [].slice.call(arguments, 2),\n      typeof fn == 'function' ? fn : Function(fn)\n    ), time);\n  } : set;\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout:  wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n\n/***/ }),\n/* 350 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar path      = __webpack_require__(351)\n  , invoke    = __webpack_require__(63)\n  , aFunction = __webpack_require__(16);\nmodule.exports = function(/* ...pargs */){\n  var fn     = aFunction(this)\n    , length = arguments.length\n    , pargs  = Array(length)\n    , i      = 0\n    , _      = path._\n    , holder = false;\n  while(length > i)if((pargs[i] = arguments[i++]) === _)holder = true;\n  return function(/* ...args */){\n    var that = this\n      , aLen = arguments.length\n      , j = 0, k = 0, args;\n    if(!holder && !aLen)return invoke(fn, pargs, that);\n    args = pargs.slice();\n    if(holder)for(;length > j; j++)if(args[j] === _)args[j] = arguments[k++];\n    while(aLen > k)args.push(arguments[k++]);\n    return invoke(fn, args, that);\n  };\n};\n\n/***/ }),\n/* 351 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(4);\n\n/***/ }),\n/* 352 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(0)\n  , $task   = __webpack_require__(96);\n$export($export.G + $export.B, {\n  setImmediate:   $task.set,\n  clearImmediate: $task.clear\n});\n\n/***/ }),\n/* 353 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $iterators    = __webpack_require__(94)\n  , redefine      = __webpack_require__(15)\n  , global        = __webpack_require__(4)\n  , hide          = __webpack_require__(14)\n  , Iterators     = __webpack_require__(51)\n  , wks           = __webpack_require__(7)\n  , ITERATOR      = wks('iterator')\n  , TO_STRING_TAG = wks('toStringTag')\n  , ArrayValues   = Iterators.Array;\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype\n    , key;\n  if(proto){\n    if(!proto[ITERATOR])hide(proto, ITERATOR, ArrayValues);\n    if(!proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    for(key in $iterators)if(!proto[key])redefine(proto, key, $iterators[key], true);\n  }\n}\n\n/***/ }),\n/* 354 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(72)))\n\n/***/ }),\n/* 355 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(356);\nmodule.exports = __webpack_require__(29).RegExp.escape;\n\n/***/ }),\n/* 356 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/benjamingr/RexExp.escape\nvar $export = __webpack_require__(0)\n  , $re     = __webpack_require__(357)(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', {escape: function escape(it){ return $re(it); }});\n\n\n/***/ }),\n/* 357 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(regExp, replace){\n  var replacer = replace === Object(replace) ? function(part){\n    return replace[part];\n  } : replace;\n  return function(it){\n    return String(it).replace(regExp, replacer);\n  };\n};\n\n/***/ }),\n/* 358 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _requireAll = __webpack_require__(99);\n\nvar _requireAll2 = _interopRequireDefault(_requireAll);\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _tool = __webpack_require__(133);\n\nvar _tool2 = _interopRequireDefault(_tool);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _model = __webpack_require__(47);\n\nvar _model2 = _interopRequireDefault(_model);\n\nvar _reader = __webpack_require__(71);\n\nvar _reader2 = _interopRequireDefault(_reader);\n\nvar _events = __webpack_require__(48);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _globals = __webpack_require__(102);\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _iconset = __webpack_require__(21);\n\nvar iconset = _interopRequireWildcard(_iconset);\n\nvar _d = __webpack_require__(145);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _d3 = __webpack_require__(146);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Vzb = function Vzb(name, placeholder, external_model) {\n  var tool = _tool2.default.get(name);\n  if (tool) {\n    var t = new tool(placeholder, external_model);\n    Vzb._instances[t._id] = t;\n    return t;\n  }\n  utils.error('Tool \"' + name + '\" was not found.');\n};\n\n//stores reference to each tool on the page\nVzb._instances = {};\n//stores global variables accessible by any tool or component\nVzb._globals = _globals2.default;\n\n//TODO: clear all objects and intervals as well\n//garbage collection\nVzb.clearInstances = function (id) {\n  if (id) {\n    Vzb._instances[id] = void 0;\n  } else {\n    for (var i in Vzb._instances) {\n      Vzb._instances[i].clear();\n    }\n    Vzb._instances = {};\n  }\n};\n\n//available readers = all\nvar readers = (0, _requireAll2.default)(__webpack_require__(363));\n\n//register available readers\nutils.forEach(readers, function (reader, name) {\n  _reader2.default.register(name, reader);\n});\n\nvar components = (0, _requireAll2.default)(__webpack_require__(367), 1);\n\n//register available components\nutils.forEach(components, function (component, name) {\n  _component2.default.register(name, component);\n});\n\n(0, _requireAll2.default)(__webpack_require__(395));\n\nVzb.helpers = (0, _requireAll2.default)(__webpack_require__(396));\nVzb.iconset = iconset;\n\n//d3 addons\n\n//import * as touchFixes from 'helpers/d3.touchFixes';\n\n//d3 v3 -> v4\n\n// Copies a variable number of methods from source to target.\nd3.rebind = function (target, source) {\n  var i = 1,\n      method = void 0;\n  var n = arguments.length;\n  while (++i < n) {\n    target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n  }return target;\n};\n\n// Method is assumed to be a standard D3 getter-setter:\n// If passed with no arguments, gets the value.\n// If passed with arguments, sets the value and returns the target.\nfunction d3_rebind(target, source, method) {\n  return function () {\n    var value = method.apply(source, arguments);\n    return value === source ? target : value;\n  };\n}\n\nd3.time = {};\nd3.time.scale = d3.scaleTime;\nd3.time.scale.utc = d3.scaleUtc;\nd3.time.format = function (f) {\n  var format = d3.timeFormat(f);\n  format.parse = d3.timeParse(f);\n  return format;\n};\nd3.time.format.utc = function (f) {\n  var format = d3.utcFormat(f);\n  format.parse = d3.utcParse(f);\n  return format;\n};\nd3.time.format.iso = function (f) {\n  var format = d3.isoFormat(f);\n  format.parse = d3.isoParse(f);\n  return format;\n};\n\nd3.scaleGenericlog = _d2.default;\nd3.selection.prototype.onTap = _d3.onTap;\nd3.selection.prototype.onLongTap = _d3.onLongTap;\n\n//TODO: Fix for scroll on mobile chrome on d3 v3.5.17. It must be retested/removed on d3 v4.x.x\n//see explanation here https://github.com/vizabi/vizabi/issues/2020#issuecomment-250205191\n//d3.svg.brush = touchFixes.brush;\n//d3.drag = touchFixes.drag;\n//d3.behavior.zoom = touchFixes.zoom;\n\n//makes all objects accessible\nVzb.Class = _class2.default;\nVzb.Tool = _tool2.default;\nVzb.Component = _component2.default;\nVzb.Model = _model2.default;\nVzb.Reader = _reader2.default;\nVzb.Events = _events2.default;\nVzb.utils = utils;\n\nexports.default = Vzb;\n\n/***/ }),\n/* 359 */\n/***/ (function(module, exports) {\n\n/*\n * A collection of interpolators\n * @param {Number} x1, x2, y1, y2 - boundary points\n * @param {Number} x - point of interpolation\n * @return {Number} y - interpolated value\n */\n//\nmodule.exports = {\n    linear: function(x1, x2, y1, y2, x) {\n      return +y1 + (x - x1) / (x2 - x1) * (y2 - y1);\n    },\n    exp: function(x1, x2, y1, y2, x) {\n      return Math.exp((Math.log(y1) * (x2 - x) - Math.log(y2) * (x1 - x)) / (x2 - x1));\n    },\n    stepBefore: function(x1, x2, y1, y2, x) {\n        return y2;\n    },\n    stepAfter: function(x1, x2, y1, y2, x) {\n        return y1;\n    },\n    stepMiddle: function(x1, x2, y1, y2, x) {\n        return (x < (x1 + x2)/2) ? y1 : y2;\n    }\n};\n\n\n/***/ }),\n/* 360 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Intervals = _class2.default.extend({\n\n  /**\n   * Initializes intervals\n   */\n  init: function init() {\n    this.intervals = {};\n  },\n\n\n  /**\n   * Sets an interval\n   * @param {String} name name of interval\n   * @param {Function} func function to be executed\n   * @param {Number} duration duration in milliseconds\n   */\n  setInterval: function (_setInterval) {\n    function setInterval(_x, _x2, _x3) {\n      return _setInterval.apply(this, arguments);\n    }\n\n    setInterval.toString = function () {\n      return _setInterval.toString();\n    };\n\n    return setInterval;\n  }(function (name, func, duration) {\n    this.clearInterval(name);\n    this.intervals[name] = setInterval(func, duration);\n  }),\n\n\n  /**\n   * Clears an interval\n   * @param {String} name name of interval to be removed\n   */\n  clearInterval: function (_clearInterval) {\n    function clearInterval(_x4) {\n      return _clearInterval.apply(this, arguments);\n    }\n\n    clearInterval.toString = function () {\n      return _clearInterval.toString();\n    };\n\n    return clearInterval;\n  }(function (name) {\n    if (name) {\n      if (this.intervals[name]) {\n        clearInterval(this.intervals[name]);\n        delete this.intervals[name];\n      }\n    } else {\n      this.clearAllIntervals();\n    }\n  }),\n\n\n  /**\n   * Clears all intervals\n   */\n  clearAllIntervals: function clearAllIntervals() {\n    for (var i in this.intervals) {\n      this.clearInterval(i);\n    }\n  }\n});\n\nexports.default = Intervals;\n\n/***/ }),\n/* 361 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./axis\": 100,\n\t\"./axis.js\": 100,\n\t\"./color\": 134,\n\t\"./color.js\": 134,\n\t\"./data\": 101,\n\t\"./data.js\": 101,\n\t\"./dataconnected\": 54,\n\t\"./dataconnected.js\": 54,\n\t\"./entities\": 135,\n\t\"./entities.js\": 135,\n\t\"./group\": 136,\n\t\"./group.js\": 136,\n\t\"./hook\": 37,\n\t\"./hook.js\": 37,\n\t\"./label\": 137,\n\t\"./label.js\": 137,\n\t\"./locale\": 138,\n\t\"./locale.js\": 138,\n\t\"./marker\": 139,\n\t\"./marker.js\": 139,\n\t\"./side\": 140,\n\t\"./side.js\": 140,\n\t\"./size\": 141,\n\t\"./size.js\": 141,\n\t\"./stack\": 142,\n\t\"./stack.js\": 142,\n\t\"./time\": 143,\n\t\"./time.js\": 143,\n\t\"./ui\": 144,\n\t\"./ui.js\": 144\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 361;\n\n/***/ }),\n/* 362 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataStorage = exports.Storage = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _getQueryId(query, path) {\n  return utils.hashCode([query.select.key, query.where, query.join, query.dataset, query.version, query.language, path]);\n}\n\nvar Storage = exports.Storage = function () {\n  function Storage() {\n    _classCallCheck(this, Storage);\n\n    this.queryIds = {};\n    this.queries = {};\n    this._collection = {};\n    this._collectionPromises = {}; // stores promises, making sure we don't do one calulation twice\n  }\n\n  /**\n   * Loads resource from reader\n   * @param {Array} query Array with queries to be loaded\n   * @param {Object} parsers An object with concepts as key and parsers as value\n   * @param {Object} readerObject for this query\n   */\n\n\n  _createClass(Storage, [{\n    key: \"loadFromReader\",\n    value: function loadFromReader(query, parsers, readerObject) {\n      var _this = this;\n      var queryMergeId = _getQueryId(query, readerObject._basepath);\n\n      if (!this.queries[queryMergeId]) {\n        this.queries[queryMergeId] = this.queryQueue(readerObject, queryMergeId);\n      }\n      return this.queries[queryMergeId].getPromise(query, parsers);\n    }\n  }, {\n    key: \"getDataId\",\n    value: function getDataId(query, readerObject) {\n      var queryMergeId = _getQueryId(query, readerObject._basepath);\n      if (this.queries[queryMergeId]) {\n        return this.queries[queryMergeId].getDataId(query);\n      }\n      return false;\n    }\n  }, {\n    key: \"queryQueue\",\n    value: function queryQueue(readerObject, queryMergeId) {\n      var _context = this;\n      return new function () {\n        this.readerObject = readerObject;\n        this.queries = [];\n        this.query = null;\n        this.parsers = null;\n        this.defer = {};\n        this.getPromise = function (query, parsers) {\n          var _this2 = this;\n\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            var _loop = function _loop() {\n              var reader = _step.value;\n\n              if (query.select.value.filter(function (x) {\n                return reader.query.select.value.indexOf(x) == -1;\n              }).length == 0) {\n                //check if this query have all needed values\n                return {\n                  v: reader.defer.promise\n                };\n              }\n            };\n\n            for (var _iterator = this.queries[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var _ret = _loop();\n\n              if ((typeof _ret === \"undefined\" ? \"undefined\" : _typeof(_ret)) === \"object\") return _ret.v;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          if (!this.query) {\n            this.query = query;\n            this.parsers = parsers;\n          } else {\n            this.query.select.value = utils.unique(this.query.select.value.concat(query.select.value));\n            utils.extend(this.parsers, parsers);\n          }\n          utils.debounce(function () {\n            _this2.runQuery();\n          }, 10)();\n          if (!this.defer.promise || !(this.defer.promise instanceof Promise)) {\n            this.defer.promise = new Promise(function (resolve, reject) {\n              _this2.defer.resolve = resolve;\n              _this2.defer.reject = reject;\n            });\n          }\n          return this.defer.promise;\n        };\n        this.runQuery = function () {\n          if (this.query) {\n            this.queries.push(this.reader(this.query, this.parsers, this.defer));\n            this.query = null;\n            this.parsers = null;\n            this.defer = {};\n          }\n        };\n\n        this.getDataId = function (query) {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            var _loop2 = function _loop2() {\n              var reader = _step2.value;\n\n              if (query.select.value.filter(function (x) {\n                return reader.query.select.value.indexOf(x) == -1;\n              }).length == 0 && reader.dataId) {\n                //check if this query have all needed values\n                return {\n                  v: reader.dataId\n                };\n              }\n            };\n\n            for (var _iterator2 = this.queries[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var _ret2 = _loop2();\n\n              if ((typeof _ret2 === \"undefined\" ? \"undefined\" : _typeof(_ret2)) === \"object\") return _ret2.v;\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          return false;\n        };\n\n        this.reader = function (query, parsers, defer) {\n          var _queue = this;\n          return new function () {\n            var _this3 = this;\n\n            this.defer = defer;\n            this.query = query;\n            this.parsers = parsers;\n            this.dataId = null;\n            _queue.readerObject.read(this.query, this.parsers).then(function (response) {\n              //success reading\n              _this3.checkQueryResponse(query, response);\n              _this3.dataId = utils.hashCode([query, _queue.readerObject._basepath]);\n              _context._collection[_this3.dataId] = {};\n              _context._collectionPromises[_this3.dataId] = {};\n              var col = _context._collection[_this3.dataId];\n              col.data = response;\n              col.valid = {};\n              col.nested = {};\n              col.unique = {};\n              col.limits = {};\n              col.frames = {};\n              col.haveNoDataPointsPerKey = {};\n              col.query = query;\n              _this3.defer.resolve(_this3.dataId);\n            }).catch(function (err) {\n              _this3.defer.reject(err);\n            });\n\n            this.checkQueryResponse = function (query, response) {\n              if (response.length == 0) utils.warn(\"Reader for data source '\" + this._name + \"' returned empty array for query:\", JSON.stringify(query, null, 2));\n\n              if (response.length > 0) {\n                // search data for the entirely missing columns\n                var columnsMissing = (query.select.key || []).concat(query.select.value || []);\n                for (var i = response.length - 1; i >= 0; i--) {\n                  for (var c = columnsMissing.length - 1; c >= 0; c--) {\n                    // if found value for column c in row i then remove that column name from the list of missing columns\n                    if (response[i][columnsMissing[c]] || response[i][columnsMissing[c]] === 0) columnsMissing.splice(c, 1);\n                  }\n                  // all columns were found to have value in at least one of the rows then stop iterating\n                  if (!columnsMissing.length) break;\n                }\n                columnsMissing.forEach(function (d) {\n                  if (query.select.key.indexOf(d) == -1) {\n                    utils.warn('Reader result: Column \"' + d + '\" is missing from \"' + query.from + '\" data, but it might be ok');\n                  } else {\n                    utils.error('Reader result: Key column \"' + d + '\" is missing from \"' + query.from + '\" data for query:', JSON.stringify(query));\n                    console.log(response);\n                  }\n                });\n              }\n            };\n          }();\n        };\n      }();\n    }\n  }, {\n    key: \"setGrouping\",\n    value: function setGrouping(dataId, grouping) {\n      this._collection[dataId].grouping = grouping;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData(dataId, what, whatId, args) {\n      // if they want data, return the data\n      if (!what || what == \"data\") {\n        return this._collection[dataId][\"data\"];\n      }\n      if (what == \"query\") {\n        return this._collection[dataId][\"query\"];\n      }\n      // if they didn't give an instruction, give them the whole thing\n      // it's probably old code which modifies the data outside this class\n      // TODO: move these methods inside (e.g. model.getNestedItems())\n      if (!whatId) {\n        return this._collection[dataId][what];\n      }\n\n      // if they want a certain processing of the data, see if it's already in cache\n      var id = typeof whatId === \"string\" ? whatId : JSON.stringify(whatId);\n      if (this._collection[dataId][what][id]) {\n        return this._collection[dataId][what][id];\n      }\n\n      // if it's not cached, process the data and then return it\n      switch (what) {\n        case \"unique\":\n          this._collection[dataId][what][id] = this._getUnique(dataId, whatId);\n          break;\n        case \"valid\":\n          this._collection[dataId][what][id] = this._getValid(dataId, whatId);\n          break;\n        case \"limits\":\n          this._collection[dataId][what][id] = this._getLimits(dataId, whatId);\n          break;\n        case \"nested\":\n          this._collection[dataId][what][id] = this._getNested(dataId, whatId);\n          break;\n        case \"haveNoDataPointsPerKey\":\n          //do nothing. no caching is available for this option, served directly from collection\n          break;\n      }\n      return this._collection[dataId][what][id];\n    }\n  }, {\n    key: \"_getValid\",\n    value: function _getValid(dataId, column) {\n      return this._collection[dataId].data.filter(function (f) {\n        return f[column] || f[column] === 0;\n      });\n    }\n  }, {\n    key: \"_getLimits\",\n    value: function _getLimits(dataId, attr) {\n\n      var items = this._collection[dataId].data;\n      // get only column attr and only rows with number or date\n      var filtered = items.reduce(function (filtered, d) {\n\n        // check for dates\n        var f = utils.isDate(d[attr]) ? d[attr] : parseFloat(d[attr]);\n\n        // if it is a number\n        if (!isNaN(f)) {\n          filtered.push(f);\n        }\n\n        //filter\n        return filtered;\n      }, []);\n\n      // get min/max for the filtered rows\n      var min = void 0;\n      var max = void 0;\n      var limits = {};\n      for (var i = 0; i < filtered.length; i += 1) {\n        var c = filtered[i];\n        if (typeof min === \"undefined\" || c < min) {\n          min = c;\n        }\n        if (typeof max === \"undefined\" || c > max) {\n          max = c;\n        }\n      }\n      limits.min = min || 0;\n      limits.max = max || 100;\n      return limits;\n    }\n  }, {\n    key: \"_getUnique\",\n    value: function _getUnique(dataId, attr) {\n      var uniq = void 0;\n      var items = this._collection[dataId].data;\n      // if it's an array, it will return a list of unique combinations.\n      if (utils.isArray(attr)) {\n        var values = items.map(function (d) {\n          return utils.clone(d, attr);\n        }); // pick attrs\n        uniq = utils.unique(values, function (n) {\n          return JSON.stringify(n);\n        });\n      } // if it's a string, it will return a list of values\n      else {\n          var _values = items.map(function (d) {\n            return d[attr];\n          });\n          uniq = utils.unique(_values);\n        }\n      return uniq;\n    }\n  }, {\n    key: \"_getNested\",\n    value: function _getNested(dataId, order) {\n      // Nests are objects of key-value pairs\n      // Example:\n      //\n      // order = [\"geo\", \"time\"];\n      //\n      // original_data = [\n      //   { geo: \"afg\", time: 1800, gdp: 23424, lex: 23}\n      //   { geo: \"afg\", time: 1801, gdp: 23424, lex: null}\n      //   { geo: \"chn\", time: 1800, gdp: 23587424, lex: 46}\n      //   { geo: \"chn\", time: 1801, gdp: null, lex: null}\n      // ];\n      //\n      // nested_data = {\n      //   afg: {\n      //     1800: {gdp: 23424, lex: 23},\n      //     1801: {gdp: 23424, lex: null}\n      //   }\n      //   chn: {\n      //     1800: {gdp: 23587424, lex: 46 },\n      //     1801: {gdp: null, lex: null }\n      //   }\n      // };\n\n      var nest = d3.nest();\n      for (var i = 0; i < order.length; i++) {\n        nest = nest.key(function (k) {\n          return function (d) {\n            return d[k];\n          };\n        }(order[i]));\n      }\n\n      return utils.nestArrayToObj(nest.entries(this._collection[dataId][\"data\"]));\n    }\n  }, {\n    key: \"getFrames\",\n    value: function getFrames(dataId, framesArray, keys, conceptprops) {\n      var _this = this;\n      var whatId = this._getCacheKey(dataId, framesArray, keys);\n      if (!this._collectionPromises[dataId][whatId]) {\n        this._collectionPromises[dataId][whatId] = {\n          queue: this.framesQueue(framesArray, whatId),\n          promise: null\n        };\n      }\n      if (this._collectionPromises[dataId][whatId] && this._collectionPromises[dataId][whatId][\"promise\"] instanceof Promise) {\n        return this._collectionPromises[dataId][whatId][\"promise\"];\n      }\n\n      this._collectionPromises[dataId][whatId][\"promise\"] = new Promise(function (resolve, reject) {\n        if (!dataId) reject(utils.warn(\"Data.js 'get' method doesn't like the dataId you gave it: \" + dataId));\n        _this._getFrames(dataId, whatId, framesArray, keys, conceptprops).then(function (frames) {\n          _this._collection[dataId][\"frames\"][whatId] = frames;\n          resolve(_this._collection[dataId][\"frames\"][whatId]);\n        });\n      });\n\n      return this._collectionPromises[dataId][whatId][\"promise\"];\n    }\n  }, {\n    key: \"getFrame\",\n    value: function getFrame(dataId, framesArray, neededFrame, keys) {\n      var _this = this;\n      var whatId = this._getCacheKey(dataId, framesArray, keys);\n      return new Promise(function (resolve, reject) {\n        if (_this._collection[dataId][\"frames\"][whatId] && _this._collection[dataId][\"frames\"][whatId][neededFrame]) {\n          resolve(_this._collection[dataId][\"frames\"][whatId]);\n        } else {\n          _this._collectionPromises[dataId][whatId][\"queue\"].forceFrame(neededFrame, function () {\n            resolve(_this._collection[dataId][\"frames\"][whatId]);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"listenFrame\",\n    value: function listenFrame(dataId, framesArray, keys, cb) {\n      var whatId = this._getCacheKey(dataId, framesArray, keys);\n      this._collectionPromises[dataId][whatId][\"queue\"].defaultCallbacks.push(function (time) {\n        cb(dataId, time);\n      });\n      if (this._collection[dataId][\"frames\"][whatId]) {\n        utils.forEach(this._collection[dataId][\"frames\"][whatId], function (frame, key) {\n          cb(dataId, new Date(key));\n        });\n      }\n    }\n  }, {\n    key: \"_muteAllQueues\",\n    value: function _muteAllQueues(except) {\n      utils.forEach(this._collectionPromises, function (queries, dataId) {\n        utils.forEach(queries, function (promise, whatId) {\n          if (promise.queue.isActive == true && promise.queue.whatId != except) {\n            promise.queue.mute();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_checkForcedQueuesExists\",\n    value: function _checkForcedQueuesExists() {\n      utils.forEach(this._collectionPromises, function (queries, dataId) {\n        utils.forEach(queries, function (promise, whatId) {\n          if (promise.queue.forcedQueue.length > 0) {\n            promise.queue.unMute();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_unmuteQueue\",\n    value: function _unmuteQueue() {\n      utils.forEach(this._collectionPromises, function (queries, dataId) {\n        utils.forEach(queries, function (promise, whatId) {\n          if (promise.queue.isActive == false) {\n            promise.queue.unMute();\n          }\n        });\n      });\n    }\n\n    /**\n     * set priority for generate each year frame\n     * @param framesArray\n     * @param whatId\n     * @returns {*}\n     */\n\n  }, {\n    key: \"framesQueue\",\n    value: function framesQueue(framesArray, whatId) {\n      var _context = this;\n      return new function () {\n        this.defaultCallbacks = [];\n        this.callbacks = {};\n        this.forcedQueue = [];\n        this.isActive = true;\n        this.delayedAction = null;\n        this.whatId = whatId;\n        this.queue = framesArray.slice(0); //clone array\n        var queue = this;\n        //put the last element to the start of the queue because we are likely to need it first\n        this.queue.splice(0, 0, this.queue.splice(this.queue.length - 1, 1)[0]);\n        this.key = 0;\n        this.mute = function () {\n          this.isActive = false;\n          this.delayedAction = Promise.resolve.bind(Promise);\n        };\n\n        this.unMute = function () {\n          this.isActive = true;\n          if (typeof this.delayedAction === \"function\") {\n            this.delayedAction();\n          }\n          this.delayedAction = null;\n          if (this.forcedQueue.length == 0 && this.queue.length == 0) {\n            _context._unmuteQueue();\n          }\n        };\n        this.frameComplete = function (frameName) {\n          //function called after build each frame with name of frame build\n          var i = void 0;\n          if (queue.defaultCallbacks.length > 0) {\n            for (i = 0; i < queue.defaultCallbacks.length; i++) {\n              queue.defaultCallbacks[i](frameName);\n            }\n          }\n          if (queue.callbacks[frameName] && queue.callbacks[frameName].length > 0) {\n            for (i = 0; i < queue.callbacks[frameName].length; i++) {\n              queue.callbacks[frameName][i]();\n            }\n          }\n        };\n        this._waitingForActivation = function () {\n          var _this = this;\n          return new Promise(function (resolve, reject) {\n            if (_this.isActive) {\n              return resolve();\n            }\n            _this.delayedAction = resolve;\n          });\n        };\n\n        this._getNextFrameName = function () {\n          var frameName = null;\n          if (this.forcedQueue.length > 0 || this.queue.length > 0) {\n            if (this.forcedQueue.length > 0) {\n              frameName = this.forcedQueue.shift();\n            } else {\n              if (this.forcedQueue.length == 0 && this.key >= this.queue.length - 1) {\n                this.key = 0;\n              }\n              frameName = this.queue.splice(this.key, 1).pop();\n            }\n          } else {\n            _context._unmuteQueue();\n          }\n          return frameName;\n        };\n        this.checkForcedFrames = function () {\n          if (this.forcedQueue.length > 0) return;\n          _context._checkForcedQueuesExists();\n        };\n\n        // returns the next frame in a queue\n        this.getNext = function () {\n          var _this = this;\n          return new Promise(function (resolve, reject) {\n            _this.checkForcedFrames();\n            if (_this.isActive) {\n              resolve(_this._getNextFrameName());\n            } else {\n              _this._waitingForActivation().then(function () {\n                resolve(_this._getNextFrameName());\n              });\n            }\n          });\n        };\n\n        // force the particular frame up the queue\n        this.forceFrame = function (frameName, cb) {\n          var objIndexOf = function objIndexOf(obj, need) {\n            var search = need.toString();\n            var index = -1;\n            for (var i = 0, len = obj.length; i < len; i++) {\n              if (obj[i].toString() == search) {\n                index = i;\n                break;\n              }\n            }\n            return index;\n          };\n          if (this.callbacks[frameName]) {\n\n            this.callbacks[frameName].push(cb);\n          } else {\n            var newKey = objIndexOf(this.queue, frameName); //this.queue.indexOf(frameName.toString());\n            if (newKey !== -1) {\n              this.forcedQueue.unshift(this.queue.splice(newKey, 1).pop());\n              _context._muteAllQueues(this.whatId);\n              this.unMute();\n              if (typeof cb === \"function\") {\n                if (_typeof(this.callbacks[frameName]) !== \"object\") {\n                  this.callbacks[frameName] = [];\n                }\n                this.callbacks[frameName].push(cb);\n              }\n              this.key = newKey; //set key to next year after gorced element (preload if user click play)\n            } else {\n              if (_typeof(this.callbacks[frameName]) === \"object\") {\n                this.callbacks[frameName].push(cb);\n              } else {\n                this.callbacks[frameName] = [cb];\n              }\n            }\n          }\n        };\n      }();\n    }\n\n    /**\n     * Get regularised dataset (where gaps are filled)\n     * @param {Number} dataId hash code for query\n     * @param {String} whatId hash code for cache\n     * @param {Array} framesArray -- array of keyframes across animatable\n     * @param {Array} keys -- array of keys\n     * @param {Array} indicatorsDB \n     * @returns {Object} regularised dataset, nested by [animatable, column, key]\n     */\n\n  }, {\n    key: \"_getFrames\",\n    value: function _getFrames(dataId, whatId, framesArray, keys, indicatorsDB) {\n      var _this = this;\n      if (!_this._collection[dataId][\"frames\"][whatId]) {\n        _this._collection[dataId][\"frames\"][whatId] = {};\n      }\n      return new Promise(function (resolve, reject) {\n\n        //TODO: thses should come from state or from outside somehow\n        // FramesArray in the input contains the array of keyframes in animatable dimension.\n        // Example: array of years like [1800, 1801 … 2100]\n        // these will be the points where we need data\n        // (some of which might already exist in the set. in regular datasets all the points would exist!)\n\n        // Check if query.where clause is missing a time field\n\n        if (!indicatorsDB) utils.warn(\"_getFrames in data.js is missing indicatorsDB, it's needed for gap filling\");\n        if (!framesArray) utils.warn(\"_getFrames in data.js is missing framesArray, it's needed so much\");\n\n        var TIME = _this._collection[dataId].query.animatable;\n        var KEY = _this._collection[dataId].query.select.key.slice(0);\n        if (TIME && KEY.indexOf(TIME) != -1) KEY.splice(KEY.indexOf(TIME), 1);\n\n        var filtered = {};\n        var k = void 0,\n            items = void 0,\n            itemsIndex = void 0,\n            oneFrame = void 0,\n            method = void 0,\n            use = void 0,\n            next = void 0;\n\n        var entitiesByKey = {};\n        if (KEY.length > 1) {\n          for (k = 1; k < KEY.length; k++) {\n            var _nested = _this.getData(dataId, \"nested\", [KEY[k]].concat([TIME]));\n            entitiesByKey[KEY[k]] = Object.keys(_nested);\n          }\n        }\n\n        // We _nest_ the flat dataset in two levels: first by “key” (example: geo), then by “animatable” (example: year)\n        // See the _getNested function for more details\n        var nested = _this.getData(dataId, \"nested\", KEY.concat([TIME]));\n        keys = keys ? keys : Object.keys(nested);\n        entitiesByKey[KEY[0]] = keys;\n        // Get the list of columns that are in the dataset, exclude key column and animatable column\n        // Example: [“lex”, “gdp”, “u5mr\"]\n        var query = _this._collection[dataId].query;\n        var columns = query.select.value.filter(function (f) {\n          return f !== \"_default\";\n        });\n\n        var cLength = columns.length;\n        var key = void 0,\n            c = void 0;\n\n        var lastIndex = KEY.length - 1;\n        function createFiltered(parent, index) {\n          var keys = entitiesByKey[KEY[index]];\n          for (var i = 0, j = keys.length; i < j; i++) {\n            parent[keys[i]] = {};\n            if (index == lastIndex) {\n              for (c = 0; c < cLength; c++) {\n                parent[keys[i]][columns[c]] = null;\n              }\n            } else {\n              var nextIndex = index + 1;\n              createFiltered(parent[keys[i]], nextIndex);\n            }\n          }\n        }\n\n        createFiltered(filtered, 0);\n\n        for (c = 0; c < cLength; c++) {\n          _this._collection[dataId].haveNoDataPointsPerKey[columns[c]] = {};\n        }\n        var _ref = _this._collection[dataId].grouping || {},\n            groupKey = _ref.key,\n            groupValue = _ref.grouping;\n\n        var buildFrame = function buildFrame(frameName, entitiesByKey, KEY, dataId, callback) {\n          var frame = {};\n          if (query.from !== \"datapoints\") {\n            // we populate the regular set with a single value (unpack properties into constant time series)\n            var dataset = _this._collection[dataId].data;\n            for (c = 0; c < cLength; c++) {\n              frame[columns[c]] = {};\n            }for (var i = 0; i < dataset.length; i++) {\n              var d = dataset[i];\n              for (c = 0; c < cLength; c++) {\n                frame[columns[c]][d[KEY[0]]] = d[columns[c]];\n                //check data for properties with missed data. If founded then write key to haveNoDataPointsPerKey with\n                //count of broken datapoints\n                if (d[columns[c]] == null) {\n                  _this._collection[dataId].haveNoDataPointsPerKey[columns[c]][d[KEY[0]]] = dataset.length;\n                }\n              }\n            }\n          } else {\n            var _iterateKeys = function _iterateKeys(lastKeyObject, nested, filtered, index) {\n              var _lastKeyObject = {};\n              var keys = entitiesByKey[KEY[index]];\n              for (var _i = 0, j = keys.length, _key; _i < j; _i++) {\n                _key = keys[_i];\n                if (nested[_key]) {\n                  if (index == lastIndex) {\n                    for (c = 0; c < cLength; c++) {\n                      lastKeyObject[c][_key] = _mapValue(columns[c], nested[_key], filtered[_key]);\n                    }\n                  } else {\n                    for (c = 0; c < cLength; c++) {\n                      _lastKeyObject[c] = lastKeyObject[c][_key] = {};\n                    }\n                    _iterateKeys(_lastKeyObject, nested[_key], filtered[_key], index + 1);\n                  }\n                }\n              }\n            };\n\n            var _iterateKeysWithGrouping = function _iterateKeysWithGrouping(lastKeyObject, nested, filtered, index) {\n              var _lastKeyObject = {};\n              var keys = entitiesByKey[KEY[index]];\n              var grouping = KEY[index] === groupKey;\n              for (var _i2 = 0, j = keys.length, _key2, gKey; _i2 < j; _i2++) {\n                _key2 = keys[_i2];\n                gKey = grouping ? ~~(+_key2 / groupValue) * groupValue : _key2;\n                if (index == lastIndex) {\n                  var value = void 0;\n                  for (c = 0; c < cLength; c++) {\n                    value = _mapValue(columns[c], nested[_key2], filtered[_key2]);\n                    if (value !== null) {\n                      lastKeyObject[c][gKey] = (lastKeyObject[c][gKey] || 0) + value;\n                    } else if (lastKeyObject[c][gKey] === undefined) {\n                      lastKeyObject[c][gKey] = value;\n                    }\n                  }\n                } else {\n                  for (c = 0; c < cLength; c++) {\n                    _lastKeyObject[c] = lastKeyObject[c][gKey] = lastKeyObject[c][gKey] || {};\n                  }\n                  _iterateKeysWithGrouping(_lastKeyObject, nested[_key2], filtered[_key2], index + 1);\n                }\n              }\n            };\n\n            var _mapValue = function _mapValue(column, nested, filtered) {\n\n              //If there are some points in the array with valid numbers, then\n              //interpolate the missing point and save it to the “clean regular set”\n              method = indicatorsDB[column] ? indicatorsDB[column].interpolation : null;\n              use = indicatorsDB[column] ? indicatorsDB[column].use : \"indicator\";\n\n              // Inside of this 3-level loop is the following:\n              if (nested && nested[frameName] && (nested[frameName][0][column] || nested[frameName][0][column] === 0)) {\n\n                // Check if the piece of data for [this key][this frame][this column] exists\n                // and is valid. If so, then save it into a “clean regular set”\n                return nested[frameName][0][column];\n              }\n\n              // the piece of data is not available and the interpolation is set to \"none\"\n              if (method === \"none\") return null;\n\n              // If the piece of data doesn’t exist or is invalid, then we need to inter- or extapolate it\n\n              // Let’s take a slice of the nested set, corresponding to the current key nested[key]\n              // As you remember it has the data nested further by frames.\n              // At every frame the data in the current column might or might not exist.\n              // Thus, let’s filter out all the frames which don’t have the data for the current column.\n              // Let’s cache it because we will most likely encounter another gap in the same column for the same key\n              items = filtered[column];\n              if (items === null) {\n                var givenFrames = Object.keys(nested);\n                items = new Array(givenFrames.length);\n                itemsIndex = 0;\n\n                for (var z = 0, length = givenFrames.length; z < length; z++) {\n                  oneFrame = nested[givenFrames[z]];\n                  if (oneFrame[0][column] || oneFrame[0][column] === 0) items[itemsIndex++] = oneFrame[0];\n                }\n\n                //trim the length of the array\n                items.length = itemsIndex;\n\n                if (itemsIndex === 0) {\n                  filtered[column] = [];\n                } else {\n                  filtered[column] = items;\n                }\n\n                if (items.length == 0) _this._collection[dataId].haveNoDataPointsPerKey[column][key] = items.length;\n              }\n\n              // Now we are left with a fewer frames in the filtered array. Let's check its length.\n              //If the array is empty, then the entire column is missing for the key\n              //So we let the key have missing values in this column for all frames\n              if (items && items.length > 0) {\n                next = null;\n                return utils.interpolatePoint(items, use, column, next, TIME, frameName, method);\n              }\n            };\n\n            // If there is a time field in query.where clause, then we are dealing with indicators in this request\n\n            // Put together a template for cached filtered sets (see below what's needed)\n\n            // Now we run a 3-level loop: across frames, then across keys, then and across data columns (lex, gdp)\n\n            var firstKeyObject = {};\n            for (c = 0; c < cLength; c++) {\n              firstKeyObject[c] = frame[columns[c]] = {};\n            }if (groupKey) {\n              _iterateKeysWithGrouping(firstKeyObject, nested, filtered, 0);\n            } else {\n              _iterateKeys(firstKeyObject, nested, filtered, 0);\n            }\n          }\n\n          // save the calcualted frame to global datamanager cache\n          _this._collection[dataId][\"frames\"][whatId][frameName] = frame;\n\n          // fire the callback\n          if (typeof callback === \"function\") {\n            // runs the function frameComplete inside framesQueue.getNext()\n            callback(frameName);\n          }\n\n          // recursively call the buildFrame again, this time for the next frame\n          //QUESTION: FramesArray is probably not needed at this point. dataId and whatId is enough\n          _this._collectionPromises[dataId][whatId][\"queue\"].getNext().then(function (nextFrame) {\n            if (nextFrame) {\n              utils.defer(function () {\n                buildFrame(nextFrame, entitiesByKey, KEY, dataId, _this._collectionPromises[dataId][whatId][\"queue\"].frameComplete);\n              });\n            } else {\n              //this goes to marker.js as a \"response\"\n              resolve(_this._collection[dataId][\"frames\"][whatId]);\n            }\n          });\n        };\n        _this._collectionPromises[dataId][whatId][\"queue\"].getNext().then(function (nextFrame) {\n          if (nextFrame) {\n            buildFrame(nextFrame, entitiesByKey, KEY, dataId, _this._collectionPromises[dataId][whatId][\"queue\"].frameComplete);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_getCacheKey\",\n    value: function _getCacheKey(dataId, frames, keys) {\n      var result = frames[0] + \" - \" + frames[frames.length - 1];\n      var grouping = this._collection[dataId][\"grouping\"];\n      if (grouping) {\n        result = result + \"_grouping(\" + grouping.key + \":\" + grouping.grouping + \")\";\n      }\n      if (keys) {\n        result = result + \"_\" + keys.join();\n      }\n      return result;\n    }\n  }]);\n\n  return Storage;\n}();\n\nvar DataStorage = exports.DataStorage = new Storage();\n\n/***/ }),\n/* 363 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./csv-time_in_columns/csv-time_in_columns.js\": 364,\n\t\"./csv/csv.js\": 147,\n\t\"./inline/inline.js\": 366\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 363;\n\n/***/ }),\n/* 364 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _csv = __webpack_require__(147);\n\nvar _csv2 = _interopRequireDefault(_csv);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CSVTimeInColumnsReader = _csv2.default.extend({\n\n  _name: \"csv-time_in_columns\",\n\n  init: function init(readerInfo) {\n    this._super(readerInfo);\n    this.timeKey = \"time\";\n  },\n  load: function load() {\n    var _this = this;\n\n    return this._super().then(function (_ref) {\n      var rows = _ref.rows,\n          columns = _ref.columns;\n\n      var indicatorKey = columns[_this.keySize];\n\n      var concepts = rows.reduce(function (result, row) {\n        Object.keys(row).forEach(function (concept) {\n          concept = concept === indicatorKey ? row[indicatorKey] : concept;\n\n          if (String(Number(concept)) !== String(concept) && !result.includes(concept)) {\n            result.push(concept);\n          }\n        });\n\n        return result;\n      }, []);\n      concepts.splice(1, 0, _this.timeKey);\n\n      var indicators = concepts.slice(2);\n\n      var _concepts = _slicedToArray(concepts, 1),\n          entityDomain = _concepts[0];\n\n      return {\n        columns: concepts,\n        rows: rows.reduce(function (result, row) {\n          var resultRows = result.filter(function (resultRow) {\n            return resultRow[entityDomain] === row[entityDomain];\n          });\n\n          if (resultRows.length) {\n            resultRows.forEach(function (resultRow) {\n              resultRow[row[indicatorKey]] = row[resultRow[_this.timeKey]];\n            });\n          } else {\n            Object.keys(row).forEach(function (key) {\n              if (![entityDomain, indicatorKey].includes(key)) {\n                var _domainAndTime;\n\n                var domainAndTime = (_domainAndTime = {}, _defineProperty(_domainAndTime, entityDomain, row[entityDomain]), _defineProperty(_domainAndTime, _this.timeKey, key), _domainAndTime);\n\n                var indicatorsObject = indicators.reduce(function (result, indicator) {\n                  result[indicator] = row[indicatorKey] === indicator ? row[key] : null;\n                  return result;\n                }, {});\n\n                result.push(Object.assign(domainAndTime, indicatorsObject));\n              }\n            });\n          }\n\n          return result;\n        }, [])\n      };\n    });\n  },\n\n\n  versionInfo: { version: \"0.25.1-1\", build: 1503526276063 }\n\n});\n\nexports.default = CSVTimeInColumnsReader;\n\n/***/ }),\n/* 365 */\n/***/ (function(module, exports) {\n\n(function() {\n  var options, patterns;\n\n  patterns = [];\n\n  options = {};\n\n  module.exports = function(value, inOptions) {\n    var decimal, fractionPart, integerPart, number, pattern, patternIndex, result, thousands;\n    if (typeof inOptions === 'string') {\n      if (inOptions.length !== 2) {\n        throw {\n          name: 'ArgumentException',\n          message: 'The format for string options is \\'<thousands><decimal>\\' (exactly two characters)'\n        };\n      }\n      thousands = inOptions[0];\n      decimal = inOptions[1];\n    } else if (inOptions instanceof Array) {\n      if (inOptions.length !== 2) {\n        throw {\n          name: 'ArgumentException',\n          message: 'The format for array options is [\\'<thousands>\\',\\'[<decimal>\\'] (exactly two elements)'\n        };\n      }\n      thousands = inOptions[0];\n      decimal = inOptions[1];\n    } else {\n      thousands = (inOptions != null ? inOptions.thousands : void 0) || options.thousands;\n      decimal = (inOptions != null ? inOptions.decimal : void 0) || options.decimal;\n    }\n    patternIndex = \"\" + thousands + decimal;\n    pattern = patterns[patternIndex];\n    if (!pattern) {\n      pattern = patterns[patternIndex] = new RegExp('^\\\\s*(-?(?:(?:\\\\d{1,3}(?:\\\\' + thousands + '\\\\d{3})+)|\\\\d*))(?:\\\\' + decimal + '(\\\\d*))?\\\\s*$');\n    }\n    result = value.match(pattern);\n    if (!result || result.length !== 3) {\n      return NaN;\n    }\n    integerPart = result[1].replace(new RegExp(\"\\\\\" + thousands, 'g'), '');\n    fractionPart = result[2];\n    number = parseFloat(integerPart + \".\" + fractionPart);\n    return number;\n  };\n\n  module.exports.setOptions = function(newOptions) {\n    var key, value;\n    for (key in newOptions) {\n      value = newOptions[key];\n      options[key] = value;\n    }\n  };\n\n  module.exports.factoryReset = function() {\n    return options = {\n      thousands: ',',\n      decimal: '.'\n    };\n  };\n\n  module.exports.factoryReset();\n\n}).call(this);\n\n\n/***/ }),\n/* 366 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reader = __webpack_require__(71);\n\nvar _reader2 = _interopRequireDefault(_reader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Inline Reader\n * the simplest reader possible\n */\n\nvar InlineReader = _reader2.default.extend({\n\n  _name: \"inline\",\n\n  init: function init(readerInfo) {\n    this._data = readerInfo.data || [{}];\n  },\n  load: function load() {\n    return Promise.resolve({\n      columns: Object.keys(this._data[0]),\n      data: this._data\n    });\n  },\n\n\n  versionInfo: { version: \"0.25.1-1\", build: 1503526276063 }\n\n});\n\nexports.default = InlineReader;\n\n/***/ }),\n/* 367 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./bubblesize/bubblesize.js\": 103,\n\t\"./buttonlist/buttonlist.js\": 148,\n\t\"./buttonlist/optionsbuttonlist/optionsbuttonlist.js\": 149,\n\t\"./colorlegend/colorlegend.js\": 104,\n\t\"./datanotes/datanotes.js\": 369,\n\t\"./datawarning/datawarning.js\": 370,\n\t\"./dialogs/_dialog.js\": 10,\n\t\"./dialogs/about/about.js\": 152,\n\t\"./dialogs/axes/axes.js\": 153,\n\t\"./dialogs/colors/colors.js\": 155,\n\t\"./dialogs/dialogs.js\": 156,\n\t\"./dialogs/find/find.js\": 157,\n\t\"./dialogs/grouping/grouping.js\": 158,\n\t\"./dialogs/label/label.js\": 159,\n\t\"./dialogs/moreoptions/moreoptions.js\": 161,\n\t\"./dialogs/opacity/opacity.js\": 162,\n\t\"./dialogs/presentation/presentation.js\": 163,\n\t\"./dialogs/show/show.js\": 164,\n\t\"./dialogs/side/side.js\": 165,\n\t\"./dialogs/size/size.js\": 166,\n\t\"./dialogs/speed/speed.js\": 167,\n\t\"./dialogs/stack/stack.js\": 168,\n\t\"./dialogs/timedisplay/timedisplay.js\": 170,\n\t\"./dialogs/zoom/zoom.js\": 172,\n\t\"./draggablelist/draggablelist.js\": 169,\n\t\"./indicatorpicker/indicatorpicker.js\": 33,\n\t\"./minmaxinputs/minmaxinputs.js\": 154,\n\t\"./simplecheckbox/simplecheckbox.js\": 56,\n\t\"./simpleslider/simpleslider.js\": 55,\n\t\"./sizeslider/sizeslider.js\": 160,\n\t\"./steppedspeedslider/steppedspeedslider.js\": 390,\n\t\"./timeslider/timeslider.js\": 392,\n\t\"./treemenu/treemenu.js\": 394,\n\t\"./zoombuttonlist/zoombuttonlist.js\": 173\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 367;\n\n/***/ }),\n/* 368 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-bs-holder\\\">\\n\\t<svg class=\\\"vzb-bs-svg\\\">\\n\\t\\t<g class=\\\"vzb-bs-slider-wrap\\\">\\n\\t\\t\\t<g class=\\\"vzb-bs-slider\\\">\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</svg>\\n</div>\\n\";\n\n/***/ }),\n/* 369 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DataNotes = _component2.default.extend({\n  init: function init(config, context) {\n    var _this = this;\n\n    this.name = \"gapminder-datanotes\";\n\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n\n    this.model_binds = {\n      \"translate:locale\": function translateLocale(evt) {\n        if (!_this._ready || !_this._readyOnce) return;\n        _this.ready();\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    this.close = this.close.bind(this);\n\n    this.hidden = true;\n    this.showNotes = false;\n    this.pinned = false;\n    this.left = 0;\n    this.top = 0;\n    this.hookName = null;\n    this.newHookName = null;\n  },\n  ready: function ready() {\n    this.setValues();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.translator = this.model.locale.getTFunction();\n    this.element = d3.select(this.placeholder);\n\n    this.element.selectAll(\"div\").remove();\n\n    var container = this.element;\n\n    container.append(\"div\").html(_iconset.close).on(\"click\", function () {\n      d3.event.stopPropagation();\n      _this.close();\n    }).select(\"svg\").attr(\"width\", \"0px\").attr(\"height\", \"0px\").attr(\"class\", \"vzb-data-notes-close\").classed(\"vzb-hidden\", true);\n\n    container.append(\"div\").attr(\"class\", \"vzb-data-notes-body vzb-dialog-scrollable\");\n\n    container.append(\"div\").attr(\"class\", \"vzb-data-notes-link\");\n  },\n  resize: function resize() {\n    this.close();\n  },\n  close: function close() {\n    if (!this.hidden) {\n      this.pin(false).hide();\n    }\n  },\n  setHook: function setHook(_hookName) {\n    if (!this._readyOnce) return this;\n    if (this.pinned) {\n      this.newHookName = _hookName;\n      return this;\n    }\n    if (this.hookName) this.model.marker[this.hookName].off(\"change:which\", this.close);\n    this.hookName = this.newHookName = _hookName;\n    this.model.marker[this.hookName].on(\"change:which\", this.close);\n\n    this.setValues();\n\n    return this;\n  },\n  setValues: function setValues() {\n    if (!this.hookName) return;\n    var hook = this.model.marker[this.hookName];\n    var concept = hook.getConceptprops();\n\n    this.element.select(\".vzb-data-notes-body\").classed(\"vzb-hidden\", !concept.description).text(concept.description || \"\");\n\n    this.element.select(\".vzb-data-notes-link\").classed(\"vzb-hidden\", !concept.sourceLink);\n\n    if (concept.sourceLink) {\n      var _source = this.translator(\"hints/source\");\n      var sourceName = concept.sourceName || \"\";\n      this.element.select(\".vzb-data-notes-link\").html(\"<span>\" + (sourceName ? _source + \":\" : \"\") + '<a href=\"' + concept.sourceLink + '\" target=\"_blank\">' + (sourceName ? sourceName : _source) + \"</a></span>\");\n    }\n    this.showNotes = concept.sourceLink || concept.description;\n  },\n  setPos: function setPos(_left, _top, force) {\n    this.left = _left;\n    this.top = _top;\n    if (this.pinned && !force) return this;\n    var parentHeight = this.parent.element.offsetHeight;\n    var width = this.element.node().offsetWidth;\n    var height = this.element.node().offsetHeight;\n    var leftMove = void 0;\n    var topMove = void 0;\n    var leftPos = this.left - width;\n    var topPos = this.top;\n    if (leftPos < 10) {\n      leftPos = 10;\n      leftMove = true;\n    }\n    if (topPos + height + 10 > parentHeight) {\n      topPos = parentHeight - height - 10;\n      topMove = true;\n    }\n\n    if (leftMove && topMove) {\n      topPos = this.top - height - 30;\n    }\n\n    this.element.style(\"top\", topPos + \"px\");\n    this.element.style(\"left\", leftPos + \"px\");\n\n    return this;\n  },\n  pin: function pin(arg) {\n    if (this.hidden) return this;\n    this.pinned = !this.pinned;\n    if (arg != null) this.pinned = arg;\n    this.element.select(\".vzb-data-notes-close\").classed(\"vzb-hidden\", !this.pinned);\n    this.element.classed(\"vzb-data-notes-pinned\", this.pinned);\n    if (this.hookName != this.newHookName) this.setHook(this.newHookName);\n    this.element.select(\".vzb-data-notes-body\").node().scrollTop = 0;\n\n    return this.showNotes ? this.setPos(this.left, this.top, true) : this.hide();\n  },\n  toggle: function toggle(arg) {\n    if (this.pinned || !this.hookName) return this;\n    if (arg == null) arg = !this.hidden;\n    this.hidden = arg;\n    this.element.classed(\"vzb-hidden\", this.hidden || !this.showNotes);\n    return this;\n  },\n  show: function show() {\n    return this.toggle(false);\n  },\n  hide: function hide() {\n    return this.toggle(true);\n  }\n});\n\nexports.default = DataNotes;\n\n/***/ }),\n/* 370 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar hidden = true;\n\nvar DataWarning = _component2.default.extend({\n  init: function init(config, context) {\n    var _this = this;\n\n    this.name = \"gapminder-datawarning\";\n\n    this.model_expects = [{\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n\n    this.model_binds = {\n      \"translate:locale\": function translateLocale(evt) {\n        if (!_this._ready) return;\n        _this.redraw();\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n  ready: function ready() {\n    this.redraw();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n    this.element = d3.select(this.placeholder);\n\n    this.element.selectAll(\"div\").remove();\n\n    this.element.append(\"div\").attr(\"class\", \"vzb-data-warning-background\").on(\"click\", function () {\n      _this.toggle(true);\n    });\n\n    this.container = this.element.append(\"div\").attr(\"class\", \"vzb-data-warning-box\");\n\n    this.container.append(\"div\").html(_iconset.close).on(\"click\", function () {\n      _this.toggle();\n    }).select(\"svg\").attr(\"width\", \"0px\").attr(\"height\", \"0px\").attr(\"class\", \"vzb-data-warning-close\");\n\n    var icon = this.container.append(\"div\").attr(\"class\", \"vzb-data-warning-link\").html(_iconset.warn);\n\n    icon.append(\"div\");\n\n    this.container.append(\"div\").attr(\"class\", \"vzb-data-warning-title\");\n\n    this.container.append(\"div\").attr(\"class\", \"vzb-data-warning-body vzb-dialog-scrollable\");\n  },\n  redraw: function redraw() {\n    this.translator = this.model.locale.getTFunction();\n\n    this.container.select(\".vzb-data-warning-link div\").text(this.translator(\"hints/dataWarning\"));\n\n    var title = this.translator(\"datawarning/title/\" + this.parent.name);\n    this.container.select(\".vzb-data-warning-title\").html(title).classed(\"vzb-hidden\", !title || title == \"datawarning/title/\" + this.parent.name);\n\n    this.container.select(\".vzb-data-warning-body\").html(this.translator(\"datawarning/body/\" + this.parent.name));\n  },\n  toggle: function toggle(arg) {\n    if (arg == null) arg = !hidden;\n    hidden = arg;\n    this.element.classed(\"vzb-hidden\", hidden);\n\n    var _this = this;\n    this.parent.components.forEach(function (c) {\n      c.element.classed(\"vzb-blur\", c != _this && !hidden);\n    });\n  }\n});\n\nexports.default = DataWarning;\n\n/***/ }),\n/* 371 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./about/about.html\": 372,\n\t\"./axes/axes.html\": 373,\n\t\"./colors/colors.html\": 374,\n\t\"./find/find.html\": 375,\n\t\"./grouping/grouping.html\": 376,\n\t\"./label/label.html\": 377,\n\t\"./moreoptions/moreoptions.html\": 378,\n\t\"./opacity/opacity.html\": 379,\n\t\"./presentation/presentation.html\": 380,\n\t\"./show/show.html\": 381,\n\t\"./side/side.html\": 382,\n\t\"./size/size.html\": 383,\n\t\"./speed/speed.html\": 384,\n\t\"./stack/stack.html\": 385,\n\t\"./timedisplay/timedisplay.html\": 386,\n\t\"./zoom/zoom.html\": 387\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 371;\n\n/***/ }),\n/* 372 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/about\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-about-text0\\\"></p>\\n      <p class=\\\"vzb-about-text1\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-version\\\"></p>\\n      <p class=\\\"vzb-about-updated\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-report\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-credits\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-tool\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-datasets\\\"><span>Datasets:</span></p>\\n      <br/>\\n      <p class=\\\"vzb-about-readers\\\"><span>Readers:</span></p>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n      \\n\\n</div>\\n\";\n\n/***/ }),\n/* 373 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"axes\\\" data-click=\\\"pinDialog\\\"></span>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"axes\\\" data-click=\\\"dragDialog\\\"></span>\\n    <div class=\\\"vzb-dialog-title\\\"><%=t (\\\"buttons/axes\\\") %></div>\\n    <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"buttons/axis_x\\\") %> <span class=\\\"vzb-xaxis-selector\\\"></span> </p>\\n      <div class=\\\"vzb-xaxis-minmax vzb-dialog-paragraph\\\"></div>\\n      <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"buttons/axis_y\\\") %> <span class=\\\"vzb-yaxis-selector\\\"></span> </p>\\n      <div class=\\\"vzb-yaxis-minmax vzb-dialog-paragraph\\\"></div>\\n    </div>\\n    <div class=\\\"vzb-dialog-buttons\\\">\\n      <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\"><%=t ( \\\"buttons/ok\\\") %></div>\\n    </div>\\n</div>\";\n\n/***/ }),\n/* 374 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"colors\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"colors\\\" data-click=\\\"dragDialog\\\"></span>\\n  \\n  <div class=\\\"vzb-dialog-title\\\">\\n      <%=t (\\\"buttons/colors\\\") %>\\n      <span class=\\\"vzb-caxis-selector\\\"></span>\\n  </div>\\n  \\n  \\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-clegend-container\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 375 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"find\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"find\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"dialogs/find\\\") %>\\n    <span class=\\\"vzb-find-filter-selector\\\"></span>\\n    <span class=\\\"vzb-dialog-content vzb-find-filter\\\">\\n      <input class=\\\"vzb-find-search\\\" type=\\\"search\\\"/>\\n    </span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-find-list\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-bubbleopacity vzb-dialog-control\\\"></div>\\n    <div class=\\\"vzb-dialog-button vzb-find-deselect\\\">\\n      <%=t (\\\"buttons/deselect\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 376 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/grouping\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-groups\\\"></div>\\n    <div class=\\\"vzb-dialog-placeholder\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n/* 377 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/label\\\") %>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <span class=\\\"vzb-saxis-selector\\\"></span>\\n    <div class=\\\"vzb-dialog-sizeslider\\\"></div>\\n    <div class=\\\"vzb-removelabelbox-switch\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 378 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"moreoptions\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"moreoptions\\\" data-click=\\\"dragDialog\\\"></span>\\n\\n\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/more_options\\\") %>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class='vzb-dialog-options-buttonlist'>\\n    </div>\\n    <div class=\\\"vzb-accordion\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\";\n\n/***/ }),\n/* 379 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/opacity\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-dialog-sublabel\\\">\\n        <%=t (\\\"buttons/opacityRegular\\\") %>\\n      </p>\\n      <div class=\\\"vzb-dialog-bubbleopacity-regular\\\"></div>\\n\\n      <p class=\\\"vzb-dialog-sublabel\\\">\\n        <%=t (\\\"buttons/opacityNonselect\\\") %>\\n      </p>\\n      <div class=\\\"vzb-dialog-bubbleopacity-selectdim\\\"></div>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 380 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"dialogs/presentation\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <div class=\\\"vzb-presentationmode-switch\\\"></div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 381 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"show\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"show\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/show\\\") %>\\n    <span class=\\\"vzb-show-filter-selector\\\"></span>\\n    <span class=\\\"vzb-dialog-content vzb-show-filter\\\">\\n      <input class=\\\"vzb-show-search\\\" type=\\\"search\\\"/>\\n    </span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed vzb-dialog-scrollable\\\">\\n    <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"hints/mount/onlyshowthefollowing\\\") %> </p>\\n    <div class=\\\"vzb-show-list\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-button vzb-show-deselect\\\">\\n      <%=t (\\\"buttons/reset\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 382 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"side\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"side\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/side\\\") %>\\n    <span class=\\\"vzb-side-selector\\\"></span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-side-list vzb-side-list-left\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n    <div class=\\\"vzb-side-list vzb-side-list-right\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-button vzb-label-primary vzb-side-switch-sides\\\">\\n      <%=t (\\\"buttons/leftright\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 383 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"size\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"size\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/size\\\") %>\\n      <span class=\\\"vzb-saxis-selector\\\"></span>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-bubblesize\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 384 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/speed\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-placeholder\\\"></div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 385 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"stack\\\" data-click=\\\"pinDialog\\\"></span>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"stack\\\" data-click=\\\"dragDialog\\\"></span>\\n    <div class=\\\"vzb-dialog-title\\\"><%=t (\\\"buttons/stack\\\") %></div>\\n        \\n    <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n        \\n        <!--p class=\\\"vzb-dialog-sublabel\\\"> <%=t ( \\\"hints/mount/howtostack\\\") %></p-->\\n        <form class=\\\"vzb-howtostack vzb-dialog-paragraph\\\">\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"none\\\"> <%=t (\\\"mount/stacking/none\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"bycolor\\\"> <%=t (\\\"mount/stacking/color\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"all\\\"> <%=t (\\\"mount/stacking/world\\\") %> </label>\\n        </form>\\n        \\n        <form class=\\\"vzb-howtomerge vzb-dialog-paragraph\\\">\\n            <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"hints/mount/howtomerge\\\") %> </p>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"none\\\"> <%=t (\\\"mount/merging/none\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"grouped\\\"> <%=t (\\\"mount/merging/color\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"stacked\\\"> <%=t (\\\"mount/merging/world\\\") %> </label>\\n        </form>\\n        \\n        <form class=\\\"vzb-manual-sorting\\\">\\n            <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"mount/manualSorting\\\") %> </p>\\n            <div class=\\\"vzb-dialog-draggablelist vzb-dialog-control\\\"></div>\\n        </form>\\n                \\n    </div>\\n\\n    <div class=\\\"vzb-dialog-buttons\\\">\\n        <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\"><%=t (\\\"buttons/ok\\\") %></div>\\n    </div>\\n\\n</div>\";\n\n/***/ }),\n/* 386 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-dialog-modal\\\">\\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed\\\">\\n    <svg>\\n      <g class=\\\"vzb-timedisplay\\\"></g>\\n    </svg>\\n  </div>\\n  <div class=\\\"vzb-dialog-buttons\\\"></div>\\n</div>\\n\";\n\n/***/ }),\n/* 387 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n    <%=t (\\\"buttons/zoom\\\") %>\\n    <div class=\\\"vzb-dialog-zoom-buttonlist\\\"></div>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-panwitharrow-switch\\\"></div>\\n    <div class=\\\"vzb-zoomonscrolling-switch\\\"></div>\\n    <div class=\\\"vzb-adaptminmaxzoom-switch\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ }),\n/* 388 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-mmi-holder\\\">\\n\\n    <span class=\\\"vzb-mmi-domainmin-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-domainmin\\\" name=\\\"min\\\">\\n    <span class=\\\"vzb-mmi-domainmax-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-domainmax\\\" name=\\\"max\\\">\\n\\n    <br class=\\\"vzb-mmi-break\\\"/>\\n\\n    <span class=\\\"vzb-mmi-zoomedmin-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-zoomedmin\\\" name=\\\"min\\\">\\n    <span class=\\\"vzb-mmi-zoomedmax-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-zoomedmax\\\" name=\\\"max\\\">\\n    \\n</div>\";\n\n/***/ }),\n/* 389 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-szs-holder\\\">\\n\\t<svg class=\\\"vzb-szs-svg\\\">\\n\\t\\t<g class=\\\"vzb-szs-slider-wrap\\\">\\n\\t\\t\\t<g class=\\\"vzb-szs-slider\\\">\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</svg>\\n</div>\\n\";\n\n/***/ }),\n/* 390 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SteppedSlider = _component2.default.extend({\n  init: function init(config, context) {\n    var _this = this;\n\n    this.name = \"steppedSpeedSlider\";\n    this.template = __webpack_require__(391);\n\n    this.config = Object.assign({\n      triangleWidth: 10,\n      triangleHeight: 10,\n      height: 31,\n      lineWidth: 10,\n      domain: [1, 2, 3, 4, 5, 6],\n      range: [1200, 900, 450, 200, 150, 100]\n    }, config);\n\n    this.config.height -= this.config.triangleHeight / 2;\n\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.model_binds = {\n      \"change:time.delay\": function changeTimeDelay() {\n        _this.redraw();\n      }\n    };\n\n    this.setDelay = (0, _utils.throttle)(this.setDelay, 50);\n\n    this._super(config, context);\n  },\n  readyOnce: function readyOnce() {\n    var _config = this.config,\n        domain = _config.domain,\n        range = _config.range,\n        height = _config.height;\n\n\n    this.element = d3.select(this.element);\n    this.svg = this.element.select(\"svg\");\n\n    this.axisScale = d3.scaleLog().domain(d3.extent(domain)).range([height, 0]);\n\n    this.delayScale = d3.scaleLinear().domain(domain).range(range);\n\n    this.initTriangle();\n    this.initAxis();\n\n    this.redraw();\n  },\n  initAxis: function initAxis() {\n    var _this2 = this;\n\n    var _config2 = this.config,\n        lineWidth = _config2.lineWidth,\n        triangleWidth = _config2.triangleWidth,\n        triangleHeight = _config2.triangleHeight,\n        height = _config2.height;\n\n\n    var axis = d3.axisLeft().scale(this.axisScale).tickFormat(function () {\n      return \"\";\n    }).tickSizeInner(lineWidth).tickSizeOuter(0);\n\n    var tx = triangleWidth + lineWidth / 2;\n    var ty = triangleHeight / 2;\n    this.svg.on(\"mousedown\", function () {\n      var offsetY = d3.event.offsetY;\n\n      var y = Math.max(0, Math.min(offsetY - ty, height));\n\n      _this2.setDelay(Math.round(_this2.delayScale(_this2.axisScale.invert(y))), true, true);\n    }).select(\".vzb-stepped-speed-slider-axis\").attr(\"transform\", \"translate(\" + tx + \", \" + ty + \")\").call(axis);\n\n    this.drag = d3.drag().on(\"drag\", function () {\n      var dy = d3.event.dy;\n\n      var _transform = (0, _utils.transform)(_this2.slide.node()),\n          translateY = _transform.translateY;\n\n      var y = Math.max(0, Math.min(dy + translateY, height));\n\n      _this2.setDelay(Math.round(_this2.delayScale(_this2.axisScale.invert(y))));\n      _this2.redraw(y);\n    }).on(\"end\", function () {\n      _this2.setDelay(_this2.model.time.delay, true, true);\n    });\n\n    this.svg.call(this.drag);\n  },\n  initTriangle: function initTriangle() {\n    var _config3 = this.config,\n        triangleWidth = _config3.triangleWidth,\n        triangleHeight = _config3.triangleHeight,\n        lineWidth = _config3.lineWidth;\n\n\n    this.slide = this.svg.select(\".vzb-stepped-speed-slider-triangle\");\n\n    this.slide.append(\"g\").append(\"path\").attr(\"d\", this.getTrianglePath());\n  },\n  getTrianglePath: function getTrianglePath() {\n    var _config4 = this.config,\n        triangleHeight = _config4.triangleHeight,\n        triangleWidth = _config4.triangleWidth;\n\n\n    return \"M \" + triangleWidth + \",\" + triangleHeight / 2 + \" 0,\" + triangleHeight + \" 0,0 z\";\n  },\n  setDelay: function setDelay(value) {\n    var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var persistent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    this.model.time.set(\"delay\", value, force, persistent);\n  },\n  redraw: function redraw() {\n    var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.axisScale(this.delayScale.invert(this.model.time.delay));\n\n    this.slide.attr(\"transform\", \"translate(0, \" + y + \")\");\n  }\n});\n\nexports.default = SteppedSlider;\n\n/***/ }),\n/* 391 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-stepped-speed-slider\\\">\\n  <svg>\\n    <g class=\\\"vzb-stepped-speed-slider-triangle\\\"></g>\\n    <g class=\\\"vzb-stepped-speed-slider-axis\\\"></g>\\n  </svg>\\n</div>\\n\";\n\n/***/ }),\n/* 392 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar precision = 1;\n\n//constants\nvar class_playing = \"vzb-playing\";\nvar class_loading = \"vzb-ts-loading\";\nvar class_hide_play = \"vzb-ts-hide-play-button\";\nvar class_dragging = \"vzb-ts-dragging\";\nvar class_axis_aligned = \"vzb-ts-axis-aligned\";\nvar class_show_value = \"vzb-ts-show-value\";\nvar class_show_value_when_drag_play = \"vzb-ts-show-value-when-drag-play\";\n\n//margins for slider\nvar profiles = {\n  small: {\n    margin: {\n      top: 7,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 8,\n    label_spacing: 10\n  },\n  medium: {\n    margin: {\n      top: 16,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 9,\n    label_spacing: 12\n  },\n  large: {\n    margin: {\n      top: 14,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 11,\n    label_spacing: 14\n  }\n};\n\nvar presentationProfileChanges = {\n  \"medium\": {\n    margin: {\n      top: 9\n    }\n  },\n  \"large\": {\n    margin: {}\n  }\n};\n\nvar TimeSlider = _component2.default.extend({\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param model The model passed to the component\n   * @param context The component's parent\n   */\n  init: function init(model, context) {\n\n    this.name = \"gapminder-timeslider\";\n    this.template = this.template || __webpack_require__(393);\n    this.prevPosition = null;\n    //define expected models/hooks for this component\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"entities\",\n      type: \"entities\"\n    }, {\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }];\n\n    var _this = this;\n    //binds methods to this model\n    this.model_binds = {\n      \"change:time\": function changeTime(evt, path) {\n        if (_this.slide) {\n          if ([\"time.start\", \"time.end\"].indexOf(path) !== -1) {\n            if (!_this.xScale) return;\n            _this.changeLimits();\n          }\n          _this._optionClasses();\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.start\": function changeTimeStart(evt, path) {\n        if (_this.slide) {\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.end\": function changeTimeEnd(evt, path) {\n        if (_this.slide) {\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.offset\": function changeTimeOffset(evt, path) {\n        _this._updateProgressBar();\n        _this.model.marker.listenFramesQueue(null, function (time) {\n          _this._updateProgressBar(time);\n        });\n      },\n      \"change:time.startSelected\": function changeTimeStartSelected(evt, path) {\n        if (_this.slide) {\n          _this.updateSelectedStartLimiter();\n        }\n      },\n      \"change:time.endSelected\": function changeTimeEndSelected(evt, path) {\n        if (_this.slide) {\n          _this.updateSelectedEndLimiter();\n        }\n      },\n      \"change:marker.select\": function changeMarkerSelect(evt, path) {\n        _this.setSelectedLimits();\n      }\n    };\n\n    // Same constructor as the superclass\n    this._super(model, context);\n\n    // Sort of defaults. Actually should be in ui default or bubblechart.\n    // By not having \"this.model.ui =\" we prevent it from going to url (not defined in defaults)\n    // Should be in defaults when we make components config part of external config (& every component gets own config)\n    this.ui = utils.extend({\n      show_limits: false,\n      show_value: false,\n      show_value_when_drag_play: true,\n      show_button: true,\n      class_axis_aligned: false\n    }, model.ui, this.ui);\n\n    //defaults\n    this.width = 0;\n    this.height = 0;\n    this.availableTimeFrames = [];\n    this.completedTimeFrames = [];\n    this.getValueWidth = utils.memoize(this.getValueWidth);\n    this._setTime = utils.throttle(this._setTime, 50);\n  },\n\n\n  //template is ready\n  readyOnce: function readyOnce() {\n\n    var _this = this;\n\n    //DOM to d3\n    //TODO: remove this ugly hack\n    this.element = utils.isArray(this.element) ? this.element : d3.select(this.element);\n\n    //html elements\n    this.slider_outer = this.element.select(\".vzb-ts-slider\");\n    this.slider = this.slider_outer.select(\"g\");\n    this.axis = this.element.select(\".vzb-ts-slider-axis\");\n    this.select = this.element.select(\".vzb-ts-slider-select\");\n    this.progressBar = this.element.select(\".vzb-ts-slider-progress\");\n    this.slide = this.element.select(\".vzb-ts-slider-slide\");\n    this.handle = this.element.select(\".vzb-ts-slider-handle\");\n    this.valueText = this.element.select(\".vzb-ts-slider-value\");\n    //Scale\n    this.xScale = d3.scaleUtc().clamp(true);\n\n    //Axis\n    this.xAxis = d3.axisBottom().tickSize(0);\n    //Value\n    this.valueText.attr(\"text-anchor\", \"middle\").attr(\"dy\", \"-0.7em\");\n\n    var brushed = _this._getBrushed();\n    var brushedEnd = _this._getBrushedEnd();\n\n    //Brush for dragging\n    // this.brush = d3.brushX()\n    //   //.x(this.xScale)\n    //   .extent([[0, 0], [0, 0]])\n    //   .on(\"start brush\", function () {\n    //     brushed.call(this);\n    //   })\n    //   .on(\"end\", function () {\n    //     brushedEnd.call(this);\n    //   });\n\n    // //Slide\n    // this.slide.call(this.brush);\n\n    this.brush = d3.drag()\n    //.on(\"start.interrupt\", function() { _this.slide.interrupt(); })\n    .on(\"start drag\", function () {\n      brushed.call(this);\n    }).on(\"end\", function () {\n      brushedEnd.call(this);\n    });\n\n    //Slide\n    this.slide.call(this.brush);\n\n    this.slider_outer.on(\"mousewheel\", function () {\n      //do nothing and dont pass the event on if we are currently dragging the slider\n      if (_this.model.time.dragging) {\n        d3.event.stopPropagation();\n        d3.event.preventDefault();\n        d3.event.returnValue = false;\n        return false;\n      }\n    });\n\n    //this.slide.selectAll(\".extent,.resize\")\n    //  .remove();\n\n    this._setSelectedLimitsId = 0; //counter for setSelectedLimits\n\n    if (this.model.time.startSelected > this.model.time.start) {\n      _this.updateSelectedStartLimiter();\n    }\n\n    if (this.model.time.endSelected < this.model.time.end) {\n      _this.updateSelectedEndLimiter();\n    }\n\n    // special for linechart: resize timeslider to match time x-axis length\n    this.parent.on(\"myEvent\", function (evt, params) {\n      var layoutProfile = _this.getLayoutProfile();\n      var profile = profiles[layoutProfile];\n\n      if (params.profile && params.profile.margin) {\n        profile.margin = params.profile.margin;\n      }\n\n      // set the right margin that depends on longest label width\n      _this.element.select(\".vzb-ts-slider-wrapper\").style(\"right\", params.mRight - profile.margin.right + \"px\");\n\n      _this.updateSize([0, params.rangeMax]);\n    });\n\n    this.on(\"resize\", function () {\n      _this.updateSize();\n    });\n  },\n\n\n  //template and model are ready\n  ready: function ready() {\n    if (this.model.time.splash) return;\n\n    this.element.classed(class_loading, false);\n\n    var play = this.element.select(\".vzb-ts-btn-play\");\n    var pause = this.element.select(\".vzb-ts-btn-pause\");\n    var _this = this;\n    var time = this.model.time;\n\n    play.on(\"click\", function () {\n\n      _this.model.time.play();\n    });\n\n    pause.on(\"click\", function () {\n      _this.model.time.pause(\"soft\");\n    });\n\n    this.changeLimits();\n    this.changeTime();\n    this.updateSize();\n\n    _this._updateProgressBar();\n    _this.model.marker.listenFramesQueue(null, function (time) {\n      _this._updateProgressBar(time);\n    });\n    _this.setSelectedLimits(true);\n  },\n  changeLimits: function changeLimits() {\n    var minValue = this.model.time.start;\n    var maxValue = this.model.time.end;\n    //scale\n    this.xScale.domain([minValue, maxValue]);\n    //axis\n    this.xAxis.tickValues([minValue, maxValue]).tickFormat(this.model.time.getFormatter());\n  },\n  changeTime: function changeTime() {\n    //time slider should always receive a time model\n    var time = this.model.time.value;\n    //special classes\n    this._optionClasses();\n  },\n\n\n  /**\n   * Executes everytime the container or vizabi is resized\n   * Ideally,it contains only operations related to size\n   */\n  updateSize: function updateSize(range) {\n    if (this.model.time.splash) return;\n\n    this.model.time.pause();\n\n    this.profile = this.getActiveProfile(profiles, presentationProfileChanges);\n\n    var slider_w = parseInt(this.slider_outer.style(\"width\"), 10) || 0;\n    var slider_h = parseInt(this.slider_outer.style(\"height\"), 10) || 0;\n\n    if (!slider_h || !slider_w) return utils.warn(\"time slider resize() aborted because element is too small or has display:none\");\n\n    this.width = slider_w - this.profile.margin.left - this.profile.margin.right;\n    this.height = slider_h - this.profile.margin.bottom - this.profile.margin.top;\n    var _this = this;\n\n    //translate according to margins\n    this.slider.attr(\"transform\", \"translate(\" + this.profile.margin.left + \",\" + this.profile.margin.top + \")\");\n\n    this.xScale.range(range || [0, this.width]);\n\n    this.slide.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\").attr(\"x1\", this.xScale.range()[0]).attr(\"x2\", this.xScale.range()[1]).style(\"stroke-width\", this.profile.radius * 2 + \"px\");\n    //.call(this.brush\n    //.extent([[this.xScale.range()[0], 0], [this.xScale.range()[1], this.height]]));\n\n    //adjust axis with scale\n    this.xAxis = this.xAxis.scale(this.xScale).tickPadding(this.profile.label_spacing);\n\n    this.axis.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\").call(this.xAxis);\n\n    this.select.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\");\n    this.progressBar.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\");\n\n    this.slide.select(\".background\").attr(\"height\", this.height);\n\n    //size of handle\n    this.handle.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\").attr(\"r\", this.profile.radius);\n\n    this.sliderWidth = _this.slider.node().getBoundingClientRect().width;\n\n    this.resizeSelectedLimiters();\n    this._resizeProgressBar();\n    this._setHandle();\n  },\n  setSelectedLimits: function setSelectedLimits(force) {\n    var _this = this;\n    this._setSelectedLimitsId++;\n    var _setSelectedLimitsId = this._setSelectedLimitsId;\n\n    var select = _this.model.marker.select;\n    if (select.length == 0) {\n      _this.model.time.set({\n        startSelected: new Date(_this.model.time.start),\n        endSelected: new Date(_this.model.time.end)\n      }, null, false /*make change non-persistent for URL and history*/);\n      return;\n    }\n    var KEY = _this.model.entities.getDimension();\n    var proms = [];\n    utils.forEach(select, function (entity) {\n      proms.push(_this.model.marker.getEntityLimits(entity[KEY]));\n    });\n    Promise.all(proms).then(function (limits) {\n      if (_setSelectedLimitsId != _this._setSelectedLimitsId) return;\n      var first = limits.shift();\n      var min = first.min;\n      var max = first.max;\n      utils.forEach(limits, function (limit) {\n        if (min - limit.min > 0) min = limit.min;\n        if (max - limit.max < 0) max = limit.max;\n      });\n      _this.model.time.set({\n        startSelected: d3.max([min, new Date(_this.model.time.start)]),\n        endSelected: d3.min([max, new Date(_this.model.time.end)])\n      }, force, false /*make change non-persistent for URL and history*/);\n    });\n  },\n  updateSelectedStartLimiter: function updateSelectedStartLimiter() {\n    var _this = this;\n    this.select.select(\"#clip-start-\" + _this._id).remove();\n    this.select.select(\".selected-start\").remove();\n    if (this.model.time.startSelected && this.model.time.startSelected > this.model.time.start) {\n      this.select.append(\"clipPath\").attr(\"id\", \"clip-start-\" + _this._id).append(\"rect\");\n      this.select.append(\"path\").attr(\"clip-path\", \"url(\" + location.pathname + \"#clip-start-\" + _this._id + \")\").classed(\"selected-start\", true);\n      this.resizeSelectedLimiters();\n    }\n  },\n  updateSelectedEndLimiter: function updateSelectedEndLimiter() {\n    var _this = this;\n    this.select.select(\"#clip-end-\" + _this._id).remove();\n    this.select.select(\".selected-end\").remove();\n    if (this.model.time.endSelected && this.model.time.endSelected < this.model.time.end) {\n      this.select.append(\"clipPath\").attr(\"id\", \"clip-end-\" + _this._id).append(\"rect\");\n      this.select.append(\"path\").attr(\"clip-path\", \"url(\" + location.pathname + \"#clip-end-\" + _this._id + \")\").classed(\"selected-end\", true);\n      this.resizeSelectedLimiters();\n    }\n  },\n  resizeSelectedLimiters: function resizeSelectedLimiters() {\n    var _this = this;\n    this.select.select(\".selected-start\").attr(\"d\", \"M0,0H\" + this.xScale(this.model.time.startSelected));\n    this.select.select(\"#clip-start-\" + _this._id).select(\"rect\").attr(\"x\", -this.height / 2).attr(\"y\", -this.height / 2).attr(\"height\", this.height).attr(\"width\", this.xScale(this.model.time.startSelected) + this.height / 2);\n    this.select.select(\".selected-end\").attr(\"d\", \"M\" + this.xScale(this.model.time.endSelected) + \",0H\" + this.xScale(this.model.time.end));\n    this.select.select(\"#clip-end-\" + _this._id).select(\"rect\").attr(\"x\", this.xScale(this.model.time.endSelected)).attr(\"y\", -this.height / 2).attr(\"height\", this.height).attr(\"width\", this.xScale(this.model.time.end) - this.xScale(this.model.time.endSelected) + this.height / 2);\n  },\n  _resizeProgressBar: function _resizeProgressBar() {\n    var _this = this;\n    this.progressBar.selectAll(\"path\").each(function (d) {\n      d3.select(this).attr(\"d\", \"M\" + _this.xScale(d[0]) + \",0H\" + _this.xScale(d[1]));\n    });\n  },\n  _updateProgressBar: function _updateProgressBar(time) {\n    var _this = this;\n    if (time) {\n      if (_this.completedTimeFrames.indexOf(time) != -1) return;\n      _this.completedTimeFrames.push(time);\n      var next = _this.model.time.incrementTime(time);\n      var prev = _this.model.time.decrementTime(time);\n      if (next > _this.model.time.end) {\n        if (time - _this.model.time.end == 0) {\n          next = time;\n          time = prev;\n        } else {\n          return;\n        }\n      }\n      if (_this.availableTimeFrames.length == 0 || _this.availableTimeFrames[_this.availableTimeFrames.length - 1][1] < time) {\n        _this.availableTimeFrames.push([time, next]);\n      } else if (next < _this.availableTimeFrames[0][0]) {\n        _this.availableTimeFrames.unshift([time, next]);\n      } else {\n        for (var i = 0; i < _this.availableTimeFrames.length; i++) {\n          if (time - _this.availableTimeFrames[i][1] == 0) {\n            if (i + 1 < _this.availableTimeFrames.length && next - _this.availableTimeFrames[i + 1][0] == 0) {\n              _this.availableTimeFrames[i][1] = _this.availableTimeFrames[i + 1][1];\n              _this.availableTimeFrames.splice(i + 1, 1);\n            } else {\n              _this.availableTimeFrames[i][1] = next;\n            }\n            break;\n          }\n          if (next - _this.availableTimeFrames[i][0] == 0) {\n            _this.availableTimeFrames[i][0] = time;\n            break;\n          }\n          if (time - _this.availableTimeFrames[i][1] > 0 && next - _this.availableTimeFrames[i + 1][0] < 0) {\n            _this.availableTimeFrames.splice(i + 1, 0, [time, next]);\n            break;\n          }\n        }\n      }\n    } else {\n      _this.availableTimeFrames = [];\n      _this.completedTimeFrames = [];\n    }\n\n    var progress = this.progressBar.selectAll(\"path\").data(_this.availableTimeFrames);\n    progress.exit().remove();\n    progress.enter().append(\"path\").attr(\"class\", \"domain\").merge(progress).each(function (d) {\n      var element = d3.select(this);\n      element.attr(\"d\", \"M\" + _this.xScale(d[0]) + \",0H\" + _this.xScale(d[1])).classed(\"rounded\", _this.availableTimeFrames.length == 1);\n    });\n  },\n\n\n  /**\n   * Returns width of slider text value.\n   * Parameters in this function needed for memoize function, so they are not redundant.\n   */\n  getValueWidth: function getValueWidth(layout, value) {\n    return this.valueText.node().getBoundingClientRect().width;\n  },\n\n\n  /**\n   * Gets brushed function to be executed when dragging\n   * @returns {Function} brushed function\n   */\n  _getBrushed: function _getBrushed() {\n    var _this = this;\n    return function () {\n\n      if (_this.model.time.playing) _this.model.time.set(\"playing\", false, null, false);\n\n      _this._optionClasses();\n      _this.element.classed(class_dragging, true);\n\n      var value = void 0; // = _this.brush.extent()[0];\n      //var value = d3.brushSelection(_this.slide.node());\n\n      //if(!value) return;\n\n      //set brushed properties\n\n      if (d3.event.sourceEvent) {\n        // Prevent window scrolling on cursor drag in Chrome/Chromium.\n        d3.event.sourceEvent.preventDefault();\n\n        _this.model.time.dragStart();\n        var posX = utils.roundStep(Math.round(d3.mouse(this)[0]), precision);\n        value = _this.xScale.invert(posX);\n        var maxPosX = _this.width;\n\n        if (posX > maxPosX) {\n          posX = maxPosX;\n        } else if (posX < 0) {\n          posX = 0;\n        }\n\n        //set handle position\n        _this.handle.attr(\"cx\", posX);\n        _this.valueText.attr(\"transform\", \"translate(\" + posX + \",\" + _this.height / 2 + \")\");\n        _this.valueText.text(_this.model.time.formatDate(value, \"ui\"));\n      }\n\n      //set time according to dragged position\n      if (value - _this.model.time.value !== 0) {\n        _this._setTime(value);\n      }\n    };\n  },\n\n\n  /**\n   * Gets brushedEnd function to be executed when dragging ends\n   * @returns {Function} brushedEnd function\n   */\n  _getBrushedEnd: function _getBrushedEnd() {\n    var _this = this;\n    return function () {\n      _this._setTime.recallLast();\n      _this.element.classed(class_dragging, false);\n      _this.model.time.dragStop();\n      _this.model.time.snap();\n    };\n  },\n\n\n  /**\n   * Sets the handle to the correct position\n   * @param {Boolean} transition whether to use transition or not\n   */\n  _setHandle: function _setHandle(transition) {\n    var _this = this;\n    var value = this.model.time.value;\n    //this.slide.call(this.brush.extent([value, value]));\n    var new_pos = this.xScale(value);\n    //this.brush.move(this.slide, [new_pos, new_pos])\n\n    this.element.classed(\"vzb-ts-disabled\", this.model.time.end <= this.model.time.start);\n    //    this.valueText.text(this.model.time.formatDate(value));\n\n    //    var old_pos = this.handle.attr(\"cx\");\n    //var new_pos = this.xScale(value);\n    if (_this.prevPosition == null) _this.prevPosition = new_pos;\n    var delayAnimations = new_pos > _this.prevPosition ? this.model.time.delayAnimations : 0;\n    if (transition) {\n      this.handle.attr(\"cx\", _this.prevPosition).transition().duration(delayAnimations).ease(d3.easeLinear).attr(\"cx\", new_pos);\n\n      this.valueText.attr(\"transform\", \"translate(\" + _this.prevPosition + \",\" + this.height / 2 + \")\").transition(\"text\").delay(delayAnimations).text(this.model.time.formatDate(value, \"ui\"));\n      this.valueText.transition().duration(delayAnimations).ease(d3.easeLinear).attr(\"transform\", \"translate(\" + new_pos + \",\" + this.height / 2 + \")\");\n    } else {\n      this.handle\n      //cancel active transition\n      .interrupt().attr(\"cx\", new_pos);\n\n      this.valueText\n      //cancel active transition\n      .interrupt().interrupt(\"text\").transition(\"text\");\n      this.valueText.attr(\"transform\", \"translate(\" + new_pos + \",\" + this.height / 2 + \")\").text(this.model.time.formatDate(value, \"ui\"));\n    }\n    _this.prevPosition = new_pos;\n  },\n\n\n  /**\n   * Sets the current time model to time\n   * @param {number} time The time\n   */\n  _setTime: function _setTime(time) {\n    //update state\n    var _this = this;\n    //  frameRate = 50;\n\n    //avoid updating more than once in \"frameRate\"\n    //var now = new Date();\n    //if (this._updTime != null && now - this._updTime < frameRate) return;\n    //this._updTime = now;\n    var persistent = !this.model.time.dragging && !this.model.time.playing;\n    _this.model.time.getModelObject(\"value\").set(time, false, persistent); // non persistent\n  },\n\n\n  /**\n   * Applies some classes to the element according to options\n   */\n  _optionClasses: function _optionClasses() {\n    //show/hide classes\n\n    var show_limits = this.ui.show_limits;\n    var show_value = this.ui.show_value;\n    var show_value_when_drag_play = this.ui.show_value_when_drag_play;\n    var axis_aligned = this.ui.axis_aligned;\n    var show_play = this.ui.show_button && this.model.time.playable;\n\n    if (!show_limits) {\n      this.xAxis.tickValues([]).ticks(0);\n    }\n\n    this.element.classed(class_hide_play, !show_play);\n    this.element.classed(class_playing, this.model.time.playing);\n    this.element.classed(class_show_value, show_value);\n    this.element.classed(class_show_value_when_drag_play, show_value_when_drag_play);\n    this.element.classed(class_axis_aligned, axis_aligned);\n  }\n});\n\nexports.default = TimeSlider;\n\n/***/ }),\n/* 393 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"vzb-timeslider vzb-ts-loading\\\">\\n  <div class=\\\"vzb-ts-slider-wrapper\\\">\\n    <svg class=\\\"vzb-ts-slider\\\">\\n      <g>\\n        <g class=\\\"vzb-ts-slider-axis\\\"></g>\\n        <g class=\\\"vzb-ts-slider-progress\\\"></g>\\n        <g class=\\\"vzb-ts-slider-select\\\"></g>\\n        <circle class=\\\"vzb-ts-slider-handle\\\"></circle>\\n        <text class=\\\"vzb-ts-slider-value\\\"></text>\\n        <line class=\\\"vzb-ts-slider-slide\\\"></line>\\n      </g>\\n      </svg>\\n  </div>\\n\\n  <!-- SVG VIZABI ICONS\\n       source: https://github.com/encharm/Font-Awesome-SVG-PNG/ -->\\n  <div class=\\\"vzb-ts-btns\\\">\\n    <button class=\\\"vzb-ts-btn-loading vzb-ts-btn\\\">\\n      <div class='vzb-loader'></div>\\n    </button>\\n    <button class=\\\"vzb-ts-btn-play vzb-ts-btn\\\">\\n      <svg class=\\\"vzb-icon vzb-icon-play\\\" viewBox=\\\"3 3 42 42\\\"\\n           xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n        <path xmlns=\\\"http://www.w3.org/2000/svg\\\" d=\\\"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\\\"/>\\n      </svg>\\n    </button>\\n    <button class=\\\"vzb-ts-btn-pause vzb-ts-btn\\\">\\n      <svg class=\\\"vzb-icon vzb-icon-pause\\\" viewBox=\\\"3 3 42 42\\\"\\n           xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n        <path xmlns=\\\"http://www.w3.org/2000/svg\\\" d=\\\"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-2 28h-4V16h4v16zm8 0h-4V16h4v16z\\\"/>\\n      </svg>\\n    </button>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n/* 394 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _component = __webpack_require__(3);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*!\n * VIZABI INDICATOR PICKER\n * Reusable indicator picker component\n */\n\nvar INDICATOR = \"which\";\nvar SCALETYPE = \"scaleType\";\nvar MODELTYPE_COLOR = \"color\";\nvar MENU_HORIZONTAL = 1;\nvar MENU_VERTICAL = 2;\n\n//css custom classes\nvar css = {\n  wrapper: \"vzb-treemenu-wrap\",\n  wrapper_outer: \"vzb-treemenu-wrap-outer\",\n  background: \"vzb-treemenu-background\",\n  close: \"vzb-treemenu-close\",\n  search: \"vzb-treemenu-search\",\n  list: \"vzb-treemenu-list\",\n  list_outer: \"vzb-treemenu-list-outer\",\n  list_item: \"vzb-treemenu-list-item\",\n  list_item_leaf: \"vzb-treemenu-list-item-leaf\",\n  leaf: \"vzb-treemenu-leaf\",\n  leaf_content: \"vzb-treemenu-leaf-content\",\n  leaf_content_item: \"vzb-treemenu-leaf-content-item\",\n  leaf_content_item_title: \"vzb-treemenu-leaf-content-item-title\",\n  leaf_content_item_descr: \"vzb-treemenu-leaf-content-item-descr\",\n  hasChild: \"vzb-treemenu-list-item-children\",\n  list_item_label: \"vzb-treemenu-list-item-label\",\n  list_top_level: \"vzb-treemenu-list-top\",\n  search_wrap: \"vzb-treemenu-search-wrap\",\n  isSpecial: \"vzb-treemenu-list-item-special\",\n  hidden: \"vzb-hidden\",\n  title: \"vzb-treemenu-title\",\n  scaletypes: \"vzb-treemenu-scaletypes\",\n  scaletypesDisabled: \"vzb-treemenu-scaletypes-disabled\",\n  scaletypesActive: \"vzb-treemenu-scaletypes-active\",\n  alignYt: \"vzb-align-y-top\",\n  alignYb: \"vzb-align-y-bottom\",\n  alignXl: \"vzb-align-x-left\",\n  alignXr: \"vzb-align-x-right\",\n  alignXc: \"vzb-align-x-center\",\n  menuHorizontal: \"vzb-treemenu-horizontal\",\n  menuVertical: \"vzb-treemenu-vertical\",\n  absPosVert: \"vzb-treemenu-abs-pos-vert\",\n  absPosHoriz: \"vzb-treemenu-abs-pos-horiz\",\n  menuOpenLeftSide: \"vzb-treemenu-open-left-side\",\n  noTransition: \"notransition\"\n};\n\n//options and globals\nvar OPTIONS = {\n  MOUSE_LOCS: [], //contains last locations of mouse\n  MOUSE_LOCS_TRACKED: 3, //max number of locations of mouse\n  DELAY: 200, //amazons multilevel delay\n  TOLERANCE: 150, //this parameter is used for controlling the angle of multilevel dropdown\n  LAST_DELAY_LOC: null, //this is cached location of mouse, when was a delay\n  TIMEOUT: null, //timeout id\n  SEARCH_PROPERTY: \"id\", //property in input data we we'll search by\n  SUBMENUS: \"children\", //property for submenus (used by search)\n  SEARCH_MIN_STR: 1, //minimal length of query string to start searching\n  RESIZE_TIMEOUT: null, //container resize timeout\n  MOBILE_BREAKPOINT: 400, //mobile breakpoint\n  CURRENT_PATH: [], //current active path\n  MIN_COL_WIDTH: 60, //minimal column size\n  MENU_DIRECTION: MENU_HORIZONTAL,\n  MAX_MENU_WIDTH: 320,\n  MENU_OPEN_LEFTSIDE: false\n};\n\nvar Menu = _class2.default.extend({\n  init: function init(parent, menu, options) {\n    var _this = this;\n    this.parent = parent;\n    this.entity = menu;\n    this.OPTIONS = options;\n    this.width = this.OPTIONS.MIN_COL_WIDTH;\n    this.direction = this.OPTIONS.MENU_DIRECTION;\n    this._setDirectionClass();\n    this.menuItems = [];\n    var menuItemsHolder = void 0;\n\n    if (this.entity.empty()) return this;\n\n    this.entity.each(function () {\n      menuItemsHolder = d3.selectAll(this.childNodes).filter(function () {\n        return d3.select(this).classed(css.list);\n      });\n    });\n    if (menuItemsHolder.empty()) menuItemsHolder = this.entity;\n    menu.selectAll(\".\" + css.list_item).filter(function () {\n      return this.parentNode == menuItemsHolder.node();\n    }).each(function () {\n      _this.addSubmenu(d3.select(this));\n    });\n    return this;\n  },\n  setWidth: function setWidth(width, recursive, immediate) {\n    if (this.width != width && this.entity.node()) {\n      this.width = width;\n      if ((this.entity.classed(css.list_top_level) || this.entity.classed(\"active\")) && this.direction == MENU_HORIZONTAL) {\n        if (!immediate) {\n          this.entity.transition().delay(0).duration(100).style(\"width\", this.width + \"px\");\n        } else {\n          this.entity.style(\"width\", this.width + \"px\");\n        }\n      }\n      if (this.entity.classed(css.list_top_level)) {\n        this.entity.selectAll(\".\" + css.leaf).style(\"width\", this.width - 1 + \"px\");\n      }\n      if (recursive) {\n        for (var i = 0; i < this.menuItems.length; i++) {\n          this.menuItems[i].setWidth(this.width, recursive, immediate);\n        }\n      }\n      return this;\n    }\n  },\n\n  /**\n   * configure menu type (horizontal or vertical)\n   * @param direction MENU_HORIZONTAL or MENU_VERTICAL\n   * @param recursive change direction over menu sublevels\n   * @returns {Menu}\n   */\n  setDirection: function setDirection(direction, recursive) {\n    this.direction = direction;\n    this.entity.style(\"width\", \"\").style(\"height\", \"\");\n    if (recursive) {\n      for (var i = 0; i < this.menuItems.length; i++) {\n        this.menuItems[i].setDirection(this.direction, recursive);\n      }\n    }\n    this._setDirectionClass();\n    return this;\n  },\n  _setDirectionClass: function _setDirectionClass() {\n    if (this.direction == MENU_HORIZONTAL) {\n      this.entity.classed(css.menuVertical, false);\n      this.entity.classed(css.menuHorizontal, true);\n    } else {\n      this.entity.classed(css.menuHorizontal, false);\n      this.entity.classed(css.menuVertical, true);\n    }\n  },\n  addSubmenu: function addSubmenu(item) {\n    this.menuItems.push(new MenuItem(this, item, this.OPTIONS));\n  },\n  open: function open() {\n    var _this = this;\n    if (!this.isActive()) {\n      _this.parent.parentMenu.openSubmenuNow = true;\n      this.closeNeighbors(function () {\n        if (_this.direction == MENU_HORIZONTAL) {\n          _this._openHorizontal();\n          _this.calculateMissingWidth(0);\n        } else {\n          _this._openVertical();\n        }\n      });\n      _this.parent.parentMenu.openSubmenuNow = false;\n    }\n    return this;\n  },\n\n  /**\n   * recursively calculate missed width for last menu level\n   * @param width\n   * @param cb\n   */\n  calculateMissingWidth: function calculateMissingWidth(width, cb) {\n    var _this = this;\n    if (this.entity.classed(css.list_top_level)) {\n      if (width > this.OPTIONS.MAX_MENU_WIDTH) {\n        if (typeof cb === \"function\") cb(width - this.OPTIONS.MAX_MENU_WIDTH);\n      }\n    } else {\n      this.parent.parentMenu.calculateMissingWidth(width + this.width, function (widthToReduce) {\n        if (widthToReduce > 0) {\n          _this.reduceWidth(widthToReduce, function (newWidth) {\n            if (typeof cb === \"function\") cb(newWidth); // callback is not defined if it is emitted from this level\n          });\n        } else if (typeof cb === \"function\") cb(widthToReduce);\n      });\n    }\n  },\n\n  /**\n   * restore width (if it was reduced before)\n   * @param width\n   * @param isClosedElement (parameter for check if curent element emit this action)\n   * @param cb\n   */\n  restoreWidth: function restoreWidth(width, isClosedElement, cb) {\n    var _this = this;\n    if (isClosedElement) {\n      this.parent.parentMenu.restoreWidth(width, false, cb);\n    } else if (width <= 0) {\n      if (typeof cb === \"function\") cb();\n    } else if (!this.entity.classed(css.list_top_level)) {\n      var currentElementWidth = this.entity.node().offsetWidth;\n      var newElementWidth = Math.min(width, _this.width);\n      if (currentElementWidth < newElementWidth) {\n        var duration = 250 * (currentElementWidth / newElementWidth);\n        this.entity.transition().delay(0).duration(duration).style(\"width\", newElementWidth + \"px\").on(\"end\", function () {});\n        _this.parent.parentMenu.restoreWidth(width - newElementWidth, false, cb);\n      } else {\n        this.parent.parentMenu.restoreWidth(width, false, cb);\n      }\n    } else {\n      if (typeof cb === \"function\") cb();\n    }\n  },\n\n  /**\n   * made element narrower to free space for other element\n   * @param width\n   * @param cb\n   */\n  reduceWidth: function reduceWidth(width, cb) {\n    var _this = this;\n    var currWidth = this.entity.node().offsetWidth;\n\n    if (currWidth <= this.OPTIONS.MIN_COL_WIDTH) {\n      cb(width - _this.width + currWidth);\n    } else {\n\n      var newElementWidth = Math.max(this.OPTIONS.MIN_COL_WIDTH, _this.width - width);\n      var duration = 250 / (_this.width / newElementWidth);\n      this.entity.transition().delay(0).duration(duration).style(\"width\", newElementWidth + \"px\").on(\"end\", function () {\n        cb(width - _this.width + newElementWidth);\n      });\n    }\n  },\n  _openHorizontal: function _openHorizontal() {\n    var _this = this;\n    _this.entity.classed(\"active\", true).transition().delay(0).duration(250).style(\"width\", _this.width + \"px\").on(\"end\", function () {\n      _this.marqueeToggle(true);\n    });\n  },\n  _openVertical: function _openVertical() {\n    var _this = this;\n    _this.entity.style(\"height\", \"0px\");\n    _this.entity.transition().delay(0).duration(250).style(\"height\", 36 * _this.menuItems.length + \"px\").on(\"end\", function () {\n      _this.entity.style(\"height\", \"auto\");\n      _this.marqueeToggle(true);\n      _this.scrollToFitView();\n    });\n    _this.entity.classed(\"active\", true);\n  },\n  closeAllChildren: function closeAllChildren(cb) {\n    var callbacks = 0;\n    for (var i = 0; i < this.menuItems.length; i++) {\n      if (this.menuItems[i].isActive()) {\n        ++callbacks;\n        this.menuItems[i].submenu.close(function () {\n          if (--callbacks == 0) {\n            if (typeof cb === \"function\") cb();\n          }\n        });\n      }\n    }\n    if (callbacks == 0) {\n      if (typeof cb === \"function\") cb();\n    }\n  },\n  closeNeighbors: function closeNeighbors(cb) {\n    if (this.parent) {\n      this.parent.closeNeighbors(cb);\n    } else {\n      cb();\n    }\n  },\n  close: function close(cb) {\n    var _this = this;\n    this.closeAllChildren(function () {\n      if (_this.direction == MENU_HORIZONTAL) {\n        _this._closeHorizontal(cb);\n      } else {\n        _this._closeVertical(cb);\n      }\n    });\n  },\n  _closeHorizontal: function _closeHorizontal(cb) {\n    var elementWidth = this.entity.node().offsetWidth;\n    var _this = this;\n    var openSubmenuNow = _this.parent.parentMenu.openSubmenuNow;\n    _this.entity.transition().delay(0).duration(20).style(\"width\", 0 + \"px\").on(\"end\", function () {\n      _this.marqueeToggle(false);\n      _this.entity.classed(\"active\", false);\n      if (!openSubmenuNow) {\n        _this.restoreWidth(_this.OPTIONS.MAX_MENU_WIDTH, true, function () {\n          if (typeof cb === \"function\") cb();\n        });\n      } else {\n        if (typeof cb === \"function\") cb();\n      }\n    });\n  },\n  _closeVertical: function _closeVertical(cb) {\n    var _this = this;\n    _this.entity.transition().delay(0).duration(100).style(\"height\", 0 + \"px\").on(\"end\", function () {\n      _this.marqueeToggle(false);\n      _this.entity.classed(\"active\", false);\n      if (typeof cb === \"function\") cb();\n    });\n  },\n  isActive: function isActive() {\n    return this.entity.classed(\"active\");\n  },\n  hasActiveParentNeighbour: function hasActiveParentNeighbour() {\n    return this.menuItems.filter(function (item) {\n      return item.isActive();\n    }).some(function (item) {\n      return !!d3.select(item.entity).node().classed(css.hasChild);\n    });\n  },\n  marqueeToggle: function marqueeToggle(toggle) {\n    for (var i = 0; i < this.menuItems.length; i++) {\n      this.menuItems[i].marqueeToggle(toggle);\n    }\n  },\n  marqueeToggleAll: function marqueeToggleAll(toggle) {\n    for (var i = 0; i < this.menuItems.length; i++) {\n      this.menuItems[i].marqueeToggleAll(toggle);\n    }\n  },\n  findItemById: function findItemById(id) {\n    for (var i = 0; i < this.menuItems.length; i++) {\n      if (this.menuItems[i].entity.data().id == id) {\n        return this.menuItems[i];\n      }\n      if (this.menuItems[i].submenu) {\n        var item = this.menuItems[i].submenu.findItemById(id);\n        if (item) return item;\n      }\n    }\n    return null;\n  },\n  getTopMenu: function getTopMenu() {\n    return this.parent ? this.parent.parentMenu.getTopMenu() : this;\n  },\n  scrollToFitView: function scrollToFitView() {\n    var treeMenuNode = this.getTopMenu().entity.node().parentNode;\n    var parentItemNode = this.entity.node().parentNode;\n    var menuRect = treeMenuNode.getBoundingClientRect();\n    var itemRect = parentItemNode.getBoundingClientRect();\n    var viewportItemTop = itemRect.top - menuRect.top;\n    if (viewportItemTop + itemRect.height > menuRect.height) {\n      var newItemTop = itemRect.height > menuRect.height ? menuRect.height - 10 : itemRect.height + 10;\n\n      var newScrollTop = treeMenuNode.scrollTop + newItemTop - menuRect.height + viewportItemTop;\n\n      var scrollTopTween = function scrollTopTween(scrollTop) {\n        return function () {\n          var i = d3.interpolateNumber(this.scrollTop, scrollTop);\n          return function (t) {\n            treeMenuNode.scrollTop = i(t);\n          };\n        };\n      };\n\n      d3.select(treeMenuNode).transition().duration(100).tween(\"scrolltoptween\", scrollTopTween(newScrollTop));\n    }\n  }\n});\n\nvar MenuItem = _class2.default.extend({\n  init: function init(parent, item, options) {\n    var _this = this;\n    this.parentMenu = parent;\n    this.entity = item;\n    var submenu = item.select(\".\" + css.list_outer);\n    if (submenu.node()) {\n      this.submenu = new Menu(this, submenu, options);\n    }\n    this.entity.select(\".\" + css.list_item_label).on(\"mouseenter\", function () {\n      if (utils.isTouchDevice()) return;\n\n      if (_this.parentMenu.direction == MENU_HORIZONTAL && !d3.select(this).attr(\"children\")) {\n        _this.openSubmenu();\n        _this.marqueeToggle(true);\n      } else if (!_this.parentMenu.hasActiveParentNeighbour()) {\n        _this.closeNeighbors();\n      }\n    }).on(\"click.item\", function () {\n      if (utils.isTouchDevice()) return;\n      d3.event.stopPropagation();\n      if (_this.parentMenu.direction == MENU_HORIZONTAL) {\n        _this.openSubmenu();\n      } else {\n        var view = d3.select(this);\n        //only for leaf nodes\n        if (!view.attr(\"children\")) return;\n        _this.toggleSubmenu();\n      }\n    }).onTap(function (evt) {\n      d3.event.stopPropagation();\n      if (_this.parentMenu.direction == MENU_VERTICAL) {\n        var view = _this.entity.select(\".\" + css.list_item_label);\n        //only for leaf nodes\n        if (!view.attr(\"children\")) return;\n      }\n      _this.toggleSubmenu();\n    });\n    return this;\n  },\n  setWidth: function setWidth(width, recursive, immediate) {\n    if (this.submenu && recursive) {\n      this.submenu.setWidth(width, recursive, immediate);\n    }\n    return this;\n  },\n  setDirection: function setDirection(direction, recursive) {\n    if (this.submenu && recursive) {\n      this.submenu.setDirection(direction, recursive);\n    }\n    return this;\n  },\n  toggleSubmenu: function toggleSubmenu() {\n    if (this.submenu) {\n      if (this.submenu.isActive()) {\n        this.submenu.close();\n      } else {\n        this.submenu.open();\n      }\n    }\n  },\n  openSubmenu: function openSubmenu() {\n    if (this.submenu) {\n      this.submenu.open();\n    } else {\n      this.closeNeighbors();\n    }\n  },\n  closeNeighbors: function closeNeighbors(cb) {\n    this.parentMenu.closeAllChildren(cb);\n  },\n  isActive: function isActive() {\n    return this.submenu && this.submenu.isActive();\n  },\n  marqueeToggleAll: function marqueeToggleAll(toggle) {\n    var _this = this;\n    var labels = this.entity.selectAll(\".\" + css.list_item_label);\n    labels.each(function () {\n      var label = d3.select(this).select(\"span\");\n      var parent = d3.select(this.parentNode);\n      parent.classed(\"marquee\", false);\n      label.style(\"left\", \"\");\n      label.style(\"right\", \"\");\n      label.style(\"width\", \"\");\n      if (toggle) {\n        if (label.node().scrollWidth > label.node().offsetWidth) {\n          label.attr(\"data-content\", label.text());\n          var space = 30;\n          var offset = space + label.node().scrollWidth;\n          label.style(\"left\", -offset + \"px\");\n          label.style(\"right\", -offset + \"px\");\n          label.style(\"width\", offset + \"px\");\n          parent.classed(\"marquee\", true);\n        }\n      }\n    });\n  },\n  marqueeToggle: function marqueeToggle(toggle) {\n    var label = this.entity.select(\".\" + css.list_item_label).select(\"span\");\n    this.entity.classed(\"marquee\", false);\n    label.style(\"left\", \"\");\n    label.style(\"right\", \"\");\n    label.style(\"width\", \"\");\n    if (toggle) {\n      if (label.node().scrollWidth > label.node().offsetWidth) {\n        label.attr(\"data-content\", label.text());\n        var space = 30;\n        var offset = space + label.node().scrollWidth;\n        label.style(\"left\", -offset + \"px\");\n        label.style(\"right\", -offset + \"px\");\n        label.style(\"width\", offset + \"px\");\n        this.entity.classed(\"marquee\", true);\n      }\n    }\n  }\n});\n\nvar TreeMenu = _component2.default.extend({\n\n  //setters-getters\n  tree: function tree(input) {\n    if (!arguments.length) return this._tree;\n    this._tree = input;\n    return this;\n  },\n  callback: function callback(input) {\n    if (!arguments.length) return this._callback;\n    this._callback = input;\n    return this;\n  },\n  markerID: function markerID(input) {\n    if (!arguments.length) return this._markerID;\n    this._markerID = input;\n    this.targetModel(this.model.marker[this._markerID]);\n    return this;\n  },\n  targetModel: function targetModel(input) {\n    if (!arguments.length) return this._targetModel;\n    if (this._targetModel) {\n      this._targetModel.off(\"change\", this.change);\n    }\n    this._targetModel = input;\n    this._targetModel.on(\"change\", this.change);\n    if (this._targetModel.isHook()) {\n      this._targetProp = \"which\";\n    }\n    if (this._targetModel.isEntities()) {\n      this._targetProp = \"dim\";\n    }\n    return this;\n  },\n  targetProp: function targetProp(input) {\n    if (!arguments.length) return this._targetProp;\n    this._targetProp = input;\n    return this;\n  },\n  alignX: function alignX(input) {\n    if (!arguments.length) return this._alignX;\n    this._alignX = input;\n    return this;\n  },\n  alignY: function alignY(input) {\n    if (!arguments.length) return this._alignY;\n    this._alignY = input;\n    return this;\n  },\n  top: function top(input) {\n    if (!arguments.length) return this._top;\n    this._top = input;\n    return this;\n  },\n  left: function left(input) {\n    if (!arguments.length) return this._left;\n    this._left = input;\n    return this;\n  },\n  init: function init(config, context) {\n\n    var _this = this;\n\n    this.name = \"gapminder-treemenu\";\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"marker_tags\",\n      type: \"model\"\n    }, {\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n    // object for manipulation with menu representation level\n    this.menuEntity = null;\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    //default callback\n    this._callback = function (indicator) {\n      console.log(\"Indicator selector: stub callback fired. New indicator is \", indicator);\n    };\n    this._alignX = \"center\";\n    this._alignY = \"center\";\n\n    //options\n    this.OPTIONS = utils.deepClone(OPTIONS);\n\n    this.change = this.change.bind(this);\n  },\n  change: function change(evt, path) {\n    if (path.indexOf(\".\" + this._targetProp) == -1 && (!this._targetModel.isHook() || path.indexOf(\".scaleType\") == -1)) return;\n    this.updateView();\n  },\n  ready: function ready() {\n    this.updateView();\n\n    //TODO: hack! potentially unsafe operation here\n    var tags = void 0;\n    if (this.model.marker_tags) {\n      tags = this.model.marker_tags.label.getData();\n    }\n    this._buildIndicatorsTree(tags);\n  },\n  readyOnce: function readyOnce() {\n    //this function is only called once at start, when both DOM and this.model are ready\n    //this.element contains the view where you can append the menu\n    this.element = d3.select(this.placeholder);\n    //menu class private\n    var _this = this;\n\n    this.element.selectAll(\"div\").remove();\n\n    //general markup\n\n    this.element.append(\"div\").attr(\"class\", css.background).on(\"click\", function () {\n      d3.event.stopPropagation();\n      _this.toggle();\n    });\n\n    this.wrapperOuter = this.element.append(\"div\").classed(css.wrapper_outer, true).classed(css.noTransition, true);\n\n    this.wrapper = this.wrapperOuter.append(\"div\").classed(css.wrapper, true).classed(css.noTransition, true).classed(\"vzb-dialog-scrollable\", true);\n\n    this.wrapper.on(\"click\", function () {\n      d3.event.stopPropagation();\n    });\n\n    this.wrapper.append(\"div\").attr(\"class\", css.close).html(_iconset.close).on(\"click\", function () {\n      d3.event.stopPropagation();\n      _this.toggle();\n    }).select(\"svg\").attr(\"width\", \"0px\").attr(\"height\", \"0px\").attr(\"class\", css.close + \"-icon\");\n\n    this.wrapper.append(\"div\").classed(css.scaletypes, true).append(\"span\");\n    this.wrapper.append(\"div\").classed(css.title, true).append(\"span\");\n\n    this.wrapper.append(\"div\").classed(css.search_wrap, true).append(\"input\").classed(css.search, true).attr(\"type\", \"search\").attr(\"id\", css.search);\n\n    //init functions\n    d3.select(\"body\").on(\"mousemove\", _this._mousemoveDocument);\n    this.wrapper.on(\"mouseleave\", function () {\n      //if(_this.menuEntity.direction != MENU_VERTICAL) _this.menuEntity.closeAllChildren();\n    });\n\n    this.translator = this.model.locale.getTFunction();\n\n    _this._enableSearch();\n\n    _this.resize();\n  },\n  _buildIndicatorsTree: function _buildIndicatorsTree(tagsArray) {\n    if (tagsArray === true || !tagsArray) tagsArray = [];\n\n    var _this = this;\n    var ROOT = \"_root\";\n    var DEFAULT = \"_default\";\n    var UNCLASSIFIED = \"_unclassified\";\n    var ADVANCED = \"advanced\";\n\n    //init the dictionary of tags\n    var tags = {};\n    tags[ROOT] = { id: ROOT, children: [] };\n    tags[UNCLASSIFIED] = { id: UNCLASSIFIED, type: \"folder\", name: this.translator(\"buttons/unclassified\"), children: [] };\n\n    //populate the dictionary of tags\n    tagsArray.forEach(function (tag) {\n      tags[tag.tag] = { id: tag.tag, name: tag.name, type: \"folder\", children: [] };\n    });\n\n    //init the tag tree\n    var indicatorsTree = tags[ROOT];\n    indicatorsTree.children.push(tags[UNCLASSIFIED]);\n\n    //populate the tag tree\n    tagsArray.forEach(function (tag) {\n      if (!tag.parent || !tags[tag.parent]) {\n        // add tag to a root\n        indicatorsTree.children.push(tags[tag.tag]);\n      } else {\n        //add tag to a branch\n        tags[tag.parent].children.push(tags[tag.tag]);\n      }\n    });\n\n    utils.forEach(this.model.marker._root._data, function (dataSource) {\n      if (dataSource._type !== \"data\") return;\n\n      var indicatorsDB = dataSource.getConceptprops();\n      var datasetName = dataSource.getDatasetName();\n      tags[datasetName] = { id: datasetName, type: \"dataset\", children: [] };\n      tags[ROOT].children.push(tags[datasetName]);\n\n      utils.forEach(indicatorsDB, function (entry, id) {\n        //if entry's tag are empty don't include it in the menu\n        if (entry.tags == \"_none\") return;\n        if (!entry.tags) entry.tags = datasetName || UNCLASSIFIED;\n        var concept = { id: id, name: entry.name, unit: entry.unit, description: entry.description, dataSource: dataSource._name };\n        entry.tags.split(\",\").forEach(function (tag) {\n          if (tags[tag.trim()]) {\n            tags[tag.trim()].children.push(concept);\n          } else {\n            //if entry's tag is not found in the tag dictionary\n            if (!_this.consoleGroupOpen) {\n              console.groupCollapsed(\"Some tags were are not found, so indicators went under 'Unclassified' menu\");\n              _this.consoleGroupOpen = true;\n            }\n            utils.warn(\"tag '\" + tag + \"' for indicator '\" + id + \"'\");\n            tags[UNCLASSIFIED].children.push(concept);\n          }\n        });\n      });\n    });\n    if (_this.consoleGroupOpen) {\n      console.groupEnd();\n      delete _this.consoleGroupOpen;\n    }\n    this._sortChildren(indicatorsTree);\n    this.indicatorsTree = indicatorsTree;\n  },\n  _sortChildren: function _sortChildren(tree, isSubfolder) {\n    var _this = this;\n    if (!tree.children) return;\n    tree.children.sort(utils\n    //in each folder including root: put subfolders below loose items\n    .firstBy()(function (a, b) {\n      a = a.type === \"dataset\" ? 1 : 0;b = b.type === \"dataset\" ? 1 : 0;return b - a;\n    }).thenBy(function (a, b) {\n      a = a.children ? 1 : 0;b = b.children ? 1 : 0;return a - b;\n    }).thenBy(function (a, b) {\n      //in the root level put \"time\" on top and send \"anvanced\" to the bottom\n      if (!isSubfolder) {\n        if (a.id == \"time\") return -1;\n        if (b.id == \"time\") return 1;\n        if (a.id == \"advanced\") return 1;\n        if (b.id == \"advanced\") return -1;\n        if (a.id == \"_default\") return 1;\n        if (b.id == \"_default\") return -1;\n      }\n      //sort items alphabetically. folders go down because of the emoji folder in the beginning of the name\n      return a.name > b.name ? 1 : -1;\n    }));\n\n    //recursively sort items in subfolders too\n    tree.children.forEach(function (d) {\n      _this._sortChildren(d, true);\n    });\n  },\n\n\n  //happens on resizing of the container\n  resize: function resize() {\n    var _this = this;\n\n    this.profiles = {\n      \"small\": {\n        col_width: 200\n      },\n      \"medium\": {\n        col_width: 200\n      },\n      \"large\": {\n        col_width: 200\n      }\n    };\n\n    var top = this._top;\n    var left = this._left;\n\n    if (!this.wrapper) return utils.warn(\"treemenu resize() abort because container is undefined\");\n\n    this.wrapper.classed(css.noTransition, true);\n    this.wrapper.node().scrollTop = 0;\n\n    this.activeProfile = this.profiles[this.getLayoutProfile()];\n    this.OPTIONS.IS_MOBILE = this.getLayoutProfile() === \"small\";\n\n    if (this.menuEntity) {\n      this.menuEntity.setWidth(this.activeProfile.col_width, true, true);\n\n      if (this.OPTIONS.IS_MOBILE) {\n        if (this.menuEntity.direction != MENU_VERTICAL) {\n          this.menuEntity.setDirection(MENU_VERTICAL, true);\n          this.OPTIONS.MENU_DIRECTION = MENU_VERTICAL;\n        }\n      } else {\n        if (this.menuEntity.direction != MENU_HORIZONTAL) {\n          this.menuEntity.setDirection(MENU_HORIZONTAL, true);\n          this.OPTIONS.MENU_DIRECTION = MENU_HORIZONTAL;\n        }\n      }\n    }\n\n    this.width = _this.element.node().offsetWidth;\n    this.height = _this.element.node().offsetHeight;\n    var rect = this.wrapperOuter.node().getBoundingClientRect();\n    var containerWidth = rect.width;\n    var containerHeight = rect.height;\n    if (containerWidth) {\n      if (this.OPTIONS.IS_MOBILE) {\n        this.clearPos();\n      } else {\n        if (top || left) {\n          if (this.wrapperOuter.node().offsetTop < 10) {\n            this.wrapperOuter.style(\"top\", \"10px\");\n          }\n          if (this.height - _this.wrapperOuter.node().offsetTop - containerHeight < 0) {\n            if (containerHeight > this.height) {\n              containerHeight = this.height - 20;\n            }\n            this.wrapperOuter.style(\"top\", this.height - containerHeight - 10 + \"px\");\n            this.wrapperOuter.style(\"bottom\", \"auto\");\n          }\n          if (top) top = _this.wrapperOuter.node().offsetTop;\n        }\n\n        var maxHeight = void 0;\n        if (this.wrapperOuter.classed(css.alignYb)) {\n          maxHeight = this.wrapperOuter.node().offsetTop + this.wrapperOuter.node().offsetHeight;\n        } else {\n          maxHeight = this.height - this.wrapperOuter.node().offsetTop;\n        }\n        this.wrapper.style(\"max-height\", maxHeight - 10 + \"px\");\n\n        this.wrapperOuter.classed(css.alignXc, this._alignX === \"center\");\n        this.wrapperOuter.style(\"margin-left\", this._alignX === \"center\" ? \"-\" + containerWidth / 2 + \"px\" : null);\n        if (this._alignX === \"center\") {\n          this.OPTIONS.MAX_MENU_WIDTH = this.width / 2 - containerWidth * 0.5 - 10;\n        } else {\n          this.OPTIONS.MAX_MENU_WIDTH = this.width - this.wrapperOuter.node().offsetLeft - containerWidth - 10; // 10 - padding around wrapper\n        }\n\n        var minMenuWidth = this.activeProfile.col_width + this.OPTIONS.MIN_COL_WIDTH * 2;\n        var leftPos = this.wrapperOuter.node().offsetLeft;\n        this.OPTIONS.MENU_OPEN_LEFTSIDE = this.OPTIONS.MAX_MENU_WIDTH < minMenuWidth && leftPos > this.OPTIONS.MAX_MENU_WIDTH + 10;\n        if (this.OPTIONS.MENU_OPEN_LEFTSIDE) {\n          if (leftPos < minMenuWidth + 10) leftPos = minMenuWidth + 10;\n          this.OPTIONS.MAX_MENU_WIDTH = leftPos - 10; // 10 - padding around wrapper\n        } else {\n          if (this.OPTIONS.MAX_MENU_WIDTH < minMenuWidth) {\n            leftPos -= minMenuWidth - this.OPTIONS.MAX_MENU_WIDTH;\n            this.OPTIONS.MAX_MENU_WIDTH = minMenuWidth;\n          }\n        }\n\n        if (left) {\n          left = leftPos;\n        } else {\n          if (leftPos != this.wrapperOuter.node().offsetLeft) {\n            this.wrapperOuter.style(\"left\", \"auto\");\n            this.wrapperOuter.style(\"right\", this.width - leftPos - rect.width + \"px\");\n          }\n        }\n\n        this._top = top;\n        this._left = left;\n\n        if (left || top) this.setPos();\n\n        this.wrapperOuter.classed(\"vzb-treemenu-open-left-side\", !this.OPTIONS.IS_MOBILE && this.OPTIONS.MENU_OPEN_LEFTSIDE);\n      }\n    }\n\n    this.wrapper.node().offsetHeight;\n    this.wrapper.classed(css.noTransition, false);\n\n    this.setHorizontalMenuHeight();\n\n    return this;\n  },\n  toggle: function toggle() {\n    var _this = this;\n    var hidden = !this.element.classed(css.hidden);\n    this.element.classed(css.hidden, hidden);\n\n    if (hidden) {\n      this.clearPos();\n      this.menuEntity.marqueeToggle(false);\n    } else {\n      this.setPos();\n      !utils.isTouchDevice() && this.focusSearch();\n      this.resize();\n      this.scrollToSelected();\n    }\n\n    this.wrapper.classed(css.noTransition, hidden);\n\n    this.parent.components.forEach(function (c) {\n      if (c.name == \"gapminder-dialogs\") {\n        d3.select(c.placeholder.parentNode).classed(\"vzb-blur\", !hidden);\n      } else if (c.element.classed) {\n        c.element.classed(\"vzb-blur\", c != _this && !hidden);\n      } else {\n        d3.select(c.element).classed(\"vzb-blur\", c != _this && !hidden);\n      }\n    });\n\n    this.width = _this.element.node().offsetWidth;\n  },\n  scrollToSelected: function scrollToSelected() {\n    if (!this.selectedNode) return;\n    var _this = this;\n    var scrollToItem = function scrollToItem(listNode, itemNode) {\n      listNode.scrollTop = 0;\n      var rect = listNode.getBoundingClientRect();\n      var itemRect = itemNode.getBoundingClientRect();\n      var scrollTop = itemRect.bottom - rect.top - listNode.offsetHeight + 10;\n      listNode.scrollTop = scrollTop;\n    };\n\n    if (this.menuEntity.direction == MENU_VERTICAL) {\n      scrollToItem(this.wrapper.node(), this.selectedNode);\n      _this.menuEntity.marqueeToggleAll(true);\n    } else {\n      var selectedItem = this.menuEntity.findItemById(d3.select(this.selectedNode).data().id);\n      selectedItem.submenu.calculateMissingWidth(0, function () {\n        _this.menuEntity.marqueeToggleAll(true);\n      });\n\n      var parent = this.selectedNode;\n      var listNode = void 0;\n      while (!utils.hasClass(parent, css.list_top_level)) {\n        if (parent.tagName == \"LI\") {\n          listNode = utils.hasClass(parent.parentNode, css.list_top_level) ? parent.parentNode.parentNode : parent.parentNode;\n          scrollToItem(listNode, parent);\n        }\n        parent = parent.parentNode;\n      }\n    }\n  },\n  setPos: function setPos() {\n    var top = this._top;\n    var left = this._left;\n    var rect = this.wrapperOuter.node().getBoundingClientRect();\n\n    if (top) {\n      this.wrapperOuter.style(\"top\", top + \"px\");\n      this.wrapperOuter.style(\"bottom\", \"auto\");\n      this.wrapperOuter.classed(css.absPosVert, top);\n    }\n    if (left) {\n      var right = this.element.node().offsetWidth - left - rect.width;\n      right = right < 10 ? 10 : right;\n      this.wrapperOuter.style(\"right\", right + \"px\");\n      this.wrapperOuter.style(\"left\", \"auto\");\n      this.wrapperOuter.classed(css.absPosHoriz, right);\n    }\n  },\n  clearPos: function clearPos() {\n    this._top = \"\";\n    this._left = \"\";\n    this.wrapperOuter.attr(\"style\", \"\");\n    this.wrapperOuter.classed(css.absPosVert, \"\");\n    this.wrapperOuter.classed(css.absPosHoriz, \"\");\n    this.wrapperOuter.classed(css.menuOpenLeftSide, \"\");\n    this.wrapper.style(\"max-height\", \"\");\n  },\n  setHorizontalMenuHeight: function setHorizontalMenuHeight() {\n    var wrapperHeight = null;\n    if (this.menuEntity && this.OPTIONS.MENU_DIRECTION == MENU_HORIZONTAL && this.menuEntity.menuItems.length) {\n      var oneItemHeight = parseInt(this.menuEntity.menuItems[0].entity.style(\"height\"), 10) || 0;\n      var menuMaxHeight = oneItemHeight * this._maxChildCount;\n      var rootMenuHeight = Math.max(this.menuEntity.menuItems.length, 3) * oneItemHeight + this.menuEntity.entity.node().offsetTop + parseInt(this.wrapper.style(\"padding-bottom\"), 10);\n      wrapperHeight = \"\" + Math.max(menuMaxHeight, rootMenuHeight) + \"px\";\n    }\n    this.wrapper.classed(css.noTransition, true);\n    this.wrapper.node().offsetHeight;\n    this.wrapper.style(\"height\", wrapperHeight);\n    this.wrapper.node().offsetHeight;\n    this.wrapper.classed(css.noTransition, false);\n  },\n\n  //search listener\n  _enableSearch: function _enableSearch() {\n    var _this = this;\n\n    var input = this.wrapper.select(\".\" + css.search);\n\n    //it forms the array of possible queries\n    var getMatches = function getMatches(value) {\n      var matches = {\n        _id: \"root\",\n        children: []\n      };\n\n      //translation integration\n      var translationMatch = function translationMatch(value, data, i) {\n\n        var translate = data[i].name;\n        if (!translate && _this.translator) {\n          var t1 = _this.translator(\"indicator\" + \"/\" + data[i][_this.OPTIONS.SEARCH_PROPERTY] + \"/\" + _this._targetModel._type);\n          translate = t1 || _this.translator(\"indicator/\" + data[i][_this.OPTIONS.SEARCH_PROPERTY]);\n        }\n        return translate && translate.toLowerCase().indexOf(value.toLowerCase()) >= 0;\n      };\n\n      var matching = function matching(data) {\n        var SUBMENUS = _this.OPTIONS.SUBMENUS;\n        for (var i = 0; i < data.length; i++) {\n          var match = false;\n          match = translationMatch(value, data, i);\n          if (match) {\n            matches.children.push(data[i]);\n          }\n          if (!match && data[i][SUBMENUS]) {\n            matching(data[i][SUBMENUS]);\n          }\n        }\n      };\n      matching(_this.dataFiltered.children);\n\n      matches.children = utils.unique(matches.children, function (child) {\n        return child.id;\n      });\n      return matches;\n    };\n\n    var searchValueNonEmpty = false;\n\n    var searchIt = utils.debounce(function () {\n      var value = input.node().value;\n\n      //Protection from unwanted IE11 input events.\n      //IE11 triggers an 'input' event when 'placeholder' attr is set to input element and\n      //on 'focusin' and on 'focusout', if nothing has been entered into the input.\n      if (!searchValueNonEmpty && value == \"\") return;\n      searchValueNonEmpty = value != \"\";\n\n      if (value.length >= _this.OPTIONS.SEARCH_MIN_STR) {\n        _this.redraw(getMatches(value), true);\n      } else {\n        _this.redraw();\n      }\n    }, 250);\n\n    input.on(\"input\", searchIt);\n  },\n  _selectIndicator: function _selectIndicator(value) {\n    this._callback(this._targetProp, value);\n    this.toggle();\n  },\n\n\n  //function is redrawing data and built structure\n  redraw: function redraw(data, useDataFiltered) {\n    var _this = this;\n\n    var isHook = _this._targetModel.isHook();\n\n    var dataFiltered = void 0,\n        allowedIDs = void 0;\n\n    var indicatorsDB = {};\n    utils.forEach(this.model.marker._root._data, function (m) {\n      if (m._type === \"data\") utils.deepExtend(indicatorsDB, m.getConceptprops());\n    });\n\n    var targetModelType = _this._targetModel._type;\n\n    if (useDataFiltered) {\n      dataFiltered = data;\n    } else {\n      if (data == null) data = this._tree;\n\n      if (isHook) {\n        allowedIDs = utils.keys(indicatorsDB).filter(function (f) {\n          //check if indicator is denied to show with allow->names->!indicator\n          if (_this._targetModel.allow && _this._targetModel.allow.names) {\n            if (_this._targetModel.allow.names.indexOf(\"!\" + f) != -1) return false;\n            if (_this._targetModel.allow.names.indexOf(f) != -1) return true;\n          }\n          //keep indicator if nothing is specified in tool properties\n          if (!_this._targetModel.allow || !_this._targetModel.allow.scales) return true;\n          //keep indicator if any scale is allowed in tool properties\n          if (_this._targetModel.allow.scales[0] == \"*\") return true;\n\n          // if no scales defined, all are allowed\n          if (!indicatorsDB[f].scales) return true;\n\n          //check if there is an intersection between the allowed tool scale types and the ones of indicator\n          for (var i = indicatorsDB[f].scales.length - 1; i >= 0; i--) {\n            if (_this._targetModel.allow.scales.indexOf(indicatorsDB[f].scales[i]) > -1) return true;\n          }\n\n          return false;\n        });\n      } else if (_this._targetModel.isEntities()) {\n        var entityTypes = [\"entity_domain\", \"entity_set\"];\n        allowedIDs = utils.keys(indicatorsDB).filter(function (f) {\n          return entityTypes.indexOf(indicatorsDB[f].concept_type) > -1;\n        });\n      } else {\n        allowedIDs = utils.keys(indicatorsDB);\n      }\n\n      dataFiltered = utils.pruneTree(data, function (f) {\n        return allowedIDs.indexOf(f.id) > -1;\n      });\n\n      this.dataFiltered = dataFiltered;\n    }\n\n    this.wrapper.select(\"ul\").remove();\n\n    this.element.select(\".\" + css.title).select(\"span\").text(this.translator(_this._targetModel.isEntities() ? _this._targetModel._root._name + \"/\" + _this._targetModel._name : \"buttons/\" + (isHook ? _this._targetModel._name : targetModelType + \"/\" + _this._targetProp)));\n\n    this.element.select(\".\" + css.search).attr(\"placeholder\", this.translator(\"placeholder/search\") + \"...\");\n\n    this._maxChildCount = 0;\n\n    function createSubmeny(select, data, toplevel) {\n      if (!data.children) return;\n      _this._maxChildCount = Math.max(_this._maxChildCount, data.children.length);\n      var _select = toplevel ? select : select.append(\"div\").classed(css.list_outer, true);\n\n      var li = _select.append(\"ul\").classed(css.list, !toplevel).classed(css.list_top_level, toplevel).classed(\"vzb-dialog-scrollable\", true).selectAll(\"li\").data(data.children, function (d) {\n        return d[\"id\"];\n      }).enter().append(\"li\");\n\n      li.append(\"span\").classed(css.list_item_label, true)\n      // .attr(\"info\", function(d) {\n      //   return d.id;\n      // })\n      .attr(\"children\", function (d) {\n        return d.children ? \"true\" : null;\n      }).attr(\"type\", function (d) {\n        return d.type ? d.type : null;\n      }).on(\"click\", function (d) {\n        var view = d3.select(this);\n        //only for leaf nodes\n        if (view.attr(\"children\")) return;\n        d3.event.stopPropagation();\n        _this._selectIndicator({ concept: d.id, dataSource: d.dataSource });\n      }).append(\"span\").text(function (d) {\n        //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n        var translated = d.id === \"_default\" ? _this.translator(\"indicator/_default/\" + targetModelType) : d.name || d.id;\n        if (!translated && translated !== \"\") utils.warn(\"translation missing: NAME of \" + d.id);\n        return translated || \"\";\n      });\n\n      li.classed(css.list_item, true).classed(css.hasChild, function (d) {\n        return d[\"children\"];\n      }).classed(css.isSpecial, function (d) {\n        return d[\"special\"];\n      }).each(function (d) {\n        var view = d3.select(this);\n\n        //deepLeaf\n        if (!d.children) {\n          var deepLeaf = view.append(\"div\").attr(\"class\", css.menuHorizontal + \" \" + css.list_outer + \" \" + css.list_item_leaf);\n          deepLeaf.on(\"click\", function (d) {\n            _this._selectIndicator({ concept: d.id, dataSource: d.dataSource });\n          });\n          var deepLeafContent = deepLeaf.append(\"div\").classed(css.leaf + \" \" + css.leaf_content + \" vzb-dialog-scrollable\", true);\n          deepLeafContent.append(\"span\").classed(css.leaf_content_item + \" \" + css.leaf_content_item_title, true).text(function (d) {\n            //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n            var translated = d.id === \"_default\" ? _this.translator(\"indicator/_default/\" + targetModelType) : d.name;\n            return translated || \"\";\n          });\n          var hideUnits = void 0;\n          var units = deepLeafContent.append(\"span\").classed(css.leaf_content_item, true).text(function (d) {\n            //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n            var translated = d.id === \"_default\" ? _this.translator(\"unit/_default/\" + targetModelType) : d.unit;\n            hideUnits = !translated;\n            return _this.translator(\"hints/units\") + \": \" + translated || \"\";\n          });\n          units.classed(\"vzb-hidden\", hideUnits);\n          var hideDescription = void 0;\n          var description = deepLeafContent.append(\"span\").classed(css.leaf_content_item + \" \" + css.leaf_content_item_descr, true).text(function (d) {\n            //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n            var translated = d.id === \"_default\" ? _this.translator(\"description/_default/\" + targetModelType) : d.description;\n            hideDescription = !translated;\n            return hideUnits && hideDescription ? _this.translator(\"hints/nodescr\") : translated || \"\";\n          });\n          description.classed(\"vzb-hidden\", hideDescription && !hideUnits);\n        }\n\n        if (d.id == _this._targetModel[_this._targetProp]) {\n          var parent = void 0;\n          if (_this.selectedNode && toplevel) {\n            parent = _this.selectedNode.parentNode;\n            d3.select(_this.selectedNode).select(\".\" + css.list_item_leaf).classed(\"active\", false);\n            while (!utils.hasClass(parent, css.list_top_level)) {\n              if (parent.tagName == \"UL\") {\n                d3.select(parent.parentNode).classed(\"active\", false);\n              }\n              parent = parent.parentNode;\n            }\n          }\n          if (!_this.selectedNode || toplevel) {\n            parent = this.parentNode;\n            d3.select(this).classed(\"item-active\", true).select(\".\" + css.list_item_leaf).classed(\"active\", true);\n            while (!utils.hasClass(parent, css.list_top_level)) {\n              if (parent.tagName == \"UL\") {\n                d3.select(parent.parentNode).classed(\"active\", true);\n              }\n              if (parent.tagName == \"LI\") {\n                d3.select(parent).classed(\"item-active\", true);\n              }\n              parent = parent.parentNode;\n            }\n            _this.selectedNode = this;\n          }\n        }\n        createSubmeny(view, d);\n      });\n    }\n\n    if (this.OPTIONS.IS_MOBILE) {\n      this.OPTIONS.MENU_DIRECTION = MENU_VERTICAL;\n    } else {\n      this.OPTIONS.MENU_DIRECTION = MENU_HORIZONTAL;\n    }\n    this.selectedNode = null;\n    createSubmeny(this.wrapper, dataFiltered, true);\n    this.menuEntity = new Menu(null, this.wrapper.selectAll(\".\" + css.list_top_level), this.OPTIONS);\n    if (this.menuEntity) this.menuEntity.setDirection(this.OPTIONS.MENU_DIRECTION);\n    if (this.menuEntity) this.menuEntity.setWidth(this.activeProfile.col_width, true, true);\n\n    this.setHorizontalMenuHeight();\n\n    if (!useDataFiltered) {\n      var pointer = \"_default\";\n      if (allowedIDs.indexOf(this._targetModel[_this._targetProp]) > -1) pointer = this._targetModel[_this._targetProp];\n      if (!indicatorsDB[pointer]) utils.error(\"Concept properties of \" + pointer + \" are missing from the set, or the set is empty. Put a breakpoint here and check what you have in indicatorsDB\");\n\n      if (!indicatorsDB[pointer].scales) {\n        this.element.select(\".\" + css.scaletypes).classed(css.hidden, true);\n        return true;\n      }\n      var scaleTypesData = isHook ? indicatorsDB[pointer].scales.filter(function (f) {\n        if (!_this._targetModel.allow || !_this._targetModel.allow.scales) return true;\n        if (_this._targetModel.allow.scales[0] == \"*\") return true;\n        return _this._targetModel.allow.scales.indexOf(f) > -1;\n      }) : [];\n      if (scaleTypesData.length == 0) {\n        this.element.select(\".\" + css.scaletypes).classed(css.hidden, true);\n      } else {\n\n        var scaleTypes = this.element.select(\".\" + css.scaletypes).classed(css.hidden, false).selectAll(\"span\").data(scaleTypesData, function (d) {\n          return d;\n        });\n\n        scaleTypes.exit().remove();\n\n        scaleTypes = scaleTypes.enter().append(\"span\").on(\"click\", function (d) {\n          d3.event.stopPropagation();\n          _this._setModel(\"scaleType\", d);\n        }).merge(scaleTypes);\n\n        var mdlScaleType = _this._targetModel.scaleType;\n\n        scaleTypes.classed(css.scaletypesDisabled, scaleTypesData.length < 2).classed(css.scaletypesActive, function (d) {\n          return (d == mdlScaleType || d === \"log\" && mdlScaleType === \"genericLog\") && scaleTypesData.length > 1;\n        }).text(function (d) {\n          return _this.translator(\"scaletype/\" + d);\n        });\n      }\n    }\n\n    return this;\n  },\n  updateView: function updateView() {\n    var _this = this;\n\n    if (!this._targetModel) return;\n\n    this.wrapperOuter.classed(css.absPosVert, this._top);\n    this.wrapperOuter.classed(css.alignYt, this._alignY === \"top\");\n    this.wrapperOuter.classed(css.alignYb, this._alignY === \"bottom\");\n    this.wrapperOuter.classed(css.absPosHoriz, this._left);\n    this.wrapperOuter.classed(css.alignXl, this._alignX === \"left\");\n    this.wrapperOuter.classed(css.alignXr, this._alignX === \"right\");\n\n    var setModel = this._setModel.bind(this);\n    this.callback(setModel).tree(this.indicatorsTree).redraw();\n\n    this.wrapper.select(\".\" + css.search).node().value = \"\";\n\n    return this;\n  },\n  focusSearch: function focusSearch() {\n    var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    var searchInput = this.wrapper.select(\".\" + css.search).node();\n\n    if (focus) {\n      searchInput.focus();\n    } else {\n      searchInput.blur();\n    }\n  },\n  _setModel: function _setModel(what, value) {\n\n    var mdl = this._targetModel;\n    if (what == \"which\") mdl.setWhich(value);\n    if (what == \"scaleType\") mdl.setScaleType(value);\n    if (what == \"dim\") mdl.setDimension(value);\n  }\n});\n\nexports.default = TreeMenu;\n\n/***/ }),\n/* 395 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./_dialog.js\": 10,\n\t\"./about/about.js\": 152,\n\t\"./axes/axes.js\": 153,\n\t\"./colors/colors.js\": 155,\n\t\"./dialogs.js\": 156,\n\t\"./find/find.js\": 157,\n\t\"./grouping/grouping.js\": 158,\n\t\"./label/label.js\": 159,\n\t\"./moreoptions/moreoptions.js\": 161,\n\t\"./opacity/opacity.js\": 162,\n\t\"./presentation/presentation.js\": 163,\n\t\"./show/show.js\": 164,\n\t\"./side/side.js\": 165,\n\t\"./size/size.js\": 166,\n\t\"./speed/speed.js\": 167,\n\t\"./stack/stack.js\": 168,\n\t\"./timedisplay/timedisplay.js\": 170,\n\t\"./zoom/zoom.js\": 172\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 395;\n\n/***/ }),\n/* 396 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./d3.axisWithLabelPicker.js\": 151,\n\t\"./d3.collisionResolver.js\": 397,\n\t\"./d3.colorPicker.js\": 150,\n\t\"./d3.dynamicBackground.js\": 171,\n\t\"./d3.genericLogScale.js\": 145,\n\t\"./d3.geoProjection.js\": 398,\n\t\"./d3.touchEvents.js\": 146,\n\t\"./labels.js\": 399,\n\t\"./requireAll.js\": 99,\n\t\"./svgexport.js\": 401,\n\t\"./textEllipsis.js\": 402,\n\t\"./topojson.js\": 403\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 396;\n\n/***/ }),\n/* 397 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = collisionResolver;\n//d3.svg.collisionResolver\n\nfunction collisionResolver() {\n  return function collision_resolver() {\n    var DURATION = 300;\n    var labelHeight = 0;\n    // MAINN FUNCTION. RUN COLLISION RESOLVER ON A GROUP g\n    function resolver(g) {\n      if (selector == null) {\n        console.warn(\"D3 collision resolver stopped: missing a CSS slector\");\n        return;\n      }\n      if (height == null) {\n        console.warn(\"D3 collision resolver stopped: missing height of the canvas\");\n        return;\n      }\n      if (value == null) {\n        console.warn(\"D3 collision resolver stopped: missing pointer within data objects. Example: value = 'valueY' \");\n        return;\n      }\n      if (KEY == null) {\n        console.warn(\"D3 collision resolver stopped: missing a key for data. Example: key = 'geo' \");\n        return;\n      }\n      labelHeight = g.node().getBBox().height * 0.8;\n      //actually reposition the labels\n      var data = g.filter(function (d) {\n        return filter(d, time);\n      }).sort(function (x, y) {\n        return d3.ascending(x.valueY, y.valueY);\n      }).data();\n      var keys = {};\n      for (var i = 0; i < data.length - 1; i++) {\n        var first = data[i];\n        var second = data[i + 1];\n        if (!first.shiftY) first.shiftY = 0;\n        second.shiftY = 0;\n        if (second.valueY - first.valueY - first.shiftY >= labelHeight) continue;\n        var upperAvailable = 0;\n        // calculate available space above first element\n        if (first.valueY > labelHeight) {\n          if (i == 0) {\n            upperAvailable = Math.min(labelHeight, first.valueY);\n          } else if (first.valueY - data[i - 1].valueY + data[i - 1].shiftY > labelHeight) {\n            upperAvailable = Math.min(labelHeight, first.valueY - data[i - 1].valueY + data[i - 1].shiftY);\n          }\n        }\n        first.upperAvailable = upperAvailable;\n        var underAvailable = 0;\n        // calculate available space under second element\n        if (second.valueY < height) {\n          if (i == data.length - 2) {\n            underAvailable = Math.min(labelHeight, height - second.valueY);\n          } else if (data[i + 2].valueY - second.valueY > labelHeight) {\n            underAvailable = Math.min(labelHeight, data[i + 2].valueY - second.valueY);\n          }\n        }\n        second.underAvailable = underAvailable;\n        var neededSpace = labelHeight - (second.valueY - first.valueY - first.shiftY);\n        keys[first[KEY]] = {};\n        keys[second[KEY]] = {};\n        if (upperAvailable >= neededSpace / 2 && underAvailable >= neededSpace / 2) {\n          first.shiftY = -neededSpace / 2;\n          second.shiftY = neededSpace / 2;\n        } else if (upperAvailable >= neededSpace / 2) {\n          second.shiftY = underAvailable;\n          first.shiftY = -Math.min(upperAvailable, neededSpace - underAvailable);\n        } else if (underAvailable >= neededSpace / 2) {\n          first.shiftY -= upperAvailable;\n          second.shiftY = Math.min(underAvailable, neededSpace - upperAvailable);\n        } else {\n          first.shiftY = -upperAvailable;\n          second.shiftY = underAvailable;\n        }\n        keys[first[KEY]].valueY = first.valueY + first.shiftY;\n        keys[second[KEY]].valueY = second.valueY + second.shiftY;\n      }\n      g.each(function (d, i) {\n        if (keys[d[KEY]] && keys[d[KEY]].valueY) {\n          d3.select(this).selectAll(selector).transition().duration(DURATION).attr(\"transform\", \"translate(0,\" + keys[d[KEY]].valueY + \")\");\n        }\n      });\n    }\n\n    // GETTERS AND SETTERS\n\n    var selector = null;\n    resolver.selector = function (arg) {\n      if (!arguments.length) return selector;\n      selector = arg;\n      return resolver;\n    };\n    var height = null;\n    resolver.height = function (arg) {\n      if (!arguments.length) return height;\n      height = arg;\n      return resolver;\n    };\n    var scale = d3.scaleLinear().domain([0, 1]).range([0, 1]);\n    resolver.scale = function (arg) {\n      if (!arguments.length) return scale;\n      scale = arg;\n      return resolver;\n    };\n    var value = null;\n    resolver.value = function (arg) {\n      if (!arguments.length) return value;\n      value = arg;\n      return resolver;\n    };\n    var time = null;\n    resolver.time = function (arg) {\n      if (!arguments.length) return time;\n      time = arg;\n      return resolver;\n    };\n    var filter = function filter() {\n      return true;\n    };\n    resolver.filter = function (arg) {\n      if (!arguments.length) return filter;\n      filter = arg;\n      return resolver;\n    };\n    var fixed = null;\n    resolver.fixed = function (arg) {\n      if (!arguments.length) return fixed;\n      fixed = arg;\n      return resolver;\n    };\n    var handleResult = null;\n    resolver.handleResult = function (arg) {\n      if (!arguments.length) return handleResult;\n      handleResult = arg;\n      return resolver;\n    };\n    var KEY = null;\n    resolver.KEY = function (arg) {\n      if (!arguments.length) return KEY;\n      KEY = arg;\n      return resolver;\n    };\n    return resolver;\n  }();\n}\n\n/***/ }),\n/* 398 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  d3.geoProject = function (object, projection) {\n    var stream = projection.stream;\n    if (!stream) throw new Error(\"not yet supported\");\n    return (object && d3_geo_projectObjectType.hasOwnProperty(object.type) ? d3_geo_projectObjectType[object.type] : d3_geo_projectGeometry)(object, stream);\n  };\n  function d3_geo_projectFeature(object, stream) {\n    return {\n      type: \"Feature\",\n      id: object.id,\n      properties: object.properties,\n      geometry: d3_geo_projectGeometry(object.geometry, stream)\n    };\n  }\n  function d3_geo_projectGeometry(geometry, stream) {\n    if (!geometry) return null;\n    if (geometry.type === \"GeometryCollection\") return {\n      type: \"GeometryCollection\",\n      geometries: object.geometries.map(function (geometry) {\n        return d3_geo_projectGeometry(geometry, stream);\n      })\n    };\n    if (!d3_geo_projectGeometryType.hasOwnProperty(geometry.type)) return null;\n    var sink = d3_geo_projectGeometryType[geometry.type];\n    d3.geoUstream(geometry, stream(sink));\n    return sink.result();\n  }\n  var d3_geo_projectObjectType = {\n    Feature: d3_geo_projectFeature,\n    FeatureCollection: function FeatureCollection(object, stream) {\n      return {\n        type: \"FeatureCollection\",\n        features: object.features.map(function (feature) {\n          return d3_geo_projectFeature(feature, stream);\n        })\n      };\n    }\n  };\n  var d3_geo_projectPoints = [],\n      d3_geo_projectLines = [];\n  var d3_geo_projectPoint = {\n    point: function point(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    result: function result() {\n      var result = !d3_geo_projectPoints.length ? null : d3_geo_projectPoints.length < 2 ? {\n        type: \"Point\",\n        coordinates: d3_geo_projectPoints[0]\n      } : {\n        type: \"MultiPoint\",\n        coordinates: d3_geo_projectPoints\n      };\n      d3_geo_projectPoints = [];\n      return result;\n    }\n  };\n  var d3_geo_projectLine = {\n    lineStart: d3_geo_projectNoop,\n    point: function point(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    lineEnd: function lineEnd() {\n      if (d3_geo_projectPoints.length) d3_geo_projectLines.push(d3_geo_projectPoints), d3_geo_projectPoints = [];\n    },\n    result: function result() {\n      var result = !d3_geo_projectLines.length ? null : d3_geo_projectLines.length < 2 ? {\n        type: \"LineString\",\n        coordinates: d3_geo_projectLines[0]\n      } : {\n        type: \"MultiLineString\",\n        coordinates: d3_geo_projectLines\n      };\n      d3_geo_projectLines = [];\n      return result;\n    }\n  };\n  var d3_geo_projectPolygon = {\n    polygonStart: d3_geo_projectNoop,\n    lineStart: d3_geo_projectNoop,\n    point: function point(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    lineEnd: function lineEnd() {\n      var n = d3_geo_projectPoints.length;\n      if (n) {\n        do {\n          d3_geo_projectPoints.push(d3_geo_projectPoints[0].slice());\n        } while (++n < 4);\n        d3_geo_projectLines.push(d3_geo_projectPoints), d3_geo_projectPoints = [];\n      }\n    },\n    polygonEnd: d3_geo_projectNoop,\n    result: function result() {\n      if (!d3_geo_projectLines.length) return null;\n      var polygons = [],\n          holes = [];\n      d3_geo_projectLines.forEach(function (ring) {\n        if (d3_geo_projectClockwise(ring)) polygons.push([ring]);else holes.push(ring);\n      });\n      holes.forEach(function (hole) {\n        var point = hole[0];\n        polygons.some(function (polygon) {\n          if (d3_geo_projectContains(polygon[0], point)) {\n            polygon.push(hole);\n            return true;\n          }\n          return false;\n        }) || polygons.push([hole]);\n      });\n      d3_geo_projectLines = [];\n      return !polygons.length ? null : polygons.length > 1 ? {\n        type: \"MultiPolygon\",\n        coordinates: polygons\n      } : {\n        type: \"Polygon\",\n        coordinates: polygons[0]\n      };\n    }\n  };\n  var d3_geo_projectGeometryType = {\n    Point: d3_geo_projectPoint,\n    MultiPoint: d3_geo_projectPoint,\n    LineString: d3_geo_projectLine,\n    MultiLineString: d3_geo_projectLine,\n    Polygon: d3_geo_projectPolygon,\n    MultiPolygon: d3_geo_projectPolygon,\n    Sphere: d3_geo_projectPolygon\n  };\n  function d3_geo_projectNoop() {}\n  function d3_geo_projectClockwise(ring) {\n    if ((n = ring.length) < 4) return false;\n    var i = 0,\n        n,\n        area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n    while (++i < n) {\n      area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n    }return area <= 0;\n  }\n  function d3_geo_projectContains(ring, point) {\n    var x = point[0],\n        y = point[1],\n        contains = false;\n    for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n      var pi = ring[i],\n          xi = pi[0],\n          yi = pi[1],\n          pj = ring[j],\n          xj = pj[0],\n          yj = pj[1];\n      if (yi > y ^ yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi) contains = !contains;\n    }\n    return contains;\n  }\n  var ε = 1e-6,\n      ε2 = ε * ε,\n      π = Math.PI,\n      halfπ = π / 2,\n      sqrtπ = Math.sqrt(π),\n      radians = π / 180,\n      degrees = 180 / π;\n  function sinci(x) {\n    return x ? x / Math.sin(x) : 1;\n  }\n  function sgn(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n  function asin(x) {\n    return x > 1 ? halfπ : x < -1 ? -halfπ : Math.asin(x);\n  }\n  function acos(x) {\n    return x > 1 ? 0 : x < -1 ? π : Math.acos(x);\n  }\n  function asqrt(x) {\n    return x > 0 ? Math.sqrt(x) : 0;\n  }\n  var projection = d3.geoProjection,\n      projectionMutator = d3.geoProjectionMutator;\n  d3.geoInterrupt = function (project) {\n    var lobes = [[[[-π, 0], [0, halfπ], [π, 0]]], [[[-π, 0], [0, -halfπ], [π, 0]]]];\n    var bounds;\n    function forward(λ, φ) {\n      var sign = φ < 0 ? -1 : +1,\n          hemilobes = lobes[+(φ < 0)];\n      for (var i = 0, n = hemilobes.length - 1; i < n && λ > hemilobes[i][2][0]; ++i) {}\n      var coordinates = project(λ - hemilobes[i][1][0], φ);\n      coordinates[0] += project(hemilobes[i][1][0], sign * φ > sign * hemilobes[i][0][1] ? hemilobes[i][0][1] : φ)[0];\n      return coordinates;\n    }\n    function reset() {\n      bounds = lobes.map(function (hemilobes) {\n        return hemilobes.map(function (lobe) {\n          var x0 = project(lobe[0][0], lobe[0][1])[0],\n              x1 = project(lobe[2][0], lobe[2][1])[0],\n              y0 = project(lobe[1][0], lobe[0][1])[1],\n              y1 = project(lobe[1][0], lobe[1][1])[1],\n              t;\n          if (y0 > y1) t = y0, y0 = y1, y1 = t;\n          return [[x0, y0], [x1, y1]];\n        });\n      });\n    }\n    if (project.invert) forward.invert = function (x, y) {\n      var hemibounds = bounds[+(y < 0)],\n          hemilobes = lobes[+(y < 0)];\n      for (var i = 0, n = hemibounds.length; i < n; ++i) {\n        var b = hemibounds[i];\n        if (b[0][0] <= x && x < b[1][0] && b[0][1] <= y && y < b[1][1]) {\n          var coordinates = project.invert(x - project(hemilobes[i][1][0], 0)[0], y);\n          coordinates[0] += hemilobes[i][1][0];\n          return pointEqual(forward(coordinates[0], coordinates[1]), [x, y]) ? coordinates : null;\n        }\n      }\n    };\n    var projection = d3.geoProjection(forward),\n        stream_ = projection.stream;\n    projection.stream = function (stream) {\n      var rotate = projection.rotate(),\n          rotateStream = stream_(stream),\n          sphereStream = (projection.rotate([0, 0]), stream_(stream));\n      projection.rotate(rotate);\n      rotateStream.sphere = function () {\n        d3.geoStream(sphere(), sphereStream);\n      };\n      return rotateStream;\n    };\n    projection.lobes = function (_) {\n      if (!arguments.length) return lobes.map(function (lobes) {\n        return lobes.map(function (lobe) {\n          return [[lobe[0][0] * 180 / π, lobe[0][1] * 180 / π], [lobe[1][0] * 180 / π, lobe[1][1] * 180 / π], [lobe[2][0] * 180 / π, lobe[2][1] * 180 / π]];\n        });\n      });\n      lobes = _.map(function (lobes) {\n        return lobes.map(function (lobe) {\n          return [[lobe[0][0] * π / 180, lobe[0][1] * π / 180], [lobe[1][0] * π / 180, lobe[1][1] * π / 180], [lobe[2][0] * π / 180, lobe[2][1] * π / 180]];\n        });\n      });\n      reset();\n      return projection;\n    };\n    function sphere() {\n      var ε = 1e-6,\n          coordinates = [];\n      for (var i = 0, n = lobes[0].length; i < n; ++i) {\n        var lobe = lobes[0][i],\n            λ0 = lobe[0][0] * 180 / π,\n            φ0 = lobe[0][1] * 180 / π,\n            φ1 = lobe[1][1] * 180 / π,\n            λ2 = lobe[2][0] * 180 / π,\n            φ2 = lobe[2][1] * 180 / π;\n        coordinates.push(resample([[λ0 + ε, φ0 + ε], [λ0 + ε, φ1 - ε], [λ2 - ε, φ1 - ε], [λ2 - ε, φ2 + ε]], 30));\n      }\n      for (var i = lobes[1].length - 1; i >= 0; --i) {\n        var lobe = lobes[1][i],\n            λ0 = lobe[0][0] * 180 / π,\n            φ0 = lobe[0][1] * 180 / π,\n            φ1 = lobe[1][1] * 180 / π,\n            λ2 = lobe[2][0] * 180 / π,\n            φ2 = lobe[2][1] * 180 / π;\n        coordinates.push(resample([[λ2 - ε, φ2 - ε], [λ2 - ε, φ1 + ε], [λ0 + ε, φ1 + ε], [λ0 + ε, φ0 - ε]], 30));\n      }\n      return {\n        type: \"Polygon\",\n        coordinates: [d3.merge(coordinates)]\n      };\n    }\n    function resample(coordinates, m) {\n      var i = -1,\n          n = coordinates.length,\n          p0 = coordinates[0],\n          p1,\n          dx,\n          dy,\n          resampled = [];\n      while (++i < n) {\n        p1 = coordinates[i];\n        dx = (p1[0] - p0[0]) / m;\n        dy = (p1[1] - p0[1]) / m;\n        for (var j = 0; j < m; ++j) {\n          resampled.push([p0[0] + j * dx, p0[1] + j * dy]);\n        }p0 = p1;\n      }\n      resampled.push(p1);\n      return resampled;\n    }\n    function pointEqual(a, b) {\n      return Math.abs(a[0] - b[0]) < ε && Math.abs(a[1] - b[1]) < ε;\n    }\n    return projection;\n  };\n  function airy(β) {\n    var tanβ_2 = Math.tan(.5 * β),\n        B = 2 * Math.log(Math.cos(.5 * β)) / (tanβ_2 * tanβ_2);\n    function forward(λ, φ) {\n      var cosλ = Math.cos(λ),\n          cosφ = Math.cos(φ),\n          sinφ = Math.sin(φ),\n          cosz = cosφ * cosλ,\n          K = -((1 - cosz ? Math.log(.5 * (1 + cosz)) / (1 - cosz) : -.5) + B / (1 + cosz));\n      return [K * cosφ * Math.sin(λ), K * sinφ];\n    }\n    forward.invert = function (x, y) {\n      var ρ = Math.sqrt(x * x + y * y),\n          z = β * -.5,\n          i = 50,\n          δ;\n      if (!ρ) return [0, 0];\n      do {\n        var z_2 = .5 * z,\n            cosz_2 = Math.cos(z_2),\n            sinz_2 = Math.sin(z_2),\n            tanz_2 = Math.tan(z_2),\n            lnsecz_2 = Math.log(1 / cosz_2);\n        z -= δ = (2 / tanz_2 * lnsecz_2 - B * tanz_2 - ρ) / (-lnsecz_2 / (sinz_2 * sinz_2) + 1 - B / (2 * cosz_2 * cosz_2));\n      } while (Math.abs(δ) > ε && --i > 0);\n      var sinz = Math.sin(z);\n      return [Math.atan2(x * sinz, ρ * Math.cos(z)), asin(y * sinz / ρ)];\n    };\n    return forward;\n  }\n  function airyProjection() {\n    var β = halfπ,\n        m = projectionMutator(airy),\n        p = m(β);\n    p.radius = function (_) {\n      if (!arguments.length) return β / π * 180;\n      return m(β = _ * π / 180);\n    };\n    return p;\n  }\n  (d3.geoAiry = airyProjection).raw = airy;\n  function aitoff(λ, φ) {\n    var cosφ = Math.cos(φ),\n        sinciα = sinci(acos(cosφ * Math.cos(λ /= 2)));\n    return [2 * cosφ * Math.sin(λ) * sinciα, Math.sin(φ) * sinciα];\n  }\n  aitoff.invert = function (x, y) {\n    if (x * x + 4 * y * y > π * π + ε) return;\n    var λ = x,\n        φ = y,\n        i = 25;\n    do {\n      var sinλ = Math.sin(λ),\n          sinλ_2 = Math.sin(λ / 2),\n          cosλ_2 = Math.cos(λ / 2),\n          sinφ = Math.sin(φ),\n          cosφ = Math.cos(φ),\n          sin_2φ = Math.sin(2 * φ),\n          sin2φ = sinφ * sinφ,\n          cos2φ = cosφ * cosφ,\n          sin2λ_2 = sinλ_2 * sinλ_2,\n          C = 1 - cos2φ * cosλ_2 * cosλ_2,\n          E = C ? acos(cosφ * cosλ_2) * Math.sqrt(F = 1 / C) : F = 0,\n          F,\n          fx = 2 * E * cosφ * sinλ_2 - x,\n          fy = E * sinφ - y,\n          δxδλ = F * (cos2φ * sin2λ_2 + E * cosφ * cosλ_2 * sin2φ),\n          δxδφ = F * (.5 * sinλ * sin_2φ - E * 2 * sinφ * sinλ_2),\n          δyδλ = F * .25 * (sin_2φ * sinλ_2 - E * sinφ * cos2φ * sinλ),\n          δyδφ = F * (sin2φ * cosλ_2 + E * sin2λ_2 * cosφ),\n          denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n      if (!denominator) break;\n      var δλ = (fy * δxδφ - fx * δyδφ) / denominator,\n          δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoAitoff = function () {\n    return projection(aitoff);\n  }).raw = aitoff;\n  function armadillo(φ0) {\n    var sinφ0 = Math.sin(φ0),\n        cosφ0 = Math.cos(φ0),\n        sφ0 = φ0 > 0 ? 1 : -1,\n        tanφ0 = Math.tan(sφ0 * φ0),\n        k = (1 + sinφ0 - cosφ0) / 2;\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ),\n          cosλ = Math.cos(λ /= 2);\n      return [(1 + cosφ) * Math.sin(λ), (sφ0 * φ > -Math.atan2(cosλ, tanφ0) - .001 ? 0 : -sφ0 * 10) + k + Math.sin(φ) * cosφ0 - (1 + cosφ) * sinφ0 * cosλ];\n    }\n    forward.invert = function (x, y) {\n      var λ = 0,\n          φ = 0,\n          i = 50;\n      do {\n        var cosλ = Math.cos(λ),\n            sinλ = Math.sin(λ),\n            cosφ = Math.cos(φ),\n            sinφ = Math.sin(φ),\n            A = 1 + cosφ,\n            fx = A * sinλ - x,\n            fy = k + sinφ * cosφ0 - A * sinφ0 * cosλ - y,\n            δxδλ = .5 * A * cosλ,\n            δxδφ = -sinλ * sinφ,\n            δyδλ = .5 * sinφ0 * A * sinλ,\n            δyδφ = cosφ0 * cosφ + sinφ0 * cosλ * sinφ,\n            denominator = δxδφ * δyδλ - δyδφ * δxδλ,\n            δλ = .5 * (fy * δxδφ - fx * δyδφ) / denominator,\n            δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n        λ -= δλ, φ -= δφ;\n      } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n      return sφ0 * φ > -Math.atan2(Math.cos(λ), tanφ0) - .001 ? [λ * 2, φ] : null;\n    };\n    return forward;\n  }\n  function armadilloProjection() {\n    var φ0 = π / 9,\n        sφ0 = φ0 > 0 ? 1 : -1,\n        tanφ0 = Math.tan(sφ0 * φ0),\n        m = projectionMutator(armadillo),\n        p = m(φ0),\n        stream_ = p.stream;\n    p.parallel = function (_) {\n      if (!arguments.length) return φ0 / π * 180;\n      tanφ0 = Math.tan((sφ0 = (φ0 = _ * π / 180) > 0 ? 1 : -1) * φ0);\n      return m(φ0);\n    };\n    p.stream = function (stream) {\n      var rotate = p.rotate(),\n          rotateStream = stream_(stream),\n          sphereStream = (p.rotate([0, 0]), stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function () {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var λ = sφ0 * -180; sφ0 * λ < 180; λ += sφ0 * 90) {\n          sphereStream.point(λ, sφ0 * 90);\n        }while (sφ0 * (λ -= φ0) >= -180) {\n          sphereStream.point(λ, sφ0 * -Math.atan2(Math.cos(λ * radians / 2), tanφ0) * degrees);\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  (d3.geoArmadillo = armadilloProjection).raw = armadillo;\n  function tanh(x) {\n    x = Math.exp(2 * x);\n    return (x - 1) / (x + 1);\n  }\n  function sinh(x) {\n    return .5 * (Math.exp(x) - Math.exp(-x));\n  }\n  function cosh(x) {\n    return .5 * (Math.exp(x) + Math.exp(-x));\n  }\n  function arsinh(x) {\n    return Math.log(x + asqrt(x * x + 1));\n  }\n  function arcosh(x) {\n    return Math.log(x + asqrt(x * x - 1));\n  }\n  function august(λ, φ) {\n    var tanφ = Math.tan(φ / 2),\n        k = asqrt(1 - tanφ * tanφ),\n        c = 1 + k * Math.cos(λ /= 2),\n        x = Math.sin(λ) * k / c,\n        y = tanφ / c,\n        x2 = x * x,\n        y2 = y * y;\n    return [4 / 3 * x * (3 + x2 - 3 * y2), 4 / 3 * y * (3 + 3 * x2 - y2)];\n  }\n  august.invert = function (x, y) {\n    x *= 3 / 8, y *= 3 / 8;\n    if (!x && Math.abs(y) > 1) return null;\n    var x2 = x * x,\n        y2 = y * y,\n        s = 1 + x2 + y2,\n        sin3η = Math.sqrt(.5 * (s - Math.sqrt(s * s - 4 * y * y))),\n        η = asin(sin3η) / 3,\n        ξ = sin3η ? arcosh(Math.abs(y / sin3η)) / 3 : arsinh(Math.abs(x)) / 3,\n        cosη = Math.cos(η),\n        coshξ = cosh(ξ),\n        d = coshξ * coshξ - cosη * cosη;\n    return [sgn(x) * 2 * Math.atan2(sinh(ξ) * cosη, .25 - d), sgn(y) * 2 * Math.atan2(coshξ * Math.sin(η), .25 + d)];\n  };\n  (d3.geoAugust = function () {\n    return projection(august);\n  }).raw = august;\n  var bakerφ = Math.log(1 + Math.SQRT2);\n  function baker(λ, φ) {\n    var φ0 = Math.abs(φ);\n    return φ0 < π / 4 ? [λ, Math.log(Math.tan(π / 4 + φ / 2))] : [λ * Math.cos(φ0) * (2 * Math.SQRT2 - 1 / Math.sin(φ0)), sgn(φ) * (2 * Math.SQRT2 * (φ0 - π / 4) - Math.log(Math.tan(φ0 / 2)))];\n  }\n  baker.invert = function (x, y) {\n    if ((y0 = Math.abs(y)) < bakerφ) return [x, 2 * Math.atan(Math.exp(y)) - halfπ];\n    var sqrt8 = Math.sqrt(8),\n        φ = π / 4,\n        i = 25,\n        δ,\n        y0;\n    do {\n      var cosφ_2 = Math.cos(φ / 2),\n          tanφ_2 = Math.tan(φ / 2);\n      φ -= δ = (sqrt8 * (φ - π / 4) - Math.log(tanφ_2) - y0) / (sqrt8 - .5 * cosφ_2 * cosφ_2 / tanφ_2);\n    } while (Math.abs(δ) > ε2 && --i > 0);\n    return [x / (Math.cos(φ) * (sqrt8 - 1 / Math.sin(φ))), sgn(y) * φ];\n  };\n  (d3.geoBaker = function () {\n    return projection(baker);\n  }).raw = baker;\n  var berghausAzimuthalEquidistant = d3.geoAzimuthalEquidistant.raw;\n  function berghaus(n) {\n    var k = 2 * π / n;\n    function forward(λ, φ) {\n      var p = berghausAzimuthalEquidistant(λ, φ);\n      if (Math.abs(λ) > halfπ) {\n        var θ = Math.atan2(p[1], p[0]),\n            r = Math.sqrt(p[0] * p[0] + p[1] * p[1]),\n            θ0 = k * Math.round((θ - halfπ) / k) + halfπ,\n            α = Math.atan2(Math.sin(θ -= θ0), 2 - Math.cos(θ));\n        θ = θ0 + asin(π / r * Math.sin(α)) - α;\n        p[0] = r * Math.cos(θ);\n        p[1] = r * Math.sin(θ);\n      }\n      return p;\n    }\n    forward.invert = function (x, y) {\n      var r = Math.sqrt(x * x + y * y);\n      if (r > halfπ) {\n        var θ = Math.atan2(y, x),\n            θ0 = k * Math.round((θ - halfπ) / k) + halfπ,\n            s = θ > θ0 ? -1 : 1,\n            A = r * Math.cos(θ0 - θ),\n            cotα = 1 / Math.tan(s * Math.acos((A - π) / Math.sqrt(π * (π - 2 * A) + r * r)));\n        θ = θ0 + 2 * Math.atan((cotα + s * Math.sqrt(cotα * cotα - 3)) / 3);\n        x = r * Math.cos(θ), y = r * Math.sin(θ);\n      }\n      return berghausAzimuthalEquidistant.invert(x, y);\n    };\n    return forward;\n  }\n  function berghausProjection() {\n    var n = 5,\n        m = projectionMutator(berghaus),\n        p = m(n),\n        stream_ = p.stream,\n        ε = .01,\n        cr = -Math.cos(ε * radians),\n        sr = Math.sin(ε * radians);\n    p.lobes = function (_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    p.stream = function (stream) {\n      var rotate = p.rotate(),\n          rotateStream = stream_(stream),\n          sphereStream = (p.rotate([0, 0]), stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function () {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var i = 0, δ = 360 / n, δ0 = 2 * π / n, φ = 90 - 180 / n, φ0 = halfπ; i < n; ++i, φ -= δ, φ0 -= δ0) {\n          sphereStream.point(Math.atan2(sr * Math.cos(φ0), cr) * degrees, asin(sr * Math.sin(φ0)) * degrees);\n          if (φ < -90) {\n            sphereStream.point(-90, -180 - φ - ε);\n            sphereStream.point(-90, -180 - φ + ε);\n          } else {\n            sphereStream.point(90, φ + ε);\n            sphereStream.point(90, φ - ε);\n          }\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  (d3.geoBerghaus = berghausProjection).raw = berghaus;\n  function mollweideBromleyθ(Cp) {\n    return function (θ) {\n      var Cpsinθ = Cp * Math.sin(θ),\n          i = 30,\n          δ;\n      do {\n        θ -= δ = (θ + Math.sin(θ) - Cpsinθ) / (1 + Math.cos(θ));\n      } while (Math.abs(δ) > ε && --i > 0);\n      return θ / 2;\n    };\n  }\n  function mollweideBromley(Cx, Cy, Cp) {\n    var θ = mollweideBromleyθ(Cp);\n    function forward(λ, φ) {\n      return [Cx * λ * Math.cos(φ = θ(φ)), Cy * Math.sin(φ)];\n    }\n    forward.invert = function (x, y) {\n      var θ = asin(y / Cy);\n      return [x / (Cx * Math.cos(θ)), asin((2 * θ + Math.sin(2 * θ)) / Cp)];\n    };\n    return forward;\n  }\n  var mollweideθ = mollweideBromleyθ(π),\n      mollweide = mollweideBromley(Math.SQRT2 / halfπ, Math.SQRT2, π);\n  (d3.geoMollweide = function () {\n    return projection(mollweide);\n  }).raw = mollweide;\n  function boggs(λ, φ) {\n    var k = 2.00276,\n        θ = mollweideθ(φ);\n    return [k * λ / (1 / Math.cos(φ) + 1.11072 / Math.cos(θ)), (φ + Math.SQRT2 * Math.sin(θ)) / k];\n  }\n  boggs.invert = function (x, y) {\n    var k = 2.00276,\n        ky = k * y,\n        θ = y < 0 ? -π / 4 : π / 4,\n        i = 25,\n        δ,\n        φ;\n    do {\n      φ = ky - Math.SQRT2 * Math.sin(θ);\n      θ -= δ = (Math.sin(2 * θ) + 2 * θ - π * Math.sin(φ)) / (2 * Math.cos(2 * θ) + 2 + π * Math.cos(φ) * Math.SQRT2 * Math.cos(θ));\n    } while (Math.abs(δ) > ε && --i > 0);\n    φ = ky - Math.SQRT2 * Math.sin(θ);\n    return [x * (1 / Math.cos(φ) + 1.11072 / Math.cos(θ)) / k, φ];\n  };\n  (d3.geoBoggs = function () {\n    return projection(boggs);\n  }).raw = boggs;\n  function parallel1Projection(projectAt) {\n    var φ0 = 0,\n        m = projectionMutator(projectAt),\n        p = m(φ0);\n    p.parallel = function (_) {\n      if (!arguments.length) return φ0 / π * 180;\n      return m(φ0 = _ * π / 180);\n    };\n    return p;\n  }\n  function sinusoidal(λ, φ) {\n    return [λ * Math.cos(φ), φ];\n  }\n  sinusoidal.invert = function (x, y) {\n    return [x / Math.cos(y), y];\n  };\n  (d3.geoSinusoidal = function () {\n    return projection(sinusoidal);\n  }).raw = sinusoidal;\n  function bonne(φ0) {\n    if (!φ0) return sinusoidal;\n    var cotφ0 = 1 / Math.tan(φ0);\n    function forward(λ, φ) {\n      var ρ = cotφ0 + φ0 - φ,\n          E = ρ ? λ * Math.cos(φ) / ρ : ρ;\n      return [ρ * Math.sin(E), cotφ0 - ρ * Math.cos(E)];\n    }\n    forward.invert = function (x, y) {\n      var ρ = Math.sqrt(x * x + (y = cotφ0 - y) * y),\n          φ = cotφ0 + φ0 - ρ;\n      return [ρ / Math.cos(φ) * Math.atan2(x, y), φ];\n    };\n    return forward;\n  }\n  (d3.geoBonne = function () {\n    return parallel1Projection(bonne).parallel(45);\n  }).raw = bonne;\n  var bromley = mollweideBromley(1, 4 / π, π);\n  (d3.geoBromley = function () {\n    return projection(bromley);\n  }).raw = bromley;\n  function chamberlin(points) {\n    points = points.map(function (p) {\n      return [p[0], p[1], Math.sin(p[1]), Math.cos(p[1])];\n    });\n    for (var a = points[2], b, i = 0; i < 3; ++i, a = b) {\n      b = points[i];\n      a.v = chamberlinDistanceAzimuth(b[1] - a[1], a[3], a[2], b[3], b[2], b[0] - a[0]);\n      a.point = [0, 0];\n    }\n    var β0 = chamberlinAngle(points[0].v[0], points[2].v[0], points[1].v[0]),\n        β1 = chamberlinAngle(points[0].v[0], points[1].v[0], points[2].v[0]),\n        β2 = π - β0;\n    points[2].point[1] = 0;\n    points[0].point[0] = -(points[1].point[0] = .5 * points[0].v[0]);\n    var mean = [points[2].point[0] = points[0].point[0] + points[2].v[0] * Math.cos(β0), 2 * (points[0].point[1] = points[1].point[1] = points[2].v[0] * Math.sin(β0))];\n    function forward(λ, φ) {\n      var sinφ = Math.sin(φ),\n          cosφ = Math.cos(φ),\n          v = new Array(3);\n      for (var i = 0; i < 3; ++i) {\n        var p = points[i];\n        v[i] = chamberlinDistanceAzimuth(φ - p[1], p[3], p[2], cosφ, sinφ, λ - p[0]);\n        if (!v[i][0]) return p.point;\n        v[i][1] = chamberlinLongitude(v[i][1] - p.v[1]);\n      }\n      var point = mean.slice();\n      for (var i = 0; i < 3; ++i) {\n        var j = i == 2 ? 0 : i + 1;\n        var a = chamberlinAngle(points[i].v[0], v[i][0], v[j][0]);\n        if (v[i][1] < 0) a = -a;\n        if (!i) {\n          point[0] += v[i][0] * Math.cos(a);\n          point[1] -= v[i][0] * Math.sin(a);\n        } else if (i == 1) {\n          a = β1 - a;\n          point[0] -= v[i][0] * Math.cos(a);\n          point[1] -= v[i][0] * Math.sin(a);\n        } else {\n          a = β2 - a;\n          point[0] += v[i][0] * Math.cos(a);\n          point[1] += v[i][0] * Math.sin(a);\n        }\n      }\n      point[0] /= 3, point[1] /= 3;\n      return point;\n    }\n    return forward;\n  }\n  function chamberlinProjection() {\n    var points = [[0, 0], [0, 0], [0, 0]],\n        m = projectionMutator(chamberlin),\n        p = m(points),\n        rotate = p.rotate;\n    delete p.rotate;\n    p.points = function (_) {\n      if (!arguments.length) return points;\n      points = _;\n      var origin = d3.geoCentroid({\n        type: \"MultiPoint\",\n        coordinates: points\n      }),\n          r = [-origin[0], -origin[1]];\n      rotate.call(p, r);\n      return m(points.map(d3.geoRotation(r)).map(chamberlinRadians));\n    };\n    return p.points([[-150, 55], [-35, 55], [-92.5, 10]]);\n  }\n  function chamberlinDistanceAzimuth(dφ, c1, s1, c2, s2, dλ) {\n    var cosdλ = Math.cos(dλ),\n        r;\n    if (Math.abs(dφ) > 1 || Math.abs(dλ) > 1) {\n      r = acos(s1 * s2 + c1 * c2 * cosdλ);\n    } else {\n      var sindφ = Math.sin(.5 * dφ),\n          sindλ = Math.sin(.5 * dλ);\n      r = 2 * asin(Math.sqrt(sindφ * sindφ + c1 * c2 * sindλ * sindλ));\n    }\n    if (Math.abs(r) > ε) {\n      return [r, Math.atan2(c2 * Math.sin(dλ), c1 * s2 - s1 * c2 * cosdλ)];\n    }\n    return [0, 0];\n  }\n  function chamberlinAngle(b, c, a) {\n    return acos(.5 * (b * b + c * c - a * a) / (b * c));\n  }\n  function chamberlinLongitude(λ) {\n    return λ - 2 * π * Math.floor((λ + π) / (2 * π));\n  }\n  function chamberlinRadians(point) {\n    return [point[0] * radians, point[1] * radians];\n  }\n  (d3.geoChamberlin = chamberlinProjection).raw = chamberlin;\n  function collignon(λ, φ) {\n    var α = asqrt(1 - Math.sin(φ));\n    return [2 / sqrtπ * λ * α, sqrtπ * (1 - α)];\n  }\n  collignon.invert = function (x, y) {\n    var λ = (λ = y / sqrtπ - 1) * λ;\n    return [λ > 0 ? x * Math.sqrt(π / λ) / 2 : 0, asin(1 - λ)];\n  };\n  (d3.geoCollignon = function () {\n    return projection(collignon);\n  }).raw = collignon;\n  function craig(φ0) {\n    var tanφ0 = Math.tan(φ0);\n    function forward(λ, φ) {\n      return [λ, (λ ? λ / Math.sin(λ) : 1) * (Math.sin(φ) * Math.cos(λ) - tanφ0 * Math.cos(φ))];\n    }\n    forward.invert = tanφ0 ? function (x, y) {\n      if (x) y *= Math.sin(x) / x;\n      var cosλ = Math.cos(x);\n      return [x, 2 * Math.atan2(Math.sqrt(cosλ * cosλ + tanφ0 * tanφ0 - y * y) - cosλ, tanφ0 - y)];\n    } : function (x, y) {\n      return [x, asin(x ? y * Math.tan(x) / x : y)];\n    };\n    return forward;\n  }\n  (d3.geoCraig = function () {\n    return parallel1Projection(craig);\n  }).raw = craig;\n  function craster(λ, φ) {\n    var sqrt3 = Math.sqrt(3);\n    return [sqrt3 * λ * (2 * Math.cos(2 * φ / 3) - 1) / sqrtπ, sqrt3 * sqrtπ * Math.sin(φ / 3)];\n  }\n  craster.invert = function (x, y) {\n    var sqrt3 = Math.sqrt(3),\n        φ = 3 * asin(y / (sqrt3 * sqrtπ));\n    return [sqrtπ * x / (sqrt3 * (2 * Math.cos(2 * φ / 3) - 1)), φ];\n  };\n  (d3.geoCraster = function () {\n    return projection(craster);\n  }).raw = craster;\n  function cylindricalEqualArea(φ0) {\n    var cosφ0 = Math.cos(φ0);\n    function forward(λ, φ) {\n      return [λ * cosφ0, Math.sin(φ) / cosφ0];\n    }\n    forward.invert = function (x, y) {\n      return [x / cosφ0, asin(y * cosφ0)];\n    };\n    return forward;\n  }\n  (d3.geoCylindricalEqualArea = function () {\n    return parallel1Projection(cylindricalEqualArea);\n  }).raw = cylindricalEqualArea;\n  function cylindricalStereographic(φ0) {\n    var cosφ0 = Math.cos(φ0);\n    function forward(λ, φ) {\n      return [λ * cosφ0, (1 + cosφ0) * Math.tan(φ * .5)];\n    }\n    forward.invert = function (x, y) {\n      return [x / cosφ0, Math.atan(y / (1 + cosφ0)) * 2];\n    };\n    return forward;\n  }\n  (d3.geoCylindricalStereographic = function () {\n    return parallel1Projection(cylindricalStereographic);\n  }).raw = cylindricalStereographic;\n  function eckert1(λ, φ) {\n    var α = Math.sqrt(8 / (3 * π));\n    return [α * λ * (1 - Math.abs(φ) / π), α * φ];\n  }\n  eckert1.invert = function (x, y) {\n    var α = Math.sqrt(8 / (3 * π)),\n        φ = y / α;\n    return [x / (α * (1 - Math.abs(φ) / π)), φ];\n  };\n  (d3.geoEckert1 = function () {\n    return projection(eckert1);\n  }).raw = eckert1;\n  function eckert2(λ, φ) {\n    var α = Math.sqrt(4 - 3 * Math.sin(Math.abs(φ)));\n    return [2 / Math.sqrt(6 * π) * λ * α, sgn(φ) * Math.sqrt(2 * π / 3) * (2 - α)];\n  }\n  eckert2.invert = function (x, y) {\n    var α = 2 - Math.abs(y) / Math.sqrt(2 * π / 3);\n    return [x * Math.sqrt(6 * π) / (2 * α), sgn(y) * asin((4 - α * α) / 3)];\n  };\n  (d3.geoEckert2 = function () {\n    return projection(eckert2);\n  }).raw = eckert2;\n  function eckert3(λ, φ) {\n    var k = Math.sqrt(π * (4 + π));\n    return [2 / k * λ * (1 + Math.sqrt(1 - 4 * φ * φ / (π * π))), 4 / k * φ];\n  }\n  eckert3.invert = function (x, y) {\n    var k = Math.sqrt(π * (4 + π)) / 2;\n    return [x * k / (1 + asqrt(1 - y * y * (4 + π) / (4 * π))), y * k / 2];\n  };\n  (d3.geoEckert3 = function () {\n    return projection(eckert3);\n  }).raw = eckert3;\n  function eckert4(λ, φ) {\n    var k = (2 + halfπ) * Math.sin(φ);\n    φ /= 2;\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      var cosφ = Math.cos(φ);\n      φ -= δ = (φ + Math.sin(φ) * (cosφ + 2) - k) / (2 * cosφ * (1 + cosφ));\n    }\n    return [2 / Math.sqrt(π * (4 + π)) * λ * (1 + Math.cos(φ)), 2 * Math.sqrt(π / (4 + π)) * Math.sin(φ)];\n  }\n  eckert4.invert = function (x, y) {\n    var A = .5 * y * Math.sqrt((4 + π) / π),\n        k = asin(A),\n        c = Math.cos(k);\n    return [x / (2 / Math.sqrt(π * (4 + π)) * (1 + c)), asin((k + A * (c + 2)) / (2 + halfπ))];\n  };\n  (d3.geoEckert4 = function () {\n    return projection(eckert4);\n  }).raw = eckert4;\n  function eckert5(λ, φ) {\n    return [λ * (1 + Math.cos(φ)) / Math.sqrt(2 + π), 2 * φ / Math.sqrt(2 + π)];\n  }\n  eckert5.invert = function (x, y) {\n    var k = Math.sqrt(2 + π),\n        φ = y * k / 2;\n    return [k * x / (1 + Math.cos(φ)), φ];\n  };\n  (d3.geoEckert5 = function () {\n    return projection(eckert5);\n  }).raw = eckert5;\n  function eckert6(λ, φ) {\n    var k = (1 + halfπ) * Math.sin(φ);\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      φ -= δ = (φ + Math.sin(φ) - k) / (1 + Math.cos(φ));\n    }\n    k = Math.sqrt(2 + π);\n    return [λ * (1 + Math.cos(φ)) / k, 2 * φ / k];\n  }\n  eckert6.invert = function (x, y) {\n    var j = 1 + halfπ,\n        k = Math.sqrt(j / 2);\n    return [x * 2 * k / (1 + Math.cos(y *= k)), asin((y + Math.sin(y)) / j)];\n  };\n  (d3.geoEckert6 = function () {\n    return projection(eckert6);\n  }).raw = eckert6;\n  function eisenlohr(λ, φ) {\n    var s0 = Math.sin(λ /= 2),\n        c0 = Math.cos(λ),\n        k = Math.sqrt(Math.cos(φ)),\n        c1 = Math.cos(φ /= 2),\n        t = Math.sin(φ) / (c1 + Math.SQRT2 * c0 * k),\n        c = Math.sqrt(2 / (1 + t * t)),\n        v = Math.sqrt((Math.SQRT2 * c1 + (c0 + s0) * k) / (Math.SQRT2 * c1 + (c0 - s0) * k));\n    return [eisenlohrK * (c * (v - 1 / v) - 2 * Math.log(v)), eisenlohrK * (c * t * (v + 1 / v) - 2 * Math.atan(t))];\n  }\n  eisenlohr.invert = function (x, y) {\n    var p = d3.geoAugust.raw.invert(x / 1.2, y * 1.065);\n    if (!p) return null;\n    var λ = p[0],\n        φ = p[1],\n        i = 20;\n    x /= eisenlohrK, y /= eisenlohrK;\n    do {\n      var _0 = λ / 2,\n          _1 = φ / 2,\n          s0 = Math.sin(_0),\n          c0 = Math.cos(_0),\n          s1 = Math.sin(_1),\n          c1 = Math.cos(_1),\n          cos1 = Math.cos(φ),\n          k = Math.sqrt(cos1),\n          t = s1 / (c1 + Math.SQRT2 * c0 * k),\n          t2 = t * t,\n          c = Math.sqrt(2 / (1 + t2)),\n          v0 = Math.SQRT2 * c1 + (c0 + s0) * k,\n          v1 = Math.SQRT2 * c1 + (c0 - s0) * k,\n          v2 = v0 / v1,\n          v = Math.sqrt(v2),\n          vm1v = v - 1 / v,\n          vp1v = v + 1 / v,\n          fx = c * vm1v - 2 * Math.log(v) - x,\n          fy = c * t * vp1v - 2 * Math.atan(t) - y,\n          δtδλ = s1 && Math.SQRT1_2 * k * s0 * t2 / s1,\n          δtδφ = (Math.SQRT2 * c0 * c1 + k) / (2 * (c1 + Math.SQRT2 * c0 * k) * (c1 + Math.SQRT2 * c0 * k) * k),\n          δcδt = -.5 * t * c * c * c,\n          δcδλ = δcδt * δtδλ,\n          δcδφ = δcδt * δtδφ,\n          A = (A = 2 * c1 + Math.SQRT2 * k * (c0 - s0)) * A * v,\n          δvδλ = (Math.SQRT2 * c0 * c1 * k + cos1) / A,\n          δvδφ = -(Math.SQRT2 * s0 * s1) / (k * A),\n          δxδλ = vm1v * δcδλ - 2 * δvδλ / v + c * (δvδλ + δvδλ / v2),\n          δxδφ = vm1v * δcδφ - 2 * δvδφ / v + c * (δvδφ + δvδφ / v2),\n          δyδλ = t * vp1v * δcδλ - 2 * δtδλ / (1 + t2) + c * vp1v * δtδλ + c * t * (δvδλ - δvδλ / v2),\n          δyδφ = t * vp1v * δcδφ - 2 * δtδφ / (1 + t2) + c * vp1v * δtδφ + c * t * (δvδφ - δvδφ / v2),\n          denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n      if (!denominator) break;\n      var δλ = (fy * δxδφ - fx * δyδφ) / denominator,\n          δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ;\n      φ = Math.max(-halfπ, Math.min(halfπ, φ - δφ));\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return Math.abs(Math.abs(φ) - halfπ) < ε ? [0, φ] : i && [λ, φ];\n  };\n  var eisenlohrK = 3 + 2 * Math.SQRT2;\n  (d3.geoEisenlohr = function () {\n    return projection(eisenlohr);\n  }).raw = eisenlohr;\n  function fahey(λ, φ) {\n    var t = Math.tan(φ / 2);\n    return [λ * faheyK * asqrt(1 - t * t), (1 + faheyK) * t];\n  }\n  fahey.invert = function (x, y) {\n    var t = y / (1 + faheyK);\n    return [x ? x / (faheyK * asqrt(1 - t * t)) : 0, 2 * Math.atan(t)];\n  };\n  var faheyK = Math.cos(35 * radians);\n  (d3.geoFahey = function () {\n    return projection(fahey);\n  }).raw = fahey;\n  function foucaut(λ, φ) {\n    var k = φ / 2,\n        cosk = Math.cos(k);\n    return [2 * λ / sqrtπ * Math.cos(φ) * cosk * cosk, sqrtπ * Math.tan(k)];\n  }\n  foucaut.invert = function (x, y) {\n    var k = Math.atan(y / sqrtπ),\n        cosk = Math.cos(k),\n        φ = 2 * k;\n    return [x * sqrtπ * .5 / (Math.cos(φ) * cosk * cosk), φ];\n  };\n  (d3.geoFoucaut = function () {\n    return projection(foucaut);\n  }).raw = foucaut;\n  d3.geoGilbert = function (projection) {\n    var e = d3.geoEquirectangular().scale(degrees).translate([0, 0]);\n    function gilbert(coordinates) {\n      return projection([coordinates[0] * .5, asin(Math.tan(coordinates[1] * .5 * radians)) * degrees]);\n    }\n    if (projection.invert) gilbert.invert = function (coordinates) {\n      coordinates = projection.invert(coordinates);\n      coordinates[0] *= 2;\n      coordinates[1] = 2 * Math.atan(Math.sin(coordinates[1] * radians)) * degrees;\n      return coordinates;\n    };\n    gilbert.stream = function (stream) {\n      stream = projection.stream(stream);\n      var s = e.stream({\n        point: function point(λ, φ) {\n          stream.point(λ * .5, asin(Math.tan(-φ * .5 * radians)) * degrees);\n        },\n        lineStart: function lineStart() {\n          stream.lineStart();\n        },\n        lineEnd: function lineEnd() {\n          stream.lineEnd();\n        },\n        polygonStart: function polygonStart() {\n          stream.polygonStart();\n        },\n        polygonEnd: function polygonEnd() {\n          stream.polygonEnd();\n        }\n      });\n      s.sphere = function () {\n        stream.sphere();\n      };\n      s.valid = false;\n      return s;\n    };\n    return gilbert;\n  };\n  var gingeryAzimuthalEquidistant = d3.geoAzimuthalEquidistant.raw;\n  function gingery(ρ, n) {\n    var k = 2 * π / n,\n        ρ2 = ρ * ρ;\n    function forward(λ, φ) {\n      var p = gingeryAzimuthalEquidistant(λ, φ),\n          x = p[0],\n          y = p[1],\n          r2 = x * x + y * y;\n      if (r2 > ρ2) {\n        var r = Math.sqrt(r2),\n            θ = Math.atan2(y, x),\n            θ0 = k * Math.round(θ / k),\n            α = θ - θ0,\n            ρcosα = ρ * Math.cos(α),\n            k_ = (ρ * Math.sin(α) - α * Math.sin(ρcosα)) / (halfπ - ρcosα),\n            s_ = arcLength_(α, k_),\n            e = (π - ρ) / gingeryIntegrate(s_, ρcosα, π);\n        x = r;\n        var i = 50,\n            δ;\n        do {\n          x -= δ = (ρ + gingeryIntegrate(s_, ρcosα, x) * e - r) / (s_(x) * e);\n        } while (Math.abs(δ) > ε && --i > 0);\n        y = α * Math.sin(x);\n        if (x < halfπ) y -= k_ * (x - halfπ);\n        var s = Math.sin(θ0),\n            c = Math.cos(θ0);\n        p[0] = x * c - y * s;\n        p[1] = x * s + y * c;\n      }\n      return p;\n    }\n    forward.invert = function (x, y) {\n      var r2 = x * x + y * y;\n      if (r2 > ρ2) {\n        var r = Math.sqrt(r2),\n            θ = Math.atan2(y, x),\n            θ0 = k * Math.round(θ / k),\n            dθ = θ - θ0,\n            x = r * Math.cos(dθ);\n        y = r * Math.sin(dθ);\n        var x_halfπ = x - halfπ,\n            sinx = Math.sin(x),\n            α = y / sinx,\n            δ = x < halfπ ? Infinity : 0,\n            i = 10;\n        while (true) {\n          var ρsinα = ρ * Math.sin(α),\n              ρcosα = ρ * Math.cos(α),\n              sinρcosα = Math.sin(ρcosα),\n              halfπ_ρcosα = halfπ - ρcosα,\n              k_ = (ρsinα - α * sinρcosα) / halfπ_ρcosα,\n              s_ = arcLength_(α, k_);\n          if (Math.abs(δ) < ε2 || ! --i) break;\n          α -= δ = (α * sinx - k_ * x_halfπ - y) / (sinx - x_halfπ * 2 * (halfπ_ρcosα * (ρcosα + α * ρsinα * Math.cos(ρcosα) - sinρcosα) - ρsinα * (ρsinα - α * sinρcosα)) / (halfπ_ρcosα * halfπ_ρcosα));\n        }\n        r = ρ + gingeryIntegrate(s_, ρcosα, x) * (π - ρ) / gingeryIntegrate(s_, ρcosα, π);\n        θ = θ0 + α;\n        x = r * Math.cos(θ);\n        y = r * Math.sin(θ);\n      }\n      return gingeryAzimuthalEquidistant.invert(x, y);\n    };\n    return forward;\n  }\n  function arcLength_(α, k) {\n    return function (x) {\n      var y_ = α * Math.cos(x);\n      if (x < halfπ) y_ -= k;\n      return Math.sqrt(1 + y_ * y_);\n    };\n  }\n  function gingeryProjection() {\n    var n = 6,\n        ρ = 30 * radians,\n        cρ = Math.cos(ρ),\n        sρ = Math.sin(ρ),\n        m = projectionMutator(gingery),\n        p = m(ρ, n),\n        stream_ = p.stream,\n        ε = .01,\n        cr = -Math.cos(ε * radians),\n        sr = Math.sin(ε * radians);\n    p.radius = function (_) {\n      if (!arguments.length) return ρ * degrees;\n      cρ = Math.cos(ρ = _ * radians);\n      sρ = Math.sin(ρ);\n      return m(ρ, n);\n    };\n    p.lobes = function (_) {\n      if (!arguments.length) return n;\n      return m(ρ, n = +_);\n    };\n    p.stream = function (stream) {\n      var rotate = p.rotate(),\n          rotateStream = stream_(stream),\n          sphereStream = (p.rotate([0, 0]), stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function () {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var i = 0, δ = 2 * π / n, φ = 0; i < n; ++i, φ -= δ) {\n          sphereStream.point(Math.atan2(sr * Math.cos(φ), cr) * degrees, Math.asin(sr * Math.sin(φ)) * degrees);\n          sphereStream.point(Math.atan2(sρ * Math.cos(φ - δ / 2), cρ) * degrees, Math.asin(sρ * Math.sin(φ - δ / 2)) * degrees);\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  function gingeryIntegrate(f, a, b) {\n    var n = 50,\n        h = (b - a) / n,\n        s = f(a) + f(b);\n    for (var i = 1, x = a; i < n; ++i) {\n      s += 2 * f(x += h);\n    }return s * .5 * h;\n  }\n  (d3.geoGingery = gingeryProjection).raw = gingery;\n  function ginzburgPolyconic(a, b, c, d, e, f, g, h) {\n    if (arguments.length < 8) h = 0;\n    function forward(λ, φ) {\n      if (!φ) return [a * λ / π, 0];\n      var φ2 = φ * φ,\n          xB = a + φ2 * (b + φ2 * (c + φ2 * d)),\n          yB = φ * (e - 1 + φ2 * (f - h + φ2 * g)),\n          m = (xB * xB + yB * yB) / (2 * yB),\n          α = λ * Math.asin(xB / m) / π;\n      return [m * Math.sin(α), φ * (1 + φ2 * h) + m * (1 - Math.cos(α))];\n    }\n    forward.invert = function (x, y) {\n      var λ = π * x / a,\n          φ = y,\n          δλ,\n          δφ,\n          i = 50;\n      do {\n        var φ2 = φ * φ,\n            xB = a + φ2 * (b + φ2 * (c + φ2 * d)),\n            yB = φ * (e - 1 + φ2 * (f - h + φ2 * g)),\n            p = xB * xB + yB * yB,\n            q = 2 * yB,\n            m = p / q,\n            m2 = m * m,\n            dαdλ = Math.asin(xB / m) / π,\n            α = λ * dαdλ;\n        xB2 = xB * xB, dxBdφ = (2 * b + φ2 * (4 * c + φ2 * 6 * d)) * φ, dyBdφ = e + φ2 * (3 * f + φ2 * 5 * g), dpdφ = 2 * (xB * dxBdφ + yB * (dyBdφ - 1)), dqdφ = 2 * (dyBdφ - 1), dmdφ = (dpdφ * q - p * dqdφ) / (q * q), cosα = Math.cos(α), sinα = Math.sin(α), mcosα = m * cosα, msinα = m * sinα, dαdφ = λ / π * (1 / asqrt(1 - xB2 / m2)) * (dxBdφ * m - xB * dmdφ) / m2, fx = msinα - x, fy = φ * (1 + φ2 * h) + m - mcosα - y, δxδφ = dmdφ * sinα + mcosα * dαdφ, δxδλ = mcosα * dαdλ, δyδφ = 1 + dmdφ - (dmdφ * cosα - msinα * dαdφ), δyδλ = msinα * dαdλ, denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n        if (!denominator) break;\n        λ -= δλ = (fy * δxδφ - fx * δyδφ) / denominator;\n        φ -= δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n      return [λ, φ];\n    };\n    return forward;\n  }\n  var ginzburg4 = ginzburgPolyconic(2.8284, -1.6988, .75432, -.18071, 1.76003, -.38914, .042555);\n  (d3.geoGinzburg4 = function () {\n    return projection(ginzburg4);\n  }).raw = ginzburg4;\n  var ginzburg5 = ginzburgPolyconic(2.583819, -.835827, .170354, -.038094, 1.543313, -.411435, .082742);\n  (d3.geoGinzburg5 = function () {\n    return projection(ginzburg5);\n  }).raw = ginzburg5;\n  var ginzburg6 = ginzburgPolyconic(5 / 6 * π, -.62636, -.0344, 0, 1.3493, -.05524, 0, .045);\n  (d3.geoGinzburg6 = function () {\n    return projection(ginzburg6);\n  }).raw = ginzburg6;\n  function ginzburg8(λ, φ) {\n    var λ2 = λ * λ,\n        φ2 = φ * φ;\n    return [λ * (1 - .162388 * φ2) * (.87 - 952426e-9 * λ2 * λ2), φ * (1 + φ2 / 12)];\n  }\n  ginzburg8.invert = function (x, y) {\n    var λ = x,\n        φ = y,\n        i = 50,\n        δ;\n    do {\n      var φ2 = φ * φ;\n      φ -= δ = (φ * (1 + φ2 / 12) - y) / (1 + φ2 / 4);\n    } while (Math.abs(δ) > ε && --i > 0);\n    i = 50;\n    x /= 1 - .162388 * φ2;\n    do {\n      var λ4 = (λ4 = λ * λ) * λ4;\n      λ -= δ = (λ * (.87 - 952426e-9 * λ4) - x) / (.87 - .00476213 * λ4);\n    } while (Math.abs(δ) > ε && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoGinzburg8 = function () {\n    return projection(ginzburg8);\n  }).raw = ginzburg8;\n  var ginzburg9 = ginzburgPolyconic(2.6516, -.76534, .19123, -.047094, 1.36289, -.13965, .031762);\n  (d3.geoGinzburg9 = function () {\n    return projection(ginzburg9);\n  }).raw = ginzburg9;\n  function quincuncialProjection(projectHemisphere) {\n    var dx = projectHemisphere(halfπ, 0)[0] - projectHemisphere(-halfπ, 0)[0];\n    function projection() {\n      var quincuncial = false,\n          m = projectionMutator(projectAt),\n          p = m(quincuncial);\n      p.quincuncial = function (_) {\n        if (!arguments.length) return quincuncial;\n        return m(quincuncial = !!_);\n      };\n      return p;\n    }\n    function projectAt(quincuncial) {\n      var forward = quincuncial ? function (λ, φ) {\n        var t = Math.abs(λ) < halfπ,\n            p = projectHemisphere(t ? λ : λ > 0 ? λ - π : λ + π, φ);\n        var x = (p[0] - p[1]) * Math.SQRT1_2,\n            y = (p[0] + p[1]) * Math.SQRT1_2;\n        if (t) return [x, y];\n        var d = dx * Math.SQRT1_2,\n            s = x > 0 ^ y > 0 ? -1 : 1;\n        return [s * x - sgn(y) * d, s * y - sgn(x) * d];\n      } : function (λ, φ) {\n        var s = λ > 0 ? -.5 : .5,\n            point = projectHemisphere(λ + s * π, φ);\n        point[0] -= s * dx;\n        return point;\n      };\n      if (projectHemisphere.invert) forward.invert = quincuncial ? function (x0, y0) {\n        var x = (x0 + y0) * Math.SQRT1_2,\n            y = (y0 - x0) * Math.SQRT1_2,\n            t = Math.abs(x) < .5 * dx && Math.abs(y) < .5 * dx;\n        if (!t) {\n          var d = dx * Math.SQRT1_2,\n              s = x > 0 ^ y > 0 ? -1 : 1,\n              x1 = -s * (x0 + (y > 0 ? 1 : -1) * d),\n              y1 = -s * (y0 + (x > 0 ? 1 : -1) * d);\n          x = (-x1 - y1) * Math.SQRT1_2;\n          y = (x1 - y1) * Math.SQRT1_2;\n        }\n        var p = projectHemisphere.invert(x, y);\n        if (!t) p[0] += x > 0 ? π : -π;\n        return p;\n      } : function (x, y) {\n        var s = x > 0 ? -.5 : .5,\n            location = projectHemisphere.invert(x + s * dx, y),\n            λ = location[0] - s * π;\n        if (λ < -π) λ += 2 * π;else if (λ > π) λ -= 2 * π;\n        location[0] = λ;\n        return location;\n      };\n      return forward;\n    }\n    projection.raw = projectAt;\n    return projection;\n  }\n  function gringorten(λ, φ) {\n    var sλ = sgn(λ),\n        sφ = sgn(φ),\n        cosφ = Math.cos(φ),\n        x = Math.cos(λ) * cosφ,\n        y = Math.sin(λ) * cosφ,\n        z = Math.sin(sφ * φ);\n    λ = Math.abs(Math.atan2(y, z));\n    φ = asin(x);\n    if (Math.abs(λ - halfπ) > ε) λ %= halfπ;\n    var point = gringortenHexadecant(λ > π / 4 ? halfπ - λ : λ, φ);\n    if (λ > π / 4) z = point[0], point[0] = -point[1], point[1] = -z;\n    return point[0] *= sλ, point[1] *= -sφ, point;\n  }\n  gringorten.invert = function (x, y) {\n    var sx = sgn(x),\n        sy = sgn(y),\n        x0 = -sx * x,\n        y0 = -sy * y,\n        t = y0 / x0 < 1,\n        p = gringortenHexadecantInvert(t ? y0 : x0, t ? x0 : y0),\n        λ = p[0],\n        φ = p[1];\n    if (t) λ = -halfπ - λ;\n    var cosφ = Math.cos(φ),\n        x = Math.cos(λ) * cosφ,\n        y = Math.sin(λ) * cosφ,\n        z = Math.sin(φ);\n    return [sx * (Math.atan2(y, -z) + π), sy * asin(x)];\n  };\n  function gringortenHexadecant(λ, φ) {\n    if (φ === halfπ) return [0, 0];\n    var sinφ = Math.sin(φ),\n        r = sinφ * sinφ,\n        r2 = r * r,\n        j = 1 + r2,\n        k = 1 + 3 * r2,\n        q = 1 - r2,\n        z = asin(1 / Math.sqrt(j)),\n        v = q + r * j * z,\n        p2 = (1 - sinφ) / v,\n        p = Math.sqrt(p2),\n        a2 = p2 * j,\n        a = Math.sqrt(a2),\n        h = p * q;\n    if (λ === 0) return [0, -(h + r * a)];\n    var cosφ = Math.cos(φ),\n        secφ = 1 / cosφ,\n        drdφ = 2 * sinφ * cosφ,\n        dvdφ = (-3 * r + z * k) * drdφ,\n        dp2dφ = (-v * cosφ - (1 - sinφ) * dvdφ) / (v * v),\n        dpdφ = .5 * dp2dφ / p,\n        dhdφ = q * dpdφ - 2 * r * p * drdφ,\n        dra2dφ = r * j * dp2dφ + p2 * k * drdφ,\n        μ = -secφ * drdφ,\n        ν = -secφ * dra2dφ,\n        ζ = -2 * secφ * dhdφ,\n        Λ = 4 * λ / π;\n    if (λ > .222 * π || φ < π / 4 && λ > .175 * π) {\n      var x = (h + r * asqrt(a2 * (1 + r2) - h * h)) / (1 + r2);\n      if (λ > π / 4) return [x, x];\n      var x1 = x,\n          x0 = .5 * x,\n          i = 50;\n      x = .5 * (x0 + x1);\n      do {\n        var g = Math.sqrt(a2 - x * x),\n            f = x * (ζ + μ * g) + ν * asin(x / a) - Λ;\n        if (!f) break;\n        if (f < 0) x0 = x;else x1 = x;\n        x = .5 * (x0 + x1);\n      } while (Math.abs(x1 - x0) > ε && --i > 0);\n    } else {\n      var x = ε,\n          i = 25,\n          δ;\n      do {\n        var x2 = x * x,\n            g = asqrt(a2 - x2),\n            ζμg = ζ + μ * g,\n            f = x * ζμg + ν * asin(x / a) - Λ,\n            df = ζμg + (ν - μ * x2) / g;\n        x -= δ = g ? f / df : 0;\n      } while (Math.abs(δ) > ε && --i > 0);\n    }\n    return [x, -h - r * asqrt(a2 - x * x)];\n  }\n  function gringortenHexadecantInvert(x, y) {\n    var x0 = 0,\n        x1 = 1,\n        r = .5,\n        i = 50;\n    while (true) {\n      var r2 = r * r,\n          sinφ = Math.sqrt(r),\n          z = Math.asin(1 / Math.sqrt(1 + r2)),\n          v = 1 - r2 + r * (1 + r2) * z,\n          p2 = (1 - sinφ) / v,\n          p = Math.sqrt(p2),\n          a2 = p2 * (1 + r2),\n          h = p * (1 - r2),\n          g2 = a2 - x * x,\n          g = Math.sqrt(g2),\n          y0 = y + h + r * g;\n      if (Math.abs(x1 - x0) < ε2 || --i === 0 || y0 === 0) break;\n      if (y0 > 0) x0 = r;else x1 = r;\n      r = .5 * (x0 + x1);\n    }\n    if (!i) return null;\n    var φ = Math.asin(sinφ),\n        cosφ = Math.cos(φ),\n        secφ = 1 / cosφ,\n        drdφ = 2 * sinφ * cosφ,\n        dvdφ = (-3 * r + z * (1 + 3 * r2)) * drdφ,\n        dp2dφ = (-v * cosφ - (1 - sinφ) * dvdφ) / (v * v),\n        dpdφ = .5 * dp2dφ / p,\n        dhdφ = (1 - r2) * dpdφ - 2 * r * p * drdφ,\n        ζ = -2 * secφ * dhdφ,\n        μ = -secφ * drdφ,\n        ν = -secφ * (r * (1 + r2) * dp2dφ + p2 * (1 + 3 * r2) * drdφ);\n    return [π / 4 * (x * (ζ + μ * g) + ν * Math.asin(x / Math.sqrt(a2))), φ];\n  }\n  d3.geoGringorten = quincuncialProjection(gringorten);\n  function ellipticJi(u, v, m) {\n    if (!u) {\n      var b = ellipticJ(v, 1 - m);\n      return [[0, b[0] / b[1]], [1 / b[1], 0], [b[2] / b[1], 0]];\n    }\n    var a = ellipticJ(u, m);\n    if (!v) return [[a[0], 0], [a[1], 0], [a[2], 0]];\n    var b = ellipticJ(v, 1 - m),\n        denominator = b[1] * b[1] + m * a[0] * a[0] * b[0] * b[0];\n    return [[a[0] * b[2] / denominator, a[1] * a[2] * b[0] * b[1] / denominator], [a[1] * b[1] / denominator, -a[0] * a[2] * b[0] * b[2] / denominator], [a[2] * b[1] * b[2] / denominator, -m * a[0] * a[1] * b[0] / denominator]];\n  }\n  function ellipticJ(u, m) {\n    var ai, b, φ, t, twon;\n    if (m < ε) {\n      t = Math.sin(u);\n      b = Math.cos(u);\n      ai = .25 * m * (u - t * b);\n      return [t - ai * b, b + ai * t, 1 - .5 * m * t * t, u - ai];\n    }\n    if (m >= 1 - ε) {\n      ai = .25 * (1 - m);\n      b = cosh(u);\n      t = tanh(u);\n      φ = 1 / b;\n      twon = b * sinh(u);\n      return [t + ai * (twon - u) / (b * b), φ - ai * t * φ * (twon - u), φ + ai * t * φ * (twon + u), 2 * Math.atan(Math.exp(u)) - halfπ + ai * (twon - u) / b];\n    }\n    var a = [1, 0, 0, 0, 0, 0, 0, 0, 0],\n        c = [Math.sqrt(m), 0, 0, 0, 0, 0, 0, 0, 0],\n        i = 0;\n    b = Math.sqrt(1 - m);\n    twon = 1;\n    while (Math.abs(c[i] / a[i]) > ε && i < 8) {\n      ai = a[i++];\n      c[i] = .5 * (ai - b);\n      a[i] = .5 * (ai + b);\n      b = asqrt(ai * b);\n      twon *= 2;\n    }\n    φ = twon * a[i] * u;\n    do {\n      t = c[i] * Math.sin(b = φ) / a[i];\n      φ = .5 * (asin(t) + φ);\n    } while (--i);\n    return [Math.sin(φ), t = Math.cos(φ), t / Math.cos(φ - b), φ];\n  }\n  function ellipticFi(φ, ψ, m) {\n    var r = Math.abs(φ),\n        i = Math.abs(ψ),\n        sinhψ = sinh(i);\n    if (r) {\n      var cscφ = 1 / Math.sin(r),\n          cotφ2 = 1 / (Math.tan(r) * Math.tan(r)),\n          b = -(cotφ2 + m * sinhψ * sinhψ * cscφ * cscφ - 1 + m),\n          c = (m - 1) * cotφ2,\n          cotλ2 = .5 * (-b + Math.sqrt(b * b - 4 * c));\n      return [ellipticF(Math.atan(1 / Math.sqrt(cotλ2)), m) * sgn(φ), ellipticF(Math.atan(asqrt((cotλ2 / cotφ2 - 1) / m)), 1 - m) * sgn(ψ)];\n    }\n    return [0, ellipticF(Math.atan(sinhψ), 1 - m) * sgn(ψ)];\n  }\n  function ellipticF(φ, m) {\n    if (!m) return φ;\n    if (m === 1) return Math.log(Math.tan(φ / 2 + π / 4));\n    var a = 1,\n        b = Math.sqrt(1 - m),\n        c = Math.sqrt(m);\n    for (var i = 0; Math.abs(c) > ε; i++) {\n      if (φ % π) {\n        var dφ = Math.atan(b * Math.tan(φ) / a);\n        if (dφ < 0) dφ += π;\n        φ += dφ + ~~(φ / π) * π;\n      } else φ += φ;\n      c = (a + b) / 2;\n      b = Math.sqrt(a * b);\n      c = ((a = c) - b) / 2;\n    }\n    return φ / (Math.pow(2, i) * a);\n  }\n  function guyou(λ, φ) {\n    var k_ = (Math.SQRT2 - 1) / (Math.SQRT2 + 1),\n        k = Math.sqrt(1 - k_ * k_),\n        K = ellipticF(halfπ, k * k),\n        f = -1;\n    var ψ = Math.log(Math.tan(π / 4 + Math.abs(φ) / 2)),\n        r = Math.exp(f * ψ) / Math.sqrt(k_),\n        at = guyouComplexAtan(r * Math.cos(f * λ), r * Math.sin(f * λ)),\n        t = ellipticFi(at[0], at[1], k * k);\n    return [-t[1], (φ >= 0 ? 1 : -1) * (.5 * K - t[0])];\n  }\n  function guyouComplexAtan(x, y) {\n    var x2 = x * x,\n        y_1 = y + 1,\n        t = 1 - x2 - y * y;\n    return [.5 * ((x >= 0 ? halfπ : -halfπ) - Math.atan2(t, 2 * x)), -.25 * Math.log(t * t + 4 * x2) + .5 * Math.log(y_1 * y_1 + x2)];\n  }\n  function guyouComplexDivide(a, b) {\n    var denominator = b[0] * b[0] + b[1] * b[1];\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n  }\n  guyou.invert = function (x, y) {\n    var k_ = (Math.SQRT2 - 1) / (Math.SQRT2 + 1),\n        k = Math.sqrt(1 - k_ * k_),\n        K = ellipticF(halfπ, k * k),\n        f = -1;\n    var j = ellipticJi(.5 * K - y, -x, k * k),\n        tn = guyouComplexDivide(j[0], j[1]),\n        λ = Math.atan2(tn[1], tn[0]) / f;\n    return [λ, 2 * Math.atan(Math.exp(.5 / f * Math.log(k_ * tn[0] * tn[0] + k_ * tn[1] * tn[1]))) - halfπ];\n  };\n  d3.geoGuyou = quincuncialProjection(guyou);\n  function hammerRetroazimuthal(φ0) {\n    var sinφ0 = Math.sin(φ0),\n        cosφ0 = Math.cos(φ0),\n        rotate = hammerRetroazimuthalRotation(φ0);\n    rotate.invert = hammerRetroazimuthalRotation(-φ0);\n    function forward(λ, φ) {\n      var p = rotate(λ, φ);\n      λ = p[0], φ = p[1];\n      var sinφ = Math.sin(φ),\n          cosφ = Math.cos(φ),\n          cosλ = Math.cos(λ),\n          z = acos(sinφ0 * sinφ + cosφ0 * cosφ * cosλ),\n          sinz = Math.sin(z),\n          K = Math.abs(sinz) > ε ? z / sinz : 1;\n      return [K * cosφ0 * Math.sin(λ), (Math.abs(λ) > halfπ ? K : -K) * (sinφ0 * cosφ - cosφ0 * sinφ * cosλ)];\n    }\n    forward.invert = function (x, y) {\n      var ρ = Math.sqrt(x * x + y * y),\n          sinz = -Math.sin(ρ),\n          cosz = Math.cos(ρ),\n          a = ρ * cosz,\n          b = -y * sinz,\n          c = ρ * sinφ0,\n          d = asqrt(a * a + b * b - c * c),\n          φ = Math.atan2(a * c + b * d, b * c - a * d),\n          λ = (ρ > halfπ ? -1 : 1) * Math.atan2(x * sinz, ρ * Math.cos(φ) * cosz + y * Math.sin(φ) * sinz);\n      return rotate.invert(λ, φ);\n    };\n    return forward;\n  }\n  function hammerRetroazimuthalRotation(φ0) {\n    var sinφ0 = Math.sin(φ0),\n        cosφ0 = Math.cos(φ0);\n    return function (λ, φ) {\n      var cosφ = Math.cos(φ),\n          x = Math.cos(λ) * cosφ,\n          y = Math.sin(λ) * cosφ,\n          z = Math.sin(φ);\n      return [Math.atan2(y, x * cosφ0 - z * sinφ0), asin(z * cosφ0 + x * sinφ0)];\n    };\n  }\n  function hammerRetroazimuthalProjection() {\n    var φ0 = 0,\n        m = projectionMutator(hammerRetroazimuthal),\n        p = m(φ0),\n        rotate_ = p.rotate,\n        stream_ = p.stream,\n        circle = d3.geoCircle();\n    p.parallel = function (_) {\n      if (!arguments.length) return φ0 / π * 180;\n      var r = p.rotate();\n      return m(φ0 = _ * π / 180).rotate(r);\n    };\n    p.rotate = function (_) {\n      if (!arguments.length) return _ = rotate_.call(p), _[1] += φ0 / π * 180, _;\n      rotate_.call(p, [_[0], _[1] - φ0 / π * 180]);\n      circle.center([-_[0], -_[1]]);\n      return p;\n    };\n    p.stream = function (stream) {\n      stream = stream_(stream);\n      stream.sphere = function () {\n        stream.polygonStart();\n        var ε = .01,\n            ring = circle.radius(90 - ε)().coordinates[0],\n            n = ring.length - 1,\n            i = -1,\n            p;\n        stream.lineStart();\n        while (++i < n) {\n          stream.point((p = ring[i])[0], p[1]);\n        }stream.lineEnd();\n        ring = circle.radius(90 + ε)().coordinates[0];\n        n = ring.length - 1;\n        stream.lineStart();\n        while (--i >= 0) {\n          stream.point((p = ring[i])[0], p[1]);\n        }stream.lineEnd();\n        stream.polygonEnd();\n      };\n      return stream;\n    };\n    return p;\n  }\n  (d3.geoHammerRetroazimuthal = hammerRetroazimuthalProjection).raw = hammerRetroazimuthal;\n  var hammerAzimuthalEqualArea = d3.geoAzimuthalEqualArea.raw;\n  function hammer(A, B) {\n    if (arguments.length < 2) B = A;\n    if (B === 1) return hammerAzimuthalEqualArea;\n    if (B === Infinity) return hammerQuarticAuthalic;\n    function forward(λ, φ) {\n      var coordinates = hammerAzimuthalEqualArea(λ / B, φ);\n      coordinates[0] *= A;\n      return coordinates;\n    }\n    forward.invert = function (x, y) {\n      var coordinates = hammerAzimuthalEqualArea.invert(x / A, y);\n      coordinates[0] *= B;\n      return coordinates;\n    };\n    return forward;\n  }\n  function hammerProjection() {\n    var B = 2,\n        m = projectionMutator(hammer),\n        p = m(B);\n    p.coefficient = function (_) {\n      if (!arguments.length) return B;\n      return m(B = +_);\n    };\n    return p;\n  }\n  function hammerQuarticAuthalic(λ, φ) {\n    return [λ * Math.cos(φ) / Math.cos(φ /= 2), 2 * Math.sin(φ)];\n  }\n  hammerQuarticAuthalic.invert = function (x, y) {\n    var φ = 2 * asin(y / 2);\n    return [x * Math.cos(φ / 2) / Math.cos(φ), φ];\n  };\n  (d3.geoHammer = hammerProjection).raw = hammer;\n  function hatano(λ, φ) {\n    var c = Math.sin(φ) * (φ < 0 ? 2.43763 : 2.67595);\n    for (var i = 0, δ; i < 20; i++) {\n      φ -= δ = (φ + Math.sin(φ) - c) / (1 + Math.cos(φ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [.85 * λ * Math.cos(φ *= .5), Math.sin(φ) * (φ < 0 ? 1.93052 : 1.75859)];\n  }\n  hatano.invert = function (x, y) {\n    var θ = Math.abs(θ = y * (y < 0 ? .5179951515653813 : .5686373742600607)) > 1 - ε ? θ > 0 ? halfπ : -halfπ : asin(θ);\n    return [1.1764705882352942 * x / Math.cos(θ), Math.abs(θ = ((θ += θ) + Math.sin(θ)) * (y < 0 ? .4102345310814193 : .3736990601468637)) > 1 - ε ? θ > 0 ? halfπ : -halfπ : asin(θ)];\n  };\n  (d3.geoHatano = function () {\n    return projection(hatano);\n  }).raw = hatano;\n  var healpixParallel = 41 + 48 / 36 + 37 / 3600;\n  function healpix(h) {\n    var lambert = d3.geoCylindricalEqualArea.raw(0),\n        φ0 = healpixParallel * π / 180,\n        dx0 = 2 * π,\n        dx1 = d3.geoCollignon.raw(π, φ0)[0] - d3.geoCollignon.raw(-π, φ0)[0],\n        y0 = lambert(0, φ0)[1],\n        y1 = d3.geoCollignon.raw(0, φ0)[1],\n        dy1 = d3.geoCollignon.raw(0, halfπ)[1] - y1,\n        k = 2 * π / h;\n    function forward(λ, φ) {\n      var point,\n          φ2 = Math.abs(φ);\n      if (φ2 > φ0) {\n        var i = Math.min(h - 1, Math.max(0, Math.floor((λ + π) / k)));\n        λ += π * (h - 1) / h - i * k;\n        point = d3.geoCollignon.raw(λ, φ2);\n        point[0] = point[0] * dx0 / dx1 - dx0 * (h - 1) / (2 * h) + i * dx0 / h;\n        point[1] = y0 + (point[1] - y1) * 4 * dy1 / dx0;\n        if (φ < 0) point[1] = -point[1];\n      } else {\n        point = lambert(λ, φ);\n      }\n      point[0] /= 2;\n      return point;\n    }\n    forward.invert = function (x, y) {\n      x *= 2;\n      var y2 = Math.abs(y);\n      if (y2 > y0) {\n        var i = Math.min(h - 1, Math.max(0, Math.floor((x + π) / k)));\n        x = (x + π * (h - 1) / h - i * k) * dx1 / dx0;\n        var point = d3.geoCollignon.raw.invert(x, .25 * (y2 - y0) * dx0 / dy1 + y1);\n        point[0] -= π * (h - 1) / h - i * k;\n        if (y < 0) point[1] = -point[1];\n        return point;\n      }\n      return lambert.invert(x, y);\n    };\n    return forward;\n  }\n  function healpixProjection() {\n    var n = 2,\n        m = projectionMutator(healpix),\n        p = m(n),\n        stream_ = p.stream;\n    p.lobes = function (_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    p.stream = function (stream) {\n      var rotate = p.rotate(),\n          rotateStream = stream_(stream),\n          sphereStream = (p.rotate([0, 0]), stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function () {\n        d3.geoStream(sphere(), sphereStream);\n      };\n      return rotateStream;\n    };\n    function sphere() {\n      var step = 180 / n;\n      return {\n        type: \"Polygon\",\n        coordinates: [d3.range(-180, 180 + step / 2, step).map(function (x, i) {\n          return [x, i & 1 ? 90 - 1e-6 : healpixParallel];\n        }).concat(d3.range(180, -180 - step / 2, -step).map(function (x, i) {\n          return [x, i & 1 ? -90 + 1e-6 : -healpixParallel];\n        }))]\n      };\n    }\n    return p;\n  }\n  (d3.geoHealpix = healpixProjection).raw = healpix;\n  function hill(K) {\n    var L = 1 + K,\n        sinβ = Math.sin(1 / L),\n        β = asin(sinβ),\n        A = 2 * Math.sqrt(π / (B = π + 4 * β * L)),\n        B,\n        ρ0 = .5 * A * (L + Math.sqrt(K * (2 + K))),\n        K2 = K * K,\n        L2 = L * L;\n    function forward(λ, φ) {\n      var t = 1 - Math.sin(φ),\n          ρ,\n          ω;\n      if (t && t < 2) {\n        var θ = halfπ - φ,\n            i = 25,\n            δ;\n        do {\n          var sinθ = Math.sin(θ),\n              cosθ = Math.cos(θ),\n              β_β1 = β + Math.atan2(sinθ, L - cosθ),\n              C = 1 + L2 - 2 * L * cosθ;\n          θ -= δ = (θ - K2 * β - L * sinθ + C * β_β1 - .5 * t * B) / (2 * L * sinθ * β_β1);\n        } while (Math.abs(δ) > ε2 && --i > 0);\n        ρ = A * Math.sqrt(C);\n        ω = λ * β_β1 / π;\n      } else {\n        ρ = A * (K + t);\n        ω = λ * β / π;\n      }\n      return [ρ * Math.sin(ω), ρ0 - ρ * Math.cos(ω)];\n    }\n    forward.invert = function (x, y) {\n      var ρ2 = x * x + (y -= ρ0) * y,\n          cosθ = (1 + L2 - ρ2 / (A * A)) / (2 * L),\n          θ = acos(cosθ),\n          sinθ = Math.sin(θ),\n          β_β1 = β + Math.atan2(sinθ, L - cosθ);\n      return [asin(x / Math.sqrt(ρ2)) * π / β_β1, asin(1 - 2 * (θ - K2 * β - L * sinθ + (1 + L2 - 2 * L * cosθ) * β_β1) / B)];\n    };\n    return forward;\n  }\n  function hillProjection() {\n    var K = 1,\n        m = projectionMutator(hill),\n        p = m(K);\n    p.ratio = function (_) {\n      if (!arguments.length) return K;\n      return m(K = +_);\n    };\n    return p;\n  }\n  (d3.geoHill = hillProjection).raw = hill;\n  var sinuMollweideφ = .7109889596207567,\n      sinuMollweideY = .0528035274542;\n  function sinuMollweide(λ, φ) {\n    return φ > -sinuMollweideφ ? (λ = mollweide(λ, φ), λ[1] += sinuMollweideY, λ) : sinusoidal(λ, φ);\n  }\n  sinuMollweide.invert = function (x, y) {\n    return y > -sinuMollweideφ ? mollweide.invert(x, y - sinuMollweideY) : sinusoidal.invert(x, y);\n  };\n  (d3.geoSinuMollweide = function () {\n    return projection(sinuMollweide).rotate([-20, -55]);\n  }).raw = sinuMollweide;\n  function homolosine(λ, φ) {\n    return Math.abs(φ) > sinuMollweideφ ? (λ = mollweide(λ, φ), λ[1] -= φ > 0 ? sinuMollweideY : -sinuMollweideY, λ) : sinusoidal(λ, φ);\n  }\n  homolosine.invert = function (x, y) {\n    return Math.abs(y) > sinuMollweideφ ? mollweide.invert(x, y + (y > 0 ? sinuMollweideY : -sinuMollweideY)) : sinusoidal.invert(x, y);\n  };\n  (d3.geoHomolosine = function () {\n    return projection(homolosine);\n  }).raw = homolosine;\n  function kavrayskiy7(λ, φ) {\n    return [3 * λ / (2 * π) * Math.sqrt(π * π / 3 - φ * φ), φ];\n  }\n  kavrayskiy7.invert = function (x, y) {\n    return [2 / 3 * π * x / Math.sqrt(π * π / 3 - y * y), y];\n  };\n  (d3.geoKavrayskiy7 = function () {\n    return projection(kavrayskiy7);\n  }).raw = kavrayskiy7;\n  function lagrange(n) {\n    function forward(λ, φ) {\n      if (Math.abs(Math.abs(φ) - halfπ) < ε) return [0, φ < 0 ? -2 : 2];\n      var sinφ = Math.sin(φ),\n          v = Math.pow((1 + sinφ) / (1 - sinφ), n / 2),\n          c = .5 * (v + 1 / v) + Math.cos(λ *= n);\n      return [2 * Math.sin(λ) / c, (v - 1 / v) / c];\n    }\n    forward.invert = function (x, y) {\n      var y0 = Math.abs(y);\n      if (Math.abs(y0 - 2) < ε) return x ? null : [0, sgn(y) * halfπ];\n      if (y0 > 2) return null;\n      x /= 2, y /= 2;\n      var x2 = x * x,\n          y2 = y * y,\n          t = 2 * y / (1 + x2 + y2);\n      t = Math.pow((1 + t) / (1 - t), 1 / n);\n      return [Math.atan2(2 * x, 1 - x2 - y2) / n, asin((t - 1) / (t + 1))];\n    };\n    return forward;\n  }\n  function lagrangeProjection() {\n    var n = .5,\n        m = projectionMutator(lagrange),\n        p = m(n);\n    p.spacing = function (_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    return p;\n  }\n  (d3.geoLagrange = lagrangeProjection).raw = lagrange;\n  function larrivee(λ, φ) {\n    return [λ * (1 + Math.sqrt(Math.cos(φ))) / 2, φ / (Math.cos(φ / 2) * Math.cos(λ / 6))];\n  }\n  larrivee.invert = function (x, y) {\n    var x0 = Math.abs(x),\n        y0 = Math.abs(y),\n        π_sqrt2 = π / Math.SQRT2,\n        λ = ε,\n        φ = halfπ;\n    if (y0 < π_sqrt2) φ *= y0 / π_sqrt2;else λ += 6 * acos(π_sqrt2 / y0);\n    for (var i = 0; i < 25; i++) {\n      var sinφ = Math.sin(φ),\n          sqrtcosφ = asqrt(Math.cos(φ)),\n          sinφ_2 = Math.sin(φ / 2),\n          cosφ_2 = Math.cos(φ / 2),\n          sinλ_6 = Math.sin(λ / 6),\n          cosλ_6 = Math.cos(λ / 6),\n          f0 = .5 * λ * (1 + sqrtcosφ) - x0,\n          f1 = φ / (cosφ_2 * cosλ_6) - y0,\n          df0dφ = sqrtcosφ ? -.25 * λ * sinφ / sqrtcosφ : 0,\n          df0dλ = .5 * (1 + sqrtcosφ),\n          df1dφ = (1 + .5 * φ * sinφ_2 / cosφ_2) / (cosφ_2 * cosλ_6),\n          df1dλ = φ / cosφ_2 * (sinλ_6 / 6) / (cosλ_6 * cosλ_6),\n          denom = df0dφ * df1dλ - df1dφ * df0dλ,\n          dφ = (f0 * df1dλ - f1 * df0dλ) / denom,\n          dλ = (f1 * df0dφ - f0 * df1dφ) / denom;\n      φ -= dφ;\n      λ -= dλ;\n      if (Math.abs(dφ) < ε && Math.abs(dλ) < ε) break;\n    }\n    return [x < 0 ? -λ : λ, y < 0 ? -φ : φ];\n  };\n  (d3.geoLarrivee = function () {\n    return projection(larrivee);\n  }).raw = larrivee;\n  function laskowski(λ, φ) {\n    var λ2 = λ * λ,\n        φ2 = φ * φ;\n    return [λ * (.975534 + φ2 * (-.119161 + λ2 * -.0143059 + φ2 * -.0547009)), φ * (1.00384 + λ2 * (.0802894 + φ2 * -.02855 + λ2 * 199025e-9) + φ2 * (.0998909 + φ2 * -.0491032))];\n  }\n  laskowski.invert = function (x, y) {\n    var λ = sgn(x) * π,\n        φ = y / 2,\n        i = 50;\n    do {\n      var λ2 = λ * λ,\n          φ2 = φ * φ,\n          λφ = λ * φ,\n          fx = λ * (.975534 + φ2 * (-.119161 + λ2 * -.0143059 + φ2 * -.0547009)) - x,\n          fy = φ * (1.00384 + λ2 * (.0802894 + φ2 * -.02855 + λ2 * 199025e-9) + φ2 * (.0998909 + φ2 * -.0491032)) - y,\n          δxδλ = .975534 - φ2 * (.119161 + 3 * λ2 * .0143059 + φ2 * .0547009),\n          δxδφ = -λφ * (2 * .119161 + 4 * .0547009 * φ2 + 2 * .0143059 * λ2),\n          δyδλ = λφ * (2 * .0802894 + 4 * 199025e-9 * λ2 + 2 * -.02855 * φ2),\n          δyδφ = 1.00384 + λ2 * (.0802894 + 199025e-9 * λ2) + φ2 * (3 * (.0998909 - .02855 * λ2) - 5 * .0491032 * φ2),\n          denominator = δxδφ * δyδλ - δyδφ * δxδλ,\n          δλ = (fy * δxδφ - fx * δyδφ) / denominator,\n          δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return i && [λ, φ];\n  };\n  (d3.geoLaskowski = function () {\n    return projection(laskowski);\n  }).raw = laskowski;\n  function littrow(λ, φ) {\n    return [Math.sin(λ) / Math.cos(φ), Math.tan(φ) * Math.cos(λ)];\n  }\n  littrow.invert = function (x, y) {\n    var x2 = x * x,\n        y2 = y * y,\n        y2_1 = y2 + 1,\n        cosφ = x ? Math.SQRT1_2 * Math.sqrt((y2_1 - Math.sqrt(x2 * x2 + 2 * x2 * (y2 - 1) + y2_1 * y2_1)) / x2 + 1) : 1 / Math.sqrt(y2_1);\n    return [asin(x * cosφ), sgn(y) * acos(cosφ)];\n  };\n  (d3.geoLittrow = function () {\n    return projection(littrow);\n  }).raw = littrow;\n  function loximuthal(φ0) {\n    var cosφ0 = Math.cos(φ0),\n        tanφ0 = Math.tan(π / 4 + φ0 / 2);\n    function forward(λ, φ) {\n      var y = φ - φ0,\n          x = Math.abs(y) < ε ? λ * cosφ0 : Math.abs(x = π / 4 + φ / 2) < ε || Math.abs(Math.abs(x) - halfπ) < ε ? 0 : λ * y / Math.log(Math.tan(x) / tanφ0);\n      return [x, y];\n    }\n    forward.invert = function (x, y) {\n      var λ,\n          φ = y + φ0;\n      return [Math.abs(y) < ε ? x / cosφ0 : Math.abs(λ = π / 4 + φ / 2) < ε || Math.abs(Math.abs(λ) - halfπ) < ε ? 0 : x * Math.log(Math.tan(λ) / tanφ0) / y, φ];\n    };\n    return forward;\n  }\n  (d3.geoLoximuthal = function () {\n    return parallel1Projection(loximuthal).parallel(40);\n  }).raw = loximuthal;\n  function miller(λ, φ) {\n    return [λ, 1.25 * Math.log(Math.tan(π / 4 + .4 * φ))];\n  }\n  miller.invert = function (x, y) {\n    return [x, 2.5 * Math.atan(Math.exp(.8 * y)) - .625 * π];\n  };\n  (d3.geoMiller = function () {\n    return projection(miller);\n  }).raw = miller;\n  function modifiedStereographic(C) {\n    var m = C.length - 1;\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ),\n          k = 2 / (1 + cosφ * Math.cos(λ)),\n          zr = k * cosφ * Math.sin(λ),\n          zi = k * Math.sin(φ),\n          i = m,\n          w = C[i],\n          ar = w[0],\n          ai = w[1],\n          t;\n      while (--i >= 0) {\n        w = C[i];\n        ar = w[0] + zr * (t = ar) - zi * ai;\n        ai = w[1] + zr * ai + zi * t;\n      }\n      ar = zr * (t = ar) - zi * ai;\n      ai = zr * ai + zi * t;\n      return [ar, ai];\n    }\n    forward.invert = function (x, y) {\n      var i = 20,\n          zr = x,\n          zi = y;\n      do {\n        var j = m,\n            w = C[j],\n            ar = w[0],\n            ai = w[1],\n            br = 0,\n            bi = 0,\n            t;\n        while (--j >= 0) {\n          w = C[j];\n          br = ar + zr * (t = br) - zi * bi;\n          bi = ai + zr * bi + zi * t;\n          ar = w[0] + zr * (t = ar) - zi * ai;\n          ai = w[1] + zr * ai + zi * t;\n        }\n        br = ar + zr * (t = br) - zi * bi;\n        bi = ai + zr * bi + zi * t;\n        ar = zr * (t = ar) - zi * ai - x;\n        ai = zr * ai + zi * t - y;\n        var denominator = br * br + bi * bi,\n            δr,\n            δi;\n        zr -= δr = (ar * br + ai * bi) / denominator;\n        zi -= δi = (ai * br - ar * bi) / denominator;\n      } while (Math.abs(δr) + Math.abs(δi) > ε * ε && --i > 0);\n      if (i) {\n        var ρ = Math.sqrt(zr * zr + zi * zi),\n            c = 2 * Math.atan(ρ * .5),\n            sinc = Math.sin(c);\n        return [Math.atan2(zr * sinc, ρ * Math.cos(c)), ρ ? asin(zi * sinc / ρ) : 0];\n      }\n    };\n    return forward;\n  }\n  var modifiedStereographicCoefficients = {\n    alaska: [[.9972523, 0], [.0052513, -.0041175], [.0074606, .0048125], [-.0153783, -.1968253], [.0636871, -.1408027], [.3660976, -.2937382]],\n    gs48: [[.98879, 0], [0, 0], [-.050909, 0], [0, 0], [.075528, 0]],\n    gs50: [[.984299, 0], [.0211642, .0037608], [-.1036018, -.0575102], [-.0329095, -.0320119], [.0499471, .1223335], [.026046, .0899805], [7388e-7, -.1435792], [.0075848, -.1334108], [-.0216473, .0776645], [-.0225161, .0853673]],\n    miller: [[.9245, 0], [0, 0], [.01943, 0]],\n    lee: [[.721316, 0], [0, 0], [-.00881625, -.00617325]]\n  };\n  function modifiedStereographicProjection() {\n    var coefficients = modifiedStereographicCoefficients.miller,\n        m = projectionMutator(modifiedStereographic),\n        p = m(coefficients);\n    p.coefficients = function (_) {\n      if (!arguments.length) return coefficients;\n      return m(coefficients = typeof _ === \"string\" ? modifiedStereographicCoefficients[_] : _);\n    };\n    return p;\n  }\n  (d3.geoModifiedStereographic = modifiedStereographicProjection).raw = modifiedStereographic;\n  function mtFlatPolarParabolic(λ, φ) {\n    var sqrt6 = Math.sqrt(6),\n        sqrt7 = Math.sqrt(7),\n        θ = Math.asin(7 * Math.sin(φ) / (3 * sqrt6));\n    return [sqrt6 * λ * (2 * Math.cos(2 * θ / 3) - 1) / sqrt7, 9 * Math.sin(θ / 3) / sqrt7];\n  }\n  mtFlatPolarParabolic.invert = function (x, y) {\n    var sqrt6 = Math.sqrt(6),\n        sqrt7 = Math.sqrt(7),\n        θ = 3 * asin(y * sqrt7 / 9);\n    return [x * sqrt7 / (sqrt6 * (2 * Math.cos(2 * θ / 3) - 1)), asin(Math.sin(θ) * 3 * sqrt6 / 7)];\n  };\n  (d3.geoMtFlatPolarParabolic = function () {\n    return projection(mtFlatPolarParabolic);\n  }).raw = mtFlatPolarParabolic;\n  function mtFlatPolarQuartic(λ, φ) {\n    var k = (1 + Math.SQRT1_2) * Math.sin(φ),\n        θ = φ;\n    for (var i = 0, δ; i < 25; i++) {\n      θ -= δ = (Math.sin(θ / 2) + Math.sin(θ) - k) / (.5 * Math.cos(θ / 2) + Math.cos(θ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [λ * (1 + 2 * Math.cos(θ) / Math.cos(θ / 2)) / (3 * Math.SQRT2), 2 * Math.sqrt(3) * Math.sin(θ / 2) / Math.sqrt(2 + Math.SQRT2)];\n  }\n  mtFlatPolarQuartic.invert = function (x, y) {\n    var sinθ_2 = y * Math.sqrt(2 + Math.SQRT2) / (2 * Math.sqrt(3)),\n        θ = 2 * asin(sinθ_2);\n    return [3 * Math.SQRT2 * x / (1 + 2 * Math.cos(θ) / Math.cos(θ / 2)), asin((sinθ_2 + Math.sin(θ)) / (1 + Math.SQRT1_2))];\n  };\n  (d3.geoMtFlatPolarQuartic = function () {\n    return projection(mtFlatPolarQuartic);\n  }).raw = mtFlatPolarQuartic;\n  function mtFlatPolarSinusoidal(λ, φ) {\n    var A = Math.sqrt(6 / (4 + π)),\n        k = (1 + π / 4) * Math.sin(φ),\n        θ = φ / 2;\n    for (var i = 0, δ; i < 25; i++) {\n      θ -= δ = (θ / 2 + Math.sin(θ) - k) / (.5 + Math.cos(θ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [A * (.5 + Math.cos(θ)) * λ / 1.5, A * θ];\n  }\n  mtFlatPolarSinusoidal.invert = function (x, y) {\n    var A = Math.sqrt(6 / (4 + π)),\n        θ = y / A;\n    if (Math.abs(Math.abs(θ) - halfπ) < ε) θ = θ < 0 ? -halfπ : halfπ;\n    return [1.5 * x / (A * (.5 + Math.cos(θ))), asin((θ / 2 + Math.sin(θ)) / (1 + π / 4))];\n  };\n  (d3.geoMtFlatPolarSinusoidal = function () {\n    return projection(mtFlatPolarSinusoidal);\n  }).raw = mtFlatPolarSinusoidal;\n  function naturalEarth(λ, φ) {\n    var φ2 = φ * φ,\n        φ4 = φ2 * φ2;\n    return [λ * (.8707 - .131979 * φ2 + φ4 * (-.013791 + φ4 * (.003971 * φ2 - .001529 * φ4))), φ * (1.007226 + φ2 * (.015085 + φ4 * (-.044475 + .028874 * φ2 - .005916 * φ4)))];\n  }\n  naturalEarth.invert = function (x, y) {\n    var φ = y,\n        i = 25,\n        δ;\n    do {\n      var φ2 = φ * φ,\n          φ4 = φ2 * φ2;\n      φ -= δ = (φ * (1.007226 + φ2 * (.015085 + φ4 * (-.044475 + .028874 * φ2 - .005916 * φ4))) - y) / (1.007226 + φ2 * (.015085 * 3 + φ4 * (-.044475 * 7 + .028874 * 9 * φ2 - .005916 * 11 * φ4)));\n    } while (Math.abs(δ) > ε && --i > 0);\n    return [x / (.8707 + (φ2 = φ * φ) * (-.131979 + φ2 * (-.013791 + φ2 * φ2 * φ2 * (.003971 - .001529 * φ2)))), φ];\n  };\n  (d3.geoNaturalEarth = function () {\n    return projection(naturalEarth);\n  }).raw = naturalEarth;\n  function nellHammer(λ, φ) {\n    return [λ * (1 + Math.cos(φ)) / 2, 2 * (φ - Math.tan(φ / 2))];\n  }\n  nellHammer.invert = function (x, y) {\n    var p = y / 2;\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      var c = Math.cos(y / 2);\n      y -= δ = (y - Math.tan(y / 2) - p) / (1 - .5 / (c * c));\n    }\n    return [2 * x / (1 + Math.cos(y)), y];\n  };\n  (d3.geoNellHammer = function () {\n    return projection(nellHammer);\n  }).raw = nellHammer;\n  var pattersonK1 = 1.0148,\n      pattersonK2 = .23185,\n      pattersonK3 = -.14499,\n      pattersonK4 = .02406,\n      pattersonC1 = pattersonK1,\n      pattersonC2 = 5 * pattersonK2,\n      pattersonC3 = 7 * pattersonK3,\n      pattersonC4 = 9 * pattersonK4,\n      pattersonYmax = 1.790857183;\n  function patterson(λ, φ) {\n    var φ2 = φ * φ;\n    return [λ, φ * (pattersonK1 + φ2 * φ2 * (pattersonK2 + φ2 * (pattersonK3 + pattersonK4 * φ2)))];\n  }\n  patterson.invert = function (x, y) {\n    if (y > pattersonYmax) y = pattersonYmax;else if (y < -pattersonYmax) y = -pattersonYmax;\n    var yc = y,\n        δ;\n    do {\n      var y2 = yc * yc;\n      yc -= δ = (yc * (pattersonK1 + y2 * y2 * (pattersonK2 + y2 * (pattersonK3 + pattersonK4 * y2))) - y) / (pattersonC1 + y2 * y2 * (pattersonC2 + y2 * (pattersonC3 + pattersonC4 * y2)));\n    } while (Math.abs(δ) > ε);\n    return [x, yc];\n  };\n  (d3.geoPatterson = function () {\n    return projection(patterson);\n  }).raw = patterson;\n  var peirceQuincuncialProjection = quincuncialProjection(guyou);\n  (d3.geoPeirceQuincuncial = function () {\n    return peirceQuincuncialProjection().quincuncial(true).rotate([-90, -90, 45]).clipAngle(180 - 1e-6);\n  }).raw = peirceQuincuncialProjection.raw;\n  function polyconic(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var tanφ = Math.tan(φ),\n        k = λ * Math.sin(φ);\n    return [Math.sin(k) / tanφ, φ + (1 - Math.cos(k)) / tanφ];\n  }\n  polyconic.invert = function (x, y) {\n    if (Math.abs(y) < ε) return [x, 0];\n    var k = x * x + y * y,\n        φ = y * .5,\n        i = 10,\n        δ;\n    do {\n      var tanφ = Math.tan(φ),\n          secφ = 1 / Math.cos(φ),\n          j = k - 2 * y * φ + φ * φ;\n      φ -= δ = (tanφ * j + 2 * (φ - y)) / (2 + j * secφ * secφ + 2 * (φ - y) * tanφ);\n    } while (Math.abs(δ) > ε && --i > 0);\n    tanφ = Math.tan(φ);\n    return [(Math.abs(y) < Math.abs(φ + 1 / tanφ) ? asin(x * tanφ) : sgn(x) * (acos(Math.abs(x * tanφ)) + halfπ)) / Math.sin(φ), φ];\n  };\n  (d3.geoPolyconic = function () {\n    return projection(polyconic);\n  }).raw = polyconic;\n  function rectangularPolyconic(φ0) {\n    var sinφ0 = Math.sin(φ0);\n    function forward(λ, φ) {\n      var A = sinφ0 ? Math.tan(λ * sinφ0 / 2) / sinφ0 : λ / 2;\n      if (!φ) return [2 * A, -φ0];\n      var E = 2 * Math.atan(A * Math.sin(φ)),\n          cotφ = 1 / Math.tan(φ);\n      return [Math.sin(E) * cotφ, φ + (1 - Math.cos(E)) * cotφ - φ0];\n    }\n    forward.invert = function (x, y) {\n      if (Math.abs(y += φ0) < ε) return [sinφ0 ? 2 * Math.atan(sinφ0 * x / 2) / sinφ0 : x, 0];\n      var k = x * x + y * y,\n          φ = 0,\n          i = 10,\n          δ;\n      do {\n        var tanφ = Math.tan(φ),\n            secφ = 1 / Math.cos(φ),\n            j = k - 2 * y * φ + φ * φ;\n        φ -= δ = (tanφ * j + 2 * (φ - y)) / (2 + j * secφ * secφ + 2 * (φ - y) * tanφ);\n      } while (Math.abs(δ) > ε && --i > 0);\n      var E = x * (tanφ = Math.tan(φ)),\n          A = Math.tan(Math.abs(y) < Math.abs(φ + 1 / tanφ) ? asin(E) * .5 : acos(E) * .5 + π / 4) / Math.sin(φ);\n      return [sinφ0 ? 2 * Math.atan(sinφ0 * A) / sinφ0 : 2 * A, φ];\n    };\n    return forward;\n  }\n  (d3.geoRectangularPolyconic = function () {\n    return parallel1Projection(rectangularPolyconic);\n  }).raw = rectangularPolyconic;\n  var robinsonConstants = [[.9986, -.062], [1, 0], [.9986, .062], [.9954, .124], [.99, .186], [.9822, .248], [.973, .31], [.96, .372], [.9427, .434], [.9216, .4958], [.8962, .5571], [.8679, .6176], [.835, .6769], [.7986, .7346], [.7597, .7903], [.7186, .8435], [.6732, .8936], [.6213, .9394], [.5722, .9761], [.5322, 1]];\n  robinsonConstants.forEach(function (d) {\n    d[1] *= 1.0144;\n  });\n  function robinson(λ, φ) {\n    var i = Math.min(18, Math.abs(φ) * 36 / π),\n        i0 = Math.floor(i),\n        di = i - i0,\n        ax = (k = robinsonConstants[i0])[0],\n        ay = k[1],\n        bx = (k = robinsonConstants[++i0])[0],\n        by = k[1],\n        cx = (k = robinsonConstants[Math.min(19, ++i0)])[0],\n        cy = k[1],\n        k;\n    return [λ * (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2), (φ > 0 ? halfπ : -halfπ) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2)];\n  }\n  robinson.invert = function (x, y) {\n    var yy = y / halfπ,\n        φ = yy * 90,\n        i = Math.min(18, Math.abs(φ / 5)),\n        i0 = Math.max(0, Math.floor(i));\n    do {\n      var ay = robinsonConstants[i0][1],\n          by = robinsonConstants[i0 + 1][1],\n          cy = robinsonConstants[Math.min(19, i0 + 2)][1],\n          u = cy - ay,\n          v = cy - 2 * by + ay,\n          t = 2 * (Math.abs(yy) - by) / u,\n          c = v / u,\n          di = t * (1 - c * t * (1 - 2 * c * t));\n      if (di >= 0 || i0 === 1) {\n        φ = (y >= 0 ? 5 : -5) * (di + i);\n        var j = 50,\n            δ;\n        do {\n          i = Math.min(18, Math.abs(φ) / 5);\n          i0 = Math.floor(i);\n          di = i - i0;\n          ay = robinsonConstants[i0][1];\n          by = robinsonConstants[i0 + 1][1];\n          cy = robinsonConstants[Math.min(19, i0 + 2)][1];\n          φ -= (δ = (y >= 0 ? halfπ : -halfπ) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2) - y) * degrees;\n        } while (Math.abs(δ) > ε2 && --j > 0);\n        break;\n      }\n    } while (--i0 >= 0);\n    var ax = robinsonConstants[i0][0],\n        bx = robinsonConstants[i0 + 1][0],\n        cx = robinsonConstants[Math.min(19, i0 + 2)][0];\n    return [x / (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2), φ * radians];\n  };\n  (d3.geoRobinson = function () {\n    return projection(robinson);\n  }).raw = robinson;\n  function satelliteVertical(P) {\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ),\n          k = (P - 1) / (P - cosφ * Math.cos(λ));\n      return [k * cosφ * Math.sin(λ), k * Math.sin(φ)];\n    }\n    forward.invert = function (x, y) {\n      var ρ2 = x * x + y * y,\n          ρ = Math.sqrt(ρ2),\n          sinc = (P - Math.sqrt(1 - ρ2 * (P + 1) / (P - 1))) / ((P - 1) / ρ + ρ / (P - 1));\n      return [Math.atan2(x * sinc, ρ * Math.sqrt(1 - sinc * sinc)), ρ ? asin(y * sinc / ρ) : 0];\n    };\n    return forward;\n  }\n  function satellite(P, ω) {\n    var vertical = satelliteVertical(P);\n    if (!ω) return vertical;\n    var cosω = Math.cos(ω),\n        sinω = Math.sin(ω);\n    function forward(λ, φ) {\n      var coordinates = vertical(λ, φ),\n          y = coordinates[1],\n          A = y * sinω / (P - 1) + cosω;\n      return [coordinates[0] * cosω / A, y / A];\n    }\n    forward.invert = function (x, y) {\n      var k = (P - 1) / (P - 1 - y * sinω);\n      return vertical.invert(k * x, k * y * cosω);\n    };\n    return forward;\n  }\n  function satelliteProjection() {\n    var P = 1.4,\n        ω = 0,\n        m = projectionMutator(satellite),\n        p = m(P, ω);\n    p.distance = function (_) {\n      if (!arguments.length) return P;\n      return m(P = +_, ω);\n    };\n    p.tilt = function (_) {\n      if (!arguments.length) return ω * 180 / π;\n      return m(P, ω = _ * π / 180);\n    };\n    return p;\n  }\n  (d3.geoSatellite = satelliteProjection).raw = satellite;\n  function times(λ, φ) {\n    var t = Math.tan(φ / 2),\n        s = Math.sin(π / 4 * t);\n    return [λ * (.74482 - .34588 * s * s), 1.70711 * t];\n  }\n  times.invert = function (x, y) {\n    var t = y / 1.70711,\n        s = Math.sin(π / 4 * t);\n    return [x / (.74482 - .34588 * s * s), 2 * Math.atan(t)];\n  };\n  (d3.geoTimes = function () {\n    return projection(times);\n  }).raw = times;\n  function twoPointEquidistant(z0) {\n    if (!z0) return d3.geoAzimuthalEquidistant.raw;\n    var λa = -z0 / 2,\n        λb = -λa,\n        z02 = z0 * z0,\n        tanλ0 = Math.tan(λb),\n        S = .5 / Math.sin(λb);\n    function forward(λ, φ) {\n      var za = acos(Math.cos(φ) * Math.cos(λ - λa)),\n          zb = acos(Math.cos(φ) * Math.cos(λ - λb)),\n          ys = φ < 0 ? -1 : 1;\n      za *= za, zb *= zb;\n      return [(za - zb) / (2 * z0), ys * asqrt(4 * z02 * zb - (z02 - za + zb) * (z02 - za + zb)) / (2 * z0)];\n    }\n    forward.invert = function (x, y) {\n      var y2 = y * y,\n          cosza = Math.cos(Math.sqrt(y2 + (t = x + λa) * t)),\n          coszb = Math.cos(Math.sqrt(y2 + (t = x + λb) * t)),\n          t,\n          d;\n      return [Math.atan2(d = cosza - coszb, t = (cosza + coszb) * tanλ0), (y < 0 ? -1 : 1) * acos(Math.sqrt(t * t + d * d) * S)];\n    };\n    return forward;\n  }\n  function twoPointEquidistantProjection() {\n    var points = [[0, 0], [0, 0]],\n        m = projectionMutator(twoPointEquidistant),\n        p = m(0),\n        rotate = p.rotate;\n    delete p.rotate;\n    p.points = function (_) {\n      if (!arguments.length) return points;\n      points = _;\n      var interpolate = d3.geoInterpolate(_[0], _[1]),\n          origin = interpolate(.5),\n          p = d3.geoRotation([-origin[0], -origin[1]])(_[0]),\n          b = interpolate.distance * .5,\n          γ = -asin(Math.sin(p[1] * radians) / Math.sin(b));\n      if (p[0] > 0) γ = π - γ;\n      rotate.call(p, [-origin[0], -origin[1], -γ * degrees]);\n      return m(b * 2);\n    };\n    return p;\n  }\n  (d3.geoTwoPointEquidistant = twoPointEquidistantProjection).raw = twoPointEquidistant;\n  function twoPointAzimuthal(d) {\n    var cosd = Math.cos(d);\n    function forward(λ, φ) {\n      var coordinates = d3.geoGnomonic.raw(λ, φ);\n      coordinates[0] *= cosd;\n      return coordinates;\n    }\n    forward.invert = function (x, y) {\n      return d3.geoGnomonic.raw.invert(x / cosd, y);\n    };\n    return forward;\n  }\n  function twoPointAzimuthalProjection() {\n    var points = [[0, 0], [0, 0]],\n        m = projectionMutator(twoPointAzimuthal),\n        p = m(0),\n        rotate = p.rotate;\n    delete p.rotate;\n    p.points = function (_) {\n      if (!arguments.length) return points;\n      points = _;\n      var interpolate = d3.geoInterpolate(_[0], _[1]),\n          origin = interpolate(.5),\n          p = d3.geoRotation([-origin[0], -origin[1]])(_[0]),\n          b = interpolate.distance * .5,\n          γ = -asin(Math.sin(p[1] * radians) / Math.sin(b));\n      if (p[0] > 0) γ = π - γ;\n      rotate.call(p, [-origin[0], -origin[1], -γ * degrees]);\n      return m(b);\n    };\n    return p;\n  }\n  (d3.geoTwoPointAzimuthal = twoPointAzimuthalProjection).raw = twoPointAzimuthal;\n  function vanDerGrinten(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = Math.abs(φ / halfπ),\n        θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, sgn(φ) * π * Math.tan(θ / 2)];\n    var cosθ = Math.cos(θ),\n        A = Math.abs(π / λ - λ / π) / 2,\n        A2 = A * A,\n        G = cosθ / (sinθ + cosθ - 1),\n        P = G * (2 / sinθ - 1),\n        P2 = P * P,\n        P2_A2 = P2 + A2,\n        G_P2 = G - P2,\n        Q = A2 + G;\n    return [sgn(λ) * π * (A * G_P2 + Math.sqrt(A2 * G_P2 * G_P2 - P2_A2 * (G * G - P2))) / P2_A2, sgn(φ) * π * (P * Q - A * Math.sqrt((A2 + 1) * P2_A2 - Q * Q)) / P2_A2];\n  }\n  vanDerGrinten.invert = function (x, y) {\n    if (Math.abs(y) < ε) return [x, 0];\n    if (Math.abs(x) < ε) return [0, halfπ * Math.sin(2 * Math.atan(y / π))];\n    var x2 = (x /= π) * x,\n        y2 = (y /= π) * y,\n        x2_y2 = x2 + y2,\n        z = x2_y2 * x2_y2,\n        c1 = -Math.abs(y) * (1 + x2_y2),\n        c2 = c1 - 2 * y2 + x2,\n        c3 = -2 * c1 + 1 + 2 * y2 + z,\n        d = y2 / c3 + (2 * c2 * c2 * c2 / (c3 * c3 * c3) - 9 * c1 * c2 / (c3 * c3)) / 27,\n        a1 = (c1 - c2 * c2 / (3 * c3)) / c3,\n        m1 = 2 * Math.sqrt(-a1 / 3),\n        θ1 = acos(3 * d / (a1 * m1)) / 3;\n    return [π * (x2_y2 - 1 + Math.sqrt(1 + 2 * (x2 - y2) + z)) / (2 * x), sgn(y) * π * (-m1 * Math.cos(θ1 + π / 3) - c2 / (3 * c3))];\n  };\n  (d3.geoVanDerGrinten = function () {\n    return projection(vanDerGrinten);\n  }).raw = vanDerGrinten;\n  function vanDerGrinten2(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = Math.abs(φ / halfπ),\n        θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, sgn(φ) * π * Math.tan(θ / 2)];\n    var cosθ = Math.cos(θ),\n        A = Math.abs(π / λ - λ / π) / 2,\n        A2 = A * A,\n        x1 = cosθ * (Math.sqrt(1 + A2) - A * cosθ) / (1 + A2 * sinθ * sinθ);\n    return [sgn(λ) * π * x1, sgn(φ) * π * asqrt(1 - x1 * (2 * A + x1))];\n  }\n  vanDerGrinten2.invert = function (x, y) {\n    if (!x) return [0, halfπ * Math.sin(2 * Math.atan(y / π))];\n    var x1 = Math.abs(x / π),\n        A = (1 - x1 * x1 - (y /= π) * y) / (2 * x1),\n        A2 = A * A,\n        B = Math.sqrt(A2 + 1);\n    return [sgn(x) * π * (B - A), sgn(y) * halfπ * Math.sin(2 * Math.atan2(Math.sqrt((1 - 2 * A * x1) * (A + B) - x1), Math.sqrt(B + A + x1)))];\n  };\n  (d3.geoVanDerGrinten2 = function () {\n    return projection(vanDerGrinten2);\n  }).raw = vanDerGrinten2;\n  function vanDerGrinten3(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = φ / halfπ,\n        θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, π * Math.tan(θ / 2)];\n    var A = (π / λ - λ / π) / 2,\n        y1 = sinθ / (1 + Math.cos(θ));\n    return [π * (sgn(λ) * asqrt(A * A + 1 - y1 * y1) - A), π * y1];\n  }\n  vanDerGrinten3.invert = function (x, y) {\n    if (!y) return [x, 0];\n    var y1 = y / π,\n        A = (π * π * (1 - y1 * y1) - x * x) / (2 * π * x);\n    return [x ? π * (sgn(x) * Math.sqrt(A * A + 1) - A) : 0, halfπ * Math.sin(2 * Math.atan(y1))];\n  };\n  (d3.geoVanDerGrinten3 = function () {\n    return projection(vanDerGrinten3);\n  }).raw = vanDerGrinten3;\n  function vanDerGrinten4(λ, φ) {\n    if (!φ) return [λ, 0];\n    var φ0 = Math.abs(φ);\n    if (!λ || φ0 === halfπ) return [0, φ];\n    var B = φ0 / halfπ,\n        B2 = B * B,\n        C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)),\n        C2 = C * C,\n        BC = B * C,\n        B_C2 = B2 + C2 + 2 * BC,\n        B_3C = B + 3 * C,\n        λ0 = λ / halfπ,\n        λ1 = λ0 + 1 / λ0,\n        D = sgn(Math.abs(λ) - halfπ) * Math.sqrt(λ1 * λ1 - 4),\n        D2 = D * D,\n        F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + 12 * BC * C2 + 4 * C2 * C2),\n        x1 = (D * (B_C2 + C2 - 1) + 2 * asqrt(F)) / (4 * B_C2 + D2);\n    return [sgn(λ) * halfπ * x1, sgn(φ) * halfπ * asqrt(1 + D * Math.abs(x1) - x1 * x1)];\n  }\n  vanDerGrinten4.invert = function (x, y) {\n    if (!x || !y) return [x, y];\n    y /= π;\n    var x1 = sgn(x) * x / halfπ,\n        D = (x1 * x1 - 1 + 4 * y * y) / Math.abs(x1),\n        D2 = D * D,\n        B = 2 * y,\n        i = 50;\n    do {\n      var B2 = B * B,\n          C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)),\n          C_ = (3 * B - B2 * B - 10) / (2 * B2 * B),\n          C2 = C * C,\n          BC = B * C,\n          B_C = B + C,\n          B_C2 = B_C * B_C,\n          B_3C = B + 3 * C,\n          F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + C2 * (12 * BC + 4 * C2)),\n          F_ = -2 * B_C * (4 * BC * C2 + (1 - 4 * B2 + 3 * B2 * B2) * (1 + C_) + C2 * (-6 + 14 * B2 - D2 + (-8 + 8 * B2 - 2 * D2) * C_) + BC * (-8 + 12 * B2 + (-10 + 10 * B2 - D2) * C_)),\n          sqrtF = Math.sqrt(F),\n          f = D * (B_C2 + C2 - 1) + 2 * sqrtF - x1 * (4 * B_C2 + D2),\n          f_ = D * (2 * C * C_ + 2 * B_C * (1 + C_)) + F_ / sqrtF - 8 * B_C * (D * (-1 + C2 + B_C2) + 2 * sqrtF) * (1 + C_) / (D2 + 4 * B_C2);\n      B -= δ = f / f_;\n    } while (δ > ε && --i > 0);\n    return [sgn(x) * (Math.sqrt(D * D + 4) + D) * π / 4, halfπ * B];\n  };\n  (d3.geoVanDerGrinten4 = function () {\n    return projection(vanDerGrinten4);\n  }).raw = vanDerGrinten4;\n  var wagner4 = function () {\n    var A = 4 * π + 3 * Math.sqrt(3),\n        B = 2 * Math.sqrt(2 * π * Math.sqrt(3) / A);\n    return mollweideBromley(B * Math.sqrt(3) / π, B, A / 6);\n  }();\n  (d3.geoWagner4 = function () {\n    return projection(wagner4);\n  }).raw = wagner4;\n  function wagner6(λ, φ) {\n    return [λ * Math.sqrt(1 - 3 * φ * φ / (π * π)), φ];\n  }\n  wagner6.invert = function (x, y) {\n    return [x / Math.sqrt(1 - 3 * y * y / (π * π)), y];\n  };\n  (d3.geoWagner6 = function () {\n    return projection(wagner6);\n  }).raw = wagner6;\n  function wagner7(λ, φ) {\n    var s = .90631 * Math.sin(φ),\n        c0 = Math.sqrt(1 - s * s),\n        c1 = Math.sqrt(2 / (1 + c0 * Math.cos(λ /= 3)));\n    return [2.66723 * c0 * c1 * Math.sin(λ), 1.24104 * s * c1];\n  }\n  wagner7.invert = function (x, y) {\n    var t1 = x / 2.66723,\n        t2 = y / 1.24104,\n        p = Math.sqrt(t1 * t1 + t2 * t2),\n        c = 2 * asin(p / 2);\n    return [3 * Math.atan2(x * Math.tan(c), 2.66723 * p), p && asin(y * Math.sin(c) / (1.24104 * .90631 * p))];\n  };\n  (d3.geoWagner7 = function () {\n    return projection(wagner7);\n  }).raw = wagner7;\n  function wiechel(λ, φ) {\n    var cosφ = Math.cos(φ),\n        sinφ = Math.cos(λ) * cosφ,\n        sin1_φ = 1 - sinφ,\n        cosλ = Math.cos(λ = Math.atan2(Math.sin(λ) * cosφ, -Math.sin(φ))),\n        sinλ = Math.sin(λ);\n    cosφ = asqrt(1 - sinφ * sinφ);\n    return [sinλ * cosφ - cosλ * sin1_φ, -cosλ * cosφ - sinλ * sin1_φ];\n  }\n  wiechel.invert = function (x, y) {\n    var w = -.5 * (x * x + y * y),\n        k = Math.sqrt(-w * (2 + w)),\n        b = y * w + x * k,\n        a = x * w - y * k,\n        D = Math.sqrt(a * a + b * b);\n    return [Math.atan2(k * b, D * (1 + w)), D ? -asin(k * a / D) : 0];\n  };\n  (d3.geoWiechel = function () {\n    return projection(wiechel);\n  }).raw = wiechel;\n  function winkel3(λ, φ) {\n    var coordinates = aitoff(λ, φ);\n    return [(coordinates[0] + λ / halfπ) / 2, (coordinates[1] + φ) / 2];\n  }\n  winkel3.invert = function (x, y) {\n    var λ = x,\n        φ = y,\n        i = 25;\n    do {\n      var cosφ = Math.cos(φ),\n          sinφ = Math.sin(φ),\n          sin_2φ = Math.sin(2 * φ),\n          sin2φ = sinφ * sinφ,\n          cos2φ = cosφ * cosφ,\n          sinλ = Math.sin(λ),\n          cosλ_2 = Math.cos(λ / 2),\n          sinλ_2 = Math.sin(λ / 2),\n          sin2λ_2 = sinλ_2 * sinλ_2,\n          C = 1 - cos2φ * cosλ_2 * cosλ_2,\n          E = C ? acos(cosφ * cosλ_2) * Math.sqrt(F = 1 / C) : F = 0,\n          F,\n          fx = .5 * (2 * E * cosφ * sinλ_2 + λ / halfπ) - x,\n          fy = .5 * (E * sinφ + φ) - y,\n          δxδλ = .5 * F * (cos2φ * sin2λ_2 + E * cosφ * cosλ_2 * sin2φ) + .5 / halfπ,\n          δxδφ = F * (sinλ * sin_2φ / 4 - E * sinφ * sinλ_2),\n          δyδλ = .125 * F * (sin_2φ * sinλ_2 - E * sinφ * cos2φ * sinλ),\n          δyδφ = .5 * F * (sin2φ * cosλ_2 + E * sin2λ_2 * cosφ) + .5,\n          denominator = δxδφ * δyδλ - δyδφ * δxδλ,\n          δλ = (fy * δxδφ - fx * δyδφ) / denominator,\n          δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoWinkel3 = function () {\n    return projection(winkel3);\n  }).raw = winkel3;\n};\n\n/***/ }),\n/* 399 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(1);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _css = __webpack_require__(400);\n\nvar _css2 = _interopRequireDefault(_css);\n\nvar _iconset = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar label = function label(context) {\n\n  return function d3_label() {\n\n    var _this = context;\n\n    var _cssPrefix = void 0;\n    label.setCssPrefix = function (cssPrefix) {\n      _cssPrefix = cssPrefix;\n      return label;\n    };\n\n    var labelDragger = d3.drag().on(\"start\", function (d, i) {\n      d3.event.sourceEvent.stopPropagation();\n      var KEY = _this.KEY;\n    }).on(\"drag\", function (d, i) {\n      var KEY = _this.KEY;\n      if (!_this.model.ui.chart.labels.dragging) return;\n      if (!this.druging) _this.druging = d[KEY];\n      var cache = _this.cached[d[KEY]];\n      cache.labelFixed = true;\n\n      var viewWidth = _this.context.width;\n      var viewHeight = _this.context.height;\n\n      cache.labelX_ += d3.event.dx / viewWidth;\n      cache.labelY_ += d3.event.dy / viewHeight;\n\n      var resolvedX = _this.xScale(cache.labelX0) + cache.labelX_ * viewWidth;\n      var resolvedY = _this.yScale(cache.labelY0) + cache.labelY_ * viewHeight;\n\n      var resolvedX0 = _this.xScale(cache.labelX0);\n      var resolvedY0 = _this.yScale(cache.labelY0);\n\n      var lineGroup = _this.entityLines.filter(function (f) {\n        return f[KEY] == d[KEY];\n      });\n\n      label._repositionLabels(d, i, this, resolvedX, resolvedY, resolvedX0, resolvedY0, 0, null, lineGroup);\n    }).on(\"end\", function (d, i) {\n      var KEY = _this.KEY;\n      if (_this.druging) {\n        var cache = _this.cached[d[KEY]];\n        _this.druging = null;\n        cache.labelOffset[0] = cache.labelX_;\n        cache.labelOffset[1] = cache.labelY_;\n        _this.model.marker.setLabelOffset(d, [cache.labelX_, cache.labelY_]);\n      }\n    });\n\n    function label(container) {\n      container.call(labelDragger).each(function (d, index) {\n        var view = d3.select(this);\n\n        // Ola: Clicking bubble label should not zoom to countries boundary #811\n        // It's too easy to accidentally zoom\n        // This feature will be activated later, by making the label into a \"context menu\" where users can click Split, or zoom,.. hide others etc....\n\n        view.append(\"rect\").attr(\"class\", \"vzb-label-glow\").attr(\"filter\", \"url(\" + location.pathname + \"#vzb-glow-filter)\");\n        view.append(\"rect\").attr(\"class\", \"vzb-label-fill vzb-tooltip-border\");\n        //          .on(\"click\", function(d, i) {\n        //            //default prevented is needed to distinguish click from drag\n        //            if(d3.event.defaultPrevented) return;\n        //\n        //            var maxmin = _this.cached[d[KEY]].maxMinValues;\n        //            var radius = utils.areaToRadius(_this.sScale(maxmin.valueSmax));\n        //            _this._panZoom._zoomOnRectangle(_this.element,\n        //              _this.xScale(maxmin.valueXmin) - radius,\n        //              _this.yScale(maxmin.valueYmin) + radius,\n        //              _this.xScale(maxmin.valueXmax) + radius,\n        //              _this.yScale(maxmin.valueYmax) - radius,\n        //              false, 500);\n        //          });\n\n        var text = view.append(\"text\").attr(\"class\", _cssPrefix + \"-label-content stroke\");\n        if (!view.style(\"paint-order\").length) {\n          view.insert(\"text\", \".\" + _cssPrefix + \"-label-content\").attr(\"class\", _cssPrefix + \"-label-content \" + _cssPrefix + \"-label-shadow vzb-noexport\");\n\n          text.classed(\"stroke\", false);\n        }\n\n        var cross = view.append(\"g\").attr(\"class\", _cssPrefix + \"-label-x vzb-transparent\");\n        utils.setIcon(cross, _iconset.close);\n\n        cross.insert(\"circle\", \"svg\");\n\n        cross.select(\"svg\").attr(\"class\", _cssPrefix + \"-label-x-icon\").attr(\"width\", \"0px\").attr(\"height\", \"0px\");\n\n        cross.on(\"click\", function () {\n          //default prevented is needed to distinguish click from drag\n          if (d3.event.defaultPrevented) return;\n          d3.event.stopPropagation();\n          _this.model.marker.clearHighlighted();\n          _this.model.marker.selectMarker(d);\n        });\n      }).on(\"mouseover\", function (d) {\n        if (utils.isTouchDevice()) return;\n        _this.model.marker.highlightMarker(d);\n        var KEY = _this.KEY || _this.model.entities.getDimension();\n        // hovered label should be on top of other labels: if \"a\" is not the hovered element \"d\", send \"a\" to the back\n        _this.entityLabels.sort(function (a, b) {\n          return a[KEY] != d[KEY] ? -1 : 1;\n        });\n        d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\").classed(\"vzb-transparent\", false);\n      }).on(\"mouseout\", function (d) {\n        if (utils.isTouchDevice()) return;\n        _this.model.marker.clearHighlighted();\n        d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\").classed(\"vzb-transparent\", true);\n      }).on(\"click\", function (d) {\n        if (!utils.isTouchDevice()) return;\n        var cross = d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\");\n        var KEY = _this.KEY || _this.model.entities.getDimension();\n        var hidden = cross.classed(\"vzb-transparent\");\n        if (hidden) {\n          // hovered label should be on top of other labels: if \"a\" is not the hovered element \"d\", send \"a\" to the back\n          _this.entityLabels.sort(function (a, b) {\n            return a[KEY] != d[KEY] ? -1 : 1;\n          });\n          _this.showCloseCross(null, false);\n        }\n        cross.classed(\"vzb-transparent\", !hidden);\n        if (!_this.options.SUPPRESS_HIGHLIGHT_DURING_PLAY || !_this.model.time.playing) {\n          if (hidden) {\n            _this.model.marker.setHighlight(d);\n          } else {\n            _this.model.marker.clearHighlighted();\n          }\n        }\n      });\n\n      return label;\n    }\n\n    label.line = function (container) {\n      container.append(\"line\").attr(\"class\", _cssPrefix + \"-label-line\");\n    };\n\n    label._repositionLabels = _repositionLabels;\n    function _repositionLabels(d, i, labelContext, _X, _Y, _X0, _Y0, duration, showhide, lineGroup) {\n\n      var cache = _this.cached[d[_this.KEY]];\n\n      var labelGroup = d3.select(labelContext);\n\n      //protect label and line from the broken data\n      var brokenInputs = !_X && _X !== 0 || !_Y && _Y !== 0 || !_X0 && _X0 !== 0 || !_Y0 && _Y0 !== 0;\n      if (brokenInputs) {\n        labelGroup.classed(\"vzb-invisible\", brokenInputs);\n        lineGroup.classed(\"vzb-invisible\", brokenInputs);\n        return;\n      }\n\n      var viewWidth = _this.context.width;\n      var viewHeight = _this.context.height;\n      var rectBBox = cache.rectBBox;\n      var width = rectBBox.width;\n      var height = rectBBox.height;\n\n      //apply limits so that the label doesn't stick out of the visible field\n      if (_X - width <= 0) {\n        //check left\n        _X = width;\n        cache.labelX_ = (_X - _this.xScale(cache.labelX0)) / viewWidth;\n      } else if (_X + 5 > viewWidth) {\n        //check right\n        _X = viewWidth - 5;\n        cache.labelX_ = (_X - _this.xScale(cache.labelX0)) / viewWidth;\n      }\n      if (_Y - height * 0.75 <= 0) {\n        // check top\n        _Y = height * 0.75;\n        cache.labelY_ = (_Y - _this.yScale(cache.labelY0)) / viewHeight;\n      } else if (_Y + height * 0.35 > viewHeight) {\n        //check bottom\n        _Y = viewHeight - height * 0.35;\n        cache.labelY_ = (_Y - _this.yScale(cache.labelY0)) / viewHeight;\n      }\n\n      if (duration == null) duration = _this.context.duration;\n      if (cache._new) {\n        duration = 0;\n        delete cache._new;\n      }\n      if (duration) {\n        if (showhide && !d.hidden) {\n          //if need to show label\n\n          labelGroup.classed(\"vzb-invisible\", d.hidden);\n          labelGroup.attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\").style(\"opacity\", 0).transition().duration(duration).ease(d3.easeExp).style(\"opacity\", 1)\n          //i would like to set opactiy to null in the end of transition.\n          //but then fade in animation is not working for some reason\n          .on(\"interrupt\", function () {\n            labelGroup.style(\"opacity\", 1);\n          });\n          lineGroup.classed(\"vzb-invisible\", d.hidden);\n          lineGroup.attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\").style(\"opacity\", 0).transition().duration(duration).ease(d3.easeExp).style(\"opacity\", 1)\n          //i would like to set opactiy to null in the end of transition.\n          //but then fade in animation is not working for some reason\n          .on(\"interrupt\", function () {\n            lineGroup.style(\"opacity\", 1);\n          });\n        } else if (showhide && d.hidden) {\n          //if need to hide label\n\n          labelGroup.style(\"opacity\", 1).transition().duration(duration).ease(d3.easeExp).style(\"opacity\", 0).on(\"end\", function () {\n            labelGroup.style(\"opacity\", 1) //i would like to set it to null. but then fade in animation is not working for some reason\n            .classed(\"vzb-invisible\", d.hidden);\n          });\n          lineGroup.style(\"opacity\", 1).transition().duration(duration).ease(d3.easeExp).style(\"opacity\", 0).on(\"end\", function () {\n            lineGroup.style(\"opacity\", 1) //i would like to set it to null. but then fade in animation is not working for some reason\n            .classed(\"vzb-invisible\", d.hidden);\n          });\n        } else {\n          // just update the position\n\n          labelGroup.transition().duration(duration).ease(d3.easeLinear).attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\");\n          lineGroup.transition().duration(duration).ease(d3.easeLinear).attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\");\n        }\n      } else {\n        labelGroup.interrupt().attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\").transition();\n        lineGroup.interrupt().attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\").transition();\n        if (showhide) labelGroup.classed(\"vzb-invisible\", d.hidden);\n        if (showhide) lineGroup.classed(\"vzb-invisible\", d.hidden);\n      }\n\n      var diffX1 = _X0 - _X;\n      var diffY1 = _Y0 - _Y;\n      var textBBox = labelGroup.select(\"text\").node().getBBox();\n      var diffX2 = -textBBox.width * 0.5;\n      var diffY2 = -height * 0.2;\n      var labels = _this.model.ui.chart.labels;\n\n      var bBox = labels.removeLabelBox ? textBBox : rectBBox;\n\n      var FAR_COEFF = _this.activeProfile.labelLeashCoeff || 0;\n\n      var lineHidden = circleRectIntersects({ x: diffX1, y: diffY1, r: cache.scaledS0 }, { x: diffX2, y: diffY2, width: bBox.height * 2 * FAR_COEFF + bBox.width, height: bBox.height * (2 * FAR_COEFF + 1) });\n      lineGroup.select(\"line\").classed(\"vzb-invisible\", lineHidden);\n      if (lineHidden) return;\n\n      if (labels.removeLabelBox) {\n        var angle = Math.atan2(diffX1 - diffX2, diffY1 - diffY2) * 180 / Math.PI;\n        var deltaDiffX2 = angle >= 0 && angle <= 180 ? bBox.width * 0.5 : -bBox.width * 0.5;\n        var deltaDiffY2 = Math.abs(angle) <= 90 ? bBox.height * 0.55 : -bBox.height * 0.45;\n        diffX2 += Math.abs(diffX1 - diffX2) > textBBox.width * 0.5 ? deltaDiffX2 : 0;\n        diffY2 += Math.abs(diffY1 - diffY2) > textBBox.height * 0.5 ? deltaDiffY2 : textBBox.height * 0.05;\n      }\n\n      var longerSideCoeff = Math.abs(diffX1) > Math.abs(diffY1) ? Math.abs(diffX1) : Math.abs(diffY1);\n      lineGroup.select(\"line\").style(\"stroke-dasharray\", \"0 \" + cache.scaledS0 + \" \" + ~~longerSideCoeff * 2);\n\n      lineGroup.selectAll(\"line\").attr(\"x1\", diffX1).attr(\"y1\", diffY1).attr(\"x2\", diffX2).attr(\"y2\", diffY2);\n    }\n\n    /*\n    * Adapted from\n    * http://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection\n    *\n    * circle {\n    *  x: center X\n    *  y: center Y\n    *  r: radius\n    * }\n    *\n    * rect {\n    *  x: center X\n    *  y: center Y\n    *  width: width\n    *  height: height\n    * }\n    */\n    function circleRectIntersects(circle, rect) {\n      var circleDistanceX = Math.abs(circle.x - rect.x);\n      var circleDistanceY = Math.abs(circle.y - rect.y);\n      var halfRectWidth = rect.width * 0.5;\n      var halfRectHeight = rect.height * 0.5;\n\n      if (circleDistanceX > halfRectWidth + circle.r) {\n        return false;\n      }\n      if (circleDistanceY > halfRectHeight + circle.r) {\n        return false;\n      }\n\n      if (circleDistanceX <= halfRectWidth) {\n        return true;\n      }\n      if (circleDistanceY <= halfRectHeight) {\n        return true;\n      }\n\n      var cornerDistance_sq = Math.pow(circleDistanceX - halfRectWidth, 2) + Math.pow(circleDistanceY - halfRectHeight, 2);\n\n      return cornerDistance_sq <= Math.pow(circle.r, 2);\n    }\n\n    return label;\n  }();\n};\n\nvar OPTIONS = {\n  LABELS_CONTAINER_CLASS: \"\",\n  LINES_CONTAINER_CLASS: \"\",\n  LINES_CONTAINER_SELECTOR: \"\",\n  CSS_PREFIX: \"\",\n  SUPPRESS_HIGHLIGHT_DURING_PLAY: true\n};\n\nvar Labels = _class2.default.extend({\n  init: function init(context, conditions) {\n    var _this = this;\n    this.context = context;\n\n    this.options = utils.extend({}, OPTIONS);\n    this.label = label(this);\n    this._xScale = null;\n    this._yScale = null;\n    this._closeCrossHeight = 0;\n    this.labelSizeTextScale = null;\n  },\n  ready: function ready() {\n    this.KEY = this.context.model.entities.getDimension();\n    this.updateIndicators();\n    this.updateLabelSizeLimits();\n    //this.updateLabelsOnlyTextSize();\n  },\n  readyOnce: function readyOnce() {\n    var _this = this;\n\n    this.model = this.context.model;\n\n    this.model.on(\"change:marker.select\", function () {\n      if (!_this.context._readyOnce) return;\n      //console.log(\"EVENT change:entities:select\");\n      _this.selectDataPoints();\n    });\n\n    if (this.model.marker.size_label) this.model.on(\"change:marker.size_label.extent\", function (evt, path) {\n      //console.log(\"EVENT change:marker:size:max\");\n      if (!_this.context._readyOnce) return;\n      _this.updateLabelSizeLimits();\n      if (_this.model.time.splash) return;\n      _this.updateLabelsOnlyTextSize();\n    });\n\n    if (this.model.ui.chart.labels.hasOwnProperty(\"removeLabelBox\")) this.model.on(\"change:ui.chart.labels.removeLabelBox\", function (evt, path) {\n      //console.log(\"EVENT change:marker:size:max\");\n      if (!_this.context._readyOnce) return;\n      _this.updateLabelsOnlyTextSize();\n    });\n\n    this.KEY = this.context.model.entities.getDimension();\n\n    this.cached = {};\n\n    this.label.setCssPrefix(this.options.CSS_PREFIX);\n\n    this.rootEl = this.context.root.element instanceof Array ? this.context.root.element : d3.select(this.context.root.element);\n    this.labelsContainer = this.rootEl.select(\".\" + this.options.LABELS_CONTAINER_CLASS);\n    this.linesContainer = this.rootEl.select(\".\" + this.options.LINES_CONTAINER_CLASS);\n    this.updateIndicators();\n    this.updateSize();\n    this.selectDataPoints();\n  },\n  config: function config(newOptions) {\n    utils.extend(this.options, newOptions);\n  },\n  updateLabelSizeLimits: function updateLabelSizeLimits() {\n    var _this = this;\n    if (!this.model.marker.size_label) return;\n    var extent = this.model.marker.size_label.extent || [0, 1];\n\n    var minLabelTextSize = this.activeProfile.minLabelTextSize;\n    var maxLabelTextSize = this.activeProfile.maxLabelTextSize;\n    var minMaxDelta = maxLabelTextSize - minLabelTextSize;\n\n    this.minLabelTextSize = Math.max(minLabelTextSize + minMaxDelta * extent[0], minLabelTextSize);\n    this.maxLabelTextSize = Math.max(minLabelTextSize + minMaxDelta * extent[1], minLabelTextSize);\n\n    if (this.model.marker.size_label.use == \"constant\") {\n      // if(!this.model.marker.size_label.which) {\n      //   this.maxLabelTextSize = this.activeProfile.defaultLabelTextSize;\n      //   this.model.marker.size_label.set({'domainMax': (this.maxLabelTextSize - minLabelTextSize) / minMaxDelta, 'which': '_default'});\n      //   return;\n      // }\n      this.minLabelTextSize = this.maxLabelTextSize;\n    }\n\n    if (this.model.marker.size_label.scaleType !== \"ordinal\" || this.model.marker.size_label.use == \"constant\") {\n      this.labelSizeTextScale.range([_this.minLabelTextSize, _this.maxLabelTextSize]);\n    } else {\n      this.labelSizeTextScale.rangePoints([_this.minLabelTextSize, _this.maxLabelTextSize], 0).range();\n    }\n  },\n  updateIndicators: function updateIndicators() {\n    var _this = this;\n\n    //scales\n    if (this.model.marker.size_label) {\n      this.labelSizeTextScale = this.model.marker.size_label.getScale();\n    }\n  },\n  setScales: function setScales(xScale, yScale) {\n    this._xScale = xScale;\n    this._yScale = yScale;\n  },\n  setCloseCrossHeight: function setCloseCrossHeight(closeCrossHeight) {\n    if (this._closeCrossHeight != closeCrossHeight) {\n      this._closeCrossHeight = closeCrossHeight;\n      this.updateLabelCloseGroupSize(this.entityLabels.selectAll(\".\" + this.options.CSS_PREFIX + \"-label-x\"), this._closeCrossHeight);\n    }\n  },\n  xScale: function xScale(x) {\n    return this._xScale ? this._xScale(x) : x * this.context.width;\n  },\n  yScale: function yScale(y) {\n    return this._yScale ? this._yScale(y) : y * this.context.height;\n  },\n  selectDataPoints: function selectDataPoints() {\n    var _this = this;\n    var KEY = this.KEY;\n    var _cssPrefix = this.options.CSS_PREFIX;\n\n    this.entityLabels = this.labelsContainer.selectAll(\".\" + _cssPrefix + \"-entity\").data(_this.model.marker.select, function (d) {\n      return d[KEY];\n    });\n    this.entityLines = this.linesContainer.selectAll(\"g.entity-line.\" + _cssPrefix + \"-entity\").data(_this.model.marker.select, function (d) {\n      return d[KEY];\n    });\n\n    this.entityLabels.exit().each(function (d) {\n      if (_this.cached[d[KEY]] != null) {\n        _this.cached[d[KEY]] = void 0;\n      }\n    }).remove();\n    this.entityLines.exit().remove();\n\n    this.entityLines = this.entityLines.enter().insert(\"g\", function (d) {\n      return this.querySelector(\".\" + _this.options.LINES_CONTAINER_SELECTOR_PREFIX + (0, _css2.default)(d[KEY]));\n    }).attr(\"class\", function (d, index) {\n      return _cssPrefix + \"-entity entity-line line-\" + d[KEY];\n    }).each(function (d, index) {\n      _this.label.line(d3.select(this));\n    }).merge(this.entityLines);\n\n    this.entityLabels = this.entityLabels.enter().append(\"g\").attr(\"class\", function (d, index) {\n      return _cssPrefix + \"-entity label-\" + d[KEY];\n    }).each(function (d, index) {\n      _this.cached[d[KEY]] = { _new: true };\n      _this.label(d3.select(this));\n    }).merge(this.entityLabels);\n  },\n  showCloseCross: function showCloseCross(d, show) {\n    var KEY = this.KEY;\n    //show the little cross on the selected label\n    this.entityLabels.filter(function (f) {\n      return d ? f[KEY] == d[KEY] : true;\n    }).select(\".\" + this.options.CSS_PREFIX + \"-label-x\").classed(\"vzb-transparent\", !show);\n  },\n  highlight: function highlight(d, _highlight) {\n    var KEY = this.KEY;\n    var labels = this.entityLabels;\n    if (d) {\n      labels = labels.filter(function (f) {\n        return d ? f[KEY] == d[KEY] : true;\n      });\n    }\n    labels.classed(\"vzb-highlighted\", _highlight);\n  },\n  updateLabel: function updateLabel(d, index, cache, valueX, valueY, valueS, valueC, valueL, valueLST, duration, showhide) {\n    var _this = this;\n    var KEY = this.KEY;\n    if (d[KEY] == _this.druging) return;\n\n    var _cssPrefix = this.options.CSS_PREFIX;\n\n    // only for selected entities\n    if (_this.model.marker.isSelected(d) && _this.entityLabels != null) {\n      if (_this.cached[d[KEY]] == null) this.selectDataPoints();\n\n      var cached = _this.cached[d[KEY]];\n      if (cache) utils.extend(cached, cache);\n\n      if (cached.scaledS0 == null || cached.labelX0 == null || cached.labelY0 == null) {\n        //initialize label once\n        if (valueS || valueS === 0) cached.scaledS0 = utils.areaToRadius(this.context.sScale(valueS));\n        cached.labelX0 = valueX;\n        cached.labelY0 = valueY;\n        cached.valueLST = valueLST;\n        cached.scaledC0 = valueC != null ? this.context.cScale(valueC) : this.context.COLOR_WHITEISH;\n      }\n\n      if (cached.labelX_ == null || cached.labelY_ == null) {\n        var select = utils.find(_this.model.marker.select, function (f) {\n          return f[KEY] == d[KEY];\n        });\n        cached.labelOffset = select.labelOffset || [0, 0];\n      }\n\n      var brokenInputs = !cached.labelX0 && cached.labelX0 !== 0 || !cached.labelY0 && cached.labelY0 !== 0 || !cached.scaledS0 && cached.scaledS0 !== 0;\n\n      var lineGroup = _this.entityLines.filter(function (f) {\n        return f[KEY] == d[KEY];\n      });\n      // reposition label\n      _this.entityLabels.filter(function (f) {\n        return f[KEY] == d[KEY];\n      }).each(function (groupData) {\n\n        var labelGroup = d3.select(this);\n\n        if (brokenInputs) {\n          labelGroup.classed(\"vzb-invisible\", brokenInputs);\n          lineGroup.classed(\"vzb-invisible\", brokenInputs);\n          return;\n        }\n\n        var text = labelGroup.selectAll(\".\" + _cssPrefix + \"-label-content\").text(valueL);\n\n        _this._updateLabelSize(d, index, labelGroup, valueLST, text);\n\n        _this.positionLabel(d, index, this, duration, showhide, lineGroup);\n      });\n    }\n  },\n  _updateLabelSize: function _updateLabelSize(d, index, labelGroup, valueLST, text) {\n    var _this = this;\n    var KEY = this.KEY;\n    var cached = _this.cached[d[KEY]];\n\n    var _cssPrefix = this.options.CSS_PREFIX;\n\n    var labels = _this.model.ui.chart.labels || {};\n    labelGroup.classed(\"vzb-label-boxremoved\", labels.removeLabelBox);\n\n    var _text = text || labelGroup.selectAll(\".\" + _cssPrefix + \"-label-content\");\n\n    if (_this.labelSizeTextScale) {\n      if (valueLST != null) {\n        var range = _this.labelSizeTextScale.range();\n        var fontSize = range[0] + Math.sqrt((_this.labelSizeTextScale(valueLST) - range[0]) * (range[1] - range[0]));\n        _text.attr(\"font-size\", fontSize + \"px\");\n      } else {\n        _text.attr(\"font-size\", \"\");\n      }\n    }\n\n    var contentBBox = _text.node().getBBox();\n\n    var rect = labelGroup.selectAll(\"rect\");\n\n    if (!cached.textWidth || cached.textWidth != contentBBox.width) {\n      cached.textWidth = contentBBox.width;\n\n      var labelCloseHeight = _this._closeCrossHeight || contentBBox.height; //_this.activeProfile.infoElHeight * 1.2;//contentBBox.height;\n\n      var isRTL = _this.model.locale.isRTL();\n      var labelCloseGroup = labelGroup.select(\".\" + _cssPrefix + \"-label-x\").attr(\"transform\", \"translate(\" + (isRTL ? -contentBBox.width - 4 : 4) + \",\" + -contentBBox.height * 0.85 + \")\");\n\n      this.updateLabelCloseGroupSize(labelCloseGroup, labelCloseHeight);\n\n      rect.attr(\"width\", contentBBox.width + 8).attr(\"height\", contentBBox.height * 1.2).attr(\"x\", -contentBBox.width - 4).attr(\"y\", -contentBBox.height * 0.85).attr(\"rx\", contentBBox.height * 0.2).attr(\"ry\", contentBBox.height * 0.2);\n\n      //cache label bound rect for reposition\n      cached.rectBBox = rect.node().getBBox();\n      //cached.moveX = 5;\n      //cached.moveY = contentBBox.height * .3;\n    }\n\n    var glowRect = labelGroup.select(\".vzb-label-glow\");\n    if (glowRect.attr(\"stroke\") !== cached.scaledC0) {\n      glowRect.attr(\"stroke\", cached.scaledC0);\n    }\n  },\n  updateLabelCloseGroupSize: function updateLabelCloseGroupSize(labelCloseGroup, labelCloseHeight) {\n    labelCloseGroup.select(\"circle\").attr(\"cx\", /*contentBBox.height * .0 + */0).attr(\"cy\", 0).attr(\"r\", labelCloseHeight * 0.5);\n\n    labelCloseGroup.select(\"svg\").attr(\"x\", -labelCloseHeight * 0.5).attr(\"y\", labelCloseHeight * -0.5).attr(\"width\", labelCloseHeight).attr(\"height\", labelCloseHeight);\n  },\n  updateLabelsOnlyTextSize: function updateLabelsOnlyTextSize() {\n    var _this = this;\n    var KEY = this.KEY;\n\n    this.entityLabels.each(function (d, index) {\n      var cached = _this.cached[d[KEY]];\n      _this._updateLabelSize(d, index, d3.select(this), _this.context.frame.size_label[d[KEY]]);\n      var lineGroup = _this.entityLines.filter(function (f) {\n        return f[KEY] == d[KEY];\n      });\n      _this.positionLabel(d, index, this, 0, null, lineGroup);\n    });\n  },\n  updateLabelOnlyPosition: function updateLabelOnlyPosition(d, index, cache) {\n    var _this = this;\n    var KEY = this.KEY;\n    var cached = this.cached[d[KEY]];\n    if (cache) utils.extend(cached, cache);\n\n    var lineGroup = _this.entityLines.filter(function (f) {\n      return f[KEY] == d[KEY];\n    });\n\n    this.entityLabels.filter(function (f) {\n      return f[KEY] == d[KEY];\n    }).each(function (groupData) {\n      _this.positionLabel(d, index, this, 0, null, lineGroup);\n    });\n  },\n  updateLabelOnlyColor: function updateLabelOnlyColor(d, index, cache) {\n    var _this = this;\n    var KEY = this.KEY;\n    var cached = this.cached[d[KEY]];\n    if (cache) utils.extend(cached, cache);\n\n    var labelGroup = _this.entityLabels.filter(function (f) {\n      return f[KEY] == d[KEY];\n    });\n\n    _this._updateLabelSize(d, index, labelGroup, null);\n  },\n  positionLabel: function positionLabel(d, index, context, duration, showhide, lineGroup) {\n    var KEY = this.KEY;\n    var cached = this.cached[d[KEY]];\n\n    var viewWidth = this.context.width;\n    var viewHeight = this.context.height;\n\n    var resolvedX0 = this.xScale(cached.labelX0);\n    var resolvedY0 = this.yScale(cached.labelY0);\n\n    if (!cached.labelOffset) cached.labelOffset = [0, 0];\n    cached.labelX_ = cached.labelOffset[0] || (-cached.scaledS0 * 0.75 - 5) / viewWidth;\n    cached.labelY_ = cached.labelOffset[1] || (-cached.scaledS0 * 0.75 - 11) / viewHeight;\n\n    //check default label position and switch to mirror position if position\n    //does not bind to visible field\n\n    var resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n    if (cached.labelOffset[0] == 0) {\n      if (resolvedX - cached.rectBBox.width <= 0) {\n        //check left\n        cached.labelX_ = (cached.scaledS0 * 0.75 + cached.rectBBox.width) / viewWidth;\n        resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n      } else if (resolvedX + 15 > viewWidth) {\n        //check right\n        cached.labelX_ = (viewWidth - 15 - resolvedX0) / viewWidth;\n        resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n      }\n    }\n    var resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n    if (cached.labelOffset[1] == 0) {\n      if (resolvedY - cached.rectBBox.height <= 0) {\n        // check top\n        cached.labelY_ = (cached.scaledS0 * 0.75 + cached.rectBBox.height) / viewHeight;\n        resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n      } else if (resolvedY + 10 > viewHeight) {\n        //check bottom\n        cached.labelY_ = (viewHeight - 10 - resolvedY0) / viewHeight;\n        resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n      }\n    }\n    this.label._repositionLabels(d, index, context, resolvedX, resolvedY, resolvedX0, resolvedY0, duration, showhide, lineGroup);\n  },\n  updateSize: function updateSize() {\n    var profiles = {\n      small: {\n        minLabelTextSize: 7,\n        maxLabelTextSize: 21,\n        defaultLabelTextSize: 12,\n        labelLeashCoeff: 0.4\n      },\n      medium: {\n        minLabelTextSize: 7,\n        maxLabelTextSize: 30,\n        defaultLabelTextSize: 15,\n        labelLeashCoeff: 0.3\n      },\n      large: {\n        minLabelTextSize: 6,\n        maxLabelTextSize: 48,\n        defaultLabelTextSize: 20,\n        labelLeashCoeff: 0.2\n      }\n    };\n\n    var presentationProfiles = {\n      medium: {\n        minLabelTextSize: 15,\n        maxLabelTextSize: 35,\n        defaultLabelTextSize: 15,\n        labelLeashCoeff: 0.3\n      },\n      large: {\n        minLabelTextSize: 20,\n        maxLabelTextSize: 55,\n        defaultLabelTextSize: 20,\n        labelLeashCoeff: 0.2\n      }\n    };\n\n    this.activeProfile = this.context.getActiveProfile(profiles, presentationProfiles);\n    this.updateLabelSizeLimits();\n  }\n});\n\nexports.default = Labels;\n\n/***/ }),\n/* 400 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (true) {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(72)))\n\n/***/ }),\n/* 401 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _prefix = \"\";\nvar _deleteClasses = [];\nvar SVGHEADER = '<?xml version=\"1.0\" encoding=\"utf-8\"?>';\n\nexports.default = _class2.default.extend({\n\n  init: function init(context) {\n    this.context = context;\n    this.shapes = [];\n    this.groups = [];\n    this.counter = 0;\n    this.name = \"\";\n    this.label = \"\";\n  },\n\n  reset: function reset() {\n    this.container.remove();\n    this.context.element.selectAll(\".vzb-export-redball\").remove();\n    this.context.element.selectAll(\".vzb-export-counter\").remove();\n    this.counter = 0;\n  },\n\n  prefix: function prefix(arg) {\n    if (!arguments.length) return _prefix;\n    _prefix = arg;\n    return this;\n  },\n  deleteClasses: function deleteClasses(arg) {\n    if (!arguments.length) return _deleteClasses;\n    _deleteClasses = arg;\n    return this;\n  },\n\n  open: function open(element, name) {\n    var _this = this;\n\n    //reset if some exports exists on opening\n    if (this.svg) this.reset();\n\n    if (!element) element = this.context.element;\n    if (!name) name = this.context.name;\n    this.name = name;\n\n    var width = parseInt(element.style(\"width\"), 10) || 0;\n    var height = parseInt(element.style(\"height\"), 10) || 0;\n\n    this.container = element.append(\"div\").attr(\"class\", \"vzb-svg-export\");\n    this.svg = this.container.node().appendChild(element.select(\"svg\").node().cloneNode(true));\n    this.svg = d3.select(this.svg);\n    this.svg.attr(\"viewBox\", \"0 0 \" + width + \" \" + height).attr(\"version\", \"1.1\").attr(\"param1\", \"http://www.w3.org/2000/svg\").attr(\"param2\", \"http://www.w3.org/1999/xlink\").attr(\"x\", \"0px\").attr(\"y\", \"0px\").attr(\"style\", \"enable-background:new \" + \"0 0 \" + width + \" \" + height).attr(\"xml:space\", \"preserve\");\n\n    this.redBall = element.append(\"div\").attr(\"class\", \"vzb-export-redball\").style(\"position\", \"absolute\").style(\"top\", \"20px\").style(\"right\", \"20px\").style(\"width\", \"20px\").style(\"height\", \"20px\").style(\"background\", \"red\").style(\"color\", \"white\").style(\"text-align\", \"center\").style(\"border-radius\", \"10px\").style(\"font-size\", \"14px\").style(\"line-height\", \"20px\").style(\"opacity\", .8).style(\"cursor\", \"pointer\").on(\"mouseover\", function () {\n      d3.select(this).style(\"opacity\", 1).text(\"▼\");\n      _this.counterEl.text(\"Download\");\n    }).on(\"mouseout\", function () {\n      d3.select(this).style(\"opacity\", .8).text(\"\");\n      _this.counterEl.text(_this.label);\n    }).on(\"click\", function () {\n      _this.close();\n    });\n\n    this.counterEl = element.append(\"div\").attr(\"class\", \"vzb-export-counter\").style(\"position\", \"absolute\").style(\"top\", \"20px\").style(\"right\", \"45px\").style(\"color\", \"red\").style(\"opacity\", .8).style(\"line-height\", \"20px\").style(\"font-size\", \"14px\").style(\"text-align\", \"center\");\n\n    this.root = this.svg.select(\".\" + _prefix + \"graph\");\n\n    this.root.selectAll(\"g, text, svg, line, rect\").filter(function () {\n      var view = d3.select(this);\n      var result = false;\n      _deleteClasses.forEach(function (one) {\n        result = result || view.classed(one);\n      });\n      return result;\n    }).remove();\n\n    this.svg.selectAll(\".tick line\").attr(\"fill\", \"none\").attr(\"stroke\", \"#999\");\n    this.svg.selectAll(\".\" + _prefix + \"axis-x path\").attr(\"fill\", \"none\").attr(\"stroke\", \"#999\");\n    this.svg.selectAll(\".\" + _prefix + \"axis-y path\").attr(\"fill\", \"none\").attr(\"stroke\", \"#999\");\n  },\n\n  write: function write(me) {\n    var groupBy = \"time\";\n\n    if (!this.root) this.open();\n\n    //avoid writing the same thing again\n    if (this.shapes.indexOf(me.id + \"_\" + me.time) > -1) return;\n\n    this.shapes.push(me.id + \"_\" + me.time);\n\n    // check if need to create a new group and do so\n    if (this.groups.indexOf(me[groupBy]) == -1) {\n      this.root.append(\"g\").attr(\"id\", \"g_\" + me[groupBy]);\n      this.groups.push(me[groupBy]);\n    }\n\n    // put a marker into the group\n    if (me.opacity == null) me.opacity = .5;\n    if (me.fill == null) me.fill = \"#ff80dd\";\n\n    var marker = this.root.select(\"#g_\" + me[groupBy]).append(me.type).attr(\"id\", me.id + \"_\" + me.time).style(\"fill\", me.fill).style(\"opacity\", me.opacity);\n\n    switch (me.type) {\n      case \"path\":\n        marker.attr(\"d\", me.d);\n        break;\n\n      case \"circle\":\n        marker.attr(\"cx\", me.cx).attr(\"cy\", me.cy).attr(\"r\", me.r);\n        break;\n    }\n\n    this.counter++;\n    this.redBall.style(\"opacity\", this.counter % 10 / 12 + .2);\n    this.label = me.type + \" shapes: \" + this.counter;\n    this.counterEl.text(this.label);\n  },\n\n  close: function close() {\n\n    var result = SVGHEADER + \" \" + this.container.node().innerHTML.replace(\"param1\", \"xmlns\").replace(\"param2\", \"xmlns:xlink\")\n    //round all numbers in SVG code\n    .replace(/\\d+(\\.\\d+)/g, function (x) {\n      return Math.round(+x * 100) / 100 + \"\";\n    });\n\n    if (result.length / 1024 / 1024 > 2) {\n\n      alert(\"The file size is \" + Math.round(result.length / 1024) + \"kB, which is too large to download. Will try to print it in the console instead...\");\n      console.log(result);\n    } else {\n\n      var link = document.createElement('a');\n      link.download = this.name + \" \" + this.counter + \" shapes\" + \".svg\";\n      link.href = 'data:,' + result;\n      link.click();\n    }\n  }\n\n});\n\n/***/ }),\n/* 402 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _class = __webpack_require__(28);\n\nvar _class2 = _interopRequireDefault(_class);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TextEllipsis = _class2.default.extend({\n  init: function init(context) {\n    this.context = context;\n    this.interact = this._createInteract();\n  },\n  setTooltip: function setTooltip(tooltip) {\n    this.tooltip = tooltip;\n  },\n  _createInteract: function _createInteract() {\n    var _this = this;\n    return {\n      mouseOver: function mouseOver() {\n        var evt = d3.event;\n        var mouse = d3.mouse(_this.context.element.node());\n        _this._setTooltip(d3.select(evt.srcElement).attr(\"data-text\"), mouse[0], mouse[1]);\n      },\n      mouseOut: function mouseOut() {\n        _this._setTooltip();\n      },\n      tap: function tap() {}\n    };\n  },\n  _setTooltip: function _setTooltip(tooltipText, x, y) {\n    if (tooltipText) {\n\n      //position tooltip\n      this.tooltip.classed(\"vzb-hidden\", false)\n      //.attr(\"style\", \"left:\" + (mouse[0] + 50) + \"px;top:\" + (mouse[1] + 50) + \"px\")\n      .selectAll(\"text\").text(tooltipText);\n\n      var contentBBox = this.tooltip.select(\"text\").node().getBBox();\n      if (x - contentBBox.width < 0) {\n        x += contentBBox.width + 5; // corrective to the block Radius and text padding\n      } else {\n        x -= 5; // corrective to the block Radius and text padding\n      }\n      if (y - contentBBox.height < 0) {\n        y += contentBBox.height;\n      } else {\n        y -= 11; // corrective to the block Radius and text padding\n      }\n\n      this.tooltip.attr(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n\n      this.tooltip.selectAll(\"rect\").attr(\"width\", contentBBox.width + 8).attr(\"height\", contentBBox.height * 1.2).attr(\"x\", -contentBBox.width - 4).attr(\"y\", -contentBBox.height * 0.85).attr(\"rx\", contentBBox.height * 0.2).attr(\"ry\", contentBBox.height * 0.2);\n    } else {\n      this.tooltip.classed(\"vzb-hidden\", true);\n    }\n  },\n  clear: function clear(selection) {\n    selection.attr(\"data-text\", null);\n  },\n  wrap: function wrap(_this, width) {\n    var textEl = d3.select(_this);\n\n    var abs = Math.abs;\n    var initialText = textEl.attr(\"data-text\");\n    if (!initialText) {\n      initialText = textEl.text();\n      textEl.attr(\"data-text\", initialText);\n    }\n    textEl.text(initialText);\n    var text = initialText;\n    var textLength = text.length;\n    var textWidth = textEl.node().getComputedTextLength();\n\n    while (width - textWidth <= 0 && text !== \"\") {\n      text = textWidth >= width ? text.slice(0, -abs(textLength * 0.5)) : initialText.slice(0, abs(textLength * 0.5));\n      textEl.text(text + \"…\");\n      textWidth = textEl.node().getComputedTextLength();\n      textLength = text.length;\n    }\n\n    if (text !== initialText) {\n      if (text === \"\") {\n        textEl.text(initialText[0]);\n      }\n      textEl.on(\"mouseover.tooltip\", this.interact.mouseOver).on(\"mouseout.tooltip\", this.interact.mouseOut).style(\"pointer-events\", \"all\");\n    } else {\n      textEl.on(\"mouseover.tooltip\", null).on(\"mouseout.tooltip\", null).style(\"pointer-events\", null);\n    }\n  }\n});\n\nexports.default = TextEllipsis;\n\n/***/ }),\n/* 403 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n// topojson\nexports.default = function () {\n  var topojson = {\n    version: \"1.6.19\",\n    mesh: function mesh(topology) {\n      return object(topology, meshArcs.apply(this, arguments));\n    },\n    meshArcs: meshArcs,\n    merge: function merge(topology) {\n      return object(topology, mergeArcs.apply(this, arguments));\n    },\n    mergeArcs: mergeArcs,\n    feature: featureOrCollection,\n    neighbors: neighbors,\n    presimplify: presimplify\n  };\n\n  function stitchArcs(topology, arcs) {\n    var stitchedArcs = {},\n        fragmentByStart = {},\n        fragmentByEnd = {},\n        fragments = [],\n        emptyIndex = -1;\n\n    // Stitch empty arcs first, since they may be subsumed by other arcs.\n    arcs.forEach(function (i, j) {\n      var arc = topology.arcs[i < 0 ? ~i : i],\n          t;\n      if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n        t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n      }\n    });\n\n    arcs.forEach(function (i) {\n      var e = ends(i),\n          start = e[0],\n          end = e[1],\n          f,\n          g;\n\n      if (f = fragmentByEnd[start]) {\n        delete fragmentByEnd[f.end];\n        f.push(i);\n        f.end = end;\n        if (g = fragmentByStart[end]) {\n          delete fragmentByStart[g.start];\n          var fg = g === f ? f : f.concat(g);\n          fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n        } else {\n          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n        }\n      } else if (f = fragmentByStart[end]) {\n        delete fragmentByStart[f.start];\n        f.unshift(i);\n        f.start = start;\n        if (g = fragmentByEnd[start]) {\n          delete fragmentByEnd[g.end];\n          var gf = g === f ? f : g.concat(f);\n          fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n        } else {\n          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n        }\n      } else {\n        f = [i];\n        fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n      }\n    });\n\n    function ends(i) {\n      var arc = topology.arcs[i < 0 ? ~i : i],\n          p0 = arc[0],\n          p1;\n      if (topology.transform) p1 = [0, 0], arc.forEach(function (dp) {\n        p1[0] += dp[0], p1[1] += dp[1];\n      });else p1 = arc[arc.length - 1];\n      return i < 0 ? [p1, p0] : [p0, p1];\n    }\n\n    function flush(fragmentByEnd, fragmentByStart) {\n      for (var k in fragmentByEnd) {\n        var f = fragmentByEnd[k];\n        delete fragmentByStart[f.start];\n        delete f.start;\n        delete f.end;\n        f.forEach(function (i) {\n          stitchedArcs[i < 0 ? ~i : i] = 1;\n        });\n        fragments.push(f);\n      }\n    }\n\n    flush(fragmentByEnd, fragmentByStart);\n    flush(fragmentByStart, fragmentByEnd);\n    arcs.forEach(function (i) {\n      if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]);\n    });\n\n    return fragments;\n  }\n\n  function meshArcs(topology, o, filter) {\n    var arcs = [];\n\n    function arc(i) {\n      var j = i < 0 ? ~i : i;\n      (geomsByArc[j] || (geomsByArc[j] = [])).push({\n        i: i,\n        g: geom\n      });\n    }\n\n    function line(arcs) {\n      arcs.forEach(arc);\n    }\n\n    function polygon(arcs) {\n      arcs.forEach(line);\n    }\n\n    function geometry(o) {\n      if (o.type === \"GeometryCollection\") o.geometries.forEach(geometry);else if (o.type in geometryType) geom = o, geometryType[o.type](o.arcs);\n    }\n\n    if (arguments.length > 1) {\n      var geomsByArc = [],\n          geom;\n\n      var geometryType = {\n        LineString: line,\n        MultiLineString: polygon,\n        Polygon: polygon,\n        MultiPolygon: function MultiPolygon(arcs) {\n          arcs.forEach(polygon);\n        }\n      };\n\n      geometry(o);\n\n      geomsByArc.forEach(arguments.length < 3 ? function (geoms) {\n        arcs.push(geoms[0].i);\n      } : function (geoms) {\n        if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i);\n      });\n    } else {\n      for (var i = 0, n = topology.arcs.length; i < n; ++i) {\n        arcs.push(i);\n      }\n    }\n\n    return {\n      type: \"MultiLineString\",\n      arcs: stitchArcs(topology, arcs)\n    };\n  }\n\n  function mergeArcs(topology, objects) {\n    var polygonsByArc = {},\n        polygons = [],\n        components = [];\n\n    objects.forEach(function (o) {\n      if (o.type === \"Polygon\") register(o.arcs);else if (o.type === \"MultiPolygon\") o.arcs.forEach(register);\n    });\n\n    function register(polygon) {\n      polygon.forEach(function (ring) {\n        ring.forEach(function (arc) {\n          (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n        });\n      });\n      polygons.push(polygon);\n    }\n\n    function exterior(ring) {\n      return cartesianRingArea(object(topology, {\n        type: \"Polygon\",\n        arcs: [ring]\n      }).coordinates[0]) > 0; // TODO allow spherical?\n    }\n\n    polygons.forEach(function (polygon) {\n      if (!polygon._) {\n        var component = [],\n            neighbors = [polygon];\n        polygon._ = 1;\n        components.push(component);\n        while (polygon = neighbors.pop()) {\n          component.push(polygon);\n          polygon.forEach(function (ring) {\n            ring.forEach(function (arc) {\n              polygonsByArc[arc < 0 ? ~arc : arc].forEach(function (polygon) {\n                if (!polygon._) {\n                  polygon._ = 1;\n                  neighbors.push(polygon);\n                }\n              });\n            });\n          });\n        }\n      }\n    });\n\n    polygons.forEach(function (polygon) {\n      delete polygon._;\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      arcs: components.map(function (polygons) {\n        var arcs = [];\n\n        // Extract the exterior (unique) arcs.\n        polygons.forEach(function (polygon) {\n          polygon.forEach(function (ring) {\n            ring.forEach(function (arc) {\n              if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n                arcs.push(arc);\n              }\n            });\n          });\n        });\n\n        // Stitch the arcs into one or more rings.\n        arcs = stitchArcs(topology, arcs);\n\n        // If more than one ring is returned,\n        // at most one of these rings can be the exterior;\n        // this exterior ring has the same winding order\n        // as any exterior ring in the original polygons.\n        if ((n = arcs.length) > 1) {\n          var sgn = exterior(polygons[0][0]);\n          for (var i = 0, t; i < n; ++i) {\n            if (sgn === exterior(arcs[i])) {\n              t = arcs[0], arcs[0] = arcs[i], arcs[i] = t;\n              break;\n            }\n          }\n        }\n\n        return arcs;\n      })\n    };\n  }\n\n  function featureOrCollection(topology, o) {\n    return o.type === \"GeometryCollection\" ? {\n      type: \"FeatureCollection\",\n      features: o.geometries.map(function (o) {\n        return feature(topology, o);\n      })\n    } : feature(topology, o);\n  }\n\n  function feature(topology, o) {\n    var f = {\n      type: \"Feature\",\n      id: o.id,\n      properties: o.properties || {},\n      geometry: object(topology, o)\n    };\n    if (o.id == null) delete f.id;\n    return f;\n  }\n\n  function object(topology, o) {\n    var absolute = transformAbsolute(topology.transform),\n        arcs = topology.arcs;\n\n    function arc(i, points) {\n      if (points.length) points.pop();\n      for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length, p; k < n; ++k) {\n        points.push(p = a[k].slice());\n        absolute(p, k);\n      }\n      if (i < 0) reverse(points, n);\n    }\n\n    function point(p) {\n      p = p.slice();\n      absolute(p, 0);\n      return p;\n    }\n\n    function line(arcs) {\n      var points = [];\n      for (var i = 0, n = arcs.length; i < n; ++i) {\n        arc(arcs[i], points);\n      }if (points.length < 2) points.push(points[0].slice());\n      return points;\n    }\n\n    function ring(arcs) {\n      var points = line(arcs);\n      while (points.length < 4) {\n        points.push(points[0].slice());\n      }return points;\n    }\n\n    function polygon(arcs) {\n      return arcs.map(ring);\n    }\n\n    function geometry(o) {\n      var t = o.type;\n      return t === \"GeometryCollection\" ? {\n        type: t,\n        geometries: o.geometries.map(geometry)\n      } : t in geometryType ? {\n        type: t,\n        coordinates: geometryType[t](o)\n      } : null;\n    }\n\n    var geometryType = {\n      Point: function Point(o) {\n        return point(o.coordinates);\n      },\n      MultiPoint: function MultiPoint(o) {\n        return o.coordinates.map(point);\n      },\n      LineString: function LineString(o) {\n        return line(o.arcs);\n      },\n      MultiLineString: function MultiLineString(o) {\n        return o.arcs.map(line);\n      },\n      Polygon: function Polygon(o) {\n        return polygon(o.arcs);\n      },\n      MultiPolygon: function MultiPolygon(o) {\n        return o.arcs.map(polygon);\n      }\n    };\n\n    return geometry(o);\n  }\n\n  function reverse(array, n) {\n    var t,\n        j = array.length,\n        i = j - n;\n    while (i < --j) {\n      t = array[i], array[i++] = array[j], array[j] = t;\n    }\n  }\n\n  function bisect(a, x) {\n    var lo = 0,\n        hi = a.length;\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (a[mid] < x) lo = mid + 1;else hi = mid;\n    }\n    return lo;\n  }\n\n  function neighbors(objects) {\n    var indexesByArc = {},\n        // arc index -> array of object indexes\n    neighbors = objects.map(function () {\n      return [];\n    });\n\n    function line(arcs, i) {\n      arcs.forEach(function (a) {\n        if (a < 0) a = ~a;\n        var o = indexesByArc[a];\n        if (o) o.push(i);else indexesByArc[a] = [i];\n      });\n    }\n\n    function polygon(arcs, i) {\n      arcs.forEach(function (arc) {\n        line(arc, i);\n      });\n    }\n\n    function geometry(o, i) {\n      if (o.type === \"GeometryCollection\") o.geometries.forEach(function (o) {\n        geometry(o, i);\n      });else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n    }\n\n    var geometryType = {\n      LineString: line,\n      MultiLineString: polygon,\n      Polygon: polygon,\n      MultiPolygon: function MultiPolygon(arcs, i) {\n        arcs.forEach(function (arc) {\n          polygon(arc, i);\n        });\n      }\n    };\n\n    objects.forEach(geometry);\n\n    for (var i in indexesByArc) {\n      for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n        for (var k = j + 1; k < m; ++k) {\n          var ij = indexes[j],\n              ik = indexes[k],\n              n;\n          if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n          if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n        }\n      }\n    }\n\n    return neighbors;\n  }\n\n  function presimplify(topology, triangleArea) {\n    var absolute = transformAbsolute(topology.transform),\n        relative = transformRelative(topology.transform),\n        heap = minAreaHeap();\n\n    if (!triangleArea) triangleArea = cartesianTriangleArea;\n\n    topology.arcs.forEach(function (arc) {\n      var triangles = [],\n          maxArea = 0,\n          triangle;\n\n      // To store each point鈥檚 effective area, we create a new array rather than\n      // extending the passed-in point to workaround a Chrome/V8 bug (getting\n      // stuck in smi mode). For midpoints, the initial effective area of\n      // Infinity will be computed in the next step.\n      for (var i = 0, n = arc.length, p; i < n; ++i) {\n        p = arc[i];\n        absolute(arc[i] = [p[0], p[1], Infinity], i);\n      }\n\n      for (var i = 1, n = arc.length - 1; i < n; ++i) {\n        triangle = arc.slice(i - 1, i + 2);\n        triangle[1][2] = triangleArea(triangle);\n        triangles.push(triangle);\n        heap.push(triangle);\n      }\n\n      for (var i = 0, n = triangles.length; i < n; ++i) {\n        triangle = triangles[i];\n        triangle.previous = triangles[i - 1];\n        triangle.next = triangles[i + 1];\n      }\n\n      while (triangle = heap.pop()) {\n        var previous = triangle.previous,\n            next = triangle.next;\n\n        // If the area of the current point is less than that of the previous point\n        // to be eliminated, use the latter's area instead. This ensures that the\n        // current point cannot be eliminated without eliminating previously-\n        // eliminated points.\n        if (triangle[1][2] < maxArea) triangle[1][2] = maxArea;else maxArea = triangle[1][2];\n\n        if (previous) {\n          previous.next = next;\n          previous[2] = triangle[2];\n          update(previous);\n        }\n\n        if (next) {\n          next.previous = previous;\n          next[0] = triangle[0];\n          update(next);\n        }\n      }\n\n      arc.forEach(relative);\n    });\n\n    function update(triangle) {\n      heap.remove(triangle);\n      triangle[1][2] = triangleArea(triangle);\n      heap.push(triangle);\n    }\n\n    return topology;\n  }\n\n  function cartesianRingArea(ring) {\n    var i = -1,\n        n = ring.length,\n        a,\n        b = ring[n - 1],\n        area = 0;\n\n    while (++i < n) {\n      a = b;\n      b = ring[i];\n      area += a[0] * b[1] - a[1] * b[0];\n    }\n\n    return area * .5;\n  }\n\n  function cartesianTriangleArea(triangle) {\n    var a = triangle[0],\n        b = triangle[1],\n        c = triangle[2];\n    return Math.abs((a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]));\n  }\n\n  function compareArea(a, b) {\n    return a[1][2] - b[1][2];\n  }\n\n  function minAreaHeap() {\n    var heap = {},\n        array = [],\n        size = 0;\n\n    heap.push = function (object) {\n      up(array[object._ = size] = object, size++);\n      return size;\n    };\n\n    heap.pop = function () {\n      if (size <= 0) return;\n      var removed = array[0],\n          object;\n      if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n      return removed;\n    };\n\n    heap.remove = function (removed) {\n      var i = removed._,\n          object;\n      if (array[i] !== removed) return; // invalid request\n      if (i !== --size) object = array[size], (compareArea(object, removed) < 0 ? up : down)(array[object._ = i] = object, i);\n      return i;\n    };\n\n    function up(object, i) {\n      while (i > 0) {\n        var j = (i + 1 >> 1) - 1,\n            parent = array[j];\n        if (compareArea(object, parent) >= 0) break;\n        array[parent._ = i] = parent;\n        array[object._ = i = j] = object;\n      }\n    }\n\n    function down(object, i) {\n      while (true) {\n        var r = i + 1 << 1,\n            l = r - 1,\n            j = i,\n            child = array[j];\n        if (l < size && compareArea(array[l], child) < 0) child = array[j = l];\n        if (r < size && compareArea(array[r], child) < 0) child = array[j = r];\n        if (j === i) break;\n        array[child._ = i] = child;\n        array[object._ = i = j] = object;\n      }\n    }\n\n    return heap;\n  }\n\n  function transformAbsolute(transform) {\n    if (!transform) return noop;\n    var x0,\n        y0,\n        kx = transform.scale[0],\n        ky = transform.scale[1],\n        dx = transform.translate[0],\n        dy = transform.translate[1];\n    return function (point, i) {\n      if (!i) x0 = y0 = 0;\n      point[0] = (x0 += point[0]) * kx + dx;\n      point[1] = (y0 += point[1]) * ky + dy;\n    };\n  }\n\n  function transformRelative(transform) {\n    if (!transform) return noop;\n    var x0,\n        y0,\n        kx = transform.scale[0],\n        ky = transform.scale[1],\n        dx = transform.translate[0],\n        dy = transform.translate[1];\n    return function (point, i) {\n      if (!i) x0 = y0 = 0;\n      var x1 = (point[0] - dx) / kx | 0,\n          y1 = (point[1] - dy) / ky | 0;\n      point[0] = x1 - x0;\n      point[1] = y1 - y0;\n      x0 = x1;\n      y0 = y1;\n    };\n  }\n\n  function noop() {}\n\n  return topojson;\n}();\n\n/***/ }),\n/* 404 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// vizabi.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 174);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8136d7fbb01ffd955f78","var global    = require('./_global')\n  , core      = require('./_core')\n  , hide      = require('./_hide')\n  , redefine  = require('./_redefine')\n  , ctx       = require('./_ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {})\n    , key, own, out, exp;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target)redefine(target, key, out, type & $export.U);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(IS_PROTO && expProto[key] != out)expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_export.js\n// module id = 0\n// module chunks = 0","import interpolator from \"vizabi-interpolators/interpolators\";\n\n/*\n * Check if value A is in +- proximity of value B\n * @param {Number} a\n * @param {Number} b\n * @param {Number} tolerance\n * @returns {Boolean} true if values are approximately equal or false otherwise\n */\nexport const approxEqual = function(a, b, tolerance) {\n  tolerance = tolerance || 0;\n  if (b > 0) {\n    return (1 - tolerance) * b <= a && a <= b * (1 + tolerance);\n  } else if (b < 0) {\n    return (1 + tolerance) * b <= a && a <= b * (1 - tolerance);\n  }\n  return Math.abs(a) <= tolerance;\n};\n\n/*\n * returns unique id with optional prefix\n * @param {String} prefix\n * @returns {String} id\n */\nexport const uniqueId = (function() {\n  let id = 0;\n  return function(p) {\n    return p ? p + (id += 1) : id += 1;\n  };\n})();\n\n/*\n * checks whether obj is a DOM element\n * @param {Object} obj\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nexport const isElement = function(obj) {\n  return !!(obj && obj.nodeType === 1);\n};\n\n/*\n * checks whether obj is an Array\n * @param {Object} target\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nexport const isArray = Array.isArray || (target => Object.prototype.toString.call(target) === \"[object Array]\");\n\n/*\n * checks whether obj is an object\n * @param {Object} obj\n * @returns {Boolean}\n * from underscore: https://github.com/jashkenas/underscore/blob/master/underscore.js\n */\nexport const isObject = function(obj) {\n  const type = typeof obj;\n  return type === \"object\" && !!obj;\n};\n\n/*\n * checks whether arg is a date\n * @param {Object} arg\n * @returns {Boolean}\n */\nexport const isDate = function(arg) {\n  return arg instanceof Date;\n};\n\n/*\n * checks whether arg is a string\n * @param {Object} arg\n * @returns {Boolean}\n */\nexport const isString = value => typeof value === \"string\";\n\n/*\n * checks whether arg is a NaN\n * @param {*} arg\n * @returns {Boolean}\n * from lodash: https://github.com/lodash/lodash/blob/master/lodash.js\n */\nexport const isNaN = function(arg) {\n  // A `NaN` primitive is the only number that is not equal to itself\n  return isNumber(arg) && arg !== +arg;\n};\n\nexport const isEmpty = function(obj) {\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n};\n\n/*\n * checks whether arg is a number. NaN is a number too\n * @param {*} arg\n * @returns {Boolean}\n * from lodash: https://github.com/lodash/lodash/blob/master/lodash.js\n * dependencies are resolved and included here\n */\nexport const isNumber = function(arg) {\n  return typeof arg === \"number\" || !!arg && typeof arg === \"object\" && Object.prototype.toString.call(arg) ===\n    \"[object Number]\";\n};\n\n/*\n * checks whether obj is a plain object {}\n * @param {Object} obj\n * @returns {Boolean}\n */\nexport const isPlainObject = function(obj) {\n  return obj !== null && Object.prototype.toString.call(obj) === \"[object Object]\";\n};\n\n/*\n * checks whether two arrays are equal\n * @param {Array} a\n * @param {Array} b\n * @returns {Boolean}\n */\nexport const arrayEquals = function(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length != b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n};\n\n\n/**\n * Object Comparison\n *\n * http://stamat.wordpress.com/2013/06/22/javascript-object-comparison/\n *\n * No version\n *\n * @param a\n * @param b\n * @returns {boolean} if objects are equal\n */\nexport const comparePlainObjects = function(a, b) {\n\n  //Returns the object's class, Array, Date, RegExp, Object are of interest to us\n  const getClass = function(val) {\n    return Object.prototype.toString.call(val)\n      .match(/^\\[object\\s(.*)\\]$/)[1];\n  };\n\n  //Defines the type of the value, extended typeof\n  const whatis = function(val) {\n\n    if (val === undefined) {\n      return \"undefined\";\n    }\n    if (val === null) {\n      return \"null\";\n    }\n\n    let type = typeof val;\n\n    if (type === \"object\") {\n      type = getClass(val).toLowerCase();\n    }\n\n    if (type === \"number\") {\n      return val.toString().indexOf(\".\") > 0 ?\n        \"float\" :\n        \"integer\";\n    }\n\n    return type;\n  };\n\n  const compare = function(a, b) {\n    if (a === b) {\n      return true;\n    }\n    for (const i in a) {\n      if (b.hasOwnProperty(i)) {\n        if (!equal(a[i], b[i])) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    for (const i in b) {\n      if (!a.hasOwnProperty(i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const compareArrays = function(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const _equal = {};\n  _equal.array = compareArrays;\n  _equal.object = compare;\n  _equal.date = function(a, b) {\n    return a.getTime() === b.getTime();\n  };\n  _equal.regexp = function(a, b) {\n    return a.toString() === b.toString();\n  };\n\n  /**\n   * Are two values equal, deep compare for objects and arrays.\n   * @param a {any}\n   * @param b {any}\n   * @return {boolean} Are equal?\n   */\n  const equal = function(a, b) {\n    if (a !== b) {\n      const atype = whatis(a);\n      const btype = whatis(b);\n\n      if (atype === btype) {\n        return _equal.hasOwnProperty(atype) ? _equal[atype](a, b) : a == b;\n      }\n\n      return false;\n    }\n\n    return true;\n  };\n\n  return compare(a, b);\n};\n\n\nexport const getViewportPosition = function(element) {\n  let xPosition = 0;\n  let yPosition = 0;\n\n  while (element) {\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\n    yPosition += (element.offsetTop - element.scrollTop + element.clientTop);\n    element = element.offsetParent;\n  }\n\n  return {\n    x: xPosition,\n    y: yPosition\n  };\n};\n\n\nexport const findScrollableAncestor = function(node) {\n  const scrollable = [\"scroll\", \"auto\"];\n  while (node = node.parentNode) {\n    const scrollHeight = node.scrollHeight;\n    const height = node.clientHeight;\n    if (scrollHeight > height && scrollable.indexOf(d3.select(node).style(\"overflow\")) !== -1) {\n      return node;\n    }\n  }\n  return null;\n};\n\nexport const roundStep = function(number, step) {\n  return Math.round(number / step) * step;\n};\n\n/*\n * transforms a string into a validated fload value\n * @param {string} string to be transformed\n */\nexport const strToFloat = function(string) {\n  return +string.replace(/[^\\d.-]/g, \"\");\n};\n\n/*\n * loops through an object or array\n * @param {Object|Array} obj object or array\n * @param {Function} callback callback function\n * @param {Object} ctx context object\n */\nexport const forEach = function(obj, callback, ctx) {\n  if (!obj) {\n    return;\n  }\n  let i, size;\n  if (isArray(obj)) {\n    size = obj.length;\n    for (i = 0; i < size; i += 1) {\n      const result = callback.apply(ctx, [obj[i], i]);\n      if (result === false) {\n        break;\n      }\n    }\n  } else {\n    const keys = Object.keys(obj);\n    size = keys.length;\n    for (i = 0; i < size; i += 1) {\n      const result = callback.apply(ctx, [obj[keys[i]], keys[i]]);\n      if (result === false) {\n        break;\n      }\n    }\n  }\n};\n\n/*\n * extends an object\n * @param {Object} destination object\n * @returns {Object} extented object\n */\nexport const extend = function(dest) {\n  //objects to overwrite dest are next arguments\n  const objs = Array.prototype.slice.call(arguments, 1);\n  //loop through each obj and each argument, left to right\n  forEach(objs, (obj, i) => {\n    forEach(obj, (value, k) => {\n      if (obj.hasOwnProperty(k)) {\n        dest[k] = value;\n      }\n    });\n  });\n  return dest;\n};\n\n// Deep extend and helper functions\n// https://github.com/unclechu/node-deep-extend/blob/master/lib/deep-extend.js\n\nfunction isSpecificValue(val) {\n  return Boolean((\n    val instanceof Date\n    || val instanceof RegExp\n  ));\n}\n\nfunction cloneSpecificValue(val) {\n  if (val instanceof Date) {\n    return new Date(val.getTime());\n  } else if (val instanceof RegExp) {\n    return new RegExp(val);\n  }\n  throw new Error(\"Unexpected situation\");\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n  const clone = [];\n  forEach(arr, (item, index) => {\n    if (typeof item === \"object\" && item !== null) {\n      if (isArray(item)) {\n        clone[index] = deepCloneArray(item);\n      } else if (isSpecificValue(item)) {\n        clone[index] = cloneSpecificValue(item);\n      } else {\n        clone[index] = deepExtend({}, item);\n      }\n    } else {\n      clone[index] = item;\n    }\n  });\n  return clone;\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nexport const deepExtend = function(/*obj_1, [obj_2], [obj_N]*/) {\n  if (arguments.length < 1 || typeof arguments[0] !== \"object\") {\n    return false;\n  }\n\n  if (arguments.length < 2) {\n    return arguments[0];\n  }\n\n  const target = arguments[0];\n\n  const lastArgIsBool = typeof arguments[arguments.length - 1] === \"boolean\";\n  const overwriteByEmpty = lastArgIsBool && arguments[arguments.length - 1];\n  // convert arguments to array and cut off target object\n  const args = Array.prototype.slice.call(arguments, 1, (lastArgIsBool ? -1 : arguments.length));\n\n  let val, src, clone;\n\n  forEach(args, obj => {\n    // skip argument if it is array or isn't object\n    if (typeof obj !== \"object\" || isArray(obj)) {\n      return;\n    }\n\n    forEach(Object.keys(obj), key => {\n      src = target[key]; // source value\n      val = obj[key]; // new value\n\n      // recursion prevention\n      if (val === target) {\n        /*\n         * if new value isn't object then just overwrite by new value\n         * instead of extending.\n         * 2016-11-07 / Jasper: Added specific check for val instanceof Model for merging defaults & values of ComponentModels\n         * 2016-11-07 / Jasper: Hack because importing Model doesn't work: instead check for val._data\n         */\n      } else if (typeof val !== \"object\" || val === null || val._data) {\n        target[key] = val;\n\n        // just clone arrays (and recursive clone objects inside)\n      } else if (isArray(val)) {\n        target[key] = deepCloneArray(val);\n\n        // custom cloning and overwrite for specific objects\n      } else if (isSpecificValue(val)) {\n        target[key] = cloneSpecificValue(val);\n\n        // overwrite by new value if source isn't object or array\n      } else if (typeof src !== \"object\" || src === null || isArray(src)) {\n        target[key] = deepExtend({}, val);\n\n        // new value is empty object\n      } else if (overwriteByEmpty && isEmpty(val)) {\n        target[key] = {};\n\n        // source value and new value is objects both, extending...\n      } else {\n        target[key] = deepExtend(src, val, overwriteByEmpty);\n      }\n    });\n  });\n\n  return target;\n};\n\n/*\n * merges objects instead of replacing\n * @param {Object} destination object\n * @returns {Object} merged object\n */\nexport const merge = function(dest) {\n\n  // objects to overwrite dest are next arguments\n  const objs = Array.prototype.slice.call(arguments, 1);\n\n  // loop through each obj and each argument, left to right\n  forEach(objs, (obj, i) => {\n    forEach(obj, (value, k) => {\n      if (obj.hasOwnProperty(k)) {\n        if (dest.hasOwnProperty(k)) {\n          if (!isArray(dest[k])) {\n            dest[k] = [dest[k]];\n          }\n          dest[k].push(value);\n        } else {\n          dest[k] = value;\n        }\n      }\n    });\n  });\n  return dest;\n\n};\n\n/*\n * clones an object (shallow copy)\n * @param {Object} src original object\n * @param {Array} arr filter keys\n * @returns {Object} cloned object\n */\nexport const clone = function(src, arr, exclude) {\n  if (isArray(src)) {\n    return src.slice(0);\n  }\n  const clone = {};\n  forEach(src, (value, k) => {\n    if ((arr && arr.indexOf(k) === -1) || (exclude && exclude.indexOf(k) !== -1)) {\n      return;\n    }\n    if (src.hasOwnProperty(k)) {\n      clone[k] = value;\n    }\n  });\n  return clone;\n};\n\n/*\n * deep clones an object (deep copy)\n * @param {Object} src original object\n * @returns {Object} cloned object\n */\nexport const deepClone = function(src) {\n  let clone = {};\n  if (isArray(src)) clone = [];\n\n  forEach(src, (value, k) => {\n    if (isObject(value) || isArray(value)) {\n      clone[k] = deepClone(value);\n    } else {\n      clone[k] = value;\n    }\n  });\n  return clone;\n};\n\n/*\n * Prints message to timestamp\n * @param {Arr} arr\n * @param {Object} el\n */\nexport const without = function(arr, el) {\n  const idx = arr.indexOf(el);\n  if (idx !== -1) {\n    arr.splice(idx, 1);\n  }\n  return arr;\n};\n\n/*\n * unique items in an array\n * @param {Array} arr original array\n * @param {Function} func optional evaluation function\n * @returns {Array} unique items\n * Based on:\n * http://stackoverflow.com/questions/1960473/unique-values-in-an-array\n */\nexport const unique = (array, map = data => data) => {\n  const uniqueValues = {};\n\n  return array.filter(item => {\n    const value = map(item);\n\n    if (uniqueValues.hasOwnProperty(value)) {\n      return false;\n    }\n\n    uniqueValues[value] = 1;\n\n    return true;\n  });\n};\n\n/*\n * unique items in an array keeping the last item\n * @param {Array} arr original array\n * @param {Function} func optional evaluation function\n * @returns {Array} unique items\n * Based on the previous method\n */\nexport const uniqueLast = function(arr, func) {\n  const u = {};\n  const a = [];\n  if (!func) {\n    func = function(d) {\n      return d;\n    };\n  }\n  for (let i = 0, l = arr.length; i < l; i += 1) {\n    const key = func(arr[i]);\n    if (u.hasOwnProperty(key)) {\n      a.splice(u[key], 1); //remove old item from array\n    }\n    a.push(arr[i]);\n    u[key] = a.length - 1;\n  }\n  return a;\n};\n\n/*\n * returns first value that passes the test\n * @param {Array} arr original collection\n * @returns {Function} func test function\n */\nexport const find = function(arr, func) {\n  let found;\n  forEach(arr, i => {\n    if (func(i)) {\n      found = i;\n      return false; //break\n    }\n  });\n  return found;\n};\n\n/*\n * filters an array based on object properties\n * @param {Array} arr original array\n * @returns {Object} filter properties to use as filter\n */\nexport const filter = function(arr, filter) {\n  let index = -1;\n  const length = arr.length;\n  let resIndex = -1;\n  const result = [];\n  const keys = Object.keys(filter);\n  const s_keys = keys.length;\n  let i;\n  let f;\n  while ((index += 1) < length) {\n    const value = arr[index];\n    let match = true;\n    for (i = 0; i < s_keys; i += 1) {\n      f = keys[i];\n      if (!value.hasOwnProperty(f) || value[f] !== filter[f]) {\n        match = false;\n        break;\n      }\n    }\n    if (match) {\n      result[resIndex += 1] = value;\n    }\n  }\n  return result;\n};\n\n/*\n * filters an array based on object properties.\n * Properties may be arrays determining possible values\n * @param {Array} arr original array\n * @returns {Object} filter properties to use as filter\n */\nexport const filterAny = function(arr, filter, wildcard) {\n  let index = -1;\n  const length = arr.length;\n  let resIndex = -1;\n  const result = [];\n  const keys = Object.keys(filter);\n  const s_keys = keys.length;\n  let i, f;\n  while ((index += 1) < length) {\n    const value = arr[index];\n    //normalize to array\n    let match = true;\n    for (i = 0; i < s_keys; i += 1) {\n      f = keys[i];\n      if (!value.hasOwnProperty(f) || !matchAny(value[f], filter[f], wildcard)) {\n        match = false;\n        break;\n      }\n    }\n    if (match) {\n      result[resIndex += 1] = value;\n    }\n  }\n  return result;\n};\n\n/*\n * checks if the value matches the comparison value or any in array\n * compare may be an determining possible values\n * @param value original value\n * @param compare value or array\n * @param {String} wildc wildcard value\n * @returns {Boolean} try\n */\nexport const matchAny = function(values, compare, wildc) {\n  //normalize value\n  if (!isArray(values)) values = [values];\n  if (!wildc) wildc = \"*\"; //star by default\n  let match = false;\n  for (let e = 0; e < values.length; e++) {\n    const value = values[e];\n\n    if (!isArray(compare) && value == compare) {\n      match = true;\n      break;\n    } else if (isArray(compare)) {\n      let found = -1;\n      for (let i = 0; i < compare.length; i++) {\n        const c = compare[i];\n        if (!isArray(c) && (c == value || c === wildc)) {\n          found = i;\n          break;\n        } else if (isArray(c)) { //range\n          const min = c[0];\n          const max = c[1] || min;\n          if (value >= min && value <= max) {\n            found = i;\n            break;\n          }\n        }\n      }\n      if (found !== -1) {\n        match = true;\n        break;\n      }\n    }\n  }\n  return match;\n};\n\n/**\n * prevent scrolling parent scrollable elements for 2 second when element scrolled to end\n * @param node\n */\n\nexport const preventAncestorScrolling = function(element) {\n  let preventScrolling = false;\n  element.on(\"mousewheel\", function(d, i) {\n    const scrollTop = this.scrollTop;\n    const scrollHeight = this.scrollHeight;\n    const height = element.node().offsetHeight;\n    const delta = d3.event.wheelDelta;\n    const up = delta > 0;\n    const prevent = function() {\n      d3.event.stopPropagation();\n      d3.event.preventDefault();\n      d3.event.returnValue = false;\n      return false;\n    };\n\n    const scrollTopTween = function(scrollTop) {\n      return function() {\n        const _this = this;\n        const i = d3.interpolateNumber(this.scrollTop, scrollTop);\n        return function(t) {\n          _this.scrollTop = i(t);\n        };\n      };\n    };\n    if (!up) {\n      // Scrolling down\n      if (-delta > scrollHeight - height - scrollTop && scrollHeight != height + scrollTop) {\n        element.transition().delay(0).duration(0).tween(\"scrolltween\", scrollTopTween(scrollHeight));\n        //freeze scrolling on 2 seconds on bottom position\n        preventScrolling = true;\n        setTimeout(() => {\n          preventScrolling = false;\n        }, 2000);\n      } else if (scrollTop == 0) { //unfreeze when direction changed\n        preventScrolling = false;\n      }\n    } else if (up) {\n      // Scrolling up\n      if (delta > scrollTop && scrollTop > 0) { //\n        //freeze scrolling on 2 seconds on top position\n        element.transition().delay(0).duration(0).tween(\"scrolltween\", scrollTopTween(0));\n        preventScrolling = true;\n        setTimeout(() => {\n          preventScrolling = false;\n        }, 2000);\n      } else if (scrollHeight == height + scrollTop) { //unfreeze when direction changed\n        preventScrolling = false;\n      }\n    }\n    if (preventScrolling) {\n      return prevent();\n    }\n  });\n};\n\n/*\n * Converts radius to area, simple math\n * @param {Number} radius\n * @returns {Number} area\n */\nexport const radiusToArea = function(r) {\n  return r * r * Math.PI;\n};\n\n/*\n * Computes hypotenuse of a right triangle, given the catets\n * @param {Number} x\n * @param {Number} y\n * @returns {Number} square root of sum of the squares of x and y\n */\nexport const hypotenuse = function(x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n\n/*\n * Converts area to radius, simple math\n * @param {Number} area\n * @returns {Number} radius\n */\nexport const areaToRadius = function(a) {\n  return Math.sqrt(a / Math.PI);\n};\n\n/*\n * Prints message to timestamp\n * @param {String} message\n */\nexport const timeStamp = function(message) {\n  if (console && typeof console.timeStamp === \"function\") {\n    console.timeStamp(message);\n  }\n};\n\n/*\n * Prints warning\n * @param {String} message\n */\nexport const warn = function(message) {\n  message = Array.prototype.slice.call(arguments)\n    .map(m => m instanceof Object ? JSON.stringify(m, null, 4) : m)\n    .join(\" \");\n  if (console && typeof console.warn === \"function\") {\n\n    console.warn(message);\n  }\n  // \"return true\" is needed to find out if a parent function is exited with warning\n  // example:\n  // myfunction = function() { if(brokenstuff) return utils.warn(\"broken stuff found\") }\n  // if(myfunction()) return; // stopped execution after myfunction finds broken stuff\n  // ... or moving on\n  return true;\n};\n\n/*\n * Prints message for group\n * @param {String} message\n */\nexport const groupCollapsed = function(message) {\n  message = Array.prototype.slice.call(arguments).join(\" \");\n  if (console && typeof console.groupCollapsed === \"function\") {\n    console.groupCollapsed(message);\n  }\n};\n\n/*\n * Prints end of group\n * @param {String} message\n */\nexport const groupEnd = function() {\n  if (console && typeof console.groupEnd === \"function\") {\n    console.groupEnd();\n  }\n};\n\n/*\n * Prints error\n * @param {String} message\n */\nexport const error = function(err) {\n  if (console && typeof console.error === \"function\") {\n    if (err.stack) {\n      console.error(err.stack);\n    } else {\n      console.error(err);\n    }\n    if (arguments.length > 1) {\n      console.error.apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  }\n};\n\n/*\n * Count the number of decimal numbers\n * @param {Number} number\n */\nexport const countDecimals = function(number) {\n  if (Math.floor(number.valueOf()) === number.valueOf()) {\n    return 0;\n  }\n  return number.toString().split(\".\")[1].length || 0;\n};\n\n/*\n * Adds class to DOM element\n * @param {Element} el\n * @param {String} className\n */\nexport const addClass = function(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    //IE<10\n    el.className += \" \" + className;\n  }\n};\n\n/*\n * Remove class from DOM element\n * @param {Element} el\n * @param {String} className\n */\nexport const removeClass = function(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    //IE<10\n    el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"),\n      \" \");\n  }\n};\n\n/*\n * Adds or removes class depending on value\n * @param {Element} el\n * @param {String} className\n * @param {Boolean} value\n */\nexport const classed = function(el, className, value) {\n  if (value === true) {\n    addClass(el, className);\n  } else if (value === false) {\n    removeClass(el, className);\n  } else {\n    return hasClass(el, className);\n  }\n};\n\n/*\n * Checks whether a DOM element has a class or not\n * @param {Element} el\n * @param {String} className\n * @return {Boolean}\n */\nexport const hasClass = (el, className) => (\n  el.classList ?\n    el.classList.contains(className) :\n    new RegExp(\"(^| )\" + className + \"( |$)\", \"gi\").test(el.className)\n);\n\n/*\n * Throttles a function\n * @param {Function} func\n * @param {Number} ms duration\n * @return {Function}\n * Function recallLast was added to prototype of returned function.\n * Call Function.recallLast() - immediate recall func with last saved arguments,\n *                              else func will be called automaticly after ms duration\n */\nexport const throttle = function(func, ms) {\n\n  let throttled = false;\n  let savedArgs;\n  let savedThis;\n  let nextTime;\n\n  const __recallLast = function() {\n    if (throttled) {\n      throttled = false;\n      func.apply(savedThis, savedArgs);\n    }\n  };\n\n  const wrapper = function() {\n\n    if (nextTime > Date.now()) {\n      throttled = true;\n      savedArgs = arguments;\n      savedThis = this;\n      return;\n    }\n\n    nextTime = Date.now() + ms;\n    throttled = false;\n\n    func.apply(this, arguments);\n\n    setTimeout(() => {\n      __recallLast();\n    }, ms);\n\n  };\n\n  wrapper.recallLast = __recallLast;\n\n  return wrapper;\n};\n\n\n/*\n * Returns keys of an object as array\n * @param {Object} arg\n * @returns {Array} keys\n */\nexport const keys = function(arg) {\n  return Object.keys(arg);\n};\n\n/*\n * returns the values of an object in an array format\n * @param {Object} obj\n * @return {Array}\n */\nexport const values = function(obj) {\n  const arr = [];\n  const keys = Object.keys(obj);\n  const size = keys.length;\n  for (let i = 0; i < size; i += 1) {\n    arr.push(obj[keys[i]]);\n  }\n  return arr;\n};\n\n\n/*\n * Computes the minumum value in an array\n * @param {Array} arr\n */\nexport const arrayMin = function(arr) {\n  return arr.reduce((p, v) => (p < v ? p : v));\n};\n\n/*\n * Computes the minumum value in an array\n * @param {Array} arr\n */\nexport const arrayMax = function(arr) {\n  return arr.reduce((p, v) => (p > v ? p : v));\n};\n\n/*\n * Computes the mean of an array\n * @param {Array} arr\n */\nexport const arrayMean = function(arr) {\n  return arraySum(arr) / arr.length;\n};\n\n/*\n * Computes the sum of an array\n * @param {Array} arr\n */\nexport const arraySum = function(arr) {\n  return arr.reduce((a, b) => a + b);\n};\n\n/*\n * Computes the median of an array\n * @param {Array} arr\n */\nexport const arrayMedian = arr => {\n  arr = arr.sort((a, b) => a - b);\n  const middle = Math.floor((arr.length - 1) / 2);\n\n  return arr.length % 2 ?\n    arr[middle] :\n    (arr[middle] + arr[middle + 1]) / 2;\n};\n\n/*\n * Returns the last value of array\n * @param {Array} arr\n */\nexport const arrayLast = function(arr) {\n  if (!arr.length) return null;\n  return arr[arr.length - 1];\n};\n\n/*\n * Returns the resulting object of the difference between two objects\n * @param {Object} obj2\n * @param {Object} obj1\n * @returns {Object}\n */\nexport const diffObject = function(obj2, obj1) {\n  const diff = {};\n  forEach(obj1, (value, key) => {\n    if (!obj2.hasOwnProperty(key) && isPlainObject(value)) {\n      diff[key] = diffObject({}, value);\n    }\n  });\n  forEach(obj2, (value, key) => {\n    if (!obj1.hasOwnProperty(key)) {\n      diff[key] = value;\n    } else if (value !== obj1[key]) {\n      if (isPlainObject(value) && isPlainObject(obj1[key])) {\n        if (isEmpty(value)) {\n          if (!isEmpty(obj1[key])) {\n            diff[key] = {};\n          }\n        } else {\n          const d = diffObject(value, obj1[key]);\n          if (Object.keys(d).length > 0) {\n            diff[key] = d;\n          }\n        }\n      } else if (!isArray(value) || !isArray(obj1[key]) || !arrayEquals(value, obj1[key])) {\n        diff[key] = value;\n      }\n    }\n  });\n  return diff;\n};\n\n/*\n * Defers a function\n * @param {Function} func\n */\nexport const defer = function(func) {\n  setTimeout(func, 1);\n};\n\n/*\n * Defers a function\n * @param {Function} func\n */\nexport const delay = function(delay) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n};\n\nexport const clearDelay = function(delayId) {\n  return clearTimeout(delayId);\n};\n\n/*\n * Creates a hashcode for a string or array\n * @param {String|Array} str\n * @return {Number} hashCode\n */\nexport const hashCode = function(str) {\n  if (!isString(str)) {\n    str = JSON.stringify(str);\n  }\n  let hash = 0;\n  const size = str.length;\n  let c;\n  if (size === 0) {\n    return hash;\n  }\n  for (let i = 0; i < size; i += 1) {\n    c = str.charCodeAt(i);\n    hash = (hash << 5) - hash + c;\n    hash &= hash; // Convert to 32bit integer\n  }\n  return hash.toString();\n};\n\n\n/*\n * Converts D3 nest array into the object with key-value pairs, recursively\n * @param {Array} arr - array like this [{key: k, values: [a, b, ...]}, {...} ... {...}]\n * @return {Object} object like this {k: [a, b, ...], ...}\n */\n//\nexport const nestArrayToObj = function(arr) {\n  if (!arr || !arr.length || !arr[0].key) return arr;\n  const res = {};\n  for (let i = 0; i < arr.length; i++) {\n    res[arr[i].key] = nestArrayToObj(arr[i].values);\n  }\n  return res;\n};\n\n\nexport const interpolateVector = function() {\n\n};\n\n/**\n * interpolates the specific value\n * @param {Array} items -- an array of items, sorted by \"dimTime\", filtered so that no item[which] is null\n * @param {String} use -- a use of hook that wants to interpolate. can be \"indicator\" or \"property\" or \"constant\"\n * @param {String} which -- a hook pointer to indicator or property, e.g. \"lex\"\n * @param {Number} next -- an index of next item in \"items\" array after the value to be interpolated. if omitted, then calculated here, but it's expensive\n * @param {String} dimTime -- a pointer to time dimension, usually \"time\"\n * @param {Date} time -- reference point for interpolation. here the valus is to be found\n * @param {String} method refers to which formula to use. \"linear\" or \"exp\". Falls back to \"linear\" if undefined\n * @param {Boolean} extrapolate indicates if we should use zero-order extrapolation outside the range of available data\n * @returns {Number} interpolated value\n */\nexport const interpolatePoint = function(items, use, which, next, dimTime, time, method, extrapolate) {\n\n\n  if (!items || items.length === 0) {\n    warn(\"interpolatePoint failed because incoming array is empty. It was \" + which);\n    return null;\n  }\n  // return constant for the use of \"constant\"\n  if (use === \"constant\") return which;\n\n  // zero-order interpolation for the use of properties\n  if (use === \"property\") return items[0][which];\n\n  // the rest is for the continuous measurements\n\n  if (extrapolate) {\n    // check if the desired value is out of range. 0-order extrapolation\n    if (time - items[0][dimTime] <= 0) return items[0][which];\n    if (time - items[items.length - 1][dimTime] >= 0) return items[items.length - 1][which];\n  } else {\n    // no extrapolation according to Ola's request\n    if (time < items[0][dimTime] || time > items[items.length - 1][dimTime]) return null;\n  }\n\n  if (!next && next !== 0) next = d3.bisectLeft(items.map(m => m[dimTime]), time);\n\n  if (next === 0) return items[0][which];\n\n  //return null if data is missing\n  if (items[next] === undefined || items[next][which] === null || items[next - 1][which] === null || items[next][which] === \"\") {\n    warn(\"interpolatePoint failed because next/previous points are bad in \" + which);\n    return null;\n  }\n\n\n  //do the math to calculate a value between the two points\n  let result = interpolator[method || \"linear\"](\n    items[next - 1][dimTime],\n    items[next][dimTime],\n    items[next - 1][which],\n    items[next][which],\n    time\n  );\n\n  // cast to time object if we are interpolating time\n  if (which === dimTime) result = new Date(result);\n  if (isNaN(result)) {\n    warn(\"interpolatePoint failed because result is NaN. It was \" + which);\n    result = null;\n  }\n\n  return result;\n\n};\n\n\n/*\n * Performs an ajax request\n * @param {Object} options\n * @param {String} className\n * @return {Boolean}\n */\nexport const ajax = function(options) {\n  const request = new XMLHttpRequest();\n  request.open(options.method, options.url, true);\n  if (options.method === \"POST\" && !options.json) {\n    request.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\");\n  } else if (options.method === \"POST\" && options.json) {\n    request.setRequestHeader(\"Content-Type\", \"application/json; charset=UTF-8\");\n  }\n  request.onload = function() {\n    if (request.status >= 200 && request.status < 400) {\n      // Success!\n      const data = options.json ? JSON.parse(request.responseText) : request.responseText;\n      if (options.success) {\n        options.success(data);\n      }\n    } else {\n      if (options.error) {\n        options.error();\n      }\n    }\n  };\n  request.onerror = function() {\n    if (options.error) {\n      options.error();\n    }\n  };\n  request.send(options.data);\n};\n\n/*\n * Performs a GET http request\n */\nexport const get = function(url, pars, success, error, json) {\n  pars = pars || [];\n  forEach(pars, (value, key) => {\n    pars.push(key + \"=\" + value);\n  });\n  url = pars.length ? url + \"?\" + pars.join(\"&\") : url;\n  ajax({\n    method: \"GET\",\n    url,\n    success,\n    error,\n    json\n  });\n};\n\n/*\n * Performs a POST http request\n */\nexport const post = function(url, pars, success, error, json) {\n  ajax({\n    method: \"POST\",\n    url,\n    success,\n    error,\n    json,\n    data: pars\n  });\n};\n\n/**\n * Make function memoized\n * @param {Function} fn\n * @returns {Function}\n */\nexport const memoize = function(fn) {\n  return function() {\n    const args = Array.prototype.slice.call(arguments);\n    let hash = \"\";\n    let i = args.length;\n    let currentArg = null;\n\n    while (i--) {\n      currentArg = args[i];\n      hash += (currentArg === Object(currentArg)) ? JSON.stringify(currentArg) : currentArg;\n      fn.memoize || (fn.memoize = {});\n    }\n\n    return (hash in fn.memoize) ? fn.memoize[hash] : fn.memoize[hash] = fn.apply(this, args);\n  };\n};\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport const debounce = function(func, wait, immediate) {\n  let timeout;\n  return function() {\n    const context = this;\n    const args = arguments;\n    const later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nexport const isTouchDevice = function() {\n  //'ontouchstart' is not reliable in Google Chrome #2116, but Chrome has this firesTouchEvents flag\n  if (((d3.event || {}).sourceCapabilities || {}).firesTouchEvents != null) {\n    return d3.event.sourceCapabilities.firesTouchEvents;\n  }\n  return !!((\"ontouchstart\" in window) || window.DocumentTouch && document instanceof DocumentTouch);\n};\n\n//return a pruneed tree\nexport const pruneTree = function(tree, filterCallback) {\n  const filteredTree = {};\n  let filteredChildrens = [];\n  if (tree.hasOwnProperty(\"children\")) {\n    filteredChildrens = tree.children.map(childrenTree => pruneTree(childrenTree, filterCallback)).filter(childrenTree => Object.keys(childrenTree).length !== 0);\n  }\n  if (filteredChildrens.length != 0 || filterCallback(tree)) {\n    //copy all the properties to the new tree\n    forEach(tree, (value, key) => {\n      filteredTree[key] = value;\n    });\n  }\n  if (filteredChildrens.length != 0) {\n    filteredTree[\"children\"] = filteredChildrens;\n  }\n  return filteredTree;\n};\n\nexport const setIcon = function(element, icon) {\n  element.selectAll(\"*\").remove();\n  element.node().appendChild(\n    element.node().ownerDocument.importNode(\n      new DOMParser().parseFromString(\n        icon, \"application/xml\").documentElement, true)\n  );\n  return element;\n};\n\n//http://stackoverflow.com/questions/26049488/how-to-get-absolute-coordinates-of-object-inside-a-g-group\nexport function makeAbsoluteContext(element, svgDocument) {\n  return function(x, y) {\n    const offset = svgDocument.getBoundingClientRect();\n    const matrix = element.getScreenCTM();\n    return {\n      x: (matrix.a * x) + (matrix.c * y) + matrix.e - offset.left,\n      y: (matrix.b * x) + (matrix.d * y) + matrix.f - offset.top\n    };\n  };\n}\n\n\n/***\n thenBy.js\n Copyright 2013 Teun Duynstee\n https://github.com/Teun/thenBy.js/blob/master/thenBy.module.js\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nexport function firstBy() {\n\n  function identity(v) {\n    return v;\n  }\n\n  function ignoreCase(v) {\n    return typeof (v) === \"string\" ? v.toLowerCase() : v;\n  }\n\n  function makeCompareFunction(f, opt) {\n    opt = typeof (opt) === \"number\" ? { direction: opt } : opt || {};\n    if (typeof (f) !== \"function\") {\n      const prop = f;\n      // make unary function\n      f = function(v1) {\n        return v1[prop] ? v1[prop] : \"\";\n      };\n    }\n    if (f.length === 1) {\n      // f is a unary function mapping a single item to its sort score\n      const uf = f;\n      const preprocess = opt.ignoreCase ? ignoreCase : identity;\n      f = function(v1, v2) {\n        return preprocess(uf(v1)) < preprocess(uf(v2)) ? -1 : preprocess(uf(v1)) > preprocess(uf(v2)) ? 1 : 0;\n      };\n    }\n    if (opt.direction === -1) return function(v1, v2) {\n      return -f(v1, v2);\n    };\n    return f;\n  }\n\n  /* adds a secondary compare function to the target function (`this` context)\n   which is applied in case the first one returns 0 (equal)\n   returns a new compare function, which has a `thenBy` method as well */\n  function tb(func, opt) {\n    const x = typeof (this) === \"function\" ? this : false;\n    const y = makeCompareFunction(func, opt);\n    const f = x ? function(a, b) {\n      return x(a, b) || y(a, b);\n    }\n      : y;\n    f.thenBy = tb;\n    return f;\n  }\n\n  return tb;\n}\n\nexport function transform(node) {\n\n  const { a, b, c, d, e, f } = node.transform.baseVal.consolidate().matrix;\n\n  return (function(a, b, c, d, e, f) {\n    let scaleX, scaleY, skewX;\n    if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n      translateX: e,\n      translateY: f,\n      rotate: Math.atan2(b, a) * Math.PI / 180,\n      skewX: Math.atan(skewX) * Math.PI / 180,\n      scaleX,\n      scaleY\n    };\n  })(a, b, c, d, e, f);\n}\n\nexport const capitalize = string => string.slice(0, 1).toUpperCase() + string.slice(1).toLowerCase();\n\n// http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\nexport const isMobileOrTablet = (agent = navigator.userAgent || navigator.vendor || window.opera) => /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent.substr(0, 4));\n\nexport function getValueMD(d, values, keysArray) {\n  let value = values;\n  for (let i = 0, j = keysArray.length; i < j; i++) {\n    value = value[d[keysArray[i]]];\n    if (!value) break;\n  }\n  return value;\n}\n\nexport const isFunction = value => typeof value === \"function\";\n\n\n/**\n * This is helper for getting some deep props in object. It's added to remove code like\n * this.show[dimension]\n *   && this.show[dimension][\"$in\"]\n *   && this.show[dimension][\"$in\"].indexOf(d[dimension]) !== -1;\n * when you need to get (+check) nested properties.\n\n * @param {context} object The root object where we start to look for the props\n * @param {Array} props Names of properties for nesting\n * @param {*} defaultValue Default value that will be returned if there is no such properties in object\n * @returns {property} The property we're looking for or a default value\n\n * Usage:\n * const object = { one: { two: \"your value\" } };\n * utils.getProp(object, [\"one\", \"two\"]); // \"your value\"\n */\nexport const getProp = (object, props, defaultValue) => {\n  while (props.length) {\n    const prop = props.shift();\n    if (object.hasOwnProperty(prop)) {\n      object = object[prop];\n    } else {\n      return defaultValue;\n    }\n  }\n  return object;\n};\n\nexport const px2num = pixels => (\n  isString(pixels) && pixels.endsWith(\"px\") ?\n    parseFloat(pixels) :\n    console.warn(`Strange pixels value: ${pixels}`) || pixels\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/utils.js","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_an-object.js\n// module id = 2\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Events from \"base/events\";\nimport Model from \"base/model\";\nimport globals from \"base/globals\";\n\nconst class_loading_first = \"vzb-loading-first\";\nconst class_loading_data = \"vzb-loading-data\";\nconst class_error = \"vzb-error\";\n\nconst templates = {};\nconst Component = Events.extend({\n\n  /**\n   * Initializes the component\n   * @param {Object} config Initial config, with name and placeholder\n   * @param {Object} parent Reference to tool\n   */\n  init(config, parent) {\n    this._id = this._id || utils.uniqueId(\"c\");\n    this._ready = false;\n    this._readyOnce = false;\n    this.name = this.name || config.name || this._id;\n    this.template = this.template || \"<div></div>\";\n    this.placeholder = this.placeholder || config.placeholder;\n    this.template_data = this.template_data || {\n      name: this.name\n    };\n    //make sure placeholder is DOM element\n    if (this.placeholder && !utils.isElement(this.placeholder)) {\n      try {\n        this.placeholder = parent.placeholder.querySelector(this.placeholder);\n      } catch (e) {\n        utils.error(\"Error finding placeholder '\" + this.placeholder + \"' for component '\" + this.name + \"'\");\n      }\n    }\n    this.parent = parent || null;\n    this.root = this.parent ? this.parent.root : this;\n\n    this.components = this.components || [];\n    this._components_config = this.components.map(x => utils.clone(x));\n\n    //define expected models for this component\n    this.model_expects = this.model_expects || [];\n    this.model_binds   = this.model_binds || {};\n    this.createModel(config.model);\n\n    this.ui = this.model.ui || this.ui || config.ui;\n    this._super();\n\n    this.registerListeners();\n  },\n\n  createModel(configModel) {\n    this.model = this._modelMapping(configModel);\n  },\n\n  registerListeners() {\n    this.on({\n      \"readyOnce\": this.readyOnce,\n      \"ready\": this.ready,\n      \"domReady\": this.domReady,\n      \"resize\": this.resize\n    });\n  },\n\n  /**\n   * Recursively starts preloading in components\n   * @return {[type]} [description]\n   */\n  startPreload() {\n\n    const promises = [];\n    promises.push(this.preload());\n\n    utils.forEach(this.components,\n      subComponent => promises.push(subComponent.startPreload())\n    );\n\n    return Promise.all(promises);\n  },\n\n  preload() {\n    return Promise.resolve();\n  },\n\n  /**\n   * Executes after preloading is finished\n   */\n  afterPreload() {\n    if (this.model) {\n      this.model.afterPreload();\n    }\n    utils.forEach(this.components, subcomp => {\n      subcomp.afterPreload();\n    });\n  },\n\n  /**\n   * Renders the component (after data is ready)\n   */\n  render() {\n    this.prerender();\n    this.postrender();\n  },\n\n  prerender() {\n    this.loadTemplate();\n    this.loadSubComponents();\n  },\n\n  postrender() {\n    const _this = this;\n\n    //render each subcomponent\n    utils.forEach(this.components, subcomp => {\n      subcomp.render();\n      _this.on(\"resize\", () => {\n        subcomp.trigger(\"resize\");\n      });\n    });\n\n    this.startLoading();\n  },\n\n  /**\n   * Overloaded by Tool which starts loading of model\n   * @return {[type]} [description]\n   */\n  startLoading() {\n    const _this = this;\n\n    // if a componente's model is ready, the component is ready\n    this.model.on(\"ready\", () => {\n      _this.loadingDone();\n    });\n\n    if (!(this.model && this.model.isLoading())) {\n      this.loadingDone();\n    }\n\n\n  },\n\n  loadingDone() {\n    utils.removeClass(this.placeholder, class_loading_first);\n    utils.removeClass(this.placeholder, class_loading_data);\n    this.setReady();\n  },\n\n  renderError() {\n    utils.removeClass(this.placeholder, class_loading_first);\n    utils.removeClass(this.placeholder, class_loading_data);\n    utils.addClass(this.placeholder, class_error);\n    this.setError({\n      type: \"data\"\n    });\n  },\n\n  setError(opts) {\n    if (typeof this.error === \"function\") {\n      this.error(opts);\n    }\n  },\n\n  setReady(value) {\n    if (!this._readyOnce) {\n      this.trigger(\"readyOnce\");\n      this._readyOnce = true;\n    }\n    this._ready = true;\n    this.trigger(\"ready\");\n  },\n\n  /**\n   * Loads the template\n   * @returns defer a promise to be resolved when template is loaded\n   */\n  loadTemplate() {\n    const tmpl = this.template;\n    let data = this.template_data;\n    const _this = this;\n    let rendered = \"\";\n    if (!this.placeholder) {\n      return;\n    }\n    //todo: improve t function getter + generalize this\n    data = utils.extend(data, {\n      t: this.getTranslationFunction(true)\n    });\n    if (this.template) {\n      try {\n        rendered = templateFunc(tmpl, data);\n      } catch (e) {\n        utils.error(\"Templating error for component: '\" + this.name +\n          \"' - Check if template name is unique and correct. E.g.: 'bubblechart'\");\n\n        utils.removeClass(this.placeholder, class_loading_data);\n        utils.addClass(this.placeholder, class_error);\n        this.setError({\n          type: \"template\"\n        });\n      }\n    }\n    //add loading class and html\n    utils.addClass(this.placeholder, class_loading_data);\n    utils.addClass(this.placeholder, class_loading_first);\n    this.placeholder.innerHTML = rendered;\n    this.element = this.placeholder.children[0];\n\n    //template is ready\n    this.trigger(\"domReady\");\n  },\n\n  getActiveProfile(profiles, presentationProfileChanges) {\n    // get layout values\n    const layoutProfile = this.getLayoutProfile();\n    const presentationMode = this.getPresentationMode();\n    const activeProfile = utils.deepClone(profiles[layoutProfile]); // clone so it can be extended without changing the original profile\n\n    // extend the profile with presentation mode values\n    if (presentationMode && (presentationProfileChanges || {})[layoutProfile]) {\n      utils.deepExtend(activeProfile, presentationProfileChanges[layoutProfile]);\n    }\n\n    return activeProfile;\n  },\n\n  /*\n   * Loads all subcomponents\n   */\n  loadSubComponents() {\n    const _this = this;\n    let config;\n    let comp;\n    //use the same name for collection\n    this.components = [];\n\n    // Loops through components, loading them.\n    utils.forEach(this._components_config, component_config => {\n\n      component_config.model = component_config.model || {};\n\n      if (!component_config.component) {\n        utils.error(\"Error loading component: name not provided\");\n        return;\n      }\n\n      comp = (utils.isString(component_config.component)) ? Component.get(component_config.component) : component_config.component;\n\n      if (!comp) return;\n\n      config = utils.extend(component_config, {\n        name: component_config.component,\n        ui: _this._uiMapping(component_config.placeholder, component_config.ui)\n      });\n      //instantiate new subcomponent\n      const subcomp = new comp(config, _this);\n      _this.components.push(subcomp);\n    });\n  },\n\n  /**\n   * Returns subcomponent by name\n   * @returns {Boolean}\n   */\n  findChildByName(name) {\n    return utils.find(this.components, f => f.name === name);\n  },\n\n  /**\n   * Get layout profile of the current resolution\n   * @returns {String} profile\n   */\n  getLayoutProfile() {\n    // get profile from parent if layout is not available\n    return this.model.ui ?\n      this.model.ui.currentProfile() :\n      this.parent.getLayoutProfile();\n  },\n\n  /**\n   * Get if presentation mode is set of the current tool\n   * @returns {Bool} presentation mode\n   */\n  getPresentationMode() {\n    // get profile from parent if layout is not available\n    return this.model.ui ?\n      this.model.ui.getPresentationMode() :\n      this.parent.getPresentationMode();\n  },\n\n  //TODO: make ui mapping more powerful\n  /**\n   * Maps the current ui to the subcomponents\n   * @param {String} id subcomponent id (placeholder)\n   * @param {Object} ui Optional ui parameters to overwrite existing\n   * @returns {Object} the UI object\n   */\n  _uiMapping(id, ui) {\n    //if overwritting UI\n    if (ui) {\n      return new Model(\"ui\", ui);\n    }\n    if (id && this.ui) {\n      id = id.replace(\".\", \"\");\n      //remove trailing period\n      const sub_ui = this.ui[id];\n      if (sub_ui) {\n        return sub_ui;\n      }\n    }\n    return this.ui;\n  },\n\n  /**\n   * Maps the current model to the subcomponents\n   * @param {String|Array} model_config Configuration of model\n   * @returns {Object} the model\n   */\n  _modelMapping(model_config) {\n    const _this = this;\n    const values = {};\n    //If model_config is an array, we map it\n    if (utils.isArray(model_config) && utils.isArray(this.model_expects)) {\n\n      //if there's a different number of models received and expected\n      if (this.model_expects.length !== model_config.length) {\n        utils.groupCollapsed(\"DIFFERENCE IN NUMBER OF MODELS EXPECTED AND RECEIVED\");\n        utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" +\n          \"Component: '\" + _this.parent.name + \"'\\n\" +\n          \"Subcomponent: '\" + this.name + \"'\\n\" +\n          \"Number of Models Expected: \" + this.model_expects.length + \"\\nNumber of Models Received: \" + model_config.length);\n        utils.groupEnd();\n      }\n      utils.forEach(model_config, (m, i) => {\n        if (!m) return;\n        const model_info = _mapOne(m);\n\n        let new_name;\n        if (_this.model_expects[i]) {\n          new_name = _this.model_expects[i].name;\n          if (_this.model_expects[i].type && model_info.type !== _this.model_expects[i].type &&\n            (!utils.isArray(_this.model_expects[i].type) || _this.model_expects[i].type.indexOf(model_info.type) === -1)) {\n\n            utils.groupCollapsed(\"UNEXPECTED MODEL TYPE: '\" + model_info.type + \"' instead of '\" + _this.model_expects[i].type + \"'\");\n            utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + _this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" +\n              \"Component: '\" + _this.parent.name + \"'\\n\" +\n              \"Subcomponent: '\" + _this.name + \"'\\n\" +\n              \"Expected Model: '\" + _this.model_expects[i].type + \"'\\n\" +\n              \"Received Model: '\" + model_info.type + \"'\\n\" +\n              \"Model order: \" + i);\n            utils.groupEnd();\n          }\n        } else {\n\n          utils.groupCollapsed(\"UNEXPECTED MODEL: '\" + model_config[i] + \"'\");\n          utils.warn(\"Please, configure the 'model_expects' attribute accordingly in '\" + _this.name + \"' or check the models passed in '\" + _this.parent.name + \"'.\\n\\n\" +\n            \"Component: '\" + _this.parent.name + \"'\\n\" +\n            \"Subcomponent: '\" + _this.name + \"'\\n\" +\n            \"Number of Models Expected: \" + _this.model_expects.length + \"\\n\" +\n            \"Number of Models Received: \" + model_config.length);\n          utils.groupEnd();\n          new_name = model_info.name;\n        }\n        values[new_name] = model_info.model;\n      });\n\n      // fill the models that weren't passed with empty objects\n      // e.g. if expected = [ui, locale, color] and passed/existing = [ui, locale]\n      // it will fill values up to [ui, locale, {}]\n      const existing = model_config.length;\n      const expected = this.model_expects.length;\n      if (expected > existing) {\n        //skip existing\n        this.model_expects.splice(0, existing);\n        //adds new expected models if needed\n        utils.forEach(expected, m => {\n          values[m.name] = {};\n        });\n      }\n    } else {\n      return;\n    }\n    //return a new model with the defined submodels\n    return new Model(this.name, values, null, this.model_binds);\n    /**\n     * Maps one model name to current submodel and returns info\n     * @param {String} name Full model path. E.g.: \"state.marker.color\"\n     * @returns {Object} the model info, with name and the actual model\n     */\n    function _mapOne(name) {\n      const parts = name.split(\".\");\n      let current = _this.parent.model;\n      let current_name = \"\";\n      while (parts.length) {\n        current_name = parts.shift();\n        current = current[current_name];\n      }\n      return {\n        name,\n        model: current,\n        type: current ? current.getType() : null\n      };\n    }\n  },\n\n  /**\n   * Get translation function for templates\n   * @param {Boolean} wrap wrap in spam tags\n   * @returns {Function}\n   */\n  getTranslationFunction(wrap) {\n    let t_func;\n    try {\n      t_func = this.model.get(\"locale\").getTFunction();\n    } catch (err) {\n      if (this.parent && this.parent !== this) {\n        t_func = this.parent.getTranslationFunction();\n      }\n    }\n    if (!t_func) {\n      t_func = function(s) {\n        return s;\n      };\n    }\n\n    return wrap ?\n      this._translatedStringFunction(t_func) :\n      t_func;\n  },\n\n  /**\n   * Get function for translated string\n   * @param {Function} translation_function The translation function\n   * @returns {Function}\n   */\n  _translatedStringFunction(translation_function) {\n    return function(string) {\n      const translated = translation_function(string);\n      return '<span data-vzb-translate=\"' + string + '\">' + translated + \"</span>\";\n    };\n  },\n\n  /**\n   * Translate all strings in the template\n   */\n  translateStrings() {\n    const t = this.getTranslationFunction();\n    const strings = this.placeholder.querySelectorAll(\"[data-vzb-translate]\");\n    if (strings.length === 0) {\n      return;\n    }\n    utils.forEach(strings, str => {\n      if (!str || !str.getAttribute) {\n        return;\n      }\n      str.innerHTML = t(str.getAttribute(\"data-vzb-translate\"));\n    });\n  },\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available\n   * as DOM elements\n   */\n  readyOnce() {},\n\n  /**\n   * Executes after the template and model (if any) are ready\n   */\n  ready() {},\n\n  /**\n   * Executes when the resize event is triggered.\n   * Ideally, it only contains operations related to size\n   */\n  resize() {},\n\n  /**\n   * Executed after template is loaded\n   * Ideally, it contains instantiations related to template\n   */\n  domReady() {},\n\n  /**\n   * Clears a component\n   */\n  clear() {\n    this.freeze();\n    if (this.model) this.model.freeze();\n    utils.forEach(this.components, c => {\n      c.clear();\n    });\n  }\n});\n\n\n// Based on Simple JavaScript Templating by John Resig\n//generic templating function\nfunction templateFunc(str, data) {\n\n  const func = function(obj) {\n    return str.replace(/<%=([^%]*)%>/g, match => {\n      //match t(\"...\")\n      let s = match.match(/t\\s*\\(([^)]+)\\)/g);\n      //replace with translation\n      if (s.length) {\n        s = obj.t(s[0].match(/\"([^\"]+)\"/g)[0].split('\"').join(\"\"));\n      }\n      //use object[name]\n      else {\n        s = match.match(/([a-z\\-A-Z]+([a-z\\-A-Z0-9]?[a-zA-Z0-9]?)?)/g)[0];\n        s = obj[s] || s;\n      }\n      return s;\n    });\n  };\n  // Figure out if we're getting a template, or if we need to\n  // load the template - and be sure to cache the result.\n  const fn = !/<[a-z][\\s\\S]*>/i.test(str) ? templates[str] = templates[str] || templateFunc(globals.templates[str]) : func;\n\n  // Provide some basic currying to the user\n  return data ? fn(data) : fn;\n}\n\n//utility function to check if a component is a component\n//TODO: Move to utils?\nComponent.isComponent = function(c) {\n  return c._id && (c._id[0] === \"t\" || c._id[0] === \"c\");\n};\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/component.js","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_global.js\n// module id = 4\n// module chunks = 0","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_fails.js\n// module id = 5\n// module chunks = 0","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_is-object.js\n// module id = 6\n// module chunks = 0","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_wks.js\n// module id = 7\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_descriptors.js\n// module id = 8\n// module chunks = 0","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-dp.js\n// module id = 9\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport { drag as iconDrag, pin as iconPin } from \"base/iconset\";\nimport requireAll from \"helpers/requireAll\";\nconst dialogTemplates = requireAll(require.context(\"components/dialogs/\", true, /\\.html$/));\n\n/*!\n * VIZABI DIALOG\n * Reusable Dialog component\n */\n\nconst Dialog = Component.extend({\n\n  isDialog: true,\n\n  /**\n   * Initializes the dialog\n   * @param {Object} config Initial config, with name and placeholder\n   * @param {Object} parent Reference to tool\n   */\n  init(config, parent) {\n    this.name = this.name || \"\";\n\n    this.model_expects = this.model_expects || [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.template = dialogTemplates[this.name];\n\n    this._super(config, parent);\n  },\n\n  /**\n   * Executed when the dialog has been rendered\n   */\n  readyOnce() {\n    this.element = d3.select(this.element);\n    this.titleEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-title\");\n    this.buttonsEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-buttons\");\n    this.contentEl = this.element.selectAll(\".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-content\");\n  },\n\n  ready() {\n    const _this = this;\n    this.placeholderEl = d3.select(this.placeholder);\n    this.rootEl = this.root.element instanceof Array ? this.root.element : d3.select(this.root.element);\n    this.dragHandler = this.placeholderEl.select(\"[data-click='dragDialog']\");\n    this.dragHandler.html(iconDrag);\n    this.pinIcon = this.placeholderEl.select(\"[data-click='pinDialog']\");\n    this.pinIcon.html(iconPin);\n    this.topPos = \"\";\n    const profile = this.getLayoutProfile();\n\n    const dg = dialogDrag(this.placeholderEl, this.rootEl, 10);\n    const dragBehavior = d3.drag()\n      .on(\"start\", () => {\n        const topPos = _this.placeholderEl.node().offsetTop;\n        _this.placeholderEl.style(\"top\", topPos + \"px\");\n        _this.placeholderEl.style(\"bottom\", \"auto\");\n        _this.trigger(\"dragstart\");\n        dg.dragStart(d3.event);\n      })\n      .on(\"drag\", () => {\n        _this.trigger(\"drag\");\n        dg.drag(d3.event);\n      })\n      .on(\"end\", () => {\n        _this.rightPos = _this.placeholderEl.style(\"right\");\n        _this.topPos = _this.placeholderEl.style(\"top\");\n        _this.trigger(\"dragend\");\n      });\n    this.dragHandler.call(dragBehavior);\n\n    this.dragHandler.classed(\"vzb-hidden\", profile === \"small\");\n    this.pinIcon.classed(\"vzb-hidden\", profile === \"small\");\n    this.resize();\n  },\n\n  resize() {\n    if (this.placeholderEl && this.rootEl && this.placeholderEl.classed(\"vzb-top-dialog\")) {\n      this.placeholderEl.classed(\"notransition\", true);\n\n      const profile = this.getLayoutProfile();\n\n      if (profile !== \"small\") {\n        const chartWidth = parseInt(this.rootEl.style(\"width\"), 10) || 0;\n        const chartHeight = parseInt(this.rootEl.style(\"height\"), 10) || 0;\n        const dialogWidth = parseInt(this.placeholderEl.style(\"width\"), 10) || 0;\n        const dialogHeight = parseInt(this.placeholderEl.style(\"height\"), 10) || 0;\n\n        const dialogRight = parseInt(this.rightPos, 10);\n        const dialogTop = parseInt(this.topPos, 10);\n        const dialogRightMargin = parseInt(this.placeholderEl.style(\"margin-right\"), 10) || 0;\n        if (utils.isNumber(dialogRight) && dialogRight > chartWidth - dialogWidth - dialogRightMargin) {\n          if (this.rightPos) {\n            this.rightPos = (chartWidth - dialogWidth - dialogRightMargin) + \"px\";\n            if (this.isOpen) this.placeholderEl.style(\"right\", this.rightPos);\n          }\n        }\n        if (utils.isNumber(dialogTop) && utils.isNumber(dialogHeight) && dialogTop >= 0 && dialogTop > chartHeight - dialogHeight) {\n          if (this.topPos) {\n            this.topPos = ((chartHeight - dialogHeight) > 0 ? (chartHeight - dialogHeight) : 0)  + \"px\";\n            if (this.isOpen) this.placeholderEl.style(\"top\", this.topPos);\n          }\n        }\n\n        if (this.topPos && (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\"))) {\n          this.placeholderEl.style(\"bottom\", \"auto\");\n        }\n\n        if (this.rootEl.classed(\"vzb-landscape\")) {\n          // var contentHeight = parseInt(this.rootEl.style('height'));\n          // var placeholderHeight = parseInt(this.placeholderEl.style('height'));\n          // if (contentHeight < placeholderHeight) {\n          //   this.topPos = (-contentHeight + 50) + 'px';\n          //   this.rightPos = '';\n          //   this.placeholderEl.style('right', this.rightPos);\n          //   this.placeholderEl.style('bottom', 'auto');\n          // } else {\n          //   //this.topPos = '';\n          //   this.placeholderEl.style('bottom', '');\n          // }\n        }\n        //this.placeholderEl.style('top', this.topPos);\n        this.element.style(\"max-height\", \"\");\n      } else {\n        this.rightPos = \"\";\n        this.topPos = \"\";\n        this.placeholderEl.attr(\"style\", \"\");\n        // var totalHeight = this.root.element.offsetHeight;\n        // if(this.rootEl.classed('vzb-portrait')) totalHeight = totalHeight - 50;\n        // this.element.style('max-height', (totalHeight - 10) + 'px');\n      }\n\n      this.dragHandler.classed(\"vzb-hidden\", profile === \"small\");\n      this.pinIcon.classed(\"vzb-hidden\", profile === \"small\");\n\n      this._setMaxHeight();\n    }\n  },\n\n  _setMaxHeight() {\n    let totalHeight = this.root.element.offsetHeight;\n    if (this.getLayoutProfile() !== \"small\") {\n      if (!this.topPos && (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\"))) {\n        const dialogBottom = parseInt(this.placeholderEl.style(\"bottom\"), 10);\n        totalHeight -= dialogBottom;\n      } else {\n        const topPos = this.topPos ? parseInt(this.topPos, 10) : this.placeholderEl.node().offsetTop;\n        totalHeight -= topPos;\n      }\n    } else {\n      totalHeight = this.rootEl.classed(\"vzb-portrait\") ? totalHeight - 50 : totalHeight - 10;\n    }\n\n    this.element.style(\"max-height\", totalHeight + \"px\");\n\n    //set 'max-height' to content for IE11\n    const contentHeight = totalHeight - this.titleEl.node().offsetHeight - this.buttonsEl.node().offsetHeight;\n    this.contentEl.style(\"max-height\", contentHeight + \"px\");\n  },\n\n  beforeOpen() {\n    const _this = this;\n\n    this.transitionEvents = [\"webkitTransitionEnd\", \"transitionend\", \"msTransitionEnd\", \"oTransitionEnd\"];\n    this.transitionEvents.forEach(event => {\n      _this.placeholderEl.on(event, _this.transitionEnd.bind(_this, event));\n    });\n\n    this.placeholderEl.classed(\"notransition\", true);\n\n    this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n    this.placeholderEl.style(\"bottom\", \"\"); // issues: 369 & 442\n\n    if (this.topPos && this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      const topPos = this.placeholderEl.node().offsetTop;\n      this.placeholderEl.style(\"top\", topPos + \"px\"); // issues: 369 & 442\n      this.placeholderEl.style(\"bottom\", \"auto\"); // issues: 369 & 442\n    } else if (this.getLayoutProfile() !== \"small\") {\n      //if(this.rightPos) this.placeholderEl.style('right', this.rightPos);\n    }\n\n    this.placeholderEl.node().offsetTop;\n    this.placeholderEl.classed(\"notransition\", false);\n\n    if (this.getLayoutProfile() === \"small\") {\n      this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n    } else if (this.rootEl.classed(\"vzb-landscape\")) { // need to recalculate popup position (Safari 8 bug)\n      // var contentHeight = parseInt(this.rootEl.style('height'));\n      // var placeholderHeight = parseInt(this.placeholderEl.style('height'));\n      // if (contentHeight < placeholderHeight) {\n      //   this.topPos = (-contentHeight + 50) + 'px';\n      //   this.rightPos = '';\n      //   this.placeholderEl.style('right', this.rightPos);\n      //   this.placeholderEl.style('bottom', 'auto');\n      // } else {\n      //   this.topPos = '';\n      //   this.placeholderEl.style('bottom', '');\n      // }\n      //this.placeholderEl.style('top', this.topPos);\n    }\n\n  },\n\n  /**\n   * User has clicked to open this dialog\n   */\n  open() {\n    this.isOpen = true;\n    if (this.getLayoutProfile() !== \"small\") {\n      if (this.topPos) {\n        this.placeholderEl.style(\"top\", this.topPos);\n        this.placeholderEl.style(\"right\", this.rightPos);\n      }\n    }\n  },\n\n  beforeClose() {\n    //issues: 369 & 442\n    if (this.rootEl.classed(\"vzb-portrait\") && this.getLayoutProfile() === \"small\") {\n      this.placeholderEl.style(\"top\", \"auto\"); // issues: 369 & 442\n    }\n    if (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      this.topPos0 = this.topPos ? (this.placeholderEl.node().parentNode.offsetHeight - this.placeholderEl.node().offsetHeight) + \"px\" : \"\";\n    }\n    this.placeholderEl.classed(\"notransition\", false);\n    this.placeholderEl.node().offsetHeight; // trigger a reflow (flushing the css changes)\n  },\n\n  /**\n   * User has closed this dialog\n   */\n  close() {\n    //issues: 369 & 442\n    if (!(this.rootEl.classed(\"vzb-portrait\") && this.getLayoutProfile() === \"small\")) {\n      this.placeholderEl.style(\"top\", \"\"); // issues: 369 & 442\n      this.placeholderEl.style(\"right\", \"\"); // issues: 369 & 442\n    }\n\n    if (this.getLayoutProfile() === \"large\" && this.rootEl.classed(\"vzb-dialog-expand-true\")) {\n      this.placeholderEl.style(\"top\", this.topPos0);\n      this.placeholderEl.style(\"right\", \"\");\n    }\n    this.isOpen = false;\n    this.trigger(\"close\");\n  },\n\n\n  transitionEnd(eventName) {\n    const _this = this;\n\n    this.transitionEvents.forEach(event => {\n      _this.placeholderEl.on(event, null);\n    });\n    if (this.isOpen) {\n      this.placeholderEl.classed(\"notransition\", true);\n    }\n  }\n\n});\n\nfunction dialogDrag(element, container, xOffset) {\n  let posX, posY, divTop, divRight, marginRight, marginLeft, xOffsetRight, xOffsetLeft, eWi, eHe, cWi, cHe, diffX, diffY;\n\n  return {\n    move(x, y) {\n      element.style(\"right\", x + \"px\");\n      element.style(\"top\", y + \"px\");\n    },\n\n    dragStart(evt) {\n      if (!utils.isTouchDevice()) {\n        posX = evt.sourceEvent.clientX;\n        posY = evt.sourceEvent.clientY;\n      } else {\n        const touchCoord = d3.touches(container.node());\n        posX = touchCoord[0][0];\n        posY = touchCoord[0][1];\n      }\n      divTop = parseInt(element.style(\"top\")) || 0;\n      divRight = parseInt(element.style(\"right\")) || 0;\n      marginLeft = parseInt(element.style(\"margin-left\")) || 0;\n      marginRight = parseInt(element.style(\"margin-right\")) || 0;\n      xOffsetLeft = Math.min(xOffset, marginLeft);\n      xOffsetRight = Math.min(xOffset, marginRight);\n      eWi = (parseInt(element.style(\"width\"), 10) + marginLeft - xOffsetLeft) || 0;\n      eHe = parseInt(element.style(\"height\"), 10) || 0;\n      cWi = (parseInt(container.style(\"width\"), 10) - marginRight) || 0;\n      cHe = parseInt(container.style(\"height\"), 10) || 0;\n      diffX = posX + divRight;\n      diffY = posY - divTop;\n    },\n\n    drag(evt) {\n      if (!utils.isTouchDevice()) {\n        posX = evt.sourceEvent.clientX;\n        posY = evt.sourceEvent.clientY;\n      } else {\n        const touchCoord = d3.touches(container.node());\n        posX = touchCoord[0][0];\n        posY = touchCoord[0][1];\n      }\n      let aX = -posX + diffX,\n        aY = posY - diffY;\n      if (aX < -xOffsetRight) aX = -xOffsetRight;\n      if (aY < 0) aY = 0;\n      if (aX + eWi > cWi) aX = cWi - eWi;\n      if (aY + eHe > cHe) aY = cHe - eHe;\n\n      this.move(aX, aY);\n    }\n  };\n}\n\nexport default Dialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/_dialog.js","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-length.js\n// module id = 11\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-object.js\n// module id = 12\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_has.js\n// module id = 13\n// module chunks = 0","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_hide.js\n// module id = 14\n// module chunks = 0","var global    = require('./_global')\n  , hide      = require('./_hide')\n  , has       = require('./_has')\n  , SRC       = require('./_uid')('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  var isFunction = typeof val == 'function';\n  if(isFunction)has(val, 'name') || hide(val, 'name', key);\n  if(O[key] === val)return;\n  if(isFunction)has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe){\n      delete O[key];\n      hide(O, key, val);\n    } else {\n      if(O[key])O[key] = val;\n      else hide(O, key, val);\n    }\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_redefine.js\n// module id = 15\n// module chunks = 0","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_a-function.js\n// module id = 16\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-iobject.js\n// module id = 17\n// module chunks = 0","var $export = require('./_export')\n  , fails   = require('./_fails')\n  , defined = require('./_defined')\n  , quot    = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function(string, tag, attribute, value) {\n  var S  = String(defined(string))\n    , p1 = '<' + tag;\n  if(attribute !== '')p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function(NAME, exec){\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function(){\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-html.js\n// module id = 18\n// module chunks = 0","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-gopd.js\n// module id = 19\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-gpo.js\n// module id = 20\n// module chunks = 0","// source https://github.com/encharm/Font-Awesome-SVG-PNG/tree/master/black/svg\n\nexport const paintbrush =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1615 0q70 0 122.5 46.5t52.5 116.5q0 63-45 151-332 629-465 752-97 91-218 91-126 0-216.5-92.5t-90.5-219.5q0-128 92-212l638-579q59-54 130-54zm-909 1034q39 76 106.5 130t150.5 76l1 71q4 213-129.5 347t-348.5 134q-123 0-218-46.5t-152.5-127.5-86.5-183-29-220q7 5 41 30t62 44.5 59 36.5 46 17q41 0 55-37 25-66 57.5-112.5t69.5-76 88-47.5 103-25.5 125-10.5z\"/></svg>';\nexport const search =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nexport const circle =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1664 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\"/></svg>';\nexport const expand =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M883 1056q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23zm781-864v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45z\"/></svg>';\nexport const asterisk =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1546 1050q46 26 59.5 77.5t-12.5 97.5l-64 110q-26 46-77.5 59.5t-97.5-12.5l-266-153v307q0 52-38 90t-90 38h-128q-52 0-90-38t-38-90v-307l-266 153q-46 26-97.5 12.5t-77.5-59.5l-64-110q-26-46-12.5-97.5t59.5-77.5l266-154-266-154q-46-26-59.5-77.5t12.5-97.5l64-110q26-46 77.5-59.5t97.5 12.5l266 153v-307q0-52 38-90t90-38h128q52 0 90 38t38 90v307l266-153q46-26 97.5-12.5t77.5 59.5l64 110q26 46 12.5 97.5t-59.5 77.5l-266 154z\"/></svg>';\nexport const trails =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M 1381.375 17.1875 C 1375.7825 17.176804 1370.1216 17.316078 1364.4375 17.5625 C 1273.4913 21.505489 1197.0982 57.199956 1135.2188 124.6875 C 1076.5961 188.62338 1047.6964 263.96059 1048.5312 350.65625 L 835.71875 433 C 797.77288 391.67699 749.96961 361.96416 692.3125 343.84375 C 604.96227 316.39162 520.95691 323.70366 440.25 365.8125 C 359.5432 407.92133 305.45225 472.64985 278 560 C 250.54783 647.35004 257.89117 731.38694 300 812.09375 C 342.10886 892.80075 406.83755 946.89147 494.1875 974.34375 C 576.9404 1000.3512 657.38873 994.58645 735.5625 957.09375 L 959.28125 1171.4375 L 972.375 1184.4062 C 966.2931 1198.3454 961.94845 1209.2226 959.34375 1217.0625 C 956.73915 1224.9024 953.7186 1236.224 950.25 1251.0312 L 711.03125 1285.1875 C 669.59175 1209.0324 607.72526 1157.2863 525.40625 1129.9375 C 438.51381 1101.0693 354.34933 1107.021 272.96875 1147.8125 C 191.58796 1188.6039 136.49335 1252.4513 107.625 1339.3438 C 78.756758 1426.2362 84.708528 1510.3694 125.5 1591.75 C 166.29138 1673.1307 230.1387 1728.2567 317.03125 1757.125 C 403.92369 1785.9933 488.05682 1780.0415 569.4375 1739.25 C 650.81799 1698.4587 705.94425 1634.6111 734.8125 1547.7188 C 737.41718 1539.8788 740.43763 1528.5573 743.90625 1513.75 L 983.125 1479.5938 C 1024.5644 1555.7487 1086.4309 1607.4948 1168.75 1634.8438 C 1255.6425 1663.7119 1339.8069 1657.7603 1421.1875 1616.9688 C 1502.5682 1576.1772 1557.6631 1512.3299 1586.5312 1425.4375 C 1615.3996 1338.5451 1609.4477 1254.4119 1568.6562 1173.0312 C 1527.8647 1091.6506 1464.0174 1036.5244 1377.125 1007.6562 C 1294.9259 980.34721 1214.5066 984.74084 1135.8438 1020.8125 L 1120.2812 1005.9062 L 898.0625 785.96875 C 902.79653 774.40321 906.33847 765.03422 908.5 758.15625 C 920.42249 720.22 925.7916 682.90194 924.59375 646.21875 L 1130.9688 566.34375 C 1141.2015 577.59424 1149.3796 586.0106 1155.4688 591.59375 C 1222.9566 653.47326 1302.1474 682.44278 1393.0938 678.5 C 1484.04 674.55731 1560.4642 638.83151 1622.3438 571.34375 C 1684.2232 503.85591 1713.1929 424.6337 1709.25 333.6875 C 1705.3072 242.74139 1669.5816 166.34819 1602.0938 104.46875 C 1538.8238 46.456824 1465.2625 17.347946 1381.375 17.1875 z \"/></svg>';\nexport const lock =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z\"/></svg>';\nexport const unlock =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z\"/></svg>';\nexport const unexpand =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z\"/></svg>';\nexport const axes =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><path d=\"M430.25,379.655l-75.982-43.869v59.771H120.73V151.966h59.774l-43.869-75.983L92.767,0L48.898,75.983L5.029,151.966h59.775 v271.557c0,15.443,12.52,27.965,27.963,27.965h261.5v59.773l75.982-43.869l75.982-43.867L430.25,379.655z\"/></svg>';\nexport const gear =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/></svg>';\nexport const stack =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 54.849 54.849\"><g><path d=\"M54.497,39.614l-10.363-4.49l-14.917,5.968c-0.537,0.214-1.165,0.319-1.793,0.319c-0.627,0-1.254-0.104-1.79-0.318     l-14.921-5.968L0.351,39.614c-0.472,0.203-0.467,0.524,0.01,0.716L26.56,50.81c0.477,0.191,1.251,0.191,1.729,0L54.488,40.33     C54.964,40.139,54.969,39.817,54.497,39.614z\"/><path d=\"M54.497,27.512l-10.364-4.491l-14.916,5.966c-0.536,0.215-1.165,0.321-1.792,0.321c-0.628,0-1.256-0.106-1.793-0.321     l-14.918-5.966L0.351,27.512c-0.472,0.203-0.467,0.523,0.01,0.716L26.56,38.706c0.477,0.19,1.251,0.19,1.729,0l26.199-10.479     C54.964,28.036,54.969,27.716,54.497,27.512z\"/><path d=\"M0.361,16.125l13.662,5.465l12.537,5.015c0.477,0.191,1.251,0.191,1.729,0l12.541-5.016l13.658-5.463     c0.477-0.191,0.48-0.511,0.01-0.716L28.277,4.048c-0.471-0.204-1.236-0.204-1.708,0L0.351,15.41     C-0.121,15.614-0.116,15.935,0.361,16.125z\"/></g></svg>';\nexport const drag =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M896 384q-53 0-90.5 37.5t-37.5 90.5v128h-32v-93q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v429l-32-30v-172q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v224q0 47 35 82l310 296q39 39 39 102 0 26 19 45t45 19h640q26 0 45-19t19-45v-25q0-41 10-77l108-436q10-36 10-77v-246q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v32h-32v-125q0-40-25-72.5t-64-40.5q-14-2-23-2-46 0-79 33t-33 79v128h-32v-122q0-51-32.5-89.5t-82.5-43.5q-5-1-13-1zm0-128q84 0 149 50 57-34 123-34 59 0 111 27t86 76q27-7 59-7 100 0 170 71.5t70 171.5v246q0 51-13 108l-109 436q-6 24-6 71 0 80-56 136t-136 56h-640q-84 0-138-58.5t-54-142.5l-308-296q-76-73-76-175v-224q0-99 70.5-169.5t169.5-70.5q11 0 16 1 6-95 75.5-160t164.5-65q52 0 98 21 72-69 174-69z\"/></svg>';\nexport const warn =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512.209 512.209\"><path d=\"M507.345,439.683L288.084,37.688c-3.237-5.899-7.71-10.564-13.429-13.988c-5.705-3.427-11.893-5.142-18.554-5.142   s-12.85,1.718-18.558,5.142c-5.708,3.424-10.184,8.089-13.418,13.988L4.859,439.683c-6.663,11.998-6.473,23.989,0.57,35.98   c3.239,5.517,7.664,9.897,13.278,13.128c5.618,3.237,11.66,4.859,18.132,4.859h438.529c6.479,0,12.519-1.622,18.134-4.859   c5.62-3.23,10.038-7.611,13.278-13.128C513.823,463.665,514.015,451.681,507.345,439.683z M292.655,411.132   c0,2.662-0.91,4.897-2.71,6.704c-1.807,1.811-3.949,2.71-6.427,2.71h-54.816c-2.474,0-4.616-0.899-6.423-2.71   c-1.809-1.807-2.713-4.042-2.713-6.704v-54.248c0-2.662,0.905-4.897,2.713-6.704c1.807-1.811,3.946-2.71,6.423-2.71h54.812   c2.479,0,4.62,0.899,6.428,2.71c1.803,1.807,2.71,4.042,2.71,6.704v54.248H292.655z M292.088,304.357   c-0.198,1.902-1.198,3.47-3.001,4.709c-1.811,1.238-4.046,1.854-6.711,1.854h-52.82c-2.663,0-4.947-0.62-6.849-1.854   c-1.908-1.243-2.858-2.807-2.858-4.716l-4.853-130.47c0-2.667,0.953-4.665,2.856-5.996c2.474-2.093,4.758-3.14,6.854-3.14h62.809   c2.098,0,4.38,1.043,6.854,3.14c1.902,1.331,2.851,3.14,2.851,5.424L292.088,304.357z\"/></svg>';\nexport const pin =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M800 864v-448q0-14-9-23t-23-9-23 9-9 23v448q0 14 9 23t23 9 23-9 9-23zm672 352q0 26-19 45t-45 19h-429l-51 483q-2 12-10.5 20.5t-20.5 8.5h-1q-27 0-32-27l-76-485h-404q-26 0-45-19t-19-45q0-123 78.5-221.5t177.5-98.5v-512q-52 0-90-38t-38-90 38-90 90-38h640q52 0 90 38t38 90-38 90-90 38v512q99 0 177.5 98.5t78.5 221.5z\"/></svg>';\nexport const question =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"17 17 483 483\"> <circle stroke-width=\"40\" cx=\"258.57\" cy=\"258.57\" r=\"220\"/> <path d=\"M299.756,413.021v-61.78c0-3.003-0.966-5.472-2.896-7.401s-4.398-2.896-7.401-2.896h-61.78 c-3.003,0-5.47,0.965-7.4,2.896c-1.932,1.931-2.896,4.398-2.896,7.401v61.78c0,3.002,0.965,5.47,2.896,7.399 c1.931,1.931,4.396,2.896,7.4,2.896h61.779c3.003,0,5.472-0.967,7.401-2.896S299.756,416.021,299.756,413.021z\"/> <path d=\"M382.128,196.789c0-18.877-5.952-36.36-17.856-52.449c-11.905-16.088-26.762-28.53-44.566-37.325 c-17.804-8.795-36.037-13.192-54.7-13.192c-52.127,0-91.919,22.845-119.377,68.537c-3.218,5.148-2.359,9.653,2.574,13.514 l42.474,32.177c1.502,1.287,3.54,1.931,6.114,1.931c3.433,0,6.115-1.287,8.044-3.861c11.369-14.587,20.594-24.454,27.672-29.603 c7.294-5.148,16.519-7.723,27.673-7.723c10.297,0,19.468,2.789,27.513,8.366c8.044,5.578,12.065,11.906,12.065,18.985 c0,8.151-2.146,14.694-6.437,19.628c-4.29,4.934-11.583,9.76-21.881,14.479c-13.514,6.006-25.901,15.284-37.164,27.834 c-11.263,12.549-16.894,26.01-16.894,40.382v11.583c0,3.004,0.965,5.472,2.896,7.401c1.931,1.93,4.396,2.896,7.4,2.896h61.779 c3.003,0,5.471-0.965,7.401-2.896c1.93-1.931,2.896-4.397,2.896-7.401c0-4.075,2.306-9.385,6.917-15.928 c4.612-6.542,10.458-11.852,17.537-15.927c6.863-3.861,12.119-6.918,15.768-9.171c3.646-2.252,8.579-6.008,14.802-11.263 c6.22-5.255,10.993-10.402,14.317-15.443c3.325-5.042,6.328-11.53,9.01-19.467C380.788,214.916,382.128,206.228,382.128,196.789z\"/> </svg>';\nexport const close =\n  '<svg class=\"vzb-icon vzb-icon-pin\" viewBox=\"-150 -250 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1149 414q0 26 -19 45l-181 181l181 181q19 19 19 45q0 27 -19 46l-90 90q-19 19 -46 19q-26 0 -45 -19l-181 -181l-181 181q-19 19 -45 19q-27 0 -46 -19l-90 -90q-19 -19 -19 -46q0 -26 19 -45l181 -181l-181 -181q-19 -19 -19 -45q0 -27 19 -46l90 -90q19 -19 46 -19 q26 0 45 19l181 181l181 -181q19 -19 45 -19q27 0 46 19l90 90q19 19 19 46z\"/></svg>';\nexport const presentation =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path id=\"flip-chart-1\" d=\"M334.549,393.834l58.607,68.666h-45.096l-58.709-68.666H334.549z M240.333,462.5h34.333v-68.666h-34.333 V462.5z M360.5,153.5h-34.334v137.334H360.5V153.5z M121.566,462.5h45.113l58.709-68.666h-45.197L121.566,462.5z M206,273.666 h-34.333v17.168H206V273.666z M257.5,239.333h-34.333v51.5H257.5V239.333z M309,205h-34.334v85.834H309V205z M446.334,102h-17.168 v257.5H85.833V102H68.667V50.5h377.667V102z M394.834,102H120.167v223.166h274.667V102z\"/></svg>';\nexport const about =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\"><path d=\"M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z\"/></svg>';\nexport const cursorArrow =\n  '<svg class=\"vzb-icon\" viewBox=\"-200 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1389 1043q31 30 14 69-17 40-59 40h-382l201 476q10 25 0 49t-34 35l-177 75q-25 10-49 0t-35-34l-191-452-312 312q-19 19-45 19-12 0-24-5-40-17-40-59v-1504q0-42 40-59 12-5 24-5 27 0 45 19z\"/></svg>';\nexport const cursorPlus =\n  '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-224v224q0 13-9.5 22.5t-22.5 9.5h-64q-13 0-22.5-9.5t-9.5-22.5v-224h-224q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h224v-224q0-13 9.5-22.5t22.5-9.5h64q13 0 22.5 9.5t9.5 22.5v224h224q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nexport const cursorMinus =\n  '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-576q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h576q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\"/></svg>';\nexport const hundredPercent =\n  '<svg class=\"vzb-icon\" xmlns=\"http://www.w3.org/2000/svg\"><g transform=\"translate(18 11)\"><text transform=\"scale(0.9 1)\" x=\"0\" y=\"0\">100</text><text transform=\"scale(0.6 1)\" class=\"percent\" x=\"0\" y=\"0\">%</text></g></svg>';\nexport const percent =\n  '<svg class=\"vzb-icon\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1408 1280q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm-768-768q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm1024 768q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5zm-96-1088q0 20-13 38l-1056 1408q-19 26-51 26h-160q-26 0-45-19t-19-45q0-20 13-38l1056-1408q19-26 51-26h160q26 0 45 19t19 45zm-672 320q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5z\"/></svg>';\nexport const side =\n  '<svg class=\"vzb-icon\" viewBox=\"-120 -1540 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path transform=\"rotate(-90) scale(1.2)\" d=\"M1024 448q0 -26 -19 -45l-448 -448q-19 -19 -45 -19t-45 19l-448 448q-19 19 -19 45t19 45t45 19h896q26 0 45 -19t19 -45zM1024 832q0 -26 -19 -45t-45 -19h-896q-26 0 -45 19t-19 45t19 45l448 448q19 19 45 19t45 -19l448 -448q19 -19 19 -45z\"/></svg>';\nexport const cursorHand =\n  '<svg class=\"vzb-icon\" viewBox=\"0 -1540 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path transform=\"scale(1,-1)\" d=\"M880 1408q-46 0 -79 -33t-33 -79v-656h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528v-256l-154 205q-38 51 -102 51q-53 0 -90.5 -37.5t-37.5 -90.5q0 -43 26 -77l384 -512q38 -51 102 -51h688q34 0 61 22t34 56l76 405q5 32 5 59v498q0 46 -33 79t-79 33t-79 -33t-33 -79v-272h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528h-32v656q0 46 -33 79t-79 33zM880 1536q68 0 125.5 -35.5t88.5 -96.5q19 4 42 4q99 0 169.5 -70.5t70.5 -169.5v-17q105 6 180.5 -64t75.5 -175v-498q0 -40 -8 -83l-76 -404q-14 -79 -76.5 -131t-143.5 -52h-688q-60 0 -114.5 27.5t-90.5 74.5l-384 512q-51 68 -51 154q0 106 75 181t181 75q78 0 128 -34v434q0 99 70.5 169.5t169.5 70.5q23 0 42 -4q31 61 88.5 96.5t125.5 35.5z\"/></svg>';\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/iconset.js","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_cof.js\n// module id = 22\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_defined.js\n// module id = 23\n// module chunks = 0","var fails = require('./_fails');\n\nmodule.exports = function(method, arg){\n  return !!method && fails(function(){\n    arg ? method.call(null, function(){}, 1) : method.call(null);\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_strict-method.js\n// module id = 24\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-primitive.js\n// module id = 25\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-sap.js\n// module id = 26\n// module chunks = 0","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-methods.js\n// module id = 27\n// module chunks = 0","import { forEach, warn } from \"base/utils\";\n\nlet initializing = false;\nconst fnTest = /xyz/.test(() => {\n  let xyz;\n}) ? /\\b_super\\b/ : /.*/;\n\nfunction extend(name, extensions) {\n\n  //in case there are two args\n  extensions = arguments.length === 1 ? name : extensions;\n  const _super = this.prototype;\n  initializing = true;\n  const prototype = new this();\n  initializing = false;\n\n  forEach(extensions, (method, name) => {\n    if (typeof extensions[name] === \"function\" && typeof _super[name] === \"function\" && fnTest.test(extensions[name])) {\n      prototype[name] = (function(name, fn) {\n        return function() {\n          const tmp = this._super;\n          this._super = _super[name];\n          const ret = fn.apply(this, arguments);\n          this._super = tmp;\n          return ret;\n        };\n      })(name, extensions[name]);\n    } else {\n      prototype[name] = method;\n    }\n  });\n\n  function Class() {\n    if (this.trackInstances)\n      Class.instances.push(this);\n    if (!initializing && this.init) {\n      this.init(...arguments);\n    }\n  }\n\n  // Populate our constructed prototype object\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n  Class.extend = extend;\n\n  Class._collection = {};\n  Class.instances = [];\n  Class.register = function(name, code) {\n    if (typeof this._collection[name] !== \"undefined\") {\n      warn('\"' + name + '\" is already registered. Overwriting...');\n    }\n    this._collection[name] = code;\n  };\n\n  Class.unregister = function(name) {\n    this._collection[name] = void 0;\n  };\n\n  Class.getCollection = function() {\n    return this._collection;\n  };\n\n  //define a method or field in this prototype\n  Class.define = function(name, value) {\n    this.prototype[name] = value;\n  };\n\n  //get an item of the collection from this class\n  Class.get = function(name, silent) {\n    if (this._collection.hasOwnProperty(name)) {\n      return this._collection[name];\n    }\n    if (!silent) {\n      warn('\"' + name + '\" was not found.');\n    }\n    return false;\n  };\n  //register extension by name\n  if (arguments.length > 1 && this.register) {\n    this.register(name, Class);\n  }\n  return Class;\n}\n\nconst Class = function() {};\nClass.extend = extend;\n\nexport default Class;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/class.js","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_core.js\n// module id = 29\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_ctx.js\n// module id = 30\n// module chunks = 0","'use strict';\nif(require('./_descriptors')){\n  var LIBRARY             = require('./_library')\n    , global              = require('./_global')\n    , fails               = require('./_fails')\n    , $export             = require('./_export')\n    , $typed              = require('./_typed')\n    , $buffer             = require('./_typed-buffer')\n    , ctx                 = require('./_ctx')\n    , anInstance          = require('./_an-instance')\n    , propertyDesc        = require('./_property-desc')\n    , hide                = require('./_hide')\n    , redefineAll         = require('./_redefine-all')\n    , toInteger           = require('./_to-integer')\n    , toLength            = require('./_to-length')\n    , toIndex             = require('./_to-index')\n    , toPrimitive         = require('./_to-primitive')\n    , has                 = require('./_has')\n    , same                = require('./_same-value')\n    , classof             = require('./_classof')\n    , isObject            = require('./_is-object')\n    , toObject            = require('./_to-object')\n    , isArrayIter         = require('./_is-array-iter')\n    , create              = require('./_object-create')\n    , getPrototypeOf      = require('./_object-gpo')\n    , gOPN                = require('./_object-gopn').f\n    , getIterFn           = require('./core.get-iterator-method')\n    , uid                 = require('./_uid')\n    , wks                 = require('./_wks')\n    , createArrayMethod   = require('./_array-methods')\n    , createArrayIncludes = require('./_array-includes')\n    , speciesConstructor  = require('./_species-constructor')\n    , ArrayIterators      = require('./es6.array.iterator')\n    , Iterators           = require('./_iterators')\n    , $iterDetect         = require('./_iter-detect')\n    , setSpecies          = require('./_set-species')\n    , arrayFill           = require('./_array-fill')\n    , arrayCopyWithin     = require('./_array-copy-within')\n    , $DP                 = require('./_object-dp')\n    , $GOPD               = require('./_object-gopd')\n    , dP                  = $DP.f\n    , gOPD                = $GOPD.f\n    , RangeError          = global.RangeError\n    , TypeError           = global.TypeError\n    , Uint8Array          = global.Uint8Array\n    , ARRAY_BUFFER        = 'ArrayBuffer'\n    , SHARED_BUFFER       = 'Shared' + ARRAY_BUFFER\n    , BYTES_PER_ELEMENT   = 'BYTES_PER_ELEMENT'\n    , PROTOTYPE           = 'prototype'\n    , ArrayProto          = Array[PROTOTYPE]\n    , $ArrayBuffer        = $buffer.ArrayBuffer\n    , $DataView           = $buffer.DataView\n    , arrayForEach        = createArrayMethod(0)\n    , arrayFilter         = createArrayMethod(2)\n    , arraySome           = createArrayMethod(3)\n    , arrayEvery          = createArrayMethod(4)\n    , arrayFind           = createArrayMethod(5)\n    , arrayFindIndex      = createArrayMethod(6)\n    , arrayIncludes       = createArrayIncludes(true)\n    , arrayIndexOf        = createArrayIncludes(false)\n    , arrayValues         = ArrayIterators.values\n    , arrayKeys           = ArrayIterators.keys\n    , arrayEntries        = ArrayIterators.entries\n    , arrayLastIndexOf    = ArrayProto.lastIndexOf\n    , arrayReduce         = ArrayProto.reduce\n    , arrayReduceRight    = ArrayProto.reduceRight\n    , arrayJoin           = ArrayProto.join\n    , arraySort           = ArrayProto.sort\n    , arraySlice          = ArrayProto.slice\n    , arrayToString       = ArrayProto.toString\n    , arrayToLocaleString = ArrayProto.toLocaleString\n    , ITERATOR            = wks('iterator')\n    , TAG                 = wks('toStringTag')\n    , TYPED_CONSTRUCTOR   = uid('typed_constructor')\n    , DEF_CONSTRUCTOR     = uid('def_constructor')\n    , ALL_CONSTRUCTORS    = $typed.CONSTR\n    , TYPED_ARRAY         = $typed.TYPED\n    , VIEW                = $typed.VIEW\n    , WRONG_LENGTH        = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function(O, length){\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function(){\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function(){\n    new Uint8Array(1).set({});\n  });\n\n  var strictToLength = function(it, SAME){\n    if(it === undefined)throw TypeError(WRONG_LENGTH);\n    var number = +it\n      , length = toLength(it);\n    if(SAME && !same(number, length))throw RangeError(WRONG_LENGTH);\n    return length;\n  };\n\n  var toOffset = function(it, BYTES){\n    var offset = toInteger(it);\n    if(offset < 0 || offset % BYTES)throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function(it){\n    if(isObject(it) && TYPED_ARRAY in it)return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function(C, length){\n    if(!(isObject(C) && TYPED_CONSTRUCTOR in C)){\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function(O, list){\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function(C, list){\n    var index  = 0\n      , length = list.length\n      , result = allocate(C, length);\n    while(length > index)result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function(it, key, internal){\n    dP(it, key, {get: function(){ return this._d[internal]; }});\n  };\n\n  var $from = function from(source /*, mapfn, thisArg */){\n    var O       = toObject(source)\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , iterFn  = getIterFn(O)\n      , i, length, values, result, step, iterator;\n    if(iterFn != undefined && !isArrayIter(iterFn)){\n      for(iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++){\n        values.push(step.value);\n      } O = values;\n    }\n    if(mapping && aLen > 2)mapfn = ctx(mapfn, arguments[2], 2);\n    for(i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++){\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/*...items*/){\n    var index  = 0\n      , length = arguments.length\n      , result = allocate(this, length);\n    while(length > index)result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function(){ arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString(){\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /*, end */){\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /*, thisArg */){\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /*, start, end */){ // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /*, thisArg */){\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /*, thisArg */){\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /*, thisArg */){\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /*, thisArg */){\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /*, fromIndex */){\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /*, fromIndex */){\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator){ // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /*, fromIndex */){ // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /*, thisArg */){\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse(){\n      var that   = this\n        , length = validate(that).length\n        , middle = Math.floor(length / 2)\n        , index  = 0\n        , value;\n      while(index < middle){\n        value         = that[index];\n        that[index++] = that[--length];\n        that[length]  = value;\n      } return that;\n    },\n    some: function some(callbackfn /*, thisArg */){\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn){\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end){\n      var O      = validate(this)\n        , length = O.length\n        , $begin = toIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end){\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /*, offset */){\n    validate(this);\n    var offset = toOffset(arguments[1], 1)\n      , length = this.length\n      , src    = toObject(arrayLike)\n      , len    = toLength(src.length)\n      , index  = 0;\n    if(len + offset > length)throw RangeError(WRONG_LENGTH);\n    while(index < len)this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries(){\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys(){\n      return arrayKeys.call(validate(this));\n    },\n    values: function values(){\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function(target, key){\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key){\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc){\n    if(isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ){\n      target[key] = desc.value;\n      return target;\n    } else return dP(target, key, desc);\n  };\n\n  if(!ALL_CONSTRUCTORS){\n    $GOPD.f = $getDesc;\n    $DP.f   = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty:           $setDesc\n  });\n\n  if(fails(function(){ arrayToString.call({}); })){\n    arrayToString = arrayToLocaleString = function toString(){\n      return arrayJoin.call(this);\n    }\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice:          $slice,\n    set:            $set,\n    constructor:    function(){ /* noop */ },\n    toString:       arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function(){ return this[TYPED_ARRAY]; }\n  });\n\n  module.exports = function(KEY, BYTES, wrapper, CLAMPED){\n    CLAMPED = !!CLAMPED;\n    var NAME       = KEY + (CLAMPED ? 'Clamped' : '') + 'Array'\n      , ISNT_UINT8 = NAME != 'Uint8Array'\n      , GETTER     = 'get' + KEY\n      , SETTER     = 'set' + KEY\n      , TypedArray = global[NAME]\n      , Base       = TypedArray || {}\n      , TAC        = TypedArray && getPrototypeOf(TypedArray)\n      , FORCED     = !TypedArray || !$typed.ABV\n      , O          = {}\n      , TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function(that, index){\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function(that, index, value){\n      var data = that._d;\n      if(CLAMPED)value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function(that, index){\n      dP(that, index, {\n        get: function(){\n          return getter(this, index);\n        },\n        set: function(value){\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if(FORCED){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME, '_d');\n        var index  = 0\n          , offset = 0\n          , buffer, byteLength, length, klass;\n        if(!isObject(data)){\n          length     = strictToLength(data, true)\n          byteLength = length * BYTES;\n          buffer     = new $ArrayBuffer(byteLength);\n        } else if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if($length === undefined){\n            if($len % BYTES)throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if(byteLength < 0)throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if(byteLength + offset > $len)throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if(TYPED_ARRAY in data){\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while(index < length)addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if(!$iterDetect(function(iter){\n      // V8 works with iterators, but fails in many other cases\n      // https://code.google.com/p/v8/issues/detail?id=4552\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if(!isObject(data))return new Base(strictToLength(data, ISNT_UINT8));\n        if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if(TYPED_ARRAY in data)return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function(key){\n        if(!(key in TypedArray))hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if(!LIBRARY)TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator   = TypedArrayPrototype[ITERATOR]\n      , CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined)\n      , $iterator         = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if(CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)){\n      dP(TypedArrayPrototype, TAG, {\n        get: function(){ return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES,\n      from: $from,\n      of: $of\n    });\n\n    if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, {set: $set});\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    $export($export.P + $export.F * (TypedArrayPrototype.toString != arrayToString), NAME, {toString: arrayToString});\n\n    $export($export.P + $export.F * fails(function(){\n      new TypedArray(1).slice();\n    }), NAME, {slice: $slice});\n\n    $export($export.P + $export.F * (fails(function(){\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString()\n    }) || !fails(function(){\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, {toLocaleString: $toLocaleString});\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if(!LIBRARY && !CORRECT_ITER_NAME)hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function(){ /* empty */ };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_typed-array.js\n// module id = 31\n// module chunks = 0","var Map     = require('./es6.map')\n  , $export = require('./_export')\n  , shared  = require('./_shared')('metadata')\n  , store   = shared.store || (shared.store = new (require('./es6.weak-map')));\n\nvar getOrCreateMetadataMap = function(target, targetKey, create){\n  var targetMetadata = store.get(target);\n  if(!targetMetadata){\n    if(!create)return undefined;\n    store.set(target, targetMetadata = new Map);\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if(!keyMetadata){\n    if(!create)return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map);\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function(MetadataKey, MetadataValue, O, P){\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function(target, targetKey){\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false)\n    , keys        = [];\n  if(metadataMap)metadataMap.forEach(function(_, key){ keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function(it){\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function(O){\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_metadata.js\n// module id = 32\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\nimport {\n  question as iconQuestion\n} from \"base/iconset\";\n\n/*!\n * VIZABI INDICATOR PICKER\n * Reusable indicator picker component\n */\n\nconst IndPicker = Component.extend({\n\n  /**\n     * Initializes the Indicator Picker.\n     * Executed once before any template is rendered.\n     * @param config The options passed to the component\n     * @param context The component's parent\n     */\n  init(config, context) {\n\n    this.name = \"gapminder-indicatorpicker\";\n    this.template = '<span class=\"vzb-ip-holder\"><span class=\"vzb-ip-select\"></span><span class=\"vzb-ip-info\"></span></span>';\n\n    const _this = this;\n\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"targetModel\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    //this.markerID = config.markerID;\n    this.showHoverValues = config.showHoverValues || false;\n    //if (!config.markerID) utils.warn(\"indicatorpicker.js complains on 'markerID' property: \" + config.markerID);\n\n    this.model_binds = {\n      \"translate:locale\": function(evt) {\n        _this.updateView();\n      },\n      \"ready\": function(evt) {\n        _this.updateView();\n      }\n    };\n\n    this.model_binds[\"change:targetModel\"] = function(evt, path) {\n      if (path.indexOf(\".\" + _this.targetProp) == -1) return;\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    if (this.model.targetModel.isHook() && this.showHoverValues) {\n      this.model.targetModel._parent.on(\"change:highlight\", (evt, values) => {\n        const mdl = _this.model.targetModel;\n        if (!mdl.isHook()) return;\n        const marker = mdl._parent;\n        if (!_this.showHoverValues || mdl.use == \"constant\") return;\n        const _highlightedEntity = marker.getHighlighted();\n        if (_highlightedEntity.length > 1) return;\n\n        if (_highlightedEntity.length) {\n          marker.getFrame(_this.model.time.value, frame => {\n            if (_this._highlighted || !frame) return;\n\n            // should be replaced by dimension of entity set for this hook (if use == property)\n            const dimension = mdl.getEntity().getDimension();\n            const _highlightedEntity = marker.getHighlighted(dimension);\n            if (_highlightedEntity.length) {\n\n              let value = _this.multiDim && !mdl.isDiscrete() ?\n                utils.getValueMD(_highlightedEntity[0], frame[mdl._name], _this.KEYS)\n                :\n                frame[mdl._name][_highlightedEntity[0]];\n\n              // resolve strings via the color legend model\n              if (value && mdl._type === \"color\" && mdl.isDiscrete()) {\n                const clModel = mdl.getColorlegendMarker();\n                if (clModel.label.getItems()[value]) value = clModel.label.getItems()[value];\n              }\n\n              _this._highlightedValue = value;\n\n              _this._highlighted = (!_this._highlightedValue && _this._highlightedValue !== 0) || mdl.use !== \"constant\";\n              _this.updateView();\n            }\n          });\n        } else {\n          if (values !== null && values !== \"highlight\") {\n            if (values) {\n              _this._highlightedValue = values[mdl._name];\n              _this._highlighted = (!_this._highlightedValue && _this._highlightedValue !== 0) || mdl.use !== \"constant\";\n            }\n          } else {\n            _this._highlighted = false;\n          }\n          _this.updateView();\n        }\n      });\n    }\n\n    this.targetProp = config.targetProp || this.model.targetModel.isHook() ? \"which\" : (this.model.targetModel.isEntities() ? \"dim\" : null);\n  },\n\n  ready() {\n    this.KEYS = this.model.targetModel.isHook() ? utils.unique(this.model.targetModel._parent._getAllDimensions({ exceptType: \"time\" })) : [];\n    this.multiDim = this.KEYS.length > 1;\n    this.updateView();\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.el_select = d3.select(this.element).select(\".vzb-ip-select\");\n\n    this.el_select.on(\"click\", () => {\n      const rect = _this.el_select.node().getBoundingClientRect();\n      const rootEl = _this.root.element instanceof Array ? _this.root.element : d3.select(_this.root.element);\n      const rootRect = rootEl.node().getBoundingClientRect();\n      const treemenuComp = _this.root.findChildByName(\"gapminder-treemenu\");\n      const treemenuColWidth = treemenuComp.activeProfile.col_width;\n      const treemenuPaddLeft = parseInt(treemenuComp.wrapper.style(\"padding-left\"), 10) || 0;\n      const treemenuPaddRight = parseInt(treemenuComp.wrapper.style(\"padding-right\"), 10) || 0;\n      const topPos = rect.bottom - rootRect.top;\n      const leftPos = rect.left - rootRect.left - (treemenuPaddLeft + treemenuPaddRight + treemenuColWidth - rect.width) * 0.5;\n\n      treemenuComp\n        .targetModel(_this.model.targetModel)\n        .alignX(\"left\")\n        .alignY(\"top\")\n        .top(topPos)\n        .left(leftPos)\n        .updateView()\n        .toggle();\n    });\n\n    this.infoEl = d3.select(this.element).select(\".vzb-ip-info\");\n    if (_this.model.targetModel.isHook()) {\n      utils.setIcon(this.infoEl, iconQuestion)\n        .select(\"svg\").attr(\"width\", \"0px\").attr(\"height\", \"0px\");\n\n      this.infoEl.on(\"click\", () => {\n        _this.root.findChildByName(\"gapminder-datanotes\").pin();\n      });\n      this.infoEl.on(\"mouseover\", () => {\n        const rect = _this.el_select.node().getBoundingClientRect();\n        const rootRect = _this.root.element.getBoundingClientRect();\n        const topPos = rect.bottom - rootRect.top;\n        const leftPos = rect.left - rootRect.left + rect.width;\n\n        _this.root.findChildByName(\"gapminder-datanotes\").setHook(_this.model.targetModel._name).show().setPos(leftPos, topPos);\n      });\n      this.infoEl.on(\"mouseout\", () => {\n        _this.root.findChildByName(\"gapminder-datanotes\").hide();\n      });\n    }\n\n  },\n\n\n  updateView() {\n    if (!this._readyOnce) return;\n\n    const _this = this;\n    const translator = this.model.locale.getTFunction();\n\n    const mdl = _this.model.targetModel;\n    const which = mdl[_this.targetProp];\n    const type = mdl._type;\n\n    let concept;\n\n    if (mdl.isHook()) {\n      concept = mdl.getConceptprops();\n    } else {\n      utils.forEach(mdl._root._data, m => {\n        if (m._type === \"data\") concept = m.getConceptprops(mdl[_this.targetProp]);\n      });\n    }\n\n    let selectText;\n\n    if (this.showHoverValues && mdl.isHook() && this._highlighted) {\n      const unit = !concept.unit ? \"\" : \" \" + concept.unit;\n      const formatter = mdl.getTickFormatter();\n\n      selectText = (this._highlightedValue || this._highlightedValue === 0) ? formatter(this._highlightedValue) + unit : translator(\"hints/nodata\");\n\n    } else {\n      //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n      selectText = (which === \"_default\") ? translator(\"indicator/_default/\" + type) : (concept.name);\n    }\n\n    this.el_select.text(selectText)\n      .attr(\"title\", function(d) {\n        return this.offsetWidth < this.scrollWidth ? selectText : null;\n      });\n\n\n    // hide info el if no data is available for it to make sense\n    const hideInfoEl = !concept.description && !concept.sourceName && !concept.sourceLink;\n    this.infoEl.classed(\"vzb-invisible\", hideInfoEl);\n  }\n\n});\n\nexport default IndPicker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/indicatorpicker/indicatorpicker.js","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_property-desc.js\n// module id = 34\n// module chunks = 0","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_meta.js\n// module id = 35\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-integer.js\n// module id = 36\n// module chunks = 0","import * as utils from \"base/utils\";\nimport DataConnected from \"models/dataconnected\";\nimport EventSource from \"base/events\";\n\n/*!\n * HOOK MODEL\n */\n\nconst Hook = DataConnected.extend({\n\n  //some hooks can be important. like axis x and y\n  //that means, if X or Y doesn't have data at some point, we can't show markers\n  _important: false,\n\n  objectLeafs: [\"autogenerate\"],\n  dataConnectedChildren: [\"use\", \"which\"],\n\n  getClassDefaults() {\n    const defaults = {\n      data: \"data\",\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  buildScale() {\n    //overloaded by specific hook models, like axis and color\n  },\n\n  /**\n   * After complete model tree is created, this allows models to listen to eachother.\n   */\n  setInterModelListeners() {\n    const spaceRefs = this._parent.getSpace(this);\n\n    //check what we want to hook this model to\n    utils.forEach(spaceRefs, name => {\n      //hook with the closest prefix to this model\n      this._space[name] = this.getClosestModel(name);\n      //if hooks change, this should load again\n      this._space[name].on(\"dataConnectedChange\", this.handleDataConnectedChange.bind(this));\n    });\n    this.getClosestModel(\"locale\").on(\"dataConnectedChange\", this.handleDataConnectedChange.bind(this));\n  },\n\n  onSuccessfullLoad() {\n    this.validate();\n    this.buildScale();\n    this._super();\n  },\n\n  setWhich(newValue) {\n\n    const obj = { which: newValue.concept };\n\n    if (newValue.dataSource) obj.data = newValue.dataSource;\n    const newDataSource = this.getClosestModel(obj.data || this.data);\n    const conceptProps = newDataSource.getConceptprops(newValue.concept);\n\n    if (newValue.which === \"_default\") {\n      obj.use = \"constant\";\n    } else {\n      if (conceptProps.use) obj.use = conceptProps.use;\n    }\n\n    if (conceptProps.scales) {\n      obj.scaleType = conceptProps.scales[0];\n    }\n\n    if (this.getType() === \"axis\" || this.getType() === \"size\") {\n      obj.domainMin = null;\n      obj.domainMax = null;\n      obj.zoomedMin = null;\n      obj.zoomedMax = null;\n    }\n\n    this.set(obj);\n  },\n\n  setScaleType(newValue) {\n    this.buildScale(newValue);\n  },\n\n  preloadData() {\n    this.dataSource = this.getClosestModel(this.data);\n    return this._super();\n  },\n\n  afterPreload() {\n    this.autoGenerateModel();\n  },\n\n  autoGenerateModel() {\n    if (this.which == null && this.autogenerate) {\n      this.which = this.dataSource\n        .getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType)\n        .concept;\n    }\n  },\n\n  /**\n   * Hooks loads data, models ask children to load data\n   * Basically, this method:\n   * loads is theres something to be loaded:\n   * does not load if there's nothing to be loaded\n   * @param {Object} options (includes splashScreen)\n   * @returns defer\n   */\n  loadData(opts = {}) {\n\n    // then start loading data\n\n    if (!this.which) return Promise.resolve();\n\n    this.trigger(\"hook_change\");\n\n    // TODO: should be set on data source switch, but load happens before change events\n    this.dataSource = this.getClosestModel(this.data);\n\n    const query = this.getQuery(opts.splashScreen);\n\n    if (query === true) return Promise.resolve();\n\n    //useful to check if in the middle of a load call\n    this._loadCall = true;\n\n    this.setReady(false);\n\n    utils.timeStamp(\"Vizabi Model: Loading Data: \" + this._id);\n\n    const parsers = this._getAllParsers();\n\n    const dataPromise = this.dataSource.load(query, parsers);\n\n    dataPromise.then(\n      this.afterLoad.bind(this),\n      err => utils.warn(\"Problem with query: \", err, JSON.stringify(query))\n    );\n\n    return dataPromise;\n\n  },\n\n  handleDataConnectedChange(evt) {\n    //defer is necessary because other events might be queued.\n    //load right after such events\n    utils.defer(() => {\n      this.startLoading()\n        .catch(utils.warn);\n    });\n  },\n\n  _isLoading() {\n    return (!this._loadedOnce || this._loadCall);\n  },\n\n  /**\n   * executes after data has actually been loaded\n   */\n  afterLoad(dataId) {\n    this._dataId = dataId;\n\n    const grouping = this._parent._getGrouping();\n    if (grouping) {\n      this.dataSource.setGrouping(dataId, grouping);\n    }\n\n    utils.timeStamp(\"Vizabi Model: Data loaded: \" + this._id);\n  },\n\n  /**\n   * gets query that this model/hook needs to get data\n   * @returns {Array} query\n   */\n  getQuery(splashScreen) {\n    let filters;\n\n    //error if there's nothing to hook to\n    if (Object.keys(this._space).length < 1) {\n      utils.error(\"Error:\", this._id, \"can't find the space\");\n      return true;\n    }\n\n    const prop = (this.use === \"property\") || (this.use === \"constant\");\n    const exceptions = (prop) ? { exceptType: \"time\" } : {};\n\n    // select\n    // we remove this.which from values if it duplicates a dimension\n    const allDimensions = utils.unique(this._getAllDimensions(exceptions));\n    let dimensions = (prop && allDimensions.length > 1) ? [(this.spaceRef ? this._space[this.spaceRef].dim : this.which)] : allDimensions;\n\n    dimensions = dimensions.filter(f => f !== \"_default\");// && f!==null);\n    if (!dimensions || !dimensions.length) {\n      utils.warn(\"getQuery() produced no query because no keys are available\");\n      return true;\n    }\n\n    const select = {\n      key: dimensions,\n      value: dimensions.indexOf(this.which) != -1 || this.use === \"constant\" ? [] : [this.which]\n    };\n\n    // animatable\n    const animatable = this._getFirstDimension({ type: \"time\" });\n    // from\n    const from = prop ? \"entities\" : \"datapoints\";\n\n    // where\n    filters = this._getAllFilters(exceptions, splashScreen);\n    if (prop && allDimensions.length > 1) {\n      const f = {};\n      if (filters[dimensions]) f[dimensions] = filters[dimensions];\n      filters = f;\n    }\n\n    // make root $and explicit\n    const explicitAndFilters = {};\n    if (Object.keys(filters).length > 0) {\n      explicitAndFilters[\"$and\"] = [];\n      for (const filterKey in filters) {\n        const filter = {};\n        filter[filterKey] = filters[filterKey];\n        explicitAndFilters[\"$and\"].push(filter);\n      }\n    }\n\n    // join\n    let join = this._getAllJoins(exceptions, splashScreen);\n    if (prop && allDimensions.length > 1) {\n      const j = {};\n      if (join[\"$\" + dimensions]) j[\"$\" + dimensions] = join[\"$\" + dimensions];\n      join = j;\n    }\n\n    //return query\n    return {\n      \"language\": this.getClosestModel(\"locale\").id,\n      \"from\": from,\n      \"animatable\": animatable,\n      \"select\": select,\n      \"where\": explicitAndFilters,\n      \"join\": join,\n      \"order_by\": prop ? [\"rank\"] : [this._space.time.dim]\n    };\n  },\n\n\n  /**\n   * gets all hook dimensions\n   * @param {Object} opts options with exceptType or onlyType\n   * @returns {Array} all unique dimensions\n   */\n  _getAllDimensions(opts) {\n\n    // hook dimensions = marker dimensions. Later, hooks might have extra dimensions : )\n    return this._parent._getAllDimensions(opts);\n\n  },\n\n  /**\n   * gets first dimension that matches type\n   * @param {Object} options\n   * @returns {Array} all unique dimensions\n   */\n  _getFirstDimension(opts) {\n\n    // hook dimensions = marker dimensions. Later, hooks might have extra dimensions : )\n    return this._parent._getFirstDimension(opts);\n\n  },\n\n\n  /**\n   * gets all hook filters\n   * @param {Boolean} splashScreen get filters for first screen only\n   * @returns {Object} filters\n   */\n  _getAllFilters(opts, splashScreen) {\n    opts = opts || {};\n    let filters = {};\n    const _this = this;\n    utils.forEach(this._space, h => {\n      if (opts.exceptType && h.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && h.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (h.skipFilter || _this._parent.skipFilter) return;\n      // if query's dimensions are the same as the hook's, no join\n      if (utils.arrayEquals(_this._getAllDimensions(opts), [h.getDimension()])) {\n        filters = utils.extend(filters, h.getFilter(splashScreen));\n      } else {\n        const joinFilter = h.getFilter(splashScreen);\n        if (joinFilter != null && !utils.isEmpty(joinFilter)) {\n          const filter = {};\n          filter[h.getDimension()] = \"$\" + h.getDimension();\n          filters = utils.extend(filters, filter);\n        }\n      }\n    });\n    return filters;\n  },\n\n  _getAllJoins(opts, splashScreen) {\n    const joins = {};\n    const _this = this;\n    utils.forEach(this._space, h => {\n      if (opts.exceptType && h.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && h.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (utils.arrayEquals(_this._getAllDimensions(opts), [h.getDimension()])) {\n        return true;\n      }\n      if (h.skipFilter || _this._parent.skipFilter) return;\n\n      const filter = h.getFilter(splashScreen);\n      if (filter != null && !utils.isEmpty(filter)) {\n        joins[\"$\" + h.getDimension()] = {\n          key: h.getDimension(),\n          where: h.getFilter(splashScreen)\n        };\n      }\n    });\n    return joins;\n  },\n\n  /**\n   * gets all hook filters\n   * @returns {Object} filters\n   */\n  _getAllParsers() {\n    return Object.values(this._space).concat(this)\n      .reduce((result, model) => {\n        const parser = model.getParser();\n        const column = model.getDimensionOrWhich();\n\n        parser && column && !(column in result) && (result[column] = parser);\n\n        return result;\n      }, {});\n  },\n\n  /**\n   * Gets tick values for this hook\n   * @returns {Function} That returns the value for this tick\n   */\n  getTickFormatter() {\n\n    const _this = this;\n    const SHARE = \"share\";\n    const PERCENT = \"percent\";\n\n    // percentageMode works like rounded if set to SHARE, but multiplies by 100 and suffixes with \"%\"\n    // percentageMode works like rounded if set to PERCENT, but suffixes with \"%\"\n\n    return (x, index, group, removePrefix, percentageMode) => {\n\n      percentageMode = _this.getConceptprops().format;\n      if (percentageMode === SHARE) x *= 100;\n\n      // Format time values\n      // Assumption: a hook has always time in its space\n      if (utils.isDate(x)) return _this._space.time.formatDate(x);\n\n      // Dealing with values that are supposed to be time\n      if (_this.scaleType === \"time\" && !utils.isDate(x)) {\n        return _this._space.time.formatDate(new Date(x));\n      }\n\n      // Strings, null, NaN and undefined are bypassing any formatter\n      if (utils.isString(x) || !x && x !== 0) return x;\n\n      if (Math.abs(x) < 0.00000000000001) return \"0\";\n\n      const format = \"r\"; //rounded format. use \"f\" for fixed\n      const prec = 3; //round to so many significant digits\n\n      let prefix = \"\";\n      if (removePrefix) return d3.format(\".\" + prec + format)(x);\n\n      //---------------------\n      // BEAUTIFIERS GO HOME!\n      // don't break formatting please\n      //---------------------\n      // the tiny constant compensates epsilon-error when doing logsrithms\n      /* eslint-disable */\n    switch (Math.floor(Math.log(Math.abs(x)) / Math.LN10 + 0.00000000000001)) {\n      case -13: x *= 1000000000000; prefix = \"p\"; break; //0.1p\n      case -10: x *= 1000000000; prefix = \"n\"; break; //0.1n\n      case -7: x *= 1000000; prefix = \"µ\"; break; //0.1µ\n      case -6: x *= 1000000; prefix = \"µ\"; break; //1µ\n      case -5: x *= 1000000; prefix = \"µ\"; break; //10µ\n      case -4: break; //0.0001\n      case -3: break; //0.001\n      case -2: break; //0.01\n      case -1: break; //0.1\n      case 0:  break; //1\n      case 1:  break; //10\n      case 2:  break; //100\n      case 3:  break; //1000\n      case 4:  x /= 1000; prefix = \"k\"; break; //10k\n      case 5:  x /= 1000; prefix = \"k\"; break; //100k\n      case 6:  x /= 1000000; prefix = \"M\"; break; //1M\n      case 7:  x /= 1000000; prefix = \"M\"; break; //10M\n      case 8:  x /= 1000000; prefix = \"M\"; break; //100M\n      case 9:  x /= 1000000000; prefix = \"B\"; break; //1B\n      case 10: x /= 1000000000; prefix = \"B\"; break; //10B\n      case 11: x /= 1000000000; prefix = \"B\"; break; //100B\n      case 12: x /= 1000000000000; prefix = \"TR\"; break; //1TR\n      case 13: x /= 1000000000000; prefix = \"TR\"; break; //10TR\n      case 14: x /= 1000000000000; prefix = \"TR\"; break; //100TR\n      //use the D3 SI formatting for the extreme cases\n      default: return (d3.format(\".\" + prec + \"s\")(x)).replace(\"G\", \"B\");\n    }\n    /* eslint-enable */\n\n      let formatted = d3.format(\".\" + prec + format)(x);\n      //remove trailing zeros if dot exists to avoid numbers like 1.0M, 3.0B, 1.500, 0.9700, 0.0\n      if (formatted.indexOf(\".\") > -1) formatted = formatted.replace(/0+$/, \"\").replace(/\\.$/, \"\");\n\n\n      // use manual formatting for the cases above\n      return (formatted + prefix + (percentageMode === PERCENT || percentageMode === SHARE ? \"%\" : \"\"));\n    };\n  },\n\n  /**\n   * Gets the d3 scale for this hook. if no scale then builds it\n   * @returns {Array} domain\n   */\n  getScale() {\n    if (this.scale == null) console.warn(\"scale is null\");\n    return this.scale;\n  },\n\n  /**\n   * Gets unique values in a column\n   * @param {String|Array} attr parameter\n   * @returns {Array} unique values\n   */\n  getUnique(attr) {\n    if (!this.isHook()) return;\n    if (!attr) attr = this._getFirstDimension({ type: \"time\" });\n    return this.dataSource.getData(this._dataId, \"unique\", attr);\n  },\n\n\n  getData() {\n    return this.dataSource.getData(this._dataId);\n  },\n\n  /**\n   * gets dataset without null or nan values with respect to this hook's which\n   * @returns {Object} filtered items object\n   */\n  getValidItems() {\n    return this.dataSource.getData(this._dataId, \"valid\", this.which);\n  },\n\n  /**\n   * gets nested dataset\n   * @param {Array} keys define how to nest the set\n   * @returns {Object} hash-map of key-value pairs\n   */\n  getNestedItems(keys) {\n    if (!keys) return utils.warn(\"No keys provided to getNestedItems(<keys>)\");\n    return this.dataSource.getData(this._dataId, \"nested\", keys);\n  },\n\n  getHaveNoDataPointsPerKey() {\n    return this.dataSource.getData(this._dataId, \"haveNoDataPointsPerKey\", this.which);\n  },\n\n  /**\n   * Gets limits\n   * @param {String} attr parameter\n   * @returns {Object} limits (min and max)\n   */\n  getLimits(attr) {\n    return this.dataSource.getData(this._dataId, \"limits\", attr);\n  },\n\n  getFrame(steps, forceFrame, selected) {\n    return this.dataSource.getFrame(this._dataId, steps, forceFrame, selected);\n  },\n\n  getFrames(steps, selected) {\n    return this.dataSource.getFrames(this._dataId, steps, selected);\n  },\n\n  /**\n   * gets hook values according dimension values\n   */\n  getItems() {\n    const _this = this;\n    const dim = this.spaceRef && this._space[this.spaceRef] ? this._space[this.spaceRef].dim : _this._getFirstDimension({ exceptType: \"time\" });\n    const items = {};\n    const validItems = this.getValidItems();\n\n    if (utils.isArray(validItems)) {\n      validItems.forEach(d => {\n        items[d[dim]] = d[_this.which];\n      });\n    }\n\n    return items;\n  },\n\n  getLimitsByDimensions(dims) {\n    const filtered = this.dataSource.getData(this._dataId, \"nested\", dims);\n    const values = {};\n    const limitsDim = {};\n    const attr = this.which;\n\n    const countLimits = function(items, limitsDim, id) {\n\n      const filtered = items.reduce((filtered, d) => {\n\n        // check for dates\n        const f = (utils.isDate(d[attr])) ? d[attr] : parseFloat(d[attr]);\n\n        // if it is a number\n        if (!isNaN(f)) {\n          filtered.push(f);\n        }\n\n        //filter\n        return filtered;\n      }, []);\n\n      // get min/max for the filtered rows\n      let min;\n      let max;\n      const limits = {};\n      for (let i = 0; i < filtered.length; i += 1) {\n        const c = filtered[i];\n        if (typeof min === \"undefined\" || c < min) {\n          min = c;\n        }\n        if (typeof max === \"undefined\" || c > max) {\n          max = c;\n        }\n      }\n      limits.min = min || 0;\n      limits.max = max || 100;\n      limitsDim[id] = limits;\n\n    };\n\n    const iterateGroupKeys = function(data, deep, result, cb) {\n      deep--;\n      utils.forEach(data, (d, id) => {\n        if (deep) {\n          result[id] = {};\n          iterateGroupKeys(d, deep, result[id], cb);\n        } else {\n          cb(d, result, id);\n        }\n      });\n    };\n\n    iterateGroupKeys(filtered, dims.length, limitsDim, countLimits);\n\n    return limitsDim;\n  },\n\n  /**\n   * Gets the concept properties of the hook's \"which\"\n   * @returns {Object} concept properties\n   */\n  getConceptprops() {\n    return this.use !== \"constant\" && this.dataSource ? this.dataSource.getConceptprops(this.which) : {};\n  },\n\n  /**\n   * Find if a current model is discrete\n   * @returns {boolean} true if it's a discrete model, false if continious\n   */\n  isDiscrete() {\n    return this.scaleType === \"ordinal\";\n  },\n\n  validate() {\n    this._super();\n\n    // validate scale type: only makes sense if which is defined\n    if (this.which) {\n      const { scaleType } = this;\n      let { scales = [] } = this.getConceptprops();\n      if (this.allow && this.allow.scales && this.allow.scales.length > 0) {\n        scales = scales.filter(val => this.allow.scales.indexOf(val) != -1);\n      }\n\n      const scaleTypeIsAllowed = scales.includes(scaleType);\n      const genericLogIsAllowed = scales.includes(\"log\") && scaleType === \"genericLog\";\n      if (!(scaleTypeIsAllowed || genericLogIsAllowed) && scales.length > 0) {\n        const [firstAllowedScaleType] = scales;\n        this.set({ scaleType: firstAllowedScaleType === \"nominal\" ? \"ordinal\" : firstAllowedScaleType }, null, false);\n      }\n    }\n  },\n\n  getEntity() {\n    return this._space[this.spaceRef || this._parent.getSpace()[0]];\n  },\n\n});\n\nexport default Hook;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/hook.js","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_uid.js\n// module id = 38\n// module chunks = 0","module.exports = false;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_library.js\n// module id = 39\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-keys.js\n// module id = 40\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_to-index.js\n// module id = 41\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-create.js\n// module id = 42\n// module chunks = 0","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-gopn.js\n// module id = 43\n// module chunks = 0","'use strict';\nvar global      = require('./_global')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_set-species.js\n// module id = 44\n// module chunks = 0","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_an-instance.js\n// module id = 45\n// module chunks = 0","var redefine = require('./_redefine');\nmodule.exports = function(target, src, safe){\n  for(var key in src)redefine(target, key, src[key], safe);\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_redefine-all.js\n// module id = 46\n// module chunks = 0","import * as utils from \"base/utils\";\nimport EventSource, { DefaultEvent, ChangeEvent } from \"base/events\";\nimport Intervals from \"base/intervals\";\n\nconst ModelLeaf = EventSource.extend({\n\n  _name: \"\",\n  _parent: null,\n  _persistent: true,\n\n  init(name, value, parent, binds, persistent) {\n\n    // getter and setter for the value\n    Object.defineProperty(this, \"value\", {\n      get: this.get,\n      set: this.set\n    });\n    Object.defineProperty(this, \"persistent\", {\n      get() { return this._persistent; }\n    });\n\n    this._super();\n\n    this._name = name;\n    this._parent = parent;\n    this._root = parent._root;\n    this.set(value, false, persistent);\n    this.on(binds); // after super so there is an .events object\n  },\n\n  // if they want a persistent value and the current value is not persistent, return the last persistent value\n  get(persistent) {\n    return (persistent && !this._persistent) ? this._persistentVal : this._val;\n  },\n\n  set(val, force, persistent) {\n    if (this.isSetAllowed(val, force)) {\n      // persistent defaults to true\n      persistent = (typeof persistent !== \"undefined\") ? persistent : true;\n\n      // set leaf properties\n      if (persistent) this._persistentVal = val; // set persistent value if change is persistent.\n      this._previousVal = utils.deepClone(this._val);\n      this._val = val;\n      this._persistent = persistent;\n\n      // trigger change event\n      this.trigger(new ChangeEvent(this), this._name);\n\n      return true;\n    }\n    return false;\n  },\n\n  isSetAllowed(val, force) {\n    return force || (this._val !== val && JSON.stringify(this._val) !== JSON.stringify(val));\n  },\n\n  // duplicate from Model. Should be in a shared parent class.\n  setTreeFreezer(freezerStatus) {\n    if (freezerStatus) {\n      this.freeze([\"hook_change\"]);\n    } else {\n      this.unfreeze();\n    }\n  }\n\n});\n\nconst Model = EventSource.extend({\n\n  getClassDefaults: () => ({}),\n\n  /**\n   * A leaf model which has an object as value.\n   * Needed when parsing plain JS objects. Enables distinction between models and leafs with object values.\n   **/\n  objectLeafs: [],\n\n  /**\n   * Initializes the model.\n   * @param {Object} values The initial values of this model\n   * @param {Object} parent reference to parent\n   * @param {Object} bind Initial events to bind\n   * @param {Boolean} freeze block events from being dispatched\n   */\n  init(name, values, parent, bind) {\n    this._type = this._type || \"model\";\n    this._id = this._id || utils.uniqueId(\"m\");\n    this._data = {};\n    //holds attributes of this model\n    this._parent = parent;\n    this._root = parent ? parent._root : this;\n    this._name = name;\n    this._ready = false;\n    this._readyOnce = false;\n    //has this model ever been ready?\n    this._loadedOnce = false;\n    //array of processes that are loading\n    this._intervals = getIntervals(this);\n\n    //will the model be hooked to data?\n    this._space = {};\n\n    this._dataId = false;\n    this._limits = {};\n    //stores limit values\n    this._super();\n\n    // initial values\n    // add defaults to initialValues\n    const initialValues = utils.deepExtend({}, this.getClassDefaults(), values);\n    this.set(initialValues);\n\n    // bind initial events\n    // bind after setting, so no events are fired by setting initial values\n    if (bind) {\n      this.on(bind);\n    }\n  },\n\n  /* ==========================\n   * Getters and Setters\n   * ==========================\n   */\n\n  /**\n   * Gets an attribute from this model or all fields.\n   * @param attribute Optional attribute\n   * @returns attr value or all values if attr is undefined\n   */\n  get(attribute) {\n    if (attribute) {\n      const model = this._data[attribute];\n\n      return Model.isModel(model) ?\n        model :\n        model.value;\n    }\n\n    return this._data;\n  },\n\n  /**\n   * Sets an attribute or multiple for this model (inspired by Backbone)\n   * @param attr property name\n   * @param val property value (object or value)\n   * @param {Boolean} force force setting of property to value and triggers set event\n   * @param {Boolean} persistent true if the change is a persistent change\n   * @returns defer defer that will be resolved when set is done\n   */\n  set(attr, val, force, persistent) {\n    const setting = this._setting;\n    let attrs;\n    let freezeCall = false; // boolean, indicates if this .set()-call froze the modelTree\n\n    //expect object as default\n    if (!utils.isPlainObject(attr)) {\n      (attrs = {})[attr] = val;\n    } else {\n      // move all arguments one place\n      attrs = attr;\n      persistent = force;\n      force = val;\n    }\n\n    //do nothing if setting an empty object\n    if (Object.keys(attrs).length === 0) return;\n\n    //we are currently setting the model\n    this._setting = true;\n\n    // Freeze the whole model tree if not frozen yet, so no events are fired while setting\n    if (!this._freeze) {\n      freezeCall = true;\n      this.setTreeFreezer(true);\n    }\n\n    // init/set all given values\n    const changes = [];\n    for (const attribute in attrs) {\n      val = attrs[attribute];\n\n      const bothModel = utils.isPlainObject(val) && this._data[attribute] instanceof Model;\n      const bothModelLeaf = (!utils.isPlainObject(val) || this.isObjectLeaf(attribute)) && this._data[attribute] instanceof ModelLeaf;\n\n      if (this._data[attribute] && (bothModel || bothModelLeaf)) {\n        // data type does not change (model or leaf and can be set through set-function)\n        const prevValue = this._data[attribute].value;\n        const setSuccess = this._data[attribute].set(val, force, persistent);\n        if (bothModelLeaf && setSuccess) {\n          changes.push(attribute);\n        }\n\n        const fn = \"set\" + utils.capitalize(attribute);\n        if (this.isHook() && utils.isFunction(this[fn]) && val !== prevValue) {\n          this[fn](attribute === \"which\" ? { concept: val, dataSource: this.data } : val);\n        }\n\n      } else {\n        // data type has changed or is new, so initializing the model/leaf\n        this._data[attribute] = initSubmodel(attribute, val, this, persistent);\n        bindSetterGetter(this, attribute);\n      }\n    }\n\n    if (!setting) {\n      this.checkDataChanges(changes);\n      if (this.validate) {\n        this.validate();\n      }\n    }\n\n    if (!setting || force) {\n      this._setting = false;\n      if (freezeCall && (!this.isHook() || !this.isLoading())) {\n        this.setTreeFreezer(false);\n      }\n      if (!this.isHook() && !this.isLoading()) {\n        this.setReady();\n      }\n    }\n\n    // if this set()-call was the one freezing the tree, now the tree can be unfrozen (i.e. all setting is done)\n\n  },\n\n  // standard model doesn't do anything with data\n  // overloaded by hook/entities\n  checkDataChanges() { },\n\n  setTreeFreezer(freezerStatus) {\n    // first traverse down\n    // this ensures deepest events are triggered first\n    utils.forEach(this._data, submodel => {\n      submodel.setTreeFreezer(freezerStatus);\n    });\n\n    // then freeze/unfreeze\n    if (freezerStatus) {\n      this.freeze([\"hook_change\"]);\n    } else {\n      this.unfreeze();\n    }\n  },\n\n  /**\n   * Gets the type of this model\n   * @returns {String} type of the model\n   */\n  getType() {\n    return this._type;\n  },\n\n  /**\n   * Gets all submodels of the current model\n   * @param {Object} object [object=false] Should it return an object?\n   * @param {Function} validationFunction Validation function\n   * @returns {Array} submodels\n   */\n  getSubmodels(object = false, validationFunction = () => true) {\n    const submodels = (object) ? {} : [];\n    utils.forEach(this._data, (subModel, name) => {\n      if (subModel && typeof subModel._id !== \"undefined\" && Model.isModel(subModel) && validationFunction(subModel)) {\n        if (object) {\n          submodels[name] = subModel;\n        } else {\n          submodels.push(subModel);\n        }\n      }\n    });\n    return submodels;\n  },\n\n  /**\n   * Gets the current model and submodel values as a JS object\n   * @returns {Object} All model as JS object, leafs will return their values\n   */\n  getPlainObject(persistent) {\n    const obj = {};\n    const _this = this;\n    utils.forEach(this._data, (dataItem, i) => {\n      // if it's a submodel\n      if (dataItem instanceof Model) {\n        obj[i] = dataItem.getPlainObject(persistent);\n      }\n      // if it's a modelLeaf\n      else {\n        //if asked for persistent then add value to result only if modelLeaf state is\n        //persistent\n        if (!persistent || dataItem.persistent) {\n          let leafValue = dataItem.get(persistent);\n          if (utils.isDate(leafValue))\n            leafValue = _this.formatDate(leafValue);\n          obj[i] = leafValue;\n        }\n      }\n    });\n    return obj;\n  },\n\n  formatDate(dateObject) {\n    return dateObject.toString();\n  },\n\n  /**\n   * Gets the requested object, including the leaf-object, not the value\n   * @returns {Object} Model or ModelLeaf object.\n   */\n  getModelObject(name) {\n    return name ?\n      this._data[name] :\n      this;\n  },\n\n  /**\n   * Clears this model, submodels, data and events\n   */\n  clear() {\n    const submodels = this.getSubmodels();\n    for (const i in submodels) {\n      submodels[i].clear();\n    }\n    this.setReady(false);\n    this.off();\n    this._intervals.clearAllIntervals();\n    this._data = {};\n  },\n\n  /**\n   * Validates data.\n   * Interface for the validation function implemented by a model\n   * @returns Promise or nothing\n   */\n  validate() {},\n\n  /* ==========================\n   * Model loading\n   * ==========================\n   */\n\n  // normal model is never loading\n  _isLoading() {\n    return false;\n  },\n\n  /**\n   * checks whether this model is loading anything\n   * @param {String} optional process id (to check only one)\n   * @returns {Boolean} is it loading?\n   */\n  isLoading() {\n    if (this._isLoading())\n      return true;\n\n    //if not loading anything, check submodels\n    const submodels = this.getSubmodels();\n    let i;\n    for (i = 0; i < submodels.length; i += 1) {\n      if (submodels[i].isLoading()) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * Sets the model as ready or not depending on its loading status\n   */\n  setReady(value) {\n    if (value === false) {\n      this._ready = false;\n      if (this._parent && this._parent.setReady) {\n        this._parent.setReady(false);\n      }\n      return;\n    }\n    //only ready if nothing is loading at all\n    const prev_ready = this._ready;\n    this._ready = !this.isLoading() && !this._setting;\n    // if now ready and wasn't ready yet\n    if (this._ready && prev_ready !== this._ready) {\n      if (!this._readyOnce) {\n        this._readyOnce = true;\n        this.trigger(\"readyOnce\");\n      }\n      this.trigger(\"ready\");\n    }\n  },\n\n  setInterModelListeners() {\n    utils.forEach(this.getSubmodels(),\n      subModel => subModel.setInterModelListeners()\n    );\n  },\n\n  startPreload() {\n\n    const promises = [];\n    promises.push(this.preloadData());\n\n    utils.forEach(this.getSubmodels(),\n      subModel => promises.push(subModel.startPreload())\n    );\n\n    return Promise.all(promises);\n  },\n\n  preloadData() {\n    return Promise.resolve();\n  },\n\n  /**\n   * loads data (if hook)\n   * Hooks loads data, models ask children to load data\n   * Basically, this method:\n   * loads is theres something to be loaded:\n   * does not load if there's nothing to be loaded\n   * @param {Object} options (includes splashScreen)\n   * @returns defer\n   */\n  startLoading(opts) {\n\n    const promises = [];\n    promises.push(this.loadData(opts));\n\n    utils.forEach(this.getSubmodels(),\n      subModel => promises.push(subModel.startLoading(opts))\n    );\n\n    return Promise.all(promises)\n      .then(this.onSuccessfullLoad.bind(this))\n      .catch(error => {\n        const translator = this.getClosestModel(\"locale\").getTFunction();\n        this.triggerLoadError([\n          translator(\"crash/error\"),\n          window.navigator.userAgent,\n          error\n        ].join(\"<br>\"));\n      });\n  },\n\n  loadData(opts) {\n    if (this.isHook()) utils.warn(\"Hook \" + this._name + \" is not loading because it's not extending Hook prototype.\");\n    return Promise.resolve();\n  },\n\n  loadSubmodels(options) {\n    const promises = [];\n    const subModels = this.getSubmodels();\n    utils.forEach(subModels, subModel => {\n      promises.push(subModel.startLoading(options));\n    });\n    return promises.length > 0 ? Promise.all(promises) : Promise.resolve();\n  },\n\n  onSuccessfullLoad() {\n\n    this.validate();\n    utils.timeStamp(\"Vizabi Model: Model loaded: \" + this._name + \"(\" + this._id + \")\");\n    //end this load call\n    this._loadedOnce = true;\n\n    this._loadCall = false;\n    this.setTreeFreezer(false);\n\n    //we need to defer to make sure all other submodels\n    //have a chance to call loading for the second time\n    utils.defer(\n      () => this.setReady()\n    );\n  },\n\n  handleLoadError(error = this.getDefaultErrorMessage()) {\n    throw error;\n  },\n\n  getDefaultErrorMessage() {\n    return this.getClosestModel(\"locale\")\n      .getTFunction()(\"connection/error\");\n  },\n\n  triggerLoadError(error) {\n    utils.error(error);\n    this.trigger(\"load_error\", error);\n  },\n\n  /**\n   * executes after preloading processing is done\n   */\n  afterPreload() {\n    const submodels = this.getSubmodels();\n    utils.forEach(submodels, s => {\n      s.afterPreload();\n    });\n  },\n\n  /* ===============================\n   * Hooking model to external data\n   * ===============================\n   */\n\n  /**\n   * is this model hooked to data?\n   */\n  isHook() {\n    return Boolean(this.use);\n  },\n\n  /**\n   * Gets all submodels of the current model that are hooks\n   * @param object [object=false] Should it return an object?\n   * @returns {Array|Object} hooks array or object\n   */\n  getSubhooks(object) {\n    return this.getSubmodels(object, s => s.isHook());\n  },\n\n  /**\n   * gets all sub values for a certain hook\n   * only hooks have the \"hook\" attribute.\n   * @param {String} type specific type to lookup\n   * @returns {Array} all unique values with specific hook use\n   */\n  getHookWhich(type) {\n    let values = [];\n    if (this.use && this.use === type) {\n      values.push(this.which);\n    }\n    //repeat for each submodel\n    utils.forEach(this.getSubmodels(), s => {\n      values = utils.unique(values.concat(s.getHookWhich(type)));\n    });\n    //now we have an array with all values in a type of hook for hooks.\n    return values;\n  },\n\n  /**\n   * gets all sub values for indicators in this model\n   * @returns {Array} all unique values of indicator hooks\n   */\n  getIndicators() {\n    return this.getHookWhich(\"indicator\");\n  },\n\n  /**\n   * gets all sub values for indicators in this model\n   * @returns {Array} all unique values of property hooks\n   */\n  getProperties() {\n    return this.getHookWhich(\"property\");\n  },\n\n  /**\n   * Gets the dimension of this model if it has one\n   * @returns {String|Boolean} dimension\n   */\n  getDimension() {\n    return this.dim || false; //defaults to dim if it exists\n  },\n\n  /**\n   * Gets the dimension (if entity) or which (if hook) of this model\n   * @returns {String|Boolean} dimension\n   */\n  getDimensionOrWhich() {\n    return this.dim || (this.use != \"constant\" ? this.which : false); //defaults to dim or which if it exists\n  },\n\n  /**\n   * Gets the filter for this model if it has one\n   * @returns {Object} filters\n   */\n  getFilter() {\n    return {}; //defaults to no filter\n  },\n\n\n  /**\n   * maps the value to this hook's specifications\n   * @param value Original value\n   * @returns hooked value\n   */\n  mapValue(value) {\n    return value;\n  },\n\n  /**\n   * Gets formatter for this model\n   * @returns {Function} formatter function\n   */\n  getParser() {\n    return null;\n  },\n\n  /**\n   * @return {Object} defaults of this model, and when available overwritten by submodel defaults\n   */\n  getDefaults() {\n    return utils.deepExtend({}, this.getClassDefaults(), this.getSubmodelDefaults());\n  },\n\n  /**\n   * @return {Object} All defaults coming from submodels\n   */\n  getSubmodelDefaults() {\n    const d = {};\n    utils.forEach(this.getSubmodels(true), (model, name) => {\n      d[name] = model.getDefaults();\n    });\n    return d;\n  },\n\n  /**\n   * @param  {name} name of the child to check\n   * @return {Boolean} if the child is a leaf with a plain object as value\n   */\n  isObjectLeaf(name) {\n    return (this.objectLeafs.indexOf(name) !== -1);\n  },\n\n  /**\n   * gets closest prefix model moving up the model tree\n   * @param {String} prefix\n   * @returns {Object} submodel\n   */\n  getClosestModel(name) {\n    const model = this.findSubmodel(name);\n    if (model) {\n      return model;\n    } else if (this._parent) {\n      return this._parent.getClosestModel(name);\n    }\n    return null;\n  },\n\n  /**\n   * find submodel with name that starts with prefix\n   * @param {String} prefix\n   * @returns {Object} submodel or false if nothing is found\n   */\n  findSubmodel(name) {\n    for (const i in this._data) {\n      //found submodel\n      if (i === name && Model.isModel(this._data[i])) {\n        return this._data[i];\n      }\n    }\n    return null;\n  },\n\n  /**\n   * is this entities type model ?\n   */\n  isEntities() {\n    return false;\n  }\n\n});\n\n/* ===============================\n * Private Helper Functions\n * ===============================\n */\n\n/**\n * Checks whether an object is a model or not\n * if includeLeaf is true, a leaf is also seen as a model\n */\nModel.isModel = function(model, includeLeaf) {\n  return model && (model.hasOwnProperty(\"_data\") || (includeLeaf &&  model.hasOwnProperty(\"_val\")));\n};\n\n\nfunction bindSetterGetter(model, prop) {\n  Object.defineProperty(model, prop, {\n    configurable: true,\n    //allow reconfiguration\n    get: (function(p) {\n      return function() {\n        return model.get(p);\n      };\n    })(prop),\n    set: (function(p) {\n      return function(value) {\n        return model.set(p, value);\n      };\n    })(prop)\n  });\n}\n\n/**\n * Loads a submodel, when necessaary\n * @param {String} attr Name of submodel\n * @param {Object} val Initial values\n * @param {Object} ctx context / parent model\n * @param {Boolean} persistent true if the change is a persistent change\n * @returns {Object} model new submodel\n */\nfunction initSubmodel(attr, val, ctx, persistent) {\n\n  let submodel;\n\n  // if value is a value -> leaf\n  if (!utils.isPlainObject(val) || utils.isArray(val) || ctx.isObjectLeaf(attr)) {\n\n    const binds = {\n      //the submodel has changed (multiple times)\n      \"change\": onChange\n    };\n    submodel = new ModelLeaf(attr, val, ctx, binds, persistent);\n  }\n\n  // if value is an object -> model\n  else {\n\n    const binds = {\n      //the submodel has changed (multiple times)\n      \"change\": onChange,\n      //loading has started in this submodel (multiple times)\n      \"hook_change\": onHookChange,\n      // error triggered in loading\n      \"load_error\": (...args) => ctx.trigger(...args),\n      // interpolation completed\n      \"dataLoaded\": (...args) => ctx.trigger(...args),\n      //loading has ended in this submodel (multiple times)\n      \"ready\": onReady,\n    };\n\n    // if the value is an already instantiated submodel (Model or ModelLeaf)\n    // this is the case for example when a new componentmodel is made (in Component._modelMapping)\n    // it takes the submodels from the toolmodel and creates a new model for the component which refers\n    // to the instantiated submodels (by passing them as model values, and thus they reach here)\n    if (Model.isModel(val, true)) {\n      submodel = val;\n      submodel.on(binds);\n    }\n    // if it's just a plain object, create a new model\n    else {\n      // construct model\n      const modelType = attr.split(\"_\")[0];\n\n      let Modl = Model.get(modelType, true);\n      if (!Modl) {\n        try {\n          Modl = require(\"../models/\" + modelType).default;\n        } catch (err) {\n          Modl = Model;\n        }\n      }\n\n      submodel = new Modl(attr, val, ctx, binds);\n      // model is still frozen but will be unfrozen at end of original .set()\n    }\n  }\n\n  return submodel;\n\n  // Default event handlers for models\n  function onChange(evt, path) {\n    if (!ctx._ready) return; //block change propagation if model isnt ready\n    path = ctx._name + \".\" + path;\n    ctx.trigger(evt, path);\n  }\n  function onHookChange(evt, vals) {\n    ctx.trigger(evt, vals);\n  }\n  function onReady(evt, vals) {\n    //trigger only for submodel\n    ctx.setReady(false);\n    //wait to make sure it's not set false again in the next execution loop\n    utils.defer(() => {\n      ctx.setReady();\n    });\n    //ctx.trigger(evt, vals);\n  }\n}\n\n/**\n * gets closest interval from this model or parent\n * @returns {Object} Intervals object\n */\nfunction getIntervals(ctx) {\n  return ctx._intervals || (ctx._parent ? getIntervals(ctx._parent) : new Intervals());\n}\n\n\nexport default Model;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/model.js","import * as utils from \"base/utils\";\nimport Class from \"base/class\";\n\nlet _freezeAllEvents = false;\nlet _frozenEventInstances = [];\nlet _freezeAllExceptions = {};\n\nexport const DefaultEvent = Class.extend({\n\n  source: \"\",\n  type: \"default\",\n\n  init(source, type) {\n    this.source = source;\n    if (type) this.type = type;\n  }\n\n});\n\nexport const ChangeEvent = DefaultEvent.extend(\"change\", {\n\n  type: \"change\",\n\n  init(source) {\n    this._super(source);\n  }\n\n});\n\nconst EventSource = Class.extend({\n\n  /**\n   * Initializes the event class\n   */\n  init() {\n    this._id = this._id || utils.uniqueId(\"e\");\n    this._events = {};\n    //freezing events\n    this._freeze = false;\n    this._freezer = [];\n    this._freezeExceptions = {};\n  },\n\n  /**\n   * Binds a callback function to an event: part 1: split grouped parameters in seperate calls\n   * @param {String} type type of event\n   * @param {String|Array} target path to object the event should be bound to or array of target paths\n   * @param {Function|Array} func function to be bound with event or array with functions\n   */\n  on(type, path, func) {\n\n    // if parameters had to be split up in seperate calls, don't continue with this call\n    if (this.splitEventParameters(type, path, func, this.on))\n      return;\n\n    // get the target model\n    const target = this.traversePath(path);\n    if (!target) return;\n\n    // register the event to this object\n    target._events[type] = target._events[type] || [];\n    if (typeof func === \"function\") {\n      target._events[type].push(func);\n    } else {\n      utils.warn(\"Can't bind event '\" + type + \"'. It must be a function.\");\n    }\n  },\n\n\n  /**\n   * Unbinds all events associated with a name or a specific one\n   * @param {String|Array} name name of event or array with names\n   */\n  off(type, path, func) {\n\n    // if no arguments, unbind all\n    if (arguments.length == 0) {\n      this._events = {};\n      return;\n    }\n\n    // if parameters had to be split up in seperate calls, don't continue with this call\n    if (this.splitEventParameters(type, path, func, this.off))\n      return;\n\n    // get target model\n    const target = this.traversePath(path);\n    if (!target) return;\n\n    // unbind events\n    if (target._events.hasOwnProperty(type)) {\n      // if function not given, remove all events of type\n      if (typeof func === \"undefined\") {\n        target._events[type] = [];\n        return;\n      }\n      const index = target._events[type].indexOf(func);\n      if (index > -1) {\n        target._events[type].splice(index, 1);\n      } else {\n        utils.warn(\"Could not unbind function \" + func.name + \". Function not in bound function list.\");\n      }\n    }\n  },\n\n  /**\n   * Split grouped event parameters to seperate calls to given funtion\n   * @param {String|Object|Array} type type of event\n   * @param {String|Array} target path to object the event should be bound to or array of target paths\n   * @param {Function|Array} func function to be bound with event or array with functions\n   * @param {Function} eventFunc function to further process the split up parameters\n   * @return {Boolean} true if the parameters where split up, false if nothing was split up\n   * eventFunc is mostly arguments.callee but this is deprecated in ECMAscript 5: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/callee\n   */\n  splitEventParameters(type, path, func, eventFunc) {\n    let i;\n    const calls = [];\n\n    // multiple at a time, array format: [{type: function}, {'type:path': function}, ... ]\n    // seems redundant but used so that binding-sets won't be turned into models (which happens when it's a pure object). Used e.g. in Tool.init();\n    if (utils.isArray(type)) {\n      for (i = 0; i < type.length; i += 1) {\n        eventFunc.call(this, type[i], func);\n      }\n      return true;\n    }\n\n    //multiple at a time, object format: {type: function, 'type:path': function, ... }\n    if (utils.isObject(type)) {\n      for (i in type) {\n        eventFunc.call(this, i, type[i]);\n      }\n      return true;\n    }\n\n    // type and path are both in type: on('type:path', function)\n    // or\n    // path undefined: on('type', function)\n    if (typeof path === \"function\") {\n      func = path; // put callback function in func variable\n      // on('type:path', func)\n      if (type.indexOf(\":\") !== -1) {\n        const split = type.split(\":\");\n        type = split[0];\n        path = split[1];\n      }\n      // on(type, func)\n      else {\n        path = undefined;\n      }\n      eventFunc.call(this, type, path, func);\n      return true;\n    }\n\n    // bind multiple paths at a time to one function: on(type, [path1, path2], function)\n    if (utils.isArray(path)) {\n      for (i = 0; i < path.length; i += 1) {\n        eventFunc.call(this, type, path[i], func);\n      }\n      return true;\n    }\n\n    //bind multiple functions at the same time to one path: on(type, path, [function1, function2])\n    if (func && utils.isArray(func)) {\n      for (i = 0; i < func.length; i += 1) {\n        eventFunc.call(this, type, path, func[i]);\n      }\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * // TODO: if events will not be strictly model-bound, this might have to move to model.\n   * Traverse path down the model tree\n   * @param {String|Array} target path to object that should be returned. Either in string or array form\n   */\n  traversePath(path) {\n\n    // if there's no path to traverse\n    if (typeof path === \"undefined\" || utils.isArray(path) && path.length == 0) {\n      return this;\n    }\n\n    // prepare path to array\n    if (typeof path === \"string\") {\n      path = path.split(\".\");\n    }\n\n    // check if path is an array\n    if (!utils.isArray(path)) {\n      utils.error(\"Path is wrong type. Path should be a string or array but is \" + typeof path + \".\");\n      return null;\n    }\n\n    // descent to next child to find target object\n    const currentTarget = path.shift();\n    if (this[currentTarget] === undefined)\n      utils.warn('Can\\'t find child \"' + currentTarget + '\" of the model ' + this._name + \".\");\n    else\n      return this.getModelObject(currentTarget).traversePath(path);\n  },\n\n  createEventFromType(evtType) {\n    if ((evtType instanceof DefaultEvent)) {\n      return evtType;\n    }\n\n    const eventClass = DefaultEvent.get(evtType, true); // silent\n    if (eventClass) {\n      return new eventClass(this);\n    }\n\n    return new DefaultEvent(this, evtType);\n  },\n\n  /**\n   * Triggers an event, adding it to the buffer\n   * @param {String|Array} name name of event or array with names\n   * @param args Optional arguments (values to be passed)\n   */\n  trigger(evtType, args) {\n    let i;\n    let size;\n\n    // split up eventType-paremeter for multiple event-triggers\n    if (utils.isArray(evtType)) {\n      for (i = 0, size = evtType.length; i < size; i += 1) {\n        this.trigger(evtType[i], args);\n      }\n      return;\n    }\n\n    // create an event-object if necessary\n    const evt = this.createEventFromType(evtType);\n\n    // if this eventType has no events registered\n    if (!this._events.hasOwnProperty(evt.type)) {\n      return;\n    }\n\n    // for each function registered to this eventType on this object\n    const _this = this;\n    utils.forEach(this._events[evt.type], func => {\n\n      // prepare execution\n      const execute = function() {\n        const msg = \"Vizabi Event: \" + evt.type; // + ' - ' + eventPath;\n        utils.timeStamp(msg);\n        func.apply(_this, [\n          evt,\n          args\n        ]);\n      };\n\n      //TODO: improve readability of freezer code\n      //only execute if not frozen and exception doesnt exist\n      if (this.allowExecution(evt)) {\n        execute();\n      } else {\n        this._freezer.push(execute);\n        if (_freezeAllEvents && !_frozenEventInstances[this._id]) {\n          this.freeze();\n          _frozenEventInstances[this._id] = this;\n        }\n      }\n\n    });\n  },\n\n  allowExecution(evt) {\n    return (!this._freeze && !_freezeAllEvents) ||                                           // nothing frozen\n      (_freezeAllEvents && _freezeAllExceptions.hasOwnProperty(evt.type)) ||                 // freeze all but exception\n      (!_freezeAllEvents && this._freeze && this._freezeExceptions.hasOwnProperty(evt.type)); // freeze but exception\n  },\n\n  /**\n   * Prevents all events from being triggered, buffering them\n   */\n  freeze(exceptions) {\n    this._freeze = true;\n    if (!exceptions) {\n      return;\n    }\n    if (!utils.isArray(exceptions)) {\n      exceptions = [exceptions];\n    }\n    for (let i = 0; i < exceptions.length; i += 1) {\n      this._freezeExceptions[exceptions[i]] = true;\n    }\n  },\n\n  /**\n   * triggers all frozen events\n   */\n  unfreeze() {\n    this._freeze = false;\n    this._freezeExceptions = {};\n    //execute old frozen events\n    while (this._freezer.length) {\n      const execute = this._freezer.shift();\n      execute();\n    }\n  },\n\n  /**\n   * clears all frozen events\n   */\n  clearFrozen() {\n    this._freeze = false;\n    this._freezeExceptions = {};\n    this._freezer = [];\n  }\n});\n\nEventSource.freezeAll = freezeAll;\nEventSource.unfreezeAll = unfreezeAll;\n\n//generic event functions\n/**\n * freezes all events\n */\nfunction freezeAll(exceptions) {\n  _freezeAllEvents = true;\n  if (!exceptions) {\n    return;\n  }\n  if (!utils.isArray(exceptions)) {\n    exceptions = [exceptions];\n  }\n  utils.forEach(exceptions, e => {\n    _freezeAllExceptions[e] = true;\n  });\n}\n\n/**\n * triggers all frozen events form all instances\n */\nfunction unfreezeAll() {\n  _freezeAllEvents = false;\n  _freezeAllExceptions = {};\n  //unfreeze all instances\n  const keys = Object.keys(_frozenEventInstances);\n  for (let i = 0; i < keys.length; i++) {\n    const instance = _frozenEventInstances[keys[i]];\n    if (!instance) {\n      continue;\n    }\n    instance.unfreeze();\n  }\n  _frozenEventInstances = {};\n}\n\nexport default EventSource;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/events.js","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_set-to-string-tag.js\n// module id = 49\n// module chunks = 0","var $export = require('./_export')\n  , defined = require('./_defined')\n  , fails   = require('./_fails')\n  , spaces  = require('./_string-ws')\n  , space   = '[' + spaces + ']'\n  , non     = '\\u200b\\u0085'\n  , ltrim   = RegExp('^' + space + space + '*')\n  , rtrim   = RegExp(space + space + '*$');\n\nvar exporter = function(KEY, exec, ALIAS){\n  var exp   = {};\n  var FORCE = fails(function(){\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if(ALIAS)exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function(string, TYPE){\n  string = String(defined(string));\n  if(TYPE & 1)string = string.replace(ltrim, '');\n  if(TYPE & 2)string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-trim.js\n// module id = 50\n// module chunks = 0","module.exports = {};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iterators.js\n// module id = 51\n// module chunks = 0","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables')\n  , ArrayProto  = Array.prototype;\nif(ArrayProto[UNSCOPABLES] == undefined)require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function(key){\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_add-to-unscopables.js\n// module id = 52\n// module chunks = 0","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_for-of.js\n// module id = 53\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Model from \"base/model\";\nimport EventSource from \"base/events\";\n\n/*!\n * DATACONNECTED MODEL\n *\n * Any model which may trigger a reload of data is here. Dimensions, Time, Hooks and Locales are DataConnected\n */\n\nconst DataConnected = Model.extend({\n\n  dataConnectedChildren: [],\n\n  checkDataChanges(changedChildren) {\n    const _this = this;\n\n    if (!changedChildren || !this.dataConnectedChildren)\n      return;\n\n    if (!utils.isArray(changedChildren) && utils.isObject(changedChildren))\n      changedChildren = Object.keys(changedChildren);\n\n    if (changedChildren.length == 0 || this.dataConnectedChildren.length == 0)\n      return;\n\n    const dataConnectedChangedChildren = changedChildren.filter(child => _this.dataConnectedChildren.indexOf(child) !== -1);\n\n    if (dataConnectedChangedChildren.length > 0) {\n      this.trigger(\"dataConnectedChange\");\n      this.startLoading();\n    }\n\n  }\n\n});\n\nexport default DataConnected;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/dataconnected.js","import Component from \"base/component\";\nimport * as utils from \"base/utils\";\n\n/*!\n * VIZABI GENERIC SLIDER CONTROL\n * Reusable SLIDER\n */\n\nconst SimpleSlider = Component.extend({\n\n  init(config, context) {\n    this.template = '<div class=\"vzb-ss-holder\"><input type=\"range\" class=\"vzb-ss-slider vzb-ss-slider-normal\" step=\"1\"></div>';\n\n    this.model_expects = [{\n      name: \"submodel\"\n    }];\n\n    const _this = this;\n    this.name = \"gapminder-simpleSlider\";\n\n    this.arg = config.arg;\n    this.thumb_size = config.thumb_size;\n    this.slider_properties = config.properties;\n\n    this.model_binds = {};\n    this.model_binds[\"change:submodel.\" + this.arg] = function(evt) {\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    this._setModel = utils.throttle(this._setModel, 50);\n  },\n\n  /**\n     * Executes after the template is loaded and rendered.\n     * Ideally, it contains HTML instantiations related to template\n     * At this point, this.element and this.placeholder are available as a d3 object\n     */\n  readyOnce() {\n\n    //default values\n    let min = 0;\n    let max = 1;\n    let step = 0.1;\n    let suppressInput = false;\n    let value = min;\n\n    //selecting elements\n    const _this = this;\n    this.element = d3.select(this.element);\n    this.slider = this.element.selectAll(\".vzb-ss-slider\");\n\n    this.elementSize = this.element.node().getBoundingClientRect();\n    this.sliderSize = this.slider.node().getBoundingClientRect();\n    this.slider.style(\"left\", (this.elementSize.left - this.sliderSize.left) + \"px\");\n\n    //TODO: replace this with utils.extend\n    if (this.slider_properties) {\n      if (this.slider_properties.min != null) min = this.slider_properties.min;\n      if (this.slider_properties.max != null) max = this.slider_properties.max;\n      if (this.slider_properties.step != null) step = this.slider_properties.step;\n      if (this.slider_properties.suppressInput != null) suppressInput  = this.slider_properties.suppressInput;\n\n      if (this.slider_properties.scale) {\n        value = this.slider_properties.scale(min);\n      }\n    }\n\n    //step also defines the rounding of values that willbe sent to model: 0.1 --> 1 digit, 0.01 --> 2, 1 and up --> 0\n    this.roundTo = step > 1 ? 0 : Math.round(Math.abs(Math.log(step) / Math.LN10));\n\n    //check and change the slider's thumb size\n    if (this.thumb_size) {\n      this.slider.classed(\"vzb-ss-slider-normal\", false);\n      this.slider.classed(\"vzb-ss-slider-\" + this.thumb_size, true);\n    }\n\n    this.slider\n      .attr(\"min\", min)\n      .attr(\"max\", max)\n      .attr(\"step\", step)\n      .attr(\"value\", value)\n      .on(\"input\", () => {\n        if (suppressInput) return;\n        const value = +d3.event.target.value;\n        _this._setModel(value, false, false); // on drag - non-persistent changes while dragging\n      })\n      .on(\"change\", () => {\n        const value = +d3.event.target.value;\n        _this._setModel(value, true); // on drag end - value is probably same as last 'input'-event, so force change\n      })\n      .on(\"touchstart\", () => {\n        _this.scrollAncestor = utils.findScrollableAncestor(d3.event.target);\n        d3.select(_this.scrollAncestor).style(\"pointer-events\", \"none\");\n      })\n      .on(\"touchend touchcancel\", () => {\n        d3.select(_this.scrollAncestor).style(\"pointer-events\", null);\n      });\n\n    this.updateView();\n  },\n\n  updateView() {\n    let value = this.model.submodel[this.arg];\n    const slider_properties = this.slider_properties;\n    let scale;\n\n    if (slider_properties) {\n      scale = slider_properties.scale;\n    }\n    if (scale) {\n      value = scale.invert(value);\n    }\n\n    //this.slider.attr('value', value);\n    this.slider.node().value = value;\n  },\n\n  _setModel(value, force, persistent) {\n    // rescale value if scale is supplied in slider_properties\n    if (this.slider_properties && this.slider_properties.scale) value = this.slider_properties.scale(value);\n\n    //this.model.submodel.getModelObject(this.arg).set(value.toFixed(this.roundTo), force, persistent);\n    this.model.submodel.set(this.arg, value.toFixed(this.roundTo), force, persistent);\n  }\n\n});\n\nexport default SimpleSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/simpleslider/simpleslider.js","import Component from \"base/component\";\n\nexport default Component.extend({\n\n  init(config, context) {\n    this.template =\n      '<span class=\"vzb-sc-holder vzb-dialog-checkbox\"><input type=\"checkbox\"><label></label></span>';\n    const _this = this;\n    this.name = \"gapminder-simplecheckbox\";\n\n    this.checkbox = config.checkbox;\n    this.submodel = config.submodel;\n\n    this.model_expects = [{\n      name: \"mdl\"\n      //TODO: learn how to expect model \"axis\" or \"size\" or \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n\n    this.model_binds = {\n      \"change:mdl\": function(evt) {\n        _this.updateView();\n      },\n      \"translate:locale\": function(evt) {\n        _this.updateView();\n      }\n    };\n\n    const submodel = (this.submodel) ? this.submodel + \":\" : \"\";\n    this.model_binds[\"change:mdl.\" + submodel + this.checkbox] = function() {\n      _this.updateView();\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n  ready() {\n    this.parentModel = (this.submodel) ? this.model.mdl[this.submodel] : this.model.mdl;\n    this.updateView();\n  },\n\n  readyOnce() {\n    const _this = this;\n    this.element = d3.select(this.element);\n    const id = \"-check-\" + _this._id;\n    this.labelEl = this.element.select(\"label\").attr(\"for\", id);\n    this.checkEl = this.element.select(\"input\").attr(\"id\", id)\n      .on(\"change\", function() {\n        _this._setModel(d3.select(this).property(\"checked\"));\n      });\n  },\n\n  updateView() {\n    this.translator = this.model.locale.getTFunction();\n    this.labelEl.text(this.translator(\"check/\" + this.checkbox));\n    this.checkEl.property(\"checked\", !!this.parentModel[this.checkbox]);\n  },\n\n  _setModel(value) {\n    this.parentModel[this.checkbox] = value;\n  }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/simplecheckbox/simplecheckbox.js","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iobject.js\n// module id = 57\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-pie.js\n// module id = 58\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_classof.js\n// module id = 59\n// module chunks = 0","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_shared.js\n// module id = 60\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-includes.js\n// module id = 61\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-gops.js\n// module id = 62\n// module chunks = 0","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_invoke.js\n// module id = 63\n// module chunks = 0","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object')\n  , cof      = require('./_cof')\n  , MATCH    = require('./_wks')('match');\nmodule.exports = function(it){\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_is-regexp.js\n// module id = 64\n// module chunks = 0","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iter-detect.js\n// module id = 65\n// module chunks = 0","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function(){\n  var that   = anObject(this)\n    , result = '';\n  if(that.global)     result += 'g';\n  if(that.ignoreCase) result += 'i';\n  if(that.multiline)  result += 'm';\n  if(that.unicode)    result += 'u';\n  if(that.sticky)     result += 'y';\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_flags.js\n// module id = 66\n// module chunks = 0","'use strict';\nvar hide     = require('./_hide')\n  , redefine = require('./_redefine')\n  , fails    = require('./_fails')\n  , defined  = require('./_defined')\n  , wks      = require('./_wks');\n\nmodule.exports = function(KEY, length, exec){\n  var SYMBOL   = wks(KEY)\n    , fns      = exec(defined, SYMBOL, ''[KEY])\n    , strfn    = fns[0]\n    , rxfn     = fns[1];\n  if(fails(function(){\n    var O = {};\n    O[SYMBOL] = function(){ return 7; };\n    return ''[KEY](O) != 7;\n  })){\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function(string, arg){ return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function(string){ return rxfn.call(string, this); }\n    );\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_fix-re-wks.js\n// module id = 67\n// module chunks = 0","'use strict';\nvar global            = require('./_global')\n  , $export           = require('./_export')\n  , redefine          = require('./_redefine')\n  , redefineAll       = require('./_redefine-all')\n  , meta              = require('./_meta')\n  , forOf             = require('./_for-of')\n  , anInstance        = require('./_an-instance')\n  , isObject          = require('./_is-object')\n  , fails             = require('./_fails')\n  , $iterDetect       = require('./_iter-detect')\n  , setToStringTag    = require('./_set-to-string-tag')\n  , inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  var fixMethod = function(KEY){\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a){\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance             = new C\n      // early implementations not supports chaining\n      , HASNT_CHAINING       = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n      , THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); })\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      , ACCEPT_ITERABLES     = $iterDetect(function(iter){ new C(iter); }) // eslint-disable-line no-new\n      // for early implementations -0 and +0 not the same\n      , BUGGY_ZERO = !IS_WEAK && fails(function(){\n        // V8 ~ Chromium 42- fails only with 5+ elements\n        var $instance = new C()\n          , index     = 5;\n        while(index--)$instance[ADDER](index, index);\n        return !$instance.has(-0);\n      });\n    if(!ACCEPT_ITERABLES){ \n      C = wrapper(function(target, iterable){\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base, target, C);\n        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if(IS_WEAK && proto.clear)delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_collection.js\n// module id = 68\n// module chunks = 0","var global = require('./_global')\n  , hide   = require('./_hide')\n  , uid    = require('./_uid')\n  , TYPED  = uid('typed_array')\n  , VIEW   = uid('view')\n  , ABV    = !!(global.ArrayBuffer && global.DataView)\n  , CONSTR = ABV\n  , i = 0, l = 9, Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile(i < l){\n  if(Typed = global[TypedArrayConstructors[i++]]){\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV:    ABV,\n  CONSTR: CONSTR,\n  TYPED:  TYPED,\n  VIEW:   VIEW\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_typed.js\n// module id = 69\n// module chunks = 0","// Forced replacement prototype accessors methods\nmodule.exports = require('./_library')|| !require('./_fails')(function(){\n  var K = Math.random();\n  // In FF throws only define methods\n  __defineSetter__.call(null, K, function(){ /* empty */});\n  delete require('./_global')[K];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-forced-pam.js\n// module id = 70\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Class from \"base/class\";\n\n/**\n * Initializes the reader.\n * @param {Object} reader_info Information about the reader\n */\nconst Reader = Class.extend({\n\n  QUERY_FROM_CONCEPTS: \"concepts\",\n  QUERY_FROM_DATAPOINTS: \"datapoints\",\n  QUERY_FROM_ENTITIES: \"entities\",\n\n  CONDITION_CALLBACKS: {\n    $gt: (configValue, rowValue) => rowValue > configValue,\n    $gte: (configValue, rowValue) => rowValue >= configValue,\n    $lt: (configValue, rowValue) => rowValue < configValue,\n    $lte: (configValue, rowValue) => rowValue <= configValue,\n    $in: (configValue, rowValue) => configValue.includes(rowValue)\n  },\n\n  ERRORS: {\n    GENERIC_ERROR: \"reader/error/generic\"\n  },\n\n  _name: \"reader\",\n\n  load() {\n    return Promise.resolve({\n      rows: [],\n      columns: []\n    });\n  },\n\n  read(query, parsers = {}) {\n    query = this._normalizeQuery(query, parsers);\n\n    const {\n      select,\n      from\n    } = query;\n\n    return this.load()\n      .then(result => {\n        const { rows, columns } = result;\n        this.ensureDataIsCorrect(result, parsers);\n\n        switch (true) {\n          case from === this.QUERY_FROM_CONCEPTS:\n            return this._getConcepts(columns, this._mapRows(rows, query, parsers));\n\n          case this._isDataQuery(from) && select.key.length > 0:\n            return this._getData(rows, query, parsers);\n\n          default:\n            return [];\n        }\n      })\n      .catch(error => {\n        throw ({}).toString.call(error) === \"[object Error]\" ?\n          this.error(this.ERRORS.GENERIC_ERROR, error) :\n          error;\n      });\n  },\n\n  ensureDataIsCorrect() {\n\n  },\n\n  _normalizeQuery(_query, parsers) {\n    const query = Object.assign({}, _query);\n    const { where, join } = query;\n\n    if (where.$and) {\n      where.$and = where.$and.reduce((whereResult, condition) => {\n        Object.keys(condition).forEach(rowKey => {\n          const conditionValue = condition[rowKey];\n\n          if (typeof conditionValue === \"string\" && conditionValue.startsWith(\"$\")) {\n            const joinWhere = join[conditionValue].where;\n\n            Object.keys(joinWhere)\n              .forEach(joinRowKey => {\n                const value = joinWhere[joinRowKey];\n                const parser = parsers[joinRowKey];\n\n                whereResult[joinRowKey] = parser ?\n                  typeof value === \"object\" ?\n                    Object.keys(value).reduce((callbackConditions, callbackKey) => {\n                      callbackConditions[callbackKey] = parser(value[callbackKey]);\n                      return callbackConditions;\n                    }, {}) :\n                    parser(value)\n                  : value;\n              });\n          } else {\n            const parser = parsers[rowKey];\n            whereResult[rowKey] = parser ? parser(conditionValue) : conditionValue;\n          }\n        });\n\n        return whereResult;\n      }, {});\n    }\n\n    return query;\n  },\n\n  _getConcepts(columns, rows) {\n    return columns.map((concept, index) => {\n      const result = { concept };\n\n      if (index < this.keySize) {\n        result.concept_type = \"entity_domain\";\n      } else if (index === this.keySize) {\n        // the column after is expected to have time\n        result.concept_type = \"time\";\n      } else {\n        result.concept_type = \"measure\";\n\n        for (let i = rows.length - 1; i > -1; --i) {\n          if (utils.isString(rows[i][concept]) && rows[i][concept] !== \"\") {\n            result.concept_type = \"entity_set\";\n            [result.domain] = columns;\n            break;\n          }\n        }\n      }\n\n      return result;\n    });\n  },\n\n  _getData(rows, query, parsers) {\n    const { order_by = [] } = query;\n    const [orderBy] = order_by;\n\n    return this._mapRows(rows, query, parsers)\n      .reduce(this._applyQuery(query), [])\n      .sort((prev, next) => prev[orderBy] - next[orderBy]);\n  },\n\n  _isDataQuery(from) {\n    return [\n      this.QUERY_FROM_DATAPOINTS,\n      this.QUERY_FROM_ENTITIES\n    ].includes(from);\n  },\n\n  _mapRows(rows, query, parsers) {\n    return rows.map(this._getRowMapper(query, parsers));\n  },\n\n  _getRowMapper(query, parsers) {\n    return row => {\n      let correct = true;\n\n      const result = Object.keys(row).reduce((result, key) => {\n        if (correct) {\n          const defaultValue = row[key];\n          const defaultValueString = String(defaultValue).trim();\n\n          const parser = parsers[key];\n          const resultValue = !utils.isString(defaultValue) ?\n            defaultValue :\n            parser ?\n              parser(defaultValueString) :\n              this._parse(defaultValueString);\n\n          if (!resultValue && resultValue !== 0) {\n            if (query.select.key.includes(key)) {\n              correct = false;\n            }\n          } else {\n            result[key] = resultValue;\n          }\n        }\n\n        return result;\n      }, {});\n\n      return correct && result;\n    };\n  },\n\n  _parse(value) {\n    return value;\n  },\n\n  _applyQuery(query) {\n    const {\n      select,\n      from\n    } = query;\n\n    const [uniqueKey] = select.key;\n    const uniqueValues = [];\n\n    return (result, row) => {\n\n      if (row) {\n        const unique = row[uniqueKey];\n        const isUnique = from !== this.QUERY_FROM_ENTITIES || !uniqueValues.includes(unique);\n        const isSuitable = this._isSuitableRow(query, row);\n\n        if (isSuitable && isUnique) {\n          if (from === this.QUERY_FROM_ENTITIES) {\n            uniqueValues.push(unique);\n          }\n\n          const rowFilteredByKeys = Object.keys(row)\n            .reduce((resultRow, rowKey) => {\n              if (select.key.includes(rowKey) || select.value.includes(rowKey)) {\n                resultRow[rowKey] = row[rowKey];\n              }\n\n              return resultRow;\n            }, {});\n\n          result.push(rowFilteredByKeys);\n        }\n      }\n\n      return result;\n    };\n  },\n\n  _isSuitableRow(query, row) {\n    const { where } = query;\n\n    return !where.$and ||\n      Object.keys(where.$and).every(conditionKey => {\n        const condition = where.$and[conditionKey];\n        const rowValue = row[conditionKey];\n\n        // if the column is missing, then don't apply filter\n        return typeof rowValue === \"undefined\" ||\n          (typeof condition !== \"object\" ?\n            (rowValue === condition\n              // resolve booleans via strings\n              || condition === true && utils.isString(rowValue) && rowValue.toLowerCase().trim() === \"true\"\n              || condition === false && utils.isString(rowValue) && rowValue.toLowerCase().trim() === \"false\"\n            ) :\n            Object.keys(condition).every(callbackKey =>\n              this.CONDITION_CALLBACKS[callbackKey](condition[callbackKey], rowValue)\n            ));\n      });\n  },\n\n  error(code, message, payload) {\n    return {\n      code,\n      message,\n      payload\n    };\n  }\n\n});\n\nexport default Reader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/reader.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 72\n// module chunks = 0","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_dom-create.js\n// module id = 73\n// module chunks = 0","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_wks-define.js\n// module id = 74\n// module chunks = 0","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_shared-key.js\n// module id = 75\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_enum-bug-keys.js\n// module id = 76\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_is-array.js\n// module id = 77\n// module chunks = 0","module.exports = require('./_global').document && document.documentElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_html.js\n// module id = 78\n// module chunks = 0","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_set-proto.js\n// module id = 79\n// module chunks = 0","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-ws.js\n// module id = 80\n// module chunks = 0","var isObject       = require('./_is-object')\n  , setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function(that, target, C){\n  var P, S = target.constructor;\n  if(S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf){\n    setPrototypeOf(that, P);\n  } return that;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_inherit-if-required.js\n// module id = 81\n// module chunks = 0","'use strict';\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n\nmodule.exports = function repeat(count){\n  var str = String(defined(this))\n    , res = ''\n    , n   = toInteger(count);\n  if(n < 0 || n == Infinity)throw RangeError(\"Count can't be negative\");\n  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\n  return res;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-repeat.js\n// module id = 82\n// module chunks = 0","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x){\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_math-sign.js\n// module id = 83\n// module chunks = 0","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x){\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_math-expm1.js\n// module id = 84\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-at.js\n// module id = 85\n// module chunks = 0","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iter-define.js\n// module id = 86\n// module chunks = 0","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iter-create.js\n// module id = 87\n// module chunks = 0","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp')\n  , defined  = require('./_defined');\n\nmodule.exports = function(that, searchString, NAME){\n  if(isRegExp(searchString))throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-context.js\n// module id = 88\n// module chunks = 0","var MATCH = require('./_wks')('match');\nmodule.exports = function(KEY){\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch(e){\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch(f){ /* empty */ }\n  } return true;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_fails-is-regexp.js\n// module id = 89\n// module chunks = 0","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_is-array-iter.js\n// module id = 90\n// module chunks = 0","'use strict';\nvar $defineProperty = require('./_object-dp')\n  , createDesc      = require('./_property-desc');\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_create-property.js\n// module id = 91\n// module chunks = 0","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/core.get-iterator-method.js\n// module id = 92\n// module chunks = 0","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object')\n  , toIndex  = require('./_to-index')\n  , toLength = require('./_to-length');\nmodule.exports = function fill(value /*, start = 0, end = @length */){\n  var O      = toObject(this)\n    , length = toLength(O.length)\n    , aLen   = arguments.length\n    , index  = toIndex(aLen > 1 ? arguments[1] : undefined, length)\n    , end    = aLen > 2 ? arguments[2] : undefined\n    , endPos = end === undefined ? length : toIndex(end, length);\n  while(endPos > index)O[index++] = value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-fill.js\n// module id = 93\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.iterator.js\n// module id = 94\n// module chunks = 0","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_species-constructor.js\n// module id = 95\n// module chunks = 0","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_task.js\n// module id = 96\n// module chunks = 0","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_microtask.js\n// module id = 97\n// module chunks = 0","'use strict';\nvar global         = require('./_global')\n  , DESCRIPTORS    = require('./_descriptors')\n  , LIBRARY        = require('./_library')\n  , $typed         = require('./_typed')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , fails          = require('./_fails')\n  , anInstance     = require('./_an-instance')\n  , toInteger      = require('./_to-integer')\n  , toLength       = require('./_to-length')\n  , gOPN           = require('./_object-gopn').f\n  , dP             = require('./_object-dp').f\n  , arrayFill      = require('./_array-fill')\n  , setToStringTag = require('./_set-to-string-tag')\n  , ARRAY_BUFFER   = 'ArrayBuffer'\n  , DATA_VIEW      = 'DataView'\n  , PROTOTYPE      = 'prototype'\n  , WRONG_LENGTH   = 'Wrong length!'\n  , WRONG_INDEX    = 'Wrong index!'\n  , $ArrayBuffer   = global[ARRAY_BUFFER]\n  , $DataView      = global[DATA_VIEW]\n  , Math           = global.Math\n  , RangeError     = global.RangeError\n  , Infinity       = global.Infinity\n  , BaseBuffer     = $ArrayBuffer\n  , abs            = Math.abs\n  , pow            = Math.pow\n  , floor          = Math.floor\n  , log            = Math.log\n  , LN2            = Math.LN2\n  , BUFFER         = 'buffer'\n  , BYTE_LENGTH    = 'byteLength'\n  , BYTE_OFFSET    = 'byteOffset'\n  , $BUFFER        = DESCRIPTORS ? '_b' : BUFFER\n  , $LENGTH        = DESCRIPTORS ? '_l' : BYTE_LENGTH\n  , $OFFSET        = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nvar packIEEE754 = function(value, mLen, nBytes){\n  var buffer = Array(nBytes)\n    , eLen   = nBytes * 8 - mLen - 1\n    , eMax   = (1 << eLen) - 1\n    , eBias  = eMax >> 1\n    , rt     = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0\n    , i      = 0\n    , s      = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0\n    , e, m, c;\n  value = abs(value)\n  if(value != value || value === Infinity){\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if(value * (c = pow(2, -e)) < 1){\n      e--;\n      c *= 2;\n    }\n    if(e + eBias >= 1){\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if(value * c >= 2){\n      e++;\n      c /= 2;\n    }\n    if(e + eBias >= eMax){\n      m = 0;\n      e = eMax;\n    } else if(e + eBias >= 1){\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for(; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for(; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n};\nvar unpackIEEE754 = function(buffer, mLen, nBytes){\n  var eLen  = nBytes * 8 - mLen - 1\n    , eMax  = (1 << eLen) - 1\n    , eBias = eMax >> 1\n    , nBits = eLen - 7\n    , i     = nBytes - 1\n    , s     = buffer[i--]\n    , e     = s & 127\n    , m;\n  s >>= 7;\n  for(; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for(; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if(e === 0){\n    e = 1 - eBias;\n  } else if(e === eMax){\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n};\n\nvar unpackI32 = function(bytes){\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n};\nvar packI8 = function(it){\n  return [it & 0xff];\n};\nvar packI16 = function(it){\n  return [it & 0xff, it >> 8 & 0xff];\n};\nvar packI32 = function(it){\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n};\nvar packF64 = function(it){\n  return packIEEE754(it, 52, 8);\n};\nvar packF32 = function(it){\n  return packIEEE754(it, 23, 4);\n};\n\nvar addGetter = function(C, key, internal){\n  dP(C[PROTOTYPE], key, {get: function(){ return this[internal]; }});\n};\n\nvar get = function(view, bytes, index, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n};\nvar set = function(view, bytes, index, conversion, value, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = conversion(+value);\n  for(var i = 0; i < bytes; i++)store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n};\n\nvar validateArrayBufferArguments = function(that, length){\n  anInstance(that, $ArrayBuffer, ARRAY_BUFFER);\n  var numberLength = +length\n    , byteLength   = toLength(numberLength);\n  if(numberLength != byteLength)throw RangeError(WRONG_LENGTH);\n  return byteLength;\n};\n\nif(!$typed.ABV){\n  $ArrayBuffer = function ArrayBuffer(length){\n    var byteLength = validateArrayBufferArguments(this, length);\n    this._b       = arrayFill.call(Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength){\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH]\n      , offset       = toInteger(byteOffset);\n    if(offset < 0 || offset > bufferLength)throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if(offset + byteLength > bufferLength)throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if(DESCRIPTORS){\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset){\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset){\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /*, littleEndian */){\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if(!fails(function(){\n    new $ArrayBuffer;     // eslint-disable-line no-new\n  }) || !fails(function(){\n    new $ArrayBuffer(.5); // eslint-disable-line no-new\n  })){\n    $ArrayBuffer = function ArrayBuffer(length){\n      return new BaseBuffer(validateArrayBufferArguments(this, length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for(var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j; ){\n      if(!((key = keys[j++]) in $ArrayBuffer))hide($ArrayBuffer, key, BaseBuffer[key]);\n    };\n    if(!LIBRARY)ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2))\n    , $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if(view.getInt8(0) || !view.getInt8(1))redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_typed-buffer.js\n// module id = 98\n// module chunks = 0","const getDepth = key => key.match(/\\//g).length;\n\nconst requireAll = (_require, depth) => {\n  let keys = _require.keys();\n\n  if (depth) {\n    keys = keys.filter(\n      typeof depth === \"function\" ?\n        key => depth(getDepth(key)) :\n        key => getDepth(key) === depth + 1\n    );\n  }\n\n  return keys.reduce((result, key) => {\n    const name = /([^/]+)\\..+$/.exec(key)[1];\n\n    try {\n      const required = _require(key);\n      result[name] = required.default || required;\n    } catch (err) {\n      console.warn(\"Import error\", key, err);\n    }\n\n    return result;\n  }, {});\n};\n\nexport default requireAll;\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/requireAll.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n\n/*!\n * VIZABI Axis Model (hook)\n */\n\nconst AxisModel = Hook.extend({\n\n  //some hooks can be important. like axis x and y\n  //that means, if X or Y doesn't have data at some point, we can't show markers\n  _important: true,\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null,\n      domainMin: null,\n      domainMax: null,\n      zoomedMin: null,\n      zoomedMax: null,\n      scaleType: \"linear\",\n      allow: {\n        scales: [\"linear\", \"log\", \"genericLog\", \"time\", \"pow\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  autoGenerateModel() {\n    if (this.which == null && this.autogenerate) {\n\n      let concept = this.dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n      if (!concept) {\n        concept = this.dataSource.getConceptByIndex(0, \"time\");\n      }\n\n      this.which = concept.concept;\n    }\n  },\n\n  _type: \"axis\",\n\n  /**\n   * Validates a color hook\n   */\n  validate() {\n    this._super();\n\n    //restore the correct object type for time values\n    if (this.scale && this.scaleType == \"time\") {\n      const obj = {};\n      if (this.zoomedMin != null && !utils.isDate(this.zoomedMin)) obj.zoomedMin = this._space.time.parse(this.zoomedMin.toString());\n      if (this.zoomedMax != null && !utils.isDate(this.zoomedMax)) obj.zoomedMax = this._space.time.parse(this.zoomedMax.toString());\n      this.set(obj);\n    }\n\n  },\n\n  /**\n   * Gets the domain for this hook\n   * @returns {Array} domain\n   */\n  buildScale(scaleType = this.scaleType) {\n    let domain;\n\n    if (scaleType == \"time\") {\n\n      const timeMdl = this._space.time;\n      const limits = timeMdl.splash ?\n        { min: timeMdl.parse(timeMdl.startOrigin), max: timeMdl.parse(timeMdl.endOrigin) }\n        :\n        { min: timeMdl.start, max: timeMdl.end };\n\n      domain = [limits.min, limits.max];\n      this.scale = d3.scaleUtc().domain(domain);\n\n    } else {\n\n      if (!this.isDiscrete()) {\n        const limits = this.getLimits(this.which);\n        //default domain is based on limits\n        domain = [limits.min, limits.max];\n        //min and max can override the domain if defined\n        domain[0] = this.domainMin != null ? +this.domainMin : domain[0];\n        domain[1] = this.domainMax != null ? +this.domainMax : domain[1];\n      } else {\n        domain = this.use === \"constant\" ? [this.which] : this.getUnique(this.which);\n      }\n\n      scaleType = (d3.min(domain) <= 0 && d3.max(domain) >= 0 && scaleType === \"log\") ? \"genericLog\" : scaleType;\n\n      const _scaleType = (scaleType === \"ordinal\" ? \"point\" : scaleType) || \"linear\";\n      this.scale = d3[`scale${utils.capitalize(_scaleType)}`]()\n        .domain(domain);\n    }\n\n    this.scaleType = scaleType;\n  },\n\n  /**\n   * Formats date according to time in this hook's space\n   * @param {Date} date object to format\n   * @returns {String} formatted date\n   */\n  formatDate(dateObject) {\n    // improvement would be to check concept type of each space-dimension if it's time.\n    // Below code works as long we have one time model: time.\n    return this._space.time.formatDate(dateObject);\n  },\n\n  _getZoomed(type) {\n    const zoomed = this[`zoomed${type}`];\n    return zoomed !== null ? zoomed : d3[type.toLowerCase()](this.getScale().domain());\n  },\n\n  getZoomedMin() {\n    return this._getZoomed(\"Min\");\n  },\n\n  getZoomedMax() {\n    return this._getZoomed(\"Max\");\n  },\n\n});\n\nexport default AxisModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/axis.js","import * as utils from \"base/utils\";\nimport Model from \"base/model\";\nimport Reader from \"base/reader\";\nimport EventSource from \"base/events\";\nimport { DataStorage } from \"base/datastorage\";\n/*\n * VIZABI Data Model (model.data)\n */\n\nconst DataModel = Model.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      reader: \"csv\"\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  trackInstances: true,\n\n  /**\n   * Initializes the data model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"data\";\n\n    this.queryQueue = {};\n    this._collection = {};\n    this._collectionPromises = {}; // stores promises, making sure we don't do one calulation twice\n\n    //same constructor as parent, with same arguments\n    this._super(name, values, parent, bind);\n\n    this.readerObject = this.getReader();\n\n  },\n\n  /**\n   * Loads concept properties when all other models are also starting to load data\n   * @return {Promise} Promise which resolves when concepts are loaded\n   */\n  preloadData() {\n    return this.loadConceptProps();\n  },\n\n  /**\n   * Loads resource from reader or cache\n   * @param {Array} query Array with queries to be loaded\n   * @param {Object} parsers An object with concepts as key and parsers as value\n   * @param {*} evts ?\n   */\n  load(query, parsers = {}) {\n    // add waffle server specific query clauses if set\n    if (this.dataset) query.dataset = this.dataset;\n    if (this.version) query.version = this.version;\n    const dataId = DataStorage.getDataId(query, this.readerObject);\n    if (dataId) {\n      return Promise.resolve(dataId);\n    }\n    utils.timeStamp(\"Vizabi Data: Loading Data\");\n    EventSource.freezeAll([\n      \"hook_change\",\n      \"resize\"\n    ]);\n\n    return DataStorage.loadFromReader(query, parsers, this.readerObject)\n      .then(dataId => {\n        EventSource.unfreezeAll();\n        return dataId;\n      })\n      .catch(error => this.handleLoadError(error, query));\n  },\n\n  getAsset(assetName, callback) {\n    return this.readerObject.getAsset(assetName)\n      .then(response => callback(response))\n      .catch(error => this.handleLoadError(error, assetName));\n  },\n\n  getReader() {\n    // Create a new reader for this query\n    const readerClass = Reader.get(this.reader);\n    if (!readerClass) {\n      throw new Error(\"Unknown reader: \" + this.reader);\n    }\n\n    return new readerClass(this.getPlainObject());\n  },\n\n  /**\n   * get data\n   */\n  getData(dataId, what, whatId, args) {\n    // if not specified data from what query, return nothing\n    if (!dataId) return utils.warn(\"Data.js 'get' method doesn't like the dataId you gave it: \" + dataId);\n    return DataStorage.getData(dataId, what, whatId, args);\n  },\n\n  loadConceptProps() {\n    const query = {\n      select: {\n        key: [\"concept\"],\n        value: [\n          \"concept_type\",\n          \"domain\",\n          \"indicator_url\",\n          \"color\",\n          \"scales\",\n          \"interpolation\",\n          \"tags\",\n          \"name\",\n          \"unit\",\n          \"description\",\n          \"format\"\n        ]\n      },\n      from: \"concepts\",\n      where: {},\n      language: this.getClosestModel(\"locale\").id,\n    };\n\n    return this.load(query)\n      .then(this.handleConceptPropsResponse.bind(this))\n      .catch(error => this.handleLoadError(error, query));\n\n  },\n\n  handleConceptPropsResponse(dataId) {\n\n    this.conceptDictionary = { _default: { concept_type: \"string\", use: \"constant\", scales: [\"ordinal\"], tags: \"_root\" } };\n    this.conceptArray = [];\n\n    this.getData(dataId).forEach(d => {\n      const concept = {};\n\n      if (d.concept_type) concept[\"use\"] = (d.concept_type == \"measure\" || d.concept_type == \"time\") ? \"indicator\" : \"property\";\n\n      concept[\"concept_type\"] = d.concept_type;\n      concept[\"sourceLink\"] = d.indicator_url;\n      try {\n        concept[\"color\"] = d.color && d.color !== \"\" ? JSON.parse(d.color) : null;\n      } catch (e) {\n        concept[\"color\"] = null;\n      }\n      try {\n        concept[\"scales\"] = d.scales ? JSON.parse(d.scales) : null;\n      } catch (e) {\n        concept[\"scales\"] = null;\n      }\n      if (!concept.scales) {\n        switch (d.concept_type) {\n          case \"measure\": concept.scales = [\"linear\", \"log\"]; break;\n          case \"string\": concept.scales = [\"nominal\"]; break;\n          case \"entity_domain\": concept.scales = [\"ordinal\"]; break;\n          case \"entity_set\": concept.scales = [\"ordinal\"]; break;\n          case \"time\": concept.scales = [\"time\"]; break;\n        }\n      }\n      if (concept[\"scales\"] == null) concept[\"scales\"] = [\"linear\", \"log\"];\n      if (d.interpolation) {\n        concept[\"interpolation\"] = d.interpolation;\n      } else if (d.concept_type == \"measure\") {\n        concept[\"interpolation\"] = concept.scales && concept.scales[0] == \"log\" ? \"exp\" : \"linear\";\n      } else if (d.concept_type == \"time\") {\n        concept[\"interpolation\"] = \"linear\";\n      } else {\n        concept[\"interpolation\"] = \"stepMiddle\";\n      }\n      concept[\"concept\"] = d.concept;\n      concept[\"domain\"] = d.domain;\n      concept[\"tags\"] = d.tags;\n      concept[\"format\"] = d.format;\n      concept[\"name\"] = d.name || d.concept || \"\";\n      concept[\"unit\"] = d.unit || \"\";\n      concept[\"description\"] = d.description;\n      this.conceptDictionary[d.concept] = concept;\n      this.conceptArray.push(concept);\n    });\n\n  },\n\n  getConceptprops(which) {\n    return which ?\n      utils.getProp(this, [\"conceptDictionary\", which]) || utils.warn(\"The concept \" + which + \" is not found in the dictionary\") :\n      this.conceptDictionary;\n  },\n\n  getConceptByIndex(index, type) {\n    //if(!concept && type == \"measure\") concept = this.conceptArray.filter(f => f.concept_type===\"time\")[0];\n    return this.conceptArray.filter(f => !type || !f.concept_type || f.concept_type === type)[index];\n  },\n\n  getDatasetName() {\n    if (this.readerObject.getDatasetInfo) {\n      const meta = this.readerObject.getDatasetInfo();\n      return meta.name + (meta.version ? \" \" + meta.version : \"\");\n    }\n    return this._name;\n  },\n\n  setGrouping(dataId, grouping) {\n    DataStorage.setGrouping(dataId, grouping);\n  },\n\n  getFrames(dataId, framesArray, keys) {\n    return DataStorage.getFrames(dataId, framesArray, keys, this.getConceptprops());\n  },\n\n\n  getFrame(dataId, framesArray, neededFrame, keys) {\n    //can only be called after getFrames()\n    return DataStorage.getFrame(dataId, framesArray, neededFrame, keys);\n  },\n\n  listenFrame(dataId, framesArray, keys,  cb) {\n    DataStorage.listenFrame(dataId, framesArray, keys,  cb);\n  },\n\n  handleLoadError(error, query) {\n    if (utils.isObject(error)) {\n      const locale = this.getClosestModel(\"locale\");\n      const translation = locale.getTFunction()(error.code, error.payload) || \"\";\n      error = `${translation} ${error.message || \"\"}`.trim();\n    }\n\n    utils.warn(\"Problem with query: \", query);\n    this._super(error);\n  },\n\n});\n\nexport default DataModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/data.js","export default {\n  build: __BUILD,\n  version: __VERSION\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/globals.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\n\n/*!\n * VIZABI BUBBLE SIZE slider\n * Reusable bubble size slider\n */\n\nconst OPTIONS = {\n  EXTENT_MIN: 0,\n  EXTENT_MAX: 1,\n  TEXT_PARAMS: { TOP: 11, LEFT: 10, MAX_WIDTH: 42, MAX_HEIGHT: 16 },\n  BAR_WIDTH: 6,\n  THUMB_RADIUS: 10,\n  THUMB_STROKE_WIDTH: 4,\n  INTRO_DURATION: 250\n};\n\nconst profiles = {\n  \"small\": {\n    minRadiusPx: 0.5,\n    maxRadiusEm: 0.05\n  },\n  \"medium\": {\n    minRadiusPx: 1,\n    maxRadiusEm: 0.05\n  },\n  \"large\": {\n    minRadiusPx: 1,\n    maxRadiusEm: 0.05\n  }\n};\n\n\nconst BubbleSize = Component.extend({\n\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init(config, context) {\n\n    this.name = \"bubblesize\";\n\n    this.template = this.template || require(\"./bubblesize.html\");\n\n    this.model_expects = [{\n      name: \"size\",\n      type: \"size\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    const _this = this;\n    this.model_binds = {\n      \"change:size.domainMin\": changeMinMaxHandler,\n      \"change:size.domainMax\": changeMinMaxHandler,\n      \"change:size.extent\": changeMinMaxHandler,\n      \"ready\": readyHandler\n    };\n\n    function changeMinMaxHandler(evt, path) {\n      const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._updateLabels(extent);\n      _this._moveBrush(extent);\n    }\n\n    function readyHandler(evt) {\n      _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n      _this._setLabelsText();\n    }\n\n    this._setModel = utils.throttle(this._setModel, 50);\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available as a d3 object\n   */\n  readyOnce() {\n    const _this = this;\n    const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    this.showArcs = _this.model.size.showArcs !== false;\n\n    this.element = d3.select(this.element);\n    this.sliderSvg = this.element.select(\".vzb-bs-svg\");\n    this.sliderWrap = this.sliderSvg.select(\".vzb-bs-slider-wrap\");\n    this.sliderEl = this.sliderWrap.select(\".vzb-bs-slider\");\n\n    const textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n    const textMaxWidth = OPTIONS.TEXT_PARAMS.MAX_WIDTH;\n    const textMaxHeight = OPTIONS.TEXT_PARAMS.MAX_HEIGHT;\n    const barWidth = OPTIONS.BAR_WIDTH;\n    const thumbRadius = OPTIONS.THUMB_RADIUS;\n    const thumbStrokeWidth = OPTIONS.THUMB_STROKE_WIDTH;\n\n    this.padding = {\n      top: thumbStrokeWidth,\n      left: textMargin.h + textMaxWidth,\n      right: textMargin.h + textMaxWidth,\n      bottom: barWidth + textMaxHeight\n    };\n\n    const minMaxBubbleRadius = this.getMinMaxBubbleRadius();\n\n    this.xScale = d3.scaleLinear()\n      .domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX])\n      .range([minMaxBubbleRadius.min * 2, minMaxBubbleRadius.max * 2])\n      .clamp(true);\n\n    this.brush = d3.brushX()\n      .extent([[0, 0], [minMaxBubbleRadius.max * 2, barWidth]])\n      .handleSize(thumbRadius * 2 + barWidth * 2)\n      .on(\"start\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n          const brushDatum = _this.sliderEl.node().__brush;\n          brushDatum.selection[1][0] += 0.01;\n        }\n        _this._setFromExtent(false, false, false);\n      })\n      .on(\"brush\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n          const brushDatum = _this.sliderEl.node().__brush;\n          brushDatum.selection[1][0] += 0.01;\n        }\n        _this._setFromExtent(true, false, false); // non persistent change\n      })\n      .on(\"end\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        _this._setFromExtent(true, true); // force a persistent change\n      });\n\n    this.sliderThumbs = this.sliderEl.selectAll(\".handle\")\n      .data([{ type: \"w\" }, { type: \"e\" }], d => d.type)\n      .enter().append(\"svg\").attr(\"class\", d => \"handle handle--\" + d.type)\n      .classed(\"vzb-bs-slider-thumb\", true);\n\n    this.sliderThumbs.append(\"g\")\n      .attr(\"class\", \"vzb-bs-slider-thumb-badge\")\n      .append(\"path\")\n      .attr(\"d\", \"M\" + (thumbRadius + barWidth) + \" \" + (thumbRadius + barWidth * 1.5) + \"l\" + (-thumbRadius) + \" \" + (thumbRadius * 1.5) + \"h\" + (thumbRadius * 2) + \"Z\");\n\n    this.sliderEl\n      .call(_this.brush);\n\n    //For return to round thumbs\n    //var thumbArc = d3.arc()\n    //  .outerRadius(thumbRadius)\n    //  .startAngle(0)\n    //  .endAngle(2 * Math.PI)\n\n    //For return to circles\n    //.attr(\"d\", \"M0 0 l\" + (thumbRadius * 2) + \" \" + (-thumbRadius) + \"v\" + (thumbRadius * 2) + \"Z\")\n\n    //For return to round thumbs\n    //.attr(\"d\", thumbArc)\n\n    if (_this.showArcs) {\n      this.sliderEl.selectAll(\".vzb-bs-slider-thumb-arc\").data([0, 0]).enter()\n        .append(\"path\")\n        .attr(\"class\", \"vzb-bs-slider-thumb-arc\");\n    }\n\n    this.sliderArcsEl = this.sliderEl.selectAll(\".vzb-bs-slider-thumb-arc\");\n\n    this.sliderLabelsWrapperEl = this.sliderEl.append(\"g\");\n    this.sliderLabelsWrapperEl.selectAll(\"text\").data([0, 0]).enter()\n      .append(\"text\")\n      .attr(\"class\", \"vzb-bs-slider-thumb-label\")\n      .attr(\"text-anchor\", (d, i) => i ? \"start\" : \"end\")\n      .attr(\"dy\", (d, i) => i ? \"-0.7em\" : \"1.4em\");\n\n    this.sliderLabelsEl = this.sliderEl.selectAll(\"text.vzb-bs-slider-thumb-label\");\n\n    this.sliderEl.selectAll(\".selection,.overlay\")\n      .attr(\"height\", barWidth)\n      .attr(\"rx\", barWidth * 0.25)\n      .attr(\"ry\", barWidth * 0.25)\n      .attr(\"transform\", \"translate(0,\" + (-barWidth * 0.5) + \")\");\n\n    //For return to circles\n    // var circleLabelTransform = function(d, i) {\n    //    var dX = i ? textMargin.h + _this.xScale(d) : -textMargin.h,\n    //        dY = -textMargin.v;\n    //    return \"translate(\" + (dX) + \",\" + (dY) + \")\";\n    // }\n\n    this.on(\"resize\", () => {\n      //console.log(\"EVENT: resize\");\n      const minMaxBubbleRadius = _this.getMinMaxBubbleRadius();\n      _this.xScale.range([minMaxBubbleRadius.min * 2, minMaxBubbleRadius.max * 2]);\n      _this._updateSize();\n      _this.sliderEl.call(_this.brush.extent([[0, 0], [minMaxBubbleRadius.max * 2, barWidth]]));\n      const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._moveBrush(extent);\n    });\n\n    this._moveBrush(extent);\n\n    this.sizeScaleMinMax = this.model.size.getScale().domain();\n\n    if (this.sizeScaleMinMax) {\n      this._setLabelsText();\n    }\n  },\n\n  ready() {\n    this.isRTL = this.model.locale.isRTL();\n    this._updateSize();\n    this._updateLabels();\n  },\n\n  getMinMaxBubbleRadius() {\n    const containerWH = this.root.getVizWidthHeight();\n    const minWH = utils.hypotenuse(containerWH.width, containerWH.height);\n\n    const min = profiles[this.getLayoutProfile()].minRadiusPx;\n    let max = profiles[this.getLayoutProfile()].maxRadiusEm * minWH;\n    if (min > max) max = min;\n\n    return { min, max };\n  },\n\n  _moveBrush(s) {\n    const _s = s.map(this.xScale);\n    this.nonBrushChange = true;\n    this.sliderEl.call(this.brush.move, [_s[0], _s[1] + 0.01]);\n    this.nonBrushChange = false;\n    this._setFromExtent(false, false, false);\n  },\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   */\n  _updateSize() {\n    const maxBubbleRadius = this.showArcs ? this.getMinMaxBubbleRadius().max : OPTIONS.TEXT_PARAMS.TOP * 2;\n    const isRTL = this.model.locale.isRTL();\n    const svgWidth = this.getMinMaxBubbleRadius().max * 2 + this.padding.left + this.padding.right;\n\n    this.sliderSvg\n      .attr(\"height\", maxBubbleRadius + this.padding.top + this.padding.bottom)\n      .attr(\"width\", svgWidth);\n    this.sliderWrap\n      .attr(\"transform\", isRTL ? \"translate(\" + (svgWidth - this.padding.right) + \",\" + (maxBubbleRadius + this.padding.top) + \") scale(-1,1)\" :\n        \"translate(\" + this.padding.left + \",\" + (maxBubbleRadius + this.padding.top) + \")\");\n    this.sliderLabelsWrapperEl\n      .attr(\"transform\", isRTL ? \"scale(-1,1)\" : null);\n    this.sliderLabelsEl\n      .attr(\"text-anchor\", (d, i) => (isRTL ? !i : i) ? \"start\" : \"end\");\n  },\n\n  _updateArcs(s) {\n    if (!this.showArcs) return;\n    const _this = this;\n    const valueArc = d3.arc()\n      .outerRadius(d => _this.xScale(d) * 0.5)\n      .innerRadius(d => _this.xScale(d) * 0.5)\n      .startAngle(-Math.PI * 0.5)\n      .endAngle(Math.PI * 0.5);\n    this.sliderArcsEl.data(s)\n      .attr(\"d\", valueArc)\n      .attr(\"transform\", d => \"translate(\" + (_this.xScale(d) * 0.5) + \",0)\");\n  },\n\n  _updateLabels(s) {\n    const _this = this;\n    if (s) { this.sliderLabelsEl.data(s); }\n    this.sliderLabelsEl\n      .attr(\"transform\", (d, i) => {\n        const textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n        const dX = textMargin.h * (i ? 0.5 : -1.0) + _this.xScale(d);\n        const dY = 0;\n        return \"translate(\" + ((_this.isRTL ? -1 : 1) * dX) + \",\" + (dY) + \")\";\n      });\n  },\n\n  _setLabelsText() {\n    const _this = this;\n    const texts = [_this.model.size.getTickFormatter()(_this.sizeScaleMinMax[0]), _this.model.size.getTickFormatter()(_this.sizeScaleMinMax[1])];\n    _this.sliderLabelsEl\n      .text((d, i) => texts[i]);\n  },\n\n  /**\n   * Prepares setting of the current model with the values from extent.\n   * @param {boolean} set model\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setFromExtent(setModel, force, persistent) {\n    let s = d3.brushSelection(this.sliderEl.node());\n    if (!s) return;\n    s = [this.xScale.invert(s[0]), this.xScale.invert(+s[1].toFixed(1))];\n    this._updateArcs(s);\n    this._updateLabels(s);\n    if (setModel) this._setModel(s, force, persistent);\n  },\n\n  /**\n   * Sets the current value in model. avoid updating more than once in framerate\n   * @param {number} value\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setModel(value, force, persistent) {\n    value = [+value[0].toFixed(2), +value[1].toFixed(2)];\n    this.model.size.set({ \"extent\": value }, force, persistent);\n  }\n\n});\n\nexport default BubbleSize;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bubblesize/bubblesize.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport ColorPicker from \"helpers/d3.colorPicker\";\nimport axisSmart from \"helpers/d3.axisWithLabelPicker\";\nimport { close as iconClose } from \"base/iconset\";\n\n/*!\n * VIZABI BUBBLE COLOR LEGEND COMPONENT\n */\n\nconst ColorLegend = Component.extend({\n\n  init(config, context) {\n    const _this = this;\n    this.template = '<div class=\"vzb-cl-outer\"></div>';\n    this.name = \"colorlegend\";\n\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"entities\",\n      type: \"entities\"\n    }, {\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"color\",\n      type: \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }, {\n      name: \"ui\",\n      type: \"ui\",\n    }];\n\n    this.model_binds = {\n      \"change:color.scaleType\": function(evt, path) {\n        if (!_this._readyOnce || _this.colorModel.isDiscrete()) return;\n        _this.updateView();\n      },\n      \"change:color.palette\": function(evt, path) {\n        if (!_this._readyOnce || (_this.colorModel.isDiscrete() && !_this.frame)) return;\n        _this.updateView();\n      },\n      \"change:marker.highlight\": function(evt, values) {\n        if (!_this.colorModel.isDiscrete()) return;\n\n        _this.model.marker.getFrame(_this.model.time.value, frame => {\n          if (frame) {\n            const _hlEntities = _this.model.marker.getHighlighted(_this.KEY);\n            _this.updateGroupsOpacity(_hlEntities.map(d => frame[_this.colorModel._name][d]));\n          } else {\n            _this.updateGroupsOpacity();\n          }\n        });\n      },\n      \"translate:locale\": function() {\n        _this.colorPicker.translate(_this.model.locale.getTFunction());\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n  readyOnce() {\n    const _this = this;\n    this.element = d3.select(this.element);\n\n    //make color in options scrollable\n    d3.select(this.placeholder.parentNode).classed(\"vzb-dialog-scrollable\", true);\n\n    this.colorModel = this.model.color;\n    this.colorlegendMarker = this.colorModel.getColorlegendMarker();\n    if (this.colorlegendMarker) {\n      this.colorlegendMarker.on(\"ready\", () => {\n        _this.ready();\n      });\n    }\n    this.listColorsEl = this.element\n      .append(\"div\").attr(\"class\", \"vzb-cl-holder\")\n      .append(\"div\").attr(\"class\", \"vzb-cl-colorlist\");\n\n    this.rainbowEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-rainbow\");\n    this.rainbowCanvasEl = this.rainbowEl.append(\"canvas\");\n    this.minimapEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-minimap\");\n    this.rainbowLegendEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-rainbow-legend\");\n    this.rainbowLegendSVG = this.rainbowLegendEl.append(\"svg\");\n    this.rainbowLegendG = this.rainbowLegendSVG.append(\"g\");\n    this.rainbowLegend = null;\n\n    this.labelScaleEl = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-labelscale\");\n    this.labelScaleSVG = this.labelScaleEl.append(\"svg\");\n    this.labelScaleG = this.labelScaleSVG.append(\"g\");\n    this.unitDiv = this.listColorsEl.append(\"div\").attr(\"class\", \"vzb-cl-unit\");\n    this.unitText = this.unitDiv.append(\"span\").attr(\"class\", \"vzb-cl-unit-text\");\n\n    this.minimapSVG = this.minimapEl.append(\"svg\");\n    this.minimapG = this.minimapSVG.append(\"g\");\n\n    this.colorPicker = new ColorPicker(\n      utils.isArray(this.root.element) ?\n        this.root.element :\n        d3.select(this.root.element)\n    );\n\n    this.colorPicker.translate(this.model.locale.getTFunction());\n    this._initSelectDialog();\n  },\n\n  _initSelectDialog() {\n    const t = this.model.locale.getTFunction();\n\n    this.moreOptionsHint = this.listColorsEl.append(\"span\")\n      .classed(\"vzb-cl-more-hint vzb-hidden\", true)\n      .text(t(\"hints/color/more\"));\n\n    this.selectDialog = this.listColorsEl.append(\"div\").classed(\"vzb-cl-select-dialog vzb-hidden\", true);\n    this._initSelectDialogItems();\n  },\n\n  _initSelectDialogItems() {\n    const t = this.model.locale.getTFunction();\n\n    this.selectDialogTitle = this.selectDialog.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-title\", true);\n\n    this.selectDialog.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-close\", true)\n      .html(iconClose)\n      .on(\"click\", () => this._closeSelectDialog());\n\n    this.selectAllButton = this.selectDialog.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-item\", true)\n      .text(\"✅ \" + t(\"dialogs/color/select-all\"));\n\n    this.removeElseButton = this.selectDialog.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-item\", true)\n      .text(\"🗑️ \" + t(\"dialogs/color/remove-else\"));\n\n    this.editColorButton = this.selectDialog.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-item vzb-cl-select-dialog-item-moreoptions\", true)\n      .text(\"🎨 \" + t(\"dialogs/color/edit-color\"));\n\n    this.editColorButtonTooltip = this.editColorButton.append(\"div\")\n      .classed(\"vzb-cl-select-dialog-item-tooltip\", true)\n      .text(\"Dataset author doesn't want you to change this\");\n  },\n\n  _closeSelectDialog() {\n    this.selectDialog.classed(\"vzb-hidden\", true);\n  },\n\n  _bindSelectDialogItems(...args) {\n    const [, index, indicators] = args;\n    this.selectDialogTitle.text(indicators[index].textContent);\n\n    this.selectAllButton.on(\"click\", () => {\n      this._interact().clickToSelect(...args);\n      this._closeSelectDialog();\n    });\n\n    this.removeElseButton.on(\"click\", () => {\n      this._interact().clickToShow(...args);\n      this._closeSelectDialog();\n    });\n\n    this.editColorButton.on(\"click\", () => {\n      this._interact().clickToChangeColor(...args);\n      this._closeSelectDialog();\n    });\n  },\n\n  ready() {\n    const _this = this;\n\n    this.KEY = this.model.entities.getDimension();\n    this.colorlegendDim = this.KEY;\n    this.canShowMap = false;\n\n    if (this.colorModel.isDiscrete() && this.colorModel.use !== \"constant\" && this.colorlegendMarker) {\n      if (!this.colorlegendMarker._ready) return;\n\n      this.colorlegendDim = this.colorModel.getColorlegendEntities().getDimension();\n\n      this.colorlegendMarker.getFrame(this.model.time.value, frame => {\n        _this.frame = frame;\n        _this.canShowMap = utils.keys((_this.frame || {}).hook_geoshape || {}).length;\n\n        _this.colorlegendKeys = _this.colorlegendMarker.getKeys(_this.colorlegendDim);\n\n        _this.colorlegendKeys.forEach(d => {\n          if (!((_this.frame || {}).hook_geoshape || {})[d[_this.colorlegendDim]]) _this.canShowMap = false;\n        });\n        _this.updateView();\n        _this.updateGroupsOpacity();\n      });\n      return;\n    }\n\n    _this.updateView();\n    _this.updateGroupsOpacity();\n  },\n\n\n  updateView() {\n    if (!this.element.selectAll) return utils.warn(\"colorlegend resize() aborted because element is not yet defined\");\n\n    const _this = this;\n    const KEY = this.KEY;\n\n    const palette = this.colorModel.getPalette();\n    const canShowMap = this.canShowMap;\n\n    const colorlegendKeys = this.colorlegendKeys || [];\n\n    let colorOptions = this.listColorsEl.selectAll(\".vzb-cl-option\");\n\n    //Hide and show elements of the color legend\n    //Hide color legend entries if showing minimap or if color hook is a constant\n    //or if using a discrete palette that would map to all entities on the chart and therefore will be too long\n    //in the latter case we should show colors in the \"find\" list instead\n    const hideColorOptions = canShowMap\n      || this.colorModel.which == \"_default\"\n      || this.colorlegendMarker && this.colorlegendDim == this.KEY\n        && colorlegendKeys.length > 10 && utils.comparePlainObjects(this.colorModel.getColorlegendEntities().getFilter(), this.model.entities.getFilter());\n\n    colorOptions.classed(\"vzb-hidden\", hideColorOptions);\n\n    this._updateSelectDialog();\n\n    //Hide rainbow element if showing minimap or if color is discrete\n    this.rainbowEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    this.labelScaleEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    this.rainbowLegendEl.classed(\"vzb-hidden\", this.colorModel.isDiscrete());\n    //Hide minimap if no data to draw it\n    this.minimapEl.classed(\"vzb-hidden\", !canShowMap || !this.colorModel.isDiscrete());\n\n    this.unitDiv.classed(\"vzb-hidden\", true);\n    const cScale = this.colorModel.getScale();\n\n    if (!this.colorModel.isDiscrete()) {\n\n      const gradientWidth = this.rainbowEl.node().getBoundingClientRect().width;\n      const paletteKeys = Object.keys(palette).map(parseFloat);\n\n      let domain;\n      let range;\n      const formatter = this.colorModel.getTickFormatter();\n      let fitIntoScale = null;\n\n      const paletteLabels = this.colorModel.paletteLabels;\n\n      if (paletteLabels) {\n\n        fitIntoScale = \"optimistic\";\n\n        domain = paletteLabels.map(val => parseFloat(val));\n        const paletteMax = d3.max(domain);\n        range = domain.map(val => val / paletteMax * gradientWidth);\n\n      } else {\n\n        domain = cScale.domain();\n        const paletteMax = d3.max(paletteKeys);\n        range = paletteKeys.map(val => val / paletteMax * gradientWidth);\n\n      }\n\n      const labelScaleType = (d3.min(domain) <= 0 && d3.max(domain) >= 0 && this.colorModel.scaleType === \"log\") ? \"genericLog\" : this.colorModel.scaleType;\n\n      const labelScale = d3[`scale${utils.capitalize(labelScaleType === \"time\" ? \"linear\" : labelScaleType)}`]()\n        .domain(domain)\n        .range(range);\n\n      const marginLeft = parseInt(this.rainbowEl.style(\"left\"), 10) || 0;\n      const marginRight = parseInt(this.rainbowEl.style(\"right\"), 10) || marginLeft;\n\n      this.labelScaleSVG.style(\"width\", marginLeft + gradientWidth + marginRight + \"px\");\n      this.labelScaleG.attr(\"transform\", \"translate(\" + marginLeft + \",0)\");\n      this.rainbowLegendSVG.style(\"width\", marginLeft + gradientWidth + marginRight + \"px\");\n      this.rainbowLegendG.attr(\"transform\", \"translate(\" + marginLeft + \", \" + 7 + \")\");\n      const labelsAxis = axisSmart(\"bottom\");\n      labelsAxis.scale(labelScale)\n        //.tickFormat(formatter)\n        .tickSizeOuter(0)\n        .tickPadding(6)\n        .tickSizeMinor(3, 0)\n        .labelerOptions({\n          scaleType: this.colorModel.scaleType,\n          toolMargin: {\n            right: marginRight,\n            left: marginLeft\n          },\n          showOuter: true,\n          formatter,\n          bump: marginLeft,\n          cssFontSize: \"11px\",\n          fitIntoScale\n        });\n\n      this.labelScaleG.call(labelsAxis);\n\n      const colorRange = cScale.range();\n\n      const gIndicators = range.map((val, i) => ({ val, color: colorRange[i], paletteKey: paletteKeys[i] }));\n      this.rainbowLegend = this.rainbowLegendG.selectAll(\"circle\")\n        .data(gIndicators);\n      this.rainbowLegend.exit().remove();\n      this.rainbowLegend = this.rainbowLegend.enter().append(\"circle\")\n        .attr(\"r\", \"6px\")\n        .attr(\"stroke\", \"#000\")\n        .on(\"click\", _this._interact().clickToChangeColor)\n        .merge(this.rainbowLegend);\n\n      this.rainbowLegend.each(function(d, i) {\n        d3.select(this).attr(\"fill\", d.color);\n        d3.select(this).attr(\"cx\", d.val);\n      });\n\n      this.rainbowCanvasEl\n        .attr(\"width\", gradientWidth)\n        .attr(\"height\", 1)\n        .style(\"width\", gradientWidth + \"px\")\n        .style(\"height\", \"100%\");\n\n      const context = this.rainbowCanvasEl.node().getContext(\"2d\");\n      const image = context.createImageData(gradientWidth, 1);\n      for (let i = 0, j = -1, c; i < gradientWidth; ++i) {\n        c = d3.rgb(cScale(labelScale.invert(i)));\n        image.data[++j] = c.r;\n        image.data[++j] = c.g;\n        image.data[++j] = c.b;\n        image.data[++j] = 255;\n      }\n      context.putImageData(image, 0, 0);\n\n      const unit = this.colorModel.getConceptprops().unit || \"\";\n\n      this.unitDiv.classed(\"vzb-hidden\", unit == \"\");\n      this.unitText.text(unit);\n\n      colorOptions.classed(\"vzb-hidden\", true);\n\n    } else {\n\n      //Check if geoshape is provided\n      if (!canShowMap) {\n\n        if (this.colorModel.which == \"_default\") {\n          colorOptions = colorOptions.data([]);\n        } else {\n          colorOptions = colorOptions.data(hideColorOptions ? [] : colorlegendKeys.length ? colorlegendKeys : Object.keys(this.colorModel.getPalette()).map(value => {\n            const result = {};\n            result[_this.colorlegendDim] = value;\n            return result;\n          }), d => d[_this.colorlegendDim]);\n        }\n\n        colorOptions.exit().remove();\n\n        colorOptions = colorOptions.enter().append(\"div\").attr(\"class\", \"vzb-cl-option\")\n          .each(function() {\n            d3.select(this).append(\"div\").attr(\"class\", \"vzb-cl-color-sample\")\n              .on(\"click\", (...args) => {\n                this._bindSelectDialogItems(...args);\n                this.selectDialog.classed(\"vzb-hidden\", false);\n              });\n            d3.select(this).append(\"div\").attr(\"class\", \"vzb-cl-color-legend\");\n          })\n          .on(\"mouseover\", _this._interact().mouseover)\n          .on(\"mouseout\", _this._interact().mouseout)\n          .on(\"click\", (...args) => {\n            this._bindSelectDialogItems(...args);\n            this.selectDialog.classed(\"vzb-hidden\", false);\n          })\n          .merge(colorOptions);\n\n        colorOptions.each(function(d, index) {\n          d3.select(this).select(\".vzb-cl-color-sample\")\n            .style(\"background-color\", cScale(d[_this.colorlegendDim]))\n            .style(\"border\", \"1px solid \" + cScale(d[_this.colorlegendDim]));\n          //Apply names to color legend entries if color is a property\n          let label = _this.colorlegendMarker ? _this.frame.label[d[_this.colorlegendDim]] : null;\n          if (!label && label !== 0) label = d[_this.colorlegendDim];\n          d3.select(this).select(\".vzb-cl-color-legend\").text(label);\n        });\n\n      } else {\n\n        //Drawing a minimap from the hook data\n\n        const tempdivEl = this.minimapEl.append(\"div\").attr(\"class\", \"vzb-temp\");\n\n        this.minimapSVG.attr(\"viewBox\", null);\n        this.minimapSVG.selectAll(\"g\").remove();\n        this.minimapG = this.minimapSVG.append(\"g\");\n        this.minimapG.selectAll(\"path\")\n          .data(colorlegendKeys, d => d[_this.colorlegendDim])\n          .enter().append(\"path\")\n          .on(\"mouseover\", _this._interact().mouseover)\n          .on(\"mouseout\", _this._interact().mouseout)\n          .on(\"click\", (...args) => {\n            this._bindSelectDialogItems(...args);\n            this.selectDialog.classed(\"vzb-hidden\", false);\n          })\n          .each(function(d) {\n            let shapeString = _this.frame.hook_geoshape[d[_this.colorlegendDim]].trim();\n\n            //check if shape string starts with svg tag -- then it's a complete svg\n            if (shapeString.slice(0, 4) == \"<svg\") {\n              //append svg element from string to the temporary div\n              tempdivEl.html(shapeString);\n              //replace the shape string with just the path data from svg\n              //TODO: this is not very resilient. potentially only the first path will be taken!\n              shapeString = tempdivEl.select(\"svg\").select(\"path\").attr(\"d\");\n            }\n\n            d3.select(this)\n              .attr(\"d\", shapeString)\n              .style(\"fill\", cScale(d[_this.colorlegendDim]))\n              .append(\"title\").html(_this.frame.label[d[_this.colorlegendDim]]);\n\n            tempdivEl.html(\"\");\n          });\n\n        const gbbox = this.minimapG.node().getBBox();\n        this.minimapSVG.attr(\"viewBox\", \"0 0 \" + gbbox.width * 1.05 + \" \" + gbbox.height * 1.05);\n        tempdivEl.remove();\n      }\n    }\n\n  },\n\n  _updateSelectDialog() {\n    const isColorSelectable = this.colorModel.isUserSelectable();\n    this.editColorButtonTooltip.classed(\"vzb-hidden\", isColorSelectable);\n    this.editColorButton.classed(\"vzb-cl-select-dialog-item-disabled\", !isColorSelectable);\n\n    this.selectDialog.classed(\"vzb-hidden\", true);\n  },\n\n  _highlight(values) {\n    utils.getProp(this, [\"model\", \"ui\", \"chart\", \"superhighlightOnMinimapHover\"]) ?\n      this.model.marker.setSuperHighlight(values) :\n      this.model.marker.setHighlight(values);\n  },\n\n  _unhighlight() {\n    utils.getProp(this, [\"model\", \"ui\", \"chart\", \"superhighlightOnMinimapHover\"]) ?\n      this.model.marker.clearSuperHighlighted() :\n      this.model.marker.clearHighlighted();\n  },\n\n  _interact() {\n    const _this = this;\n    const KEY = this.KEY;\n    const colorlegendDim = this.colorlegendDim;\n\n    return {\n      mouseover(d, i) {\n        _this.moreOptionsHint.classed(\"vzb-hidden\", false);\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        const view = d3.select(this);\n        const target = d[colorlegendDim];\n\n        const values = _this.colorModel.getValidItems()\n          //filter so that only countries of the correct target remain\n          .filter(f => f[_this.colorModel.which] == target)\n          //fish out the \"key\" field, leave the rest behind\n          .map(d => utils.clone(d, [KEY]));\n        _this._highlight(values);\n      },\n\n      mouseout(d, i) {\n        _this.moreOptionsHint.classed(\"vzb-hidden\", true);\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n        _this._unhighlight();\n      },\n      clickToChangeColor(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isUserSelectable()) return;\n        const palette = _this.colorModel.getPalette();\n        const defaultPalette = _this.colorModel.getDefaultPalette();\n        const view = d3.select(this);\n        const target = !_this.colorModel.isDiscrete() ? d.paletteKey : d[colorlegendDim];\n        _this.colorPicker\n          .colorOld(palette[target])\n          .colorDef(defaultPalette[target])\n          .callback((value, isClick) => _this.colorModel.setColor(value, target, isClick))\n          .fitToScreen([d3.event.pageX, d3.event.pageY])\n          .show(true);\n      },\n      clickToShow(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        const view = d3.select(this);\n        const target = d[colorlegendDim];\n\n        const oldShow = _this.model.entities.show[colorlegendDim] && _this.model.entities.show[colorlegendDim][\"$in\"] ?\n          utils.clone(_this.model.entities.show[colorlegendDim][\"$in\"]) :\n          [];\n\n        const entityIndex = oldShow.indexOf(d[colorlegendDim]);\n        if (entityIndex !== -1) {\n          oldShow.splice(entityIndex, 1);\n        } else {\n          oldShow.push(d[colorlegendDim]);\n        }\n\n        const show = {};\n        if (oldShow.length > 0)\n          show[colorlegendDim] = { \"$in\": oldShow };\n\n        _this.model.entities.set({ show });\n\n      },\n      clickToSelect(d, i) {\n        //disable interaction if so stated in concept properties\n        if (!_this.colorModel.isDiscrete()) return;\n\n        const view = d3.select(this);\n        const target = d[colorlegendDim];\n\n        const select = _this.colorModel.getValidItems()\n          //filter so that only countries of the correct target remain\n          .filter(f => f[_this.colorModel.which] == target)\n          //fish out the \"key\" field, leave the rest behind\n          .map(d => utils.clone(d, [KEY]));\n\n        if (select.filter(d => _this.model.marker.isSelected(d)).length == select.length) {\n          _this.model.marker.clearSelected();\n        } else {\n          _this.model.marker.setSelect(select);\n        }\n      }\n    };\n  },\n\n  resize() {\n    this.updateView();\n    this.colorPicker.resize(d3.select(\".vzb-colorpicker-svg\"));\n  },\n\n  /**\n   * Function updates the opacity of color legend elements\n   * @param   {Array} value = [] array of highlighted elements\n   */\n  updateGroupsOpacity(highlight = []) {\n    const _this = this;\n\n    const clMarker = this.colorModel.getColorlegendMarker() || {};\n    const OPACITY_REGULAR = clMarker.opacityRegular || 0.8;\n    const OPACITY_DIM = clMarker.opacityHighlightDim || 0.5;\n    const OPACITY_HIGHLIGHT = 1;\n\n    const selection = _this.canShowMap ? \".vzb-cl-minimap path\" : \".vzb-cl-option .vzb-cl-color-sample\";\n\n    this.listColorsEl.selectAll(selection).style(\"opacity\", d => {\n      if (!highlight.length) return OPACITY_REGULAR;\n      return highlight.indexOf(d[_this.colorlegendDim]) > -1 ? OPACITY_HIGHLIGHT : OPACITY_DIM;\n    });\n  }\n\n});\n\nexport default ColorLegend;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/colorlegend/colorlegend.js","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_ie8-dom-define.js\n// module id = 105\n// module chunks = 0","exports.f = require('./_wks');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_wks-ext.js\n// module id = 106\n// module chunks = 0","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-keys-internal.js\n// module id = 107\n// module chunks = 0","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-dps.js\n// module id = 108\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-gopn-ext.js\n// module id = 109\n// module chunks = 0","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-assign.js\n// module id = 110\n// module chunks = 0","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_same-value.js\n// module id = 111\n// module chunks = 0","'use strict';\nvar aFunction  = require('./_a-function')\n  , isObject   = require('./_is-object')\n  , invoke     = require('./_invoke')\n  , arraySlice = [].slice\n  , factories  = {};\n\nvar construct = function(F, len, args){\n  if(!(len in factories)){\n    for(var n = [], i = 0; i < len; i++)n[i] = 'a[' + i + ']';\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /*, args... */){\n  var fn       = aFunction(this)\n    , partArgs = arraySlice.call(arguments, 1);\n  var bound = function(/* args... */){\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if(isObject(fn.prototype))bound.prototype = fn.prototype;\n  return bound;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_bind.js\n// module id = 112\n// module chunks = 0","var $parseInt = require('./_global').parseInt\n  , $trim     = require('./_string-trim').trim\n  , ws        = require('./_string-ws')\n  , hex       = /^[\\-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix){\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_parse-int.js\n// module id = 113\n// module chunks = 0","var $parseFloat = require('./_global').parseFloat\n  , $trim       = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str){\n  var string = $trim(String(str), 3)\n    , result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_parse-float.js\n// module id = 114\n// module chunks = 0","var cof = require('./_cof');\nmodule.exports = function(it, msg){\n  if(typeof it != 'number' && cof(it) != 'Number')throw TypeError(msg);\n  return +it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_a-number-value.js\n// module id = 115\n// module chunks = 0","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object')\n  , floor    = Math.floor;\nmodule.exports = function isInteger(it){\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_is-integer.js\n// module id = 116\n// module chunks = 0","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x){\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_math-log1p.js\n// module id = 117\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iter-call.js\n// module id = 118\n// module chunks = 0","var aFunction = require('./_a-function')\n  , toObject  = require('./_to-object')\n  , IObject   = require('./_iobject')\n  , toLength  = require('./_to-length');\n\nmodule.exports = function(that, callbackfn, aLen, memo, isRight){\n  aFunction(callbackfn);\n  var O      = toObject(that)\n    , self   = IObject(O)\n    , length = toLength(O.length)\n    , index  = isRight ? length - 1 : 0\n    , i      = isRight ? -1 : 1;\n  if(aLen < 2)for(;;){\n    if(index in self){\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if(isRight ? index < 0 : length <= index){\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for(;isRight ? index >= 0 : length > index; index += i)if(index in self){\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-reduce.js\n// module id = 119\n// module chunks = 0","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object')\n  , toIndex  = require('./_to-index')\n  , toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target/*= 0*/, start/*= 0, end = @length*/){\n  var O     = toObject(this)\n    , len   = toLength(O.length)\n    , to    = toIndex(target, len)\n    , from  = toIndex(start, len)\n    , end   = arguments.length > 2 ? arguments[2] : undefined\n    , count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to)\n    , inc   = 1;\n  if(from < to && to < from + count){\n    inc  = -1;\n    from += count - 1;\n    to   += count - 1;\n  }\n  while(count-- > 0){\n    if(from in O)O[to] = O[from];\n    else delete O[to];\n    to   += inc;\n    from += inc;\n  } return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-copy-within.js\n// module id = 120\n// module chunks = 0","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_iter-step.js\n// module id = 121\n// module chunks = 0","// 21.2.5.3 get RegExp.prototype.flags()\nif(require('./_descriptors') && /./g.flags != 'g')require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.flags.js\n// module id = 122\n// module chunks = 0","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.map.js\n// module id = 123\n// module chunks = 0","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_collection-strong.js\n// module id = 124\n// module chunks = 0","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.set.js\n// module id = 125\n// module chunks = 0","'use strict';\nvar each         = require('./_array-methods')(0)\n  , redefine     = require('./_redefine')\n  , meta         = require('./_meta')\n  , assign       = require('./_object-assign')\n  , weak         = require('./_collection-weak')\n  , isObject     = require('./_is-object')\n  , getWeak      = meta.getWeak\n  , isExtensible = Object.isExtensible\n  , uncaughtFrozenStore = weak.ufstore\n  , tmp          = {}\n  , InternalMap;\n\nvar wrapper = function(get){\n  return function WeakMap(){\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      var data = getWeak(key);\n      if(data === true)return uncaughtFrozenStore(this).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')('WeakMap', wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  InternalMap = weak.getConstructor(wrapper);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on internal weakmap shim\n      if(isObject(a) && !isExtensible(a)){\n        if(!this._f)this._f = new InternalMap;\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.weak-map.js\n// module id = 126\n// module chunks = 0","'use strict';\nvar redefineAll       = require('./_redefine-all')\n  , getWeak           = require('./_meta').getWeak\n  , anObject          = require('./_an-object')\n  , isObject          = require('./_is-object')\n  , anInstance        = require('./_an-instance')\n  , forOf             = require('./_for-of')\n  , createArrayMethod = require('./_array-methods')\n  , $has              = require('./_has')\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function(that){\n  return that._l || (that._l = new UncaughtFrozenStore);\n};\nvar UncaughtFrozenStore = function(){\n  this.a = [];\n};\nvar findUncaughtFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function(key){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this)['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var data = getWeak(anObject(key), true);\n    if(data === true)uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_collection-weak.js\n// module id = 127\n// module chunks = 0","// all object keys, includes non-enumerable and symbols\nvar gOPN     = require('./_object-gopn')\n  , gOPS     = require('./_object-gops')\n  , anObject = require('./_an-object')\n  , Reflect  = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it){\n  var keys       = gOPN.f(anObject(it))\n    , getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_own-keys.js\n// module id = 128\n// module chunks = 0","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length')\n  , repeat   = require('./_string-repeat')\n  , defined  = require('./_defined');\n\nmodule.exports = function(that, maxLength, fillString, left){\n  var S            = String(defined(that))\n    , stringLength = S.length\n    , fillStr      = fillString === undefined ? ' ' : String(fillString)\n    , intMaxLength = toLength(maxLength);\n  if(intMaxLength <= stringLength || fillStr == '')return S;\n  var fillLen = intMaxLength - stringLength\n    , stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if(stringFiller.length > fillLen)stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_string-pad.js\n// module id = 129\n// module chunks = 0","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject')\n  , isEnum    = require('./_object-pie').f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_object-to-array.js\n// module id = 130\n// module chunks = 0","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_collection-to-json.js\n// module id = 131\n// module chunks = 0","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-from-iterable.js\n// module id = 132\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Model from \"base/model\";\nimport Component from \"base/component\";\nimport { warn as warnIcon } from \"base/iconset\";\nimport EventSource, { DefaultEvent } from \"base/events\";\n\nconst class_loading_first = \"vzb-loading-first\";\nconst class_loading_data = \"vzb-loading-data\";\nconst class_placeholder = \"vzb-placeholder\";\nconst class_buttons_off = \"vzb-buttonlist-off\";\n\nconst templates = {};\n\n//tool model is quite simple and doesn't need to be registered\nconst ToolModel = Model.extend({\n  /**\n   * Initializes the tool model.\n   * @param {Tool}   the tool this tool model belongs to\n   * @param {Object} values The initial values of this model\n   */\n  init(tool, external_model) {\n    this._id = utils.uniqueId(\"tm\");\n    this._type = \"tool\";\n    this._component = tool;\n\n    // defaults are defined on the Tool\n    // this way, each tool can have it's own default model\n    this.getClassDefaults = () => tool.default_model;\n\n    // combine listeners from tool and external page to one object\n    const listeners = utils.extend(tool.getToolListeners(), external_model.bind);\n    delete external_model.bind; // bind shouldn't go to model tree\n\n    this._super(tool.name, external_model, null, listeners);\n  },\n\n  /**\n   * @return {object} Defaults of tool model and children\n   * Tool defaults overwrite other models' default\n   */\n  getDefaults() {\n    return utils.deepExtend({}, this.getSubmodelDefaults(), this.getClassDefaults());\n  },\n\n  validate() {\n\n    const max = 10;\n    const c = 0;\n    const _this = this;\n\n    function validate_func(c) {\n      // ToolModel uses validate function declared on Tool so each Tool can have its own validation.\n      const model = JSON.stringify(_this.getPlainObject());\n      _this._component.validate(_this);\n      const model2 = JSON.stringify(_this.getPlainObject());\n\n      if (c >= max) {\n        utils.error(\"Max validation loop.\");\n      } else if (model !== model2) {\n        validate_func(c++);\n      }\n    }\n\n    validate_func(c);\n  }\n\n});\n\n\n//tool\nconst Tool = Component.extend({\n  /**\n   * Initializes the tool\n   * @param {Object} placeholder object\n   * @param {Object} external_model External model such as state, data, etc\n   */\n  init(placeholder, external_model) {\n    this._id = utils.uniqueId(\"t\");\n\n    this.template = this.getToolTemplate();\n\n    // super also calls createModel\n    this._super({\n      placeholder,\n      model: external_model\n    });\n\n    this.prerender();\n    this.setCSSClasses();\n    this.setResizeHandler();\n\n    this.postrender();\n  },\n\n  createModel(external_model) {\n    external_model      = external_model      || {}; //external model can be undefined\n    external_model.bind = external_model.bind || {}; //bind functions can be undefined\n    this.model = new ToolModel(this, external_model);\n    this.model.setInterModelListeners();\n  },\n\n  getToolTemplate() {\n    return this.template ||\n      '<div class=\"vzb-tool vzb-tool-' + this.name + '\">' +\n        '<div class=\"vzb-tool-stage\">' +\n          '<div class=\"vzb-tool-viz\">' +\n          \"</div>\" +\n          '<div class=\"vzb-tool-time-speed-sliders\">' +\n            '<div class=\"vzb-tool-timeslider\">' +\n            \"</div>\" +\n            '<div class=\"vzb-tool-stepped-speed-slider\">' +\n            \"</div>\" +\n          \"</div>\" +\n        \"</div>\" +\n        '<div class=\"vzb-tool-sidebar\">' +\n          '<div class=\"vzb-tool-dialogs\">' +\n          \"</div>\" +\n          '<div class=\"vzb-tool-buttonlist\">' +\n          \"</div>\" +\n        \"</div>\" +\n        '<div class=\"vzb-tool-datanotes vzb-hidden\">' +\n        \"</div>\" +\n        '<div class=\"vzb-tool-treemenu vzb-hidden\">' +\n        \"</div>\" +\n        '<div class=\"vzb-tool-datawarning vzb-hidden\">' +\n        \"</div>\" +\n        '<div class=\"vzb-tool-labels vzb-hidden\">' +\n        \"</div>\" +\n      \"</div>\";\n  },\n\n  getToolListeners() {\n    const _this = this;\n    return utils.extend(\n      this.model_binds,\n      {\n        \"readyOnce\": () => this.setResizeHandler(),\n        \"change\": function(evt, path) {\n          if (_this._ready) {\n            _this.model.validate();\n\n            if (evt.source.persistent)\n              _this.model.trigger(new DefaultEvent(evt.source, \"persistentChange\"));\n          }\n        },\n        \"hook_change\": function() {\n          if (!_this.model.state.time.splash) { // not block when it initial splash screen\n            _this.beforeLoading();\n          }\n        },\n        \"resize:ui\": function() {\n          if (_this._ready) {\n            _this.triggerResize();\n          }\n        },\n        \"translate:locale\": function() {\n          _this.translateStrings();\n          _this.model.ui.setRTL(_this.model.locale.isRTL());\n        },\n        \"load_error\": (...args) => {\n          this.renderError();\n          this.error(...args);\n        }\n      });\n  },\n\n  setResizeHandler() {\n    //only tools have layout (manage sizes)\n    this.model.ui.setContainer(this.element);\n  },\n\n  /**\n   * Returns width and height of the area excluding time slider and toolbar/sidebar\n   */\n  getVizWidthHeight() {\n    let width = 0, height = 0;\n    if (this.element) {\n      width = d3.select(this.element).select(\".vzb-tool-viz\").node().clientWidth;\n      height = d3.select(this.element).select(\".vzb-tool-viz\").node().clientHeight;\n    } else {\n      utils.warn(\"Tool getVizWidthHeight(): missing this.element\");\n    }\n\n    return { width, height };\n  },\n\n  triggerResize: utils.throttle(function() {\n    this.trigger(\"resize\");\n  }, 100),\n\n  startLoading() {\n    this._super();\n\n    Promise.all([\n      this.model.startPreload(),\n      this.startPreload()\n    ])\n      .then(this.afterPreload.bind(this))\n      .then(this.loadSplashScreen.bind(this))\n      .then(() => utils.delay(300))\n      .then(this.model.startLoading.bind(this.model))\n      .then(this.finishLoading.bind(this))\n      .catch(error => {\n        EventSource.unfreezeAll();\n        this.model.triggerLoadError(error);\n      });\n\n  },\n\n  loadSplashScreen() {\n    if (this.model.ui.splash) {\n      //TODO: cleanup hardcoded splash screen\n      this.model.state.time.splash = true;\n      return this.model.startLoading({\n        splashScreen: true\n      });\n    }\n    return Promise.resolve();\n  },\n\n  finishLoading() {\n    this.model.state.time.splash = false;\n  },\n\n  getPersistentModel() {\n    //try to find functions in properties of model.\n    function removeFunctions(model) {\n      for (const childKey in model) {\n        if (typeof model[childKey] === \"function\") {\n          delete model[childKey];\n          utils.warn(\"minModel validation. Function found in enumerable properties of \" + childKey + \". This key is deleted from minModel\");\n        }\n        else if (typeof model[childKey] === \"object\")\n          removeFunctions(model[childKey]);\n      }\n    }\n\n    const currentToolModel = this.model.getPlainObject(true); // true = get only persistent model values\n    removeFunctions(currentToolModel);\n    return currentToolModel;\n  },\n\n  getPersistentMinimalModel(diffModel) {\n    const defaultModel = this.model.getDefaults();\n    const currentPersistentModel = this.getPersistentModel();\n    const redundantModel = utils.deepExtend(defaultModel, diffModel);\n    return utils.diffObject(currentPersistentModel, redundantModel);\n  },\n\n  /**\n   * Clears a tool\n   */\n\n  clear() {\n    this.model.ui.clear();\n    this.setModel = this.getModel = () => void 0;\n    this._super();\n  },\n\n  /**\n   * Visually display errors\n   */\n  error(options, message) {\n    if (!message) {\n      message = options && options.type === \"data\" ?\n        \"Error loading chart data. <br>Please, try again later.\" :\n        \"Error loading chart\";\n    }\n\n    this.placeholder.innerHTML = `<div class=\"vzb-error-message\"><h1>${warnIcon}</h1><p>${message}</p></div>`;\n  },\n\n  /**\n   * Sets model from external page\n   * @param {Object} JSONModel new model in JSON format\n   * @param {Boolean} overwrite overwrite everything instead of extending\n   */\n  setModel(newModelJSON, overwrite) {\n    if (overwrite) {\n      this.model.reset(newModelJSON);\n    } else {\n      this.model.set(newModelJSON);\n    }\n    this.setCSSClasses();\n  },\n\n  /**\n   * get model\n   * @return {Object} JSON object of model\n   */\n  getModel() {\n    return this.model.getPlainObject() || {};\n  },\n  /**\n   * Displays loading class\n   */\n  beforeLoading() {\n    utils.addClass(this.placeholder, class_loading_data);\n  },\n\n  /* ==========================\n   * Validation and query\n   * ==========================\n   */\n  /**\n   * Validating the tool model\n   * @param model the current tool model to be validated\n   */\n  validate(model) {\n    model = this.model || model;\n\n    if (!model || !model.state) return utils.warn(\"tool validation aborted: model.state looks wrong: \" + model);\n  },\n\n  setCSSClasses() {\n    //add placeholder class\n    utils.addClass(this.placeholder, class_placeholder);\n    //add-remove buttonlist class\n    if (!this.model.ui || !this.model.ui.buttons || !this.model.ui.buttons.length) {\n      utils.addClass(this.element, class_buttons_off);\n    } else {\n      utils.removeClass(this.element, class_buttons_off);\n    }\n  }\n\n});\n\nexport default Tool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/tool.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n\n/*!\n * VIZABI Color Model (hook)\n */\n\nconst defaultPalettes = {\n  \"_continuous\": {\n    \"_default\": \"#ffb600\",\n    \"0\": \"hsl(270, 80%, 55%)\",\n    \"25\": \"hsl(202.5, 80%, 55%)\",\n    \"50\": \"hsl(135, 80%, 55%)\",\n    \"75\": \"hsl(48, 70%, 62%)\",\n    \"100\": \"hsl(0, 80%, 55%)\"\n  },\n  \"_discrete\": {\n    \"_default\": \"#ffb600\",\n    \"0\": \"#4cd843\",\n    \"1\": \"#e83739\",\n    \"2\": \"#ff7f00\",\n    \"3\": \"#c027d4\",\n    \"4\": \"#d66425\",\n    \"5\": \"#0ab8d8\",\n    \"6\": \"#bcfa83\",\n    \"7\": \"#ff8684\",\n    \"8\": \"#ffb04b\",\n    \"9\": \"#f599f5\",\n    \"10\": \"#f4f459\",\n    \"11\": \"#7fb5ed\"\n  },\n  \"_default\": {\n    \"_default\": \"#ffb600\"\n  }\n};\n\nconst ColorModel = Hook.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null,\n      scaleType: null,\n      syncModels: [],\n      palette: {},\n      paletteLabels: null,\n      allow: {\n        //this is almost everything, but not \"nominal\", so no random strings like \"name\"\n        scales: [\"linear\", \"log\", \"genericLog\", \"time\", \"pow\", \"ordinal\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  autoGenerateModel() {\n    if (this.which == null) {\n      let concept;\n      if (this.autogenerate) {\n        concept = this.dataSource\n          .getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n        if (concept) {\n          const obj = {\n            which: concept.concept,\n            use: concept.use || \"indicator\",\n            scaleType: (concept.scales && concept.scales[0] ? concept.scales[0] : \"linear\")\n          };\n          this.set(obj);\n        }\n\n      }\n      if (!concept) {\n        const obj = {\n          which: \"_default\",\n          use: \"constant\",\n          scaleType: \"ordinal\"\n        };\n        this.set(obj);\n      }\n    }\n    if (this.scaleType == null) {\n      this.scaleType = this.dataSource\n        .getConceptprops(this.which).scales[0];\n    }\n  },\n\n  /**\n   * Initializes the color hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n    const _this = this;\n    this._type = \"color\";\n\n    this._super(name, values, parent, bind);\n\n    this._syncModelReferences = {};\n    this._hasDefaultColor = false;\n\n    this.on(\"hook_change\", () => {\n      if (_this._readyOnce || _this._loadCall) return;\n\n      _this._setSyncModels();\n\n      if (_this.palette && Object.keys(_this.palette._data).length !== 0) {\n        const defaultPalette = _this.getDefaultPalette();\n        const currentPalette = _this.getPalette(true);\n        const palette = {};\n        //extend partial current palette with default palette and\n        //switch current palette elements which equals\n        //default palette elments to nonpersistent state\n        Object.keys(defaultPalette).forEach(key => {\n          if (!currentPalette[key] || defaultPalette[key] == currentPalette[key]) palette[key] = defaultPalette[key];\n        });\n        _this.set(\"palette\", palette, false, false);\n      }\n    });\n  },\n\n  setInterModelListeners() {\n    this._super();\n    this._setSyncModels();\n  },\n\n  // args: {colorID, shadeID}\n  getColorShade(args) {\n    const palette = this.getPalette();\n\n    if (!args) return utils.warn(\"getColorShade() is missing arguments\");\n\n    // if colorID is not given or not found in the palette, replace it with default color\n    if (!args.colorID || !palette[args.colorID]) args.colorID = \"_default\";\n\n    // if the resolved colr value is not an array (has only one shade) -- return it\n    if (!utils.isArray(palette[args.colorID])) return args.shadeID == \"shade\" ? d3.rgb(palette[args.colorID]).darker(0.5).toString() : palette[args.colorID];\n\n    const conceptpropsColor = this.getConceptprops().color;\n    const shade = args.shadeID && conceptpropsColor && conceptpropsColor.shades && conceptpropsColor.shades[args.shadeID] ? conceptpropsColor.shades[args.shadeID] : 0;\n\n    return palette[args.colorID][shade];\n\n  },\n\n  /**\n   * Get the above constants\n   */\n  isUserSelectable() {\n    const conceptpropsColor = this.getConceptprops().color;\n    return conceptpropsColor == null || conceptpropsColor.selectable == null || conceptpropsColor.selectable;\n  },\n\n  setWhich(newValue) {\n    if (this.palette) this.palette._data = {};\n    this._super(newValue);\n    this._setSyncModels();\n  },\n\n  _setSyncModels() {\n    const _this = this;\n    this.syncModels.forEach(modelName => {\n      //fetch the model to sync, it's marker and entities\n      const model = _this.getClosestModel(modelName);\n      const marker = model.isHook() ? model._parent : model;\n      const entities = marker.getClosestModel(marker.space[0]);\n\n      //save the references here locally\n      _this._syncModelReferences[modelName] = { model, marker, entities };\n\n      if (_this.isDiscrete()) _this._setSyncModel(model, marker, entities);\n    });\n  },\n\n  _setSyncModel(model, marker, entities) {\n    if (model == marker) {\n      const newFilter = {\n        dim: this.which,\n        show: {}\n      };\n      marker.setDataSourceForAllSubhooks(this.data);\n      entities.set(newFilter, false, false);\n    } else {\n      if (model.isDiscrete() && model.use !== \"constant\") model.set({ which: this.which, data: this.data }, false, false);\n    }\n  },\n\n  getColorlegendMarker() {\n    return (this._syncModelReferences[\"marker_colorlegend\"] || {})[\"marker\"];\n  },\n\n  getColorlegendEntities() {\n    return (this._syncModelReferences[\"marker_colorlegend\"] || {})[\"entities\"];\n  },\n\n  /**\n   * set color\n   */\n  setColor(value, pointer, persistent) {\n    const temp = this.getPalette();\n    temp[pointer] = value;\n    this.scale.range(utils.values(temp));\n    this.palette.set(pointer, value, persistent, persistent);\n  },\n\n\n  /**\n   * maps the value to this hook's specifications\n   * @param value Original value\n   * @returns hooked value\n   */\n  mapValue(value) {\n    //if the property value does not exist, supply the _default\n    // otherwise the missing value would be added to the domain\n    if (this.scale != null && this.isDiscrete() && this._hasDefaultColor && this.scale.domain().indexOf(value) == -1) value = \"_default\";\n    return this._super(value);\n  },\n\n\n  getDefaultPalette() {\n    const conceptpropsColor = this.getConceptprops().color;\n    let palette;\n\n    this.discreteDefaultPalette = false;\n\n    if (conceptpropsColor && conceptpropsColor.palette) {\n      //specific color palette from hook concept properties\n      palette = utils.clone(conceptpropsColor.palette);\n    } else if (defaultPalettes[this.which]) {\n      //color palette for this.which exists in palette defaults\n      palette = utils.clone(defaultPalettes[this.which]);\n    } else if (this.use === \"constant\") {\n      //an explicit hex color constant #abc or #adcdef is provided\n      if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(this.which)) {\n        palette = { \"_default\": this.which };\n      } else {\n        palette = utils.clone(defaultPalettes[\"_default\"]);\n      }\n    } else {\n      palette = utils.clone(defaultPalettes[this.isDiscrete() ? \"_discrete\" : \"_continuous\"]);\n      this.discreteDefaultPalette = true;\n    }\n\n    return palette;\n  },\n\n  _getPaletteLabels() {\n    const conceptpropsColor = this.getConceptprops().color;\n    let paletteLabels = null;\n\n    if (conceptpropsColor && conceptpropsColor.paletteLabels) {\n      //specific color palette from hook concept properties\n      paletteLabels = utils.clone(conceptpropsColor.paletteLabels);\n    }\n    return paletteLabels;\n  },\n\n  getPaletteLabels() {\n    return this.paletteLabels.getPlainObject();\n  },\n\n  getPalette(includeDefault) {\n    //rebuild palette if it's empty\n    if (!this.palette || Object.keys(this.palette._data).length === 0) {\n      const palette = this.getDefaultPalette();\n      this.set(\"palette\", palette, false, false);\n      const paletteLabels = this._getPaletteLabels();\n      this.set(\"paletteLabels\", paletteLabels, false, false);\n    }\n    const palette = this.palette.getPlainObject();\n    if (this.use === \"indicator\" && !includeDefault) {\n      delete palette[\"_default\"];\n    }\n    return palette;\n  },\n\n  /**\n   * Gets the domain for this hook\n   * @returns {Array} domain\n   */\n  buildScale(scaleType = this.scaleType) {\n    const _this = this;\n\n    const paletteObject = _this.getPalette();\n    let domain = Object.keys(paletteObject);\n    let range = utils.values(paletteObject);\n\n    this._hasDefaultColor = domain.indexOf(\"_default\") > -1;\n\n    if (scaleType == \"time\") {\n\n      const timeMdl = this._space.time;\n      const limits = timeMdl.splash ?\n        { min: timeMdl.parse(timeMdl.startOrigin), max: timeMdl.parse(timeMdl.endOrigin) }\n        :\n        { min: timeMdl.start, max: timeMdl.end };\n\n      const singlePoint = (limits.max - limits.min == 0);\n\n      domain = domain.sort((a, b) => a - b);\n      range = domain.map(m => singlePoint ? paletteObject[domain[0]] : paletteObject[m]);\n      domain = domain.map(m => limits.min.valueOf() + m / 100 * (limits.max.valueOf() - limits.min.valueOf()));\n\n      this.scale = d3.scaleUtc()\n        .domain(domain)\n        .range(range)\n        .interpolate(d3.interpolateCubehelix);\n\n    } else if (!this.isDiscrete()) {\n\n      let limits = this.getLimits(this.which);\n      //default domain is based on limits\n      limits = [limits.min, limits.max];\n\n      const singlePoint = (limits[1] - limits[0] == 0);\n\n      domain = domain.sort((a, b) => a - b);\n      range = domain.map(m => singlePoint ? paletteObject[domain[0]] : paletteObject[m]);\n      domain = domain.map(m => limits[0] + m / 100 * (limits[1] - limits[0]));\n\n      if (d3.min(domain) <= 0 && d3.max(domain) >= 0 && scaleType === \"log\") scaleType = \"genericLog\";\n\n      if (scaleType === \"log\" || scaleType === \"genericLog\") {\n        const s = d3.scaleGenericlog()\n          .domain(limits)\n          .range(limits);\n        domain = domain.map(d => s.invert(d));\n      }\n      this.scale = d3[`scale${utils.capitalize(scaleType)}`]()\n        .domain(domain)\n        .range(range)\n        .interpolate(d3.interpolateCubehelix);\n\n    } else {\n      range = range.map(m => utils.isArray(m) ? m[0] : m);\n\n      scaleType = \"ordinal\";\n\n      if (this.discreteDefaultPalette) domain = domain.concat(this.getUnique(this.which));\n      this.scale = d3[`scale${utils.capitalize(scaleType)}`]()\n        .domain(domain)\n        .range(range);\n    }\n\n    this.scaleType = scaleType;\n  }\n\n});\n\nexport default ColorModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/color.js","import * as utils from \"base/utils\";\nimport DataConnected from \"models/dataconnected\";\n\n/*!\n * VIZABI Entities Model\n */\n\nconst EntitiesModel = DataConnected.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      show: {},\n      dim: null,\n      skipFilter: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  objectLeafs: [\"show\", \"autogenerate\"],\n  dataConnectedChildren: [\"show\", \"dim\", \"grouping\"],\n\n  /**\n   * Initializes the entities model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"entities\";\n\n    this._super(name, values, parent, bind);\n  },\n\n  afterPreload() {\n    if (this.dim == null && this.autogenerate) {\n      const dataSource = this.getClosestModel(this.autogenerate.data);\n      this.dim = dataSource.getConceptByIndex(this.autogenerate.conceptIndex).concept;\n    }\n  },\n\n  /**\n   * Gets the dimensions in this entities\n   * @returns {String} String with dimension\n   */\n  getDimension() {\n    return this.dim;\n  },\n\n  setDimension(dim) {\n    if (this.dim === dim.concept) return;\n    const props = {};\n    props.show = {};\n    props.dim = dim.concept;\n    this.set(props);\n  },\n  /**\n   * Gets the filter in this entities\n   * @returns {Array} Array of unique values\n   */\n  getFilter() {\n    let show;\n    if (this.skipFilter) {\n      show = {};\n    } else {\n      show = utils.deepClone(this.show);\n      if (show[this.dim] && utils.isEmpty(show[this.dim])) {\n        delete show[this.dim];\n      }\n    }\n    return show;\n  },\n\n  /**\n   * Shows or unshows an entity from the set\n   */\n  showEntity(d) {\n    //clear selected countries when showing something new\n    const newShow = utils.deepClone(this.show);\n    const dimension = this.getDimension();\n    let _d;\n\n    if (!utils.isArray(d)) {\n      _d = [d];\n    } else {\n      _d = d;\n    }\n\n    let showArray = [];\n\n    // get array from show\n    if (this.show[dimension] && this.show[dimension][\"$in\"] && utils.isArray(this.show[dimension][\"$in\"]))\n      showArray = this.show[dimension][\"$in\"];\n\n    utils.forEach(_d, d => {\n      const value = d[dimension];\n      if (this.isShown(d)) {\n        showArray = showArray.filter(d => d !== value);\n      } else {\n        showArray = showArray.concat(value);\n      }\n    });\n\n    if (showArray.length === 0)\n      delete newShow[dimension];\n    else\n      newShow[dimension] = { \"$in\": showArray };\n\n    this.show = newShow;\n  },\n\n  /**\n   * Selects an entity from the set\n   * @returns {Boolean} whether the item is shown or not\n   */\n  isShown(d) {\n    const dimension = this.getDimension();\n\n    return utils.getProp(this.show, [dimension, \"$in\"], []).includes(d[dimension]);\n  },\n\n  /**\n   * Clears showing of items\n   */\n  clearShow() {\n    const dimension = this.getDimension();\n    const show = utils.deepClone(this.show);\n    delete show[dimension];\n    this.show = show;\n  },\n\n  getFilteredEntities() {\n    const dimension = this.getDimension();\n    const { $in = [] } = this.show[dimension] || {};\n\n    return $in.map(m => ({ [dimension]: m }));\n  },\n\n  isEntities() {\n    return true;\n  }\n\n});\n\nexport default EntitiesModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/entities.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n/*\n * VIZABI Group Model\n */\n\nconst GroupModel = Hook.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null,\n      merge: false,\n      manualSorting: null,\n      scaleType: \"ordinal\" // the only one possible, right?\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  /**\n   * Initializes the group hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n    this._type = \"model\";\n\n    this._super(name, values, parent, bind);\n  },\n\n  /**\n   * Validates a color hook\n   */\n  validate() {\n    //there must be no scale\n    if (this.scale) this.scale = null;\n\n    //use must be \"property\"\n    if (this.use != \"property\" && this.use != \"constant\") {\n      utils.warn(\"group model: use must be 'property' or 'constant'. Resetting to property...\");\n      this.use = \"property\";\n    }\n  }\n\n});\n\nexport default GroupModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/group.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n\n/*\n * VIZABI Data Model (options.data)\n */\n\nconst LabelModel = Hook.extend({\n\n  /**\n   * Default values for this model\n   */\n\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  /**\n   * Initializes the size hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"label\";\n\n    this._super(name, values, parent, bind);\n  }\n\n\n});\n\nexport default LabelModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/label.js","import * as utils from \"base/utils\";\nimport DataConnected from \"models/dataconnected\";\n\n// this and many other locale information should at some point be stored in an external file with locale information (rtl, date formats etc)\nconst rtlLocales = [\"ar\", \"ar-SA\"];\n\nconst LocaleModel = DataConnected.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      id: \"en\",\n      filePath: \"assets/translation/\"\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  dataConnectedChildren: [\"id\"],\n  strings: {},\n\n  /**\n   * Initializes the locale model.\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n    this._type = \"locale\";\n\n    //same constructor, with same arguments\n    this._super(name, values, parent, bind);\n  },\n\n  _isLoading() {\n    return (!this._loadedOnce || this._loadCall);\n  },\n\n  preloadData() {\n    return this.loadData();\n  },\n\n  loadData() {\n    this.setReady(false);\n    this._loadCall = true;\n\n    // load new concept properties for each data source.\n    // this should be done with listeners, but the load promise can't be returned\n    // through the listeners\n\n    const promises = [];\n    utils.forEach(this._root._data, mdl => {\n      if (mdl._type === \"data\") promises.push(mdl.loadConceptProps());\n    });\n    promises.push(new Promise((resolve, reject) => {\n      d3.json(this.filePath + this.id + \".json\", (error, strings) => {\n        if (error) return reject(error);\n        this.handleNewStrings(strings);\n        resolve();\n      });\n    }));\n\n    return Promise.all(promises)\n      .then(() => this.trigger(\"translate\"))\n      .catch(() => this.handleLoadError());\n  },\n\n  handleNewStrings(receivedStrings) {\n    this.strings[this.id] = this.strings[this.id]\n      ? utils.extend(this.strings[this.id], receivedStrings)\n      : receivedStrings;\n  },\n\n  /**\n   * Gets a certain UI string\n   * @param {String} stringId string identifier\n   * @returns {string} translated string\n   */\n  getUIString(stringId) {\n    if (this.strings && this.strings[this.id] && (this.strings[this.id][stringId] || this.strings[this.id][stringId] === \"\")) {\n      return this.strings[this.id][stringId];\n    }\n    if (!this.strings || !this.strings[this.id]) utils.warn(\"Strings are not loaded for the \" + this.id + \" locale. Check if translation JSON is valid\");\n    return stringId;\n  },\n\n  /**\n   * Gets the translation function\n   * @returns {Function} translation function\n   */\n  getTFunction() {\n    return (stringId, payload = {}) => (\n      Object.keys(payload).reduce((result, key) => {\n        const regexp = new RegExp(\"{{\" + key + \"}}\", \"g\");\n        return result.replace(regexp, payload[key]);\n      },\n      this.getUIString(stringId)\n      )\n    );\n  },\n\n  isRTL() {\n    return (rtlLocales.indexOf(this.id) !== -1);\n  }\n\n});\n\nexport default LocaleModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/locale.js","import * as utils from \"base/utils\";\nimport Model from \"base/model\";\n\n/*!\n * HOOK MODEL\n */\n\nconst Marker = Model.extend({\n\n  getClassDefaults() {\n    const defaults = {\n      select: [],\n      highlight: [],\n      superHighlight: [],\n      opacityHighlightDim: 0.1,\n      opacitySelectDim: 0.3,\n      opacityRegular: 1,\n      allowSelectMultiple: true,\n      skipFilter: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  init(name, value, parent, binds, persistent) {\n    const _this = this;\n\n    this._visible = [];\n\n    this._super(name, value, parent, binds, persistent);\n    this.on(\"ready\", this.checkTimeLimits.bind(this));\n    this.on(\"readyOnce\", () => {\n      const exceptions = { exceptType: \"time\" };\n      const allDimensions = _this._getAllDimensions(exceptions);\n      _this._multiDim = allDimensions.length > 1;\n    });\n  },\n\n  setDataSourceForAllSubhooks(data) {\n    const obj = {};\n    this.getSubhooks().forEach(hook => { obj[hook._name] = { data }; });\n    this.set(obj, null, false);\n  },\n\n\n  /**\n   * Validates the model\n   */\n  validate() {\n    const _this = this;\n    const dimension = this.getDimension();\n    const visible_array = this._visible.map(d => d[dimension]);\n\n    if (visible_array.length) {\n      this.select = this.select.filter(f => visible_array.indexOf(f[dimension]) !== -1);\n      this.setHighlight(this.highlight.filter(f => visible_array.indexOf(f[dimension]) !== -1));\n    }\n  },\n\n  /**\n   * Sets the visible entities\n   * @param {Array} arr\n   */\n  setVisible(arr) {\n    this._visible = arr;\n  },\n\n  /**\n   * Gets the visible entities\n   * @returns {Array} visible\n   */\n  getVisible(arr) {\n    return this._visible;\n  },\n\n  /**\n   * Gets the selected items\n   * @returns {Array} Array of unique selected values\n   */\n  getSelected(dim) {\n    return dim ? this.select.map(d => d[dim]) : this.select;\n  },\n\n  selectMarker(d) {\n    const _this = this;\n    const value = this._createValue(d);\n    if (this.isSelected(d)) {\n      this.select = this.select.filter(d => JSON.stringify(_this._createValue(d)) !== JSON.stringify(value));\n    } else {\n      this.select = (this.allowSelectMultiple) ? this.select.concat(value) : [value];\n    }\n  },\n\n  /**\n   * Select all entities\n   */\n  selectAll(timeDim, timeFormatter) {\n    if (!this.allowSelectMultiple) return;\n\n    let added;\n    const dimension = this._getFirstDimension({ exceptType: \"time\" });\n\n    this.select = this._visible.map(d => {\n      added = {};\n      added[dimension] = d[dimension];\n      return added;\n    });\n  },\n\n  isSelected(d) {\n    const _this = this;\n    const value = this._createValue(d);\n\n    return this.select\n      .map(d => JSON.stringify(_this._createValue(d)) === JSON.stringify(value))\n      .indexOf(true) !== -1;\n  },\n\n  _createValue(d) {\n    const dims = this._getAllDimensions({ exceptType: \"time\" });\n    return dims.reduce((value, key) => {\n      value[key] = d[key];\n      return value;\n    }, {});\n  },\n\n\n  /**\n   * Gets the highlighted items\n   * @returns {Array} Array of unique highlighted values\n   */\n  getHighlighted(dim) {\n    return dim ? this.highlight.map(d => d[dim]) : this.highlight;\n  },\n\n  setHighlight(arg) {\n    if (!utils.isArray(arg)) {\n      this.setHighlight([].concat(arg));\n      return;\n    }\n    this.getModelObject(\"highlight\").set(arg, false, false); // highlights are always non persistent changes\n  },\n\n  setSuperHighlight(value) {\n    this.getModelObject(\"superHighlight\")\n      .set(utils.isArray(value) ? value : [value], false, false);\n  },\n\n  clearSuperHighlighted() {\n    this.setSuperHighlight([]);\n  },\n\n  isSuperHighlighted(d) {\n    const value = JSON.stringify(this._createValue(d));\n\n    return ~this.superHighlight.findIndex(d => JSON.stringify(d) === value);\n  },\n\n  setSelect(arg) {\n    if (!utils.isArray(arg)) {\n      this.setSelect([].concat(arg));\n      return;\n    }\n    this.getModelObject(\"select\").set(arg);\n  },\n\n  //TODO: join the following 3 methods with the previous 3\n\n  /**\n   * Highlights an entity from the set\n   */\n  highlightMarker(d) {\n    const value = this._createValue(d);\n    if (!this.isHighlighted(d)) {\n      this.setHighlight(this.highlight.concat(value));\n    }\n  },\n\n  /**\n   * Unhighlights an entity from the set\n   */\n  unhighlightEntity(d) {\n    const value = this._createValue(d);\n    if (this.isHighlighted(d)) {\n      this.setHighlight(this.highlight.filter(d => d[dimension] !== value));\n    }\n  },\n\n  /**\n   * Checks whether an entity is highlighted from the set\n   * @returns {Boolean} whether the item is highlighted or not\n   */\n  isHighlighted(d) {\n    const _this = this;\n    const value = this._createValue(d);\n    return this.highlight\n      .map(d => JSON.stringify(_this._createValue(d)) === JSON.stringify(value))\n      .indexOf(true) !== -1;\n  },\n\n  /**\n   * Clears selection of items\n   */\n  clearHighlighted() {\n    this.setHighlight([]);\n  },\n  clearSelected() {\n    this.select = [];\n  },\n\n  setLabelOffset(d, xy) {\n    if (xy[0] === 0 && xy[1] === 1) return;\n\n    this.select\n      .find(selectedMarker => utils.comparePlainObjects(selectedMarker, d))\n      .labelOffset = [Math.round(xy[0] * 1000) / 1000, Math.round(xy[1] * 1000) / 1000];\n\n    //force the model to trigger events even if value is the same\n    this.set(\"select\", this.select, true);\n  },\n\n  checkTimeLimits() {\n\n    const time = this._parent.time;\n\n    if (!time) return;\n\n    const tLimits = this.getTimeLimits();\n\n    if (!tLimits) return;\n    if (!utils.isDate(tLimits.min) || !utils.isDate(tLimits.max))\n      return utils.warn(\"checkTimeLimits(): min-max look wrong: \" + tLimits.min + \" \" + tLimits.max + \". Expecting Date objects. Ensure that time is properly parsed in the data from reader\");\n\n    // change start and end (but keep startOrigin and endOrigin for furhter requests)\n    const newTime = {};\n    if (time.start - tLimits.min != 0 || !time.start && !this.startOrigin) newTime[\"start\"] = d3.max([tLimits.min, time.parse(time.startOrigin)]);\n    if (time.end - tLimits.max != 0 || !time.end && !this.endOrigin) newTime[\"end\"] = d3.min([tLimits.max, time.parse(time.endOrigin)]);\n\n    time.set(newTime, false, false);\n\n    if (newTime.start || newTime.end) {\n      utils.forEach(this.getSubhooks(), hook => {\n        if (hook.which == \"time\") {\n          hook.buildScale();\n        }\n      });\n    }\n\n    //force time validation because time.value might now fall outside of start-end\n    time.validate();\n  },\n\n  /**\n   * Gets the narrowest limits of the subhooks with respect to the provided data column\n   * @param {String} attr parameter (data column)\n   * @returns {Object} limits (min and max)\n   * this function is only needed to route the \"time\" to some indicator,\n   * to adjust time start and end to the max and min time available in data\n   */\n  getTimeLimits() {\n    const _this = this;\n    const time = this._parent.time;\n    const minArray = [], maxArray = [];\n    let min, max, items = {};\n    if (!this.cachedTimeLimits) this.cachedTimeLimits = {};\n    utils.forEach(this.getSubhooks(), hook => {\n\n      //only indicators depend on time and therefore influence the limits\n      if (hook.use !== \"indicator\" || !hook._important) return;\n\n      const cachedLimits = _this.cachedTimeLimits[hook._dataId + hook.which];\n\n      if (cachedLimits) {\n        //if already calculated the limits then no ned to do it again\n        min = cachedLimits.min;\n        max = cachedLimits.max;\n      } else {\n        //otherwise calculate own date limits (a costly operation)\n        items = hook.getValidItems().map(m => m[time.getDimension()]);\n        if (items.length == 0) utils.warn(\"getTimeLimits() was unable to work with an empty array of valid datapoints\");\n        min = d3.min(items);\n        max = d3.max(items);\n      }\n      _this.cachedTimeLimits[hook._dataId + hook.which] = { min, max };\n      minArray.push(min);\n      maxArray.push(max);\n    });\n\n    let resultMin = d3.max(minArray);\n    let resultMax = d3.min(maxArray);\n    if (resultMin > resultMax) {\n      utils.warn(\"getTimeLimits(): Availability of the indicator's data has no intersection. I give up and just return some valid time range where you'll find no data points. Enjoy!\");\n      resultMin = d3.min(minArray);\n      resultMax = d3.max(maxArray);\n    }\n\n    //return false for the case when neither of hooks was an \"indicator\" or \"important\"\n    return !min && !max ? false : { min: resultMin, max: resultMax };\n  },\n\n  getImportantHooks() {\n    const importantHooks = [];\n    utils.forEach(this._dataCube || this.getSubhooks(true), (hook, name) => {\n      if (hook._important) {\n        importantHooks.push(name);\n      }\n    });\n    return importantHooks;\n  },\n\n  getLabelHookNames() {\n    const _this = this;\n    const KEYS = utils.unique(this._getAllDimensions({ exceptType: \"time\" }));\n\n    return KEYS.map(key => {\n      const names = {};\n      utils.forEach(_this._dataCube || _this.getSubhooks(true), (hook, name) => {\n        if (hook._type === \"label\" && hook.getEntity().dim === key) {\n          names.label = name;\n        }\n        if (hook._type !== \"label\" && hook.getEntity().dim === key) {\n          names.key = name;\n        }\n        return !names.label || !names.key;\n      });\n      return names.label || names.key;\n    });\n  },\n\n  getKeysMD() {\n    const _this = this;\n    const resultKeys = [];\n\n    const KEYS = utils.unique(this._getAllDimensions({ exceptType: \"time\" }));\n    const TIME = this._getFirstDimension({ type: \"time\" });\n\n    utils.forEach(this._dataCube || this.getSubhooks(true), (hook, name) => {\n      if (hook.use === \"constant\" || hook.use === \"property\" || !hook._important) return;\n\n      const nested = hook.getNestedItems(KEYS.concat(TIME));\n\n      iterateKeys({}, nested, KEYS, 0, KEYS.length - 1);\n\n      function iterateKeys(keyObj, nested, keyNames, deep, deepMax) {\n        const keys = Object.keys(nested);\n        if (deep < deepMax) {\n          const _deep = deep + 1;\n          for (let i = 0, j = keys.length; i < j; i++) {\n            const _keyObj = {};\n            _keyObj[keyNames[deep]] = keys[i];\n            iterateKeys(_keyObj, nested[keys[i]], keyNames, _deep, deepMax);\n          }\n        } else {\n          resultKeys.push(...keys.map(key => {\n            const obj = Object.assign({}, keyObj);\n            obj[keyNames[deep]] = key;\n            return obj;\n          }));\n        }\n      }\n\n    });\n\n    return resultKeys;\n  },\n  /**\n   * Computes the intersection of keys in all hooks: a set of keys that have data in each hook\n   * @returns array of keys that have data in all hooks of this._datacube\n   */\n  getKeys(KEY) {\n    const _this = this;\n    let resultKeys = [];\n\n    KEY = KEY || this._getFirstDimension();\n    const TIME = this._getFirstDimension({ type: \"time\" });\n\n    const grouping = this._getGrouping();\n\n    utils.forEach(this._dataCube || this.getSubhooks(true), (hook, name) => {\n\n      // If hook use is constant, then we can provide no additional info about keys\n      // We can just hope that we have something else than constants =)\n      if (hook.use === \"constant\") return;\n\n      // Get keys in data of this hook\n      const nested = hook.getNestedItems([KEY, TIME]);\n      const noDataPoints = hook.getHaveNoDataPointsPerKey();\n\n      if (nested[\"undefined\"]) delete nested[\"undefined\"];\n\n      let keys = Object.keys(nested);\n      const keysNoDP = Object.keys(noDataPoints || []);\n\n      if (keys.length > 0 && grouping && grouping.key === KEY) {\n        const _grouping = grouping.grouping;\n        keys = keys.filter(key => (+key % _grouping) === 0);\n      }\n      // If ain't got nothing yet, set the list of keys to result\n      if (resultKeys.length == 0) resultKeys = keys;\n\n      // Remove the keys from it that are not in this hook\n      if (hook._important) resultKeys = resultKeys.filter(f => keys.indexOf(f) > -1 && keysNoDP.indexOf(f) == -1);\n    });\n    return resultKeys.map(d => { const r = {}; r[KEY] = d; return r; });\n  },\n\n  /**\n   * @param {Array} entities array of entities\n   * @return String\n   */\n  _getCachePath(keys) {\n    //array of steps -- names of all frames\n    const steps = this._parent.time.getAllSteps();\n    let cachePath = `${this.getClosestModel(\"locale\").id} - ${steps[0]} - ${steps[steps.length - 1]}`;\n    this._dataCube = this._dataCube || this.getSubhooks(true);\n    let dataLoading = false;\n    const grouping = this._getGrouping();\n    utils.forEach(this._dataCube, (hook, name) => {\n      if (hook._loadCall) dataLoading = true;\n      cachePath = cachePath + \"_\" +  hook._dataId + hook.which;\n    });\n    if (dataLoading) {\n      return null;\n    }\n    if (grouping) {\n      cachePath = cachePath + \"_grouping_\" + grouping.key + \":\" + grouping.grouping;\n    }\n    if (keys) {\n      cachePath = cachePath + \"_\" + keys.join(\",\");\n    }\n    return cachePath;\n  },\n\n  _getGrouping() {\n    const subHooks = this._dataCube || this.getSubhooks(true);\n    const space = subHooks[Object.keys(subHooks)[0]]._space;\n    const result = {};\n    utils.forEach(space, entities => {\n      if (entities.grouping) {\n        result.grouping = entities.grouping;\n        result.key = entities.dim;\n        return false;\n      }\n    });\n    return result.grouping ? result : false;\n  },\n\n  _getAllDimensions(opts) {\n\n    const models = [];\n    const _this = this;\n    utils.forEach(this.space, name => {\n      models.push(_this.getClosestModel(name));\n    });\n\n    opts = opts || {};\n    const dims = [];\n    let dim;\n\n    utils.forEach(models, m => {\n      if (opts.exceptType && m.getType() === opts.exceptType) {\n        return true;\n      }\n      if (opts.onlyType && m.getType() !== opts.onlyType) {\n        return true;\n      }\n      if (dim = m.getDimension()) {\n        dims.push(dim);\n      }\n    });\n\n    return dims;\n  },\n\n\n  /**\n   * gets first dimension that matches type\n   * @param {Object} options\n   * @returns {Array} all unique dimensions\n   */\n  _getFirstDimension(opts) {\n    const models = [];\n    const _this = this;\n    utils.forEach(this.space, name => {\n      models.push(_this.getClosestModel(name));\n    });\n\n    opts = opts || {};\n\n    let dim = false;\n    utils.forEach(models, m => {\n      if (opts.exceptType && m.getType() !== opts.exceptType) {\n        dim = m.getDimension();\n        return false;\n      } else if (opts.type && m.getType() === opts.type) {\n        dim = m.getDimension();\n        return false;\n      } else if (!opts.exceptType && !opts.type) {\n        dim = m.getDimension();\n        return false;\n      }\n    });\n    return dim;\n  },\n\n\n  framesAreReady() {\n    const cachePath = this._getCachePath();\n    if (!this.cachedFrames) return false;\n    return Object.keys(this.cachedFrames[cachePath]).length == this._parent.time.getAllSteps().length;\n  },\n\n  /**\n   *\n   * @param {String|null} time of a particularly requested data frame. Null if all frames are requested\n   * @param {function} cb\n   * @param {Array} keys array of entities\n   * @return null\n   */\n  getFrame(time, cb, keys) {\n    //keys = null;\n    const _this = this;\n    if (!this.cachedFrames) this.cachedFrames = {};\n\n    const steps = this._parent.time.getAllSteps();\n    // try to get frame from cache without keys\n    let cachePath = this._getCachePath();\n    if (!cachePath) return cb(null, time);\n    if (time && _this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n      // if it does, then return that frame directly and stop here\n      //QUESTION: can we call the callback and return the frame? this will allow callbackless API too\n      return cb(_this.cachedFrames[cachePath][time], time);\n    }\n    cachePath = this._getCachePath(keys);\n    if (!cachePath) return cb(null, time);\n\n    // check if the requested time point has a cached animation frame\n    if (time && _this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n      // if it does, then return that frame directly and stop here\n      //QUESTION: can we call the callback and return the frame? this will allow callbackless API too\n      return cb(_this.cachedFrames[cachePath][time], time);\n    }\n\n    // if it doesn't (the requested time point falls between animation frames or frame is not cached yet)\n    // check if interpolation makes sense: we've requested a particular time and we have more than one frame\n    if (time && steps.length > 1) {\n\n      //find the next frame after the requested time point\n      const nextFrameIndex = d3.bisectLeft(steps, time);\n\n      if (!steps[nextFrameIndex]) {\n        utils.warn(\"The requested frame is out of range: \" + time);\n        cb(null, time);\n        return null;\n      }\n\n      //if \"time\" doesn't hit the frame precisely\n      if (steps[nextFrameIndex].toString() != time.toString()) {\n\n        //interpolate between frames and fire the callback\n        this._interpolateBetweenFrames(time, nextFrameIndex, steps, response => {\n          cb(response, time);\n        }, keys);\n        return null;\n      }\n    }\n\n    //QUESTION: we don't need any further execution after we called for interpolation, right?\n    //request preparing the data, wait until it's done\n    _this.getFrames(time, keys).then(() => {\n      if (!time && _this.cachedFrames[cachePath]) {\n        //time can be null: then return all frames\n        return cb(_this.cachedFrames[cachePath], time);\n      } else if (_this.cachedFrames[cachePath] && _this.cachedFrames[cachePath][time]) {\n        //time can be !null: then a particular frame calculation was forced and now it's done\n        return cb(_this.cachedFrames[cachePath][time], time);\n      }\n      utils.warn(\"marker.js getFrame: Data is not available for frame: \" + time);\n      return cb(null, time);\n    });\n  },\n\n  _interpolateBetweenFrames(time, nextFrameIndex, steps, cb, keys) {\n    const _this = this;\n\n    if (nextFrameIndex == 0) {\n      //getFrame makes sure the frane is ready because a frame with non-existing data might be adressed\n      this.getFrame(steps[nextFrameIndex], values => cb(values), keys);\n    } else {\n      const prevFrameTime = steps[nextFrameIndex - 1];\n      const nextFrameTime = steps[nextFrameIndex];\n\n      //getFrame makes sure the frane is ready because a frame with non-existing data might be adressed\n      this.getFrame(prevFrameTime, pValues => {\n        _this.getFrame(nextFrameTime, nValues => {\n          const fraction = (time - prevFrameTime) / (nextFrameTime - prevFrameTime);\n          const dataBetweenFrames = {};\n\n          //loop across the hooks\n          utils.forEach(pValues, (values, hook) => {\n            dataBetweenFrames[hook] = {};\n\n            if (_this._multiDim && _this[hook].use == \"indicator\") {\n              const hookDataBF = dataBetweenFrames[hook];\n              const query = _this[hook].dataSource.getData(_this[hook]._dataId, \"query\");\n              const TIME = query.animatable;\n              const KEY = query.select.key.slice(0);\n              if (TIME && KEY.indexOf(TIME) != -1) KEY.splice(KEY.indexOf(TIME), 1);\n\n              const lastIndex = KEY.length - 1;\n              const iterateKeys = function(firstKeyObject, lastKeyObject, firstKey, pValues, nValues, index) {\n                const keys = Object.keys(pValues);\n                for (let i = 0, j = keys.length; i < j; i++) {\n                  if (index == 0) {\n                    firstKey = keys[i];//root level\n                  }\n                  if (index == lastIndex) {\n                    mapValue(hookDataBF, firstKey, keys[i], firstKeyObject, lastKeyObject, pValues[keys[i]], nValues[keys[i]]);\n                  } else {\n                    if (index == 0) {\n                      lastKeyObject = firstKeyObject = {};\n                    }\n                    const nextIndex = index + 1;\n                    lastKeyObject[keys[i]] = {};\n                    iterateKeys(firstKeyObject, lastKeyObject[keys[i]], firstKey, pValues[keys[i]], nValues[keys[i]], nextIndex);\n                  }\n                }\n              };\n\n              iterateKeys(null, null, null, values, nValues[hook], 0);\n\n            } else {\n              //loop across the entities\n              utils.forEach(values, (val1, key) => {\n                const val2 = nValues[hook][key];\n                if (utils.isDate(val1)) {\n                  dataBetweenFrames[hook][key] = time;\n                } else if (!utils.isNumber(val1)) {\n                  //we can be interpolating string values\n                  dataBetweenFrames[hook][key] = val1;\n                } else {\n                  //interpolation between number and null should rerurn null, not a value in between (#1350)\n                  dataBetweenFrames[hook][key] = (val1 == null || val2 == null) ? null : val1 + ((val2 - val1) * fraction);\n                }\n              });\n            }\n          });\n          cb(dataBetweenFrames);\n\n          function mapValue(hookDataBF, firstKey, lastKey, firstKeyObject, lastKeyObject, val1, val2) {\n            hookDataBF[firstKey] = firstKeyObject[firstKey];\n            if (utils.isDate(val1)) {\n              lastKeyObject[lastKey] = time;\n            } else if (!utils.isNumber(val1)) {\n              //we can be interpolating string values\n              lastKeyObject[lastKey] = val1;\n            } else {\n              //interpolation between number and null should rerurn null, not a value in between (#1350)\n              lastKeyObject[lastKey] = (val1 == null || val2 == null) ? null : val1 + ((val2 - val1) * fraction);\n            }\n          }\n\n        }, keys);\n      }, keys);\n    }\n  },\n\n  getFrames(forceFrame, selected) {\n    const _this = this;\n    if (!this.cachedFrames) this.cachedFrames = {};\n\n    const KEY = this._getFirstDimension();\n    const TIME = this._getFirstDimension({ type: \"time\" });\n\n    if (!this.frameQueues) this.frameQueues = {}; //static queue of frames\n    if (!this.partialResult) this.partialResult = {};\n\n    //array of steps -- names of all frames\n    const steps = this._parent.time.getAllSteps();\n\n    const cachePath = this._getCachePath(selected);\n    if (!cachePath) return new Promise((resolve, reject) => { resolve(); });\n    //if the collection of frames for this data cube is not scheduled yet (otherwise no need to repeat calculation)\n    if (!this.frameQueues[cachePath] || !(this.frameQueues[cachePath] instanceof Promise)) {\n\n      //this is a promise nobody listens to - it prepares all the frames we need without forcing any\n      this.frameQueues[cachePath] = new Promise((resolve, reject) => {\n\n        _this.partialResult[cachePath] = {};\n        steps.forEach(t => { _this.partialResult[cachePath][t] = {}; });\n\n        // Assemble the list of keys as an intersection of keys in all queries of all hooks\n        const keys = _this.getKeys();\n\n        const deferredHooks = [];\n        // Assemble data from each hook. Each frame becomes a vector containing the current configuration of hooks.\n        // frame -> hooks -> entities: values\n        utils.forEach(_this._dataCube, (hook, name) => {\n          if (hook.use === \"constant\") {\n            //special case: fill data with constant values\n            steps.forEach(t => {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(key => {\n                _this.partialResult[cachePath][t][name][key[KEY]] = hook.which;\n              });\n            });\n          } else if (hook.which === KEY) {\n            //special case: fill data with keys to data itself\n            steps.forEach(t => {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(key => {\n                _this.partialResult[cachePath][t][name][key[KEY]] = key[KEY];\n              });\n            });\n          } else if (hook.which === TIME) {\n            //special case: fill data with time points\n            steps.forEach(t => {\n              _this.partialResult[cachePath][t][name] = {};\n              keys.forEach(key => {\n                _this.partialResult[cachePath][t][name][key[KEY]] = new Date(t);\n              });\n            });\n          } else {\n            //calculation of async frames is taken outside the loop\n            //hooks with real data that needs to be fetched from datamanager\n            deferredHooks.push(hook);\n          }\n        });\n\n        //check if we have any data to get from datamanager\n        if (deferredHooks.length > 0) {\n          const promises = [];\n          utils.forEach(deferredHooks, hook => {\n            promises.push(new Promise((res, rej) => {\n              // need to save the hook state before calling getFrames.\n              // `hook` state might change between calling and resolving the call.\n              // The result needs to be saved to the correct cache, so we need to save current hook state\n              const currentHookState = {\n                name: hook._name,\n                which: hook.which\n              };\n              hook.getFrames(steps, selected).then(response => {\n                utils.forEach(response, (frame, t) => {\n                  _this.partialResult[cachePath][t][currentHookState.name] = frame[currentHookState.which];\n                });\n                res();\n              });\n            }));\n          });\n          Promise.all(promises).then(() => {\n            _this.cachedFrames[cachePath] = _this.partialResult[cachePath];\n            resolve();\n          });\n        } else {\n          _this.cachedFrames[cachePath] = _this.partialResult[cachePath];\n          resolve();\n        }\n\n      });\n    }\n    return new Promise((resolve, reject) => {\n      if (steps.length < 2 || !forceFrame) {\n        //wait until the above promise is resolved, then resolve the current promise\n        _this.frameQueues[cachePath].then(() => {\n          resolve(); //going back to getFrame(), to \".then\"\n        });\n      } else {\n        const promises = [];\n        utils.forEach(_this._dataCube, (hook, name) => {\n          //exception: we know that these are knonwn, no need to calculate these\n          if (hook.use !== \"constant\" && hook.which !== KEY && hook.which !== TIME) {\n            (function(_hook, _name) {\n              promises.push(new Promise((res, rej) => {\n                _hook.getFrame(steps, forceFrame, selected).then(response => {\n                  _this.partialResult[cachePath][forceFrame][_name] = response[forceFrame][_hook.which];\n                  res();\n                });\n              }));\n            })(hook, name); //isolate this () code with its own hook and name\n          }\n        });\n        if (promises.length > 0) {\n          Promise.all(promises).then(() => {\n            if (!_this.cachedFrames[cachePath]) {\n              _this.cachedFrames[cachePath] = {};\n            }\n            _this.cachedFrames[cachePath][forceFrame] = _this.partialResult[cachePath][forceFrame];\n            resolve();\n          });\n        }\n      }\n    });\n\n  },\n\n  listenFramesQueue(keys, cb) {\n    const _this = this;\n    const KEY = this._getFirstDimension();\n    const TIME = this._getFirstDimension({ type: \"time\" });\n    const steps = this._parent.time.getAllSteps();\n    const preparedFrames = {};\n    this.getFrames();\n    const dataIds = [];\n\n    const stepsCount = steps.length;\n    let isDataLoaded = false;\n\n    utils.forEach(_this._dataCube, (hook, name) => {\n      if (!(hook.use === \"constant\" || hook.which === KEY || hook.which === TIME)) {\n        if (!dataIds.includes(hook._dataId)) {\n          dataIds.push(hook._dataId);\n\n          hook.dataSource.listenFrame(hook._dataId, steps, keys, (dataId, time) => {\n            const keyName = time.toString();\n            if (typeof preparedFrames[keyName] === \"undefined\") preparedFrames[keyName] = [];\n            if (!preparedFrames[keyName].includes(dataId)) preparedFrames[keyName].push(dataId);\n            if (preparedFrames[keyName].length === dataIds.length)  {\n              if (!isDataLoaded && stepsCount === Object.keys(preparedFrames).length) {\n                isDataLoaded = true;\n                _this.trigger(\"dataLoaded\");\n              }\n\n              cb(time);\n            }\n          });\n        }\n      }\n    });\n  },\n\n  getEntityLimits(entity) {\n    const _this = this;\n    const timePoints = this._parent.time.getAllSteps();\n    const selectedEdgeTimes = [];\n    const hooks = [];\n    utils.forEach(_this.getSubhooks(), hook => {\n      if (hook.use == \"constant\") return;\n      if (hook._important) hooks.push(hook._name);\n    });\n\n    const findEntityWithCompleteHooks = function(values) {\n      if (!values) return false;\n      for (let i = 0, j = hooks.length; i < j; i++) {\n        if (!(values[hooks[i]][entity] || values[hooks[i]][entity] === 0)) return false;\n      }\n      return true;\n    };\n\n    const findSelectedTime = function(iterator, findCB) {\n      const point = iterator();\n      if (point == null) return;\n      _this.getFrame(timePoints[point], values => {\n        if (findEntityWithCompleteHooks(values)) {\n          findCB(point);\n        } else {\n          findSelectedTime(iterator, findCB);\n        }\n      });\n    };\n    const promises = [];\n    promises.push(new Promise((resolve, reject) => {\n\n      //find startSelected time\n      findSelectedTime((function() {\n        const max = timePoints.length;\n        let i = 0;\n        return function() {\n          return i < max ? i++ : null;\n        };\n      })(), point => {\n        selectedEdgeTimes[0] = timePoints[point];\n        resolve();\n      });\n    }));\n\n    promises.push(new Promise((resolve, reject) => {\n\n      //find endSelected time\n      findSelectedTime((function() {\n        let i = timePoints.length - 1;\n        return function() {\n          return i >= 0 ? i-- : null;\n        };\n      })(), point => {\n        selectedEdgeTimes[1] = timePoints[point];\n        resolve();\n      });\n\n    }));\n\n    return Promise.all(promises).then(() => ({ \"min\": selectedEdgeTimes[0], \"max\": selectedEdgeTimes[1] }));\n  },\n\n\n  /**\n   * Learn what this model should hook to\n   * @returns {Array} space array\n   */\n  getSpace() {\n    if (utils.isArray(this.space)) {\n      return this.space;\n    }\n\n    utils.error(\n      'ERROR: space not found.\\n You must specify the objects this hook will use under the \"space\" attribute in the state.\\n Example:\\n space: [\"entities\", \"time\"]'\n    );\n  }\n\n});\n\nexport default Marker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/marker.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n\n/*\n * VIZABI Data Model (options.data)\n */\n\nconst SideModel = Hook.extend({\n\n  /**\n   * Default values for this model\n   */\n\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  /**\n   * Initializes the size hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"side\";\n\n    bind[\"readyOnce\"] = this.readyOnce;\n\n    this.state = { left: {}, right: {} };\n    this._super(name, values, parent, bind);\n  },\n\n  readyOnce() {\n    if (!this.spaceRef) return;\n    const dataConnChildren = this._space[this.spaceRef].dataConnectedChildren.slice(0);\n    dataConnChildren.splice(dataConnChildren.indexOf(\"show\"), 1);\n    this._space[this.spaceRef].dataConnectedChildren = dataConnChildren;\n  },\n\n  switchSideState() {\n    const left = this.state.left;\n    this.state.left = this.state.right;\n    this.state.right = left;\n  },\n\n  clearSideState() {\n    this.state = { left: {}, right: {} };\n  }\n\n});\n\nexport default SideModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/side.js","import Axis from \"models/axis\";\nimport * as utils from \"base/utils\";\n\n/*\n * VIZABI Size Model\n */\n\nconst SizeModel = Axis.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null,\n      domainMin: null,\n      domainMax: null,\n      zoomedMin: null,\n      zoomedMax: null,\n      extent: [0, 0.85],\n      scaleType: null,\n      allow: {\n        scales: [\"ordinal\", \"linear\", \"log\", \"genericLog\", \"pow\"]\n      }\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  _type: \"size\",\n\n  buildScale() {\n    //do whatever axis.buildScale does\n    this._super();\n    //but then also clamp a numeric scale\n    if (this.scaleType !== \"ordinal\") this.scale.clamp(true);\n\n  },\n\n  autoGenerateModel() {\n    if (this.which == null) {\n      let concept;\n      if (this.autogenerate) {\n        concept = this.dataSource\n          .getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType);\n\n        if (concept) {\n          this.which = concept.concept;\n          this.use = \"indicator\";\n          this.scaleType = \"linear\";\n        }\n\n      }\n      if (!concept) {\n        this.which = \"_default\";\n        this.use = \"constant\";\n        this.scaleType = \"ordinal\";\n      }\n    }\n    if (this.scaleType == null) {\n      this.scaleType = this.dataSource\n        .getConceptprops(this.which).scales[0];\n    }\n  }\n\n});\n\nexport default SizeModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/size.js","import * as utils from \"base/utils\";\nimport Hook from \"models/hook\";\n\n/*\n * VIZABI Stack Model\n */\n\nconst palettes = {\n  \"ALL\": \"all\",\n  _default: \"none\"\n};\n\nconst StackModel = Hook.extend({\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      use: null,\n      which: null,\n      merge: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  /**\n   * Initializes the stack hook\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"model\";\n\n    this._super(name, values, parent, bind);\n  },\n\n  /**\n   * Validates a color hook\n   */\n  validate() {\n    //there must be no scale\n    if (this.scale) this.scale = null;\n\n    //use must not be \"indicator\"\n    if (this.use === \"indicator\") {\n      utils.warn(\"stack model: use must not be 'indicator'. Resetting use to 'constant' and which to '\" + palettes._default);\n      this.use = \"constant\";\n      this.which = palettes._default;\n    }\n\n    //if use is \"constant\"\n    if (this.use === \"constant\" && utils.values(palettes).indexOf(this.which) == -1) {\n      utils.warn(\"stack model: the requested value '\" + this.which + \"' is not allowed. resetting to '\" +\n        palettes._default);\n      this.which == palettes._default;\n    }\n  },\n\n  /**\n   * Get the above constants\n   */\n  getPalettes() {\n    return palettes;\n  },\n\n  /**\n   * There must be no scale\n   */\n  buildScale() {}\n\n});\n\nexport default StackModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/stack.js","import * as utils from \"base/utils\";\nimport DataConnected from \"models/dataconnected\";\n\n/*!\n * VIZABI Time Model\n */\n\n// short-cut for developers to get UTC date strings\n// not meant to be used in code!!!\nDate.prototype.utc = Date.prototype.toUTCString;\n\n/*\n * Time formats for internal data\n * all in UTC\n */\nconst formats = {\n  \"year\": { data: d3.time.format.utc(\"%Y\"),            ui: d3.time.format.utc(\"%Y\") },\n  \"month\": { data: d3.time.format.utc(\"%Y-%m\"),         ui: d3.time.format.utc(\"%b %Y\") }, // month needs separator according to ISO to not confuse YYYYMM with YYMMDD\n  \"day\": { data: d3.time.format.utc(\"%Y%m%d\"),        ui: d3.time.format.utc(\"%c\") },\n  \"hour\": { data: d3.time.format.utc(\"%Y%m%dT%H\"),     ui: d3.time.format.utc(\"%b %d %Y, %H\") },\n  \"minute\": { data: d3.time.format.utc(\"%Y%m%dT%H%M\"),   ui: d3.time.format.utc(\"%b %d %Y, %H:%M\") },\n  \"second\": { data: d3.time.format.utc(\"%Y%m%dT%H%M%S\"), ui: d3.time.format.utc(\"%b %d %Y, %H:%M:%S\") },\n  \"week\": { data: weekFormat(),    ui: weekFormat() },   // %Yw%W d3 week format does not comply with ISO\n  \"quarter\": { data: quarterFormat(), ui: quarterFormat() } // %Yq%Q d3 does not support quarters\n};\n\nconst TimeModel = DataConnected.extend({\n\n  objectLeafs: [\"autogenerate\"],\n\n  /**\n   * Default values for this model\n   */\n  getClassDefaults() {\n    const defaults = {\n      dim: null,\n      value: null,\n      start: null,\n      end: null,\n      startOrigin: null,\n      endOrigin: null,\n      startSelected: null,\n      endSelected: null,\n      playable: true,\n      playing: false,\n      loop: false,\n      round: \"round\",\n      delay: 150, //delay between animation frames\n      delayThresholdX2: 90, //delay X2 boundary: if less -- then every other frame will be dropped and animation dely will be double the value\n      delayThresholdX4: 45, //delay X4 boundary: if less -- then 3/4 frame will be dropped and animation dely will be 4x the value\n      unit: \"year\",\n      format: { data: null, ui: null }, // overwrite of default formats\n      step: 1, //step must be integer, and expressed in units\n      immediatePlay: true,\n      record: false,\n      offset: 0\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  dataConnectedChildren: [\"startOrigin\", \"endOrigin\", \"dim\"],\n\n  /**\n   * Initializes the locale model.\n   * @param {String} name\n   * @param {Object} values The initial values of this model\n   * @param parent A reference to the parent model\n   * @param {Object} bind Initial events to bind\n   */\n  init(name, values, parent, bind) {\n    this._type = \"time\";\n\n    //same constructor\n    this._super(name, values, parent, bind);\n    const _this = this;\n    this.initFormatters();\n    this.dragging = false;\n    this.postponePause = false;\n    this.allSteps = {};\n    this.delayAnimations = this.delay;\n\n    //bing play method to model change\n    this.on({\n\n      \"change:playing\": function() {\n        if (_this.playing === true) {\n          _this._startPlaying();\n        } else {\n          _this._stopPlaying();\n        }\n      },\n\n      \"change:format\": function() {\n        _this.initFormatters();\n      }\n\n    });\n  },\n\n  initFormatters() {\n    if (formats[this.unit]) {\n      this.formatters = formats[this.unit];\n    }\n    // specifically set formats overwrite unit defaults\n    if (typeof this.format === \"string\") {\n      this.formatters.data = this.formatters.ui = d3.time.format.utc(this.format);\n    } else {\n      if (this.format.data) {\n        this.formatters.data = d3.time.format.utc(this.format.data);\n      }\n      if (this.format.ui) {\n        this.formatters.ui = d3.time.format.utc(this.format.ui);\n      }\n    }\n    this.validateFormatting();\n  },\n\n  afterPreload() {\n    if (this.dim == null && this.autogenerate) {\n      const dataSource = this.getClosestModel(this.autogenerate.data);\n      this.dim = dataSource.getConceptByIndex(this.autogenerate.conceptIndex, this.autogenerate.conceptType).concept;\n    }\n  },\n\n  /**\n   * Formats value, start and end dates to actual Date objects\n   */\n  _formatToDates() {\n    const persistentValues = [\"value\"];\n    const date_attr = [\"value\", \"start\", \"end\", \"startSelected\", \"endSelected\"];\n    for (let i = 0; i < date_attr.length; i++) {\n      const attr = date_attr[i];\n      if (!utils.isDate(this[attr])) {\n        const date = this.parse(this[attr]);\n        this.set(attr, date, null, (persistentValues.indexOf(attr) !== -1));\n      }\n    }\n  },\n\n  /*\n   * Formatting and parsing functions\n   * @param {Date} dateObject\n   * @param {String} type Either data or ui.\n   * @returns {String}\n   */\n  formatDate(dateObject, type = \"data\") {\n    if ([\"data\", \"ui\"].indexOf(type) === -1) {\n      utils.warn(\"Time.formatDate type parameter (\" + type + ') invalid. Using \"data\".');\n      type = data;\n    }\n    if (dateObject == null) return null;\n    return this.formatters[type](dateObject);\n  },\n  /* parse to predefined unit */\n  parse(timeString, type = \"data\") {\n    if (timeString == null) return null;\n    return this.formatters[type].parse(timeString.toString());\n  },\n\n  /* auto-determines unit from timestring */\n  findFormat(timeString) {\n    const keys = Object.keys(formats);\n    for (let i = 0; i < keys.length; i++) {\n      let dateObject = formats[keys[i]].data.parse(timeString);\n      if (dateObject) return { unit: keys[i], time: dateObject, type: \"data\" };\n      dateObject = formats[keys[i]].ui.parse(timeString);\n      if (dateObject) return { unit: keys[i], time: dateObject, type: \"ui\" };\n    }\n    return null;\n  },\n\n\n  /**\n   * Validates the model\n   */\n  validate() {\n\n    //check if time start and end are not defined but start and end origins are defined\n    if (this.start == null && this.startOrigin) this.set(\"start\", this.startOrigin, null, false);\n    if (this.end == null && this.endOrigin) this.set(\"end\", this.endOrigin, null, false);\n\n    if (this.formatters) {\n      this.validateFormatting();\n    }\n\n    //unit has to be one of the available_time_units\n    if (!formats[this.unit]) {\n      utils.warn(this.unit + ' is not a valid time unit, using \"year\" instead.');\n      this.unit = \"year\";\n    }\n\n    if (this.step < 1) {\n      this.step = 1;\n    }\n\n    //end has to be >= than start\n    if (this.end < this.start && this.start != null) {\n      this.set(\"end\", new Date(this.start), null, false);\n    }\n\n    if (this.value < this.startSelected && this.startSelected != null) {\n      this.value = new Date(this.startSelected);\n    }\n\n    if (this.value > this.endSelected && this.endSelected != null) {\n      this.value = new Date(this.endSelected);\n    }\n    if (this.splash === false) {\n      if ((!this.startSelected || this.startSelected < this.start) && this.start != null) {\n        this.set({ startSelected: new Date(this.start) }, null, false /*make change non-persistent for URL and history*/);\n      }\n\n      if ((!this.endSelected || this.endSelected > this.end) && this.end != null) {\n        this.set({ endSelected: new Date(this.end) }, null, false /*make change non-persistent for URL and history*/);\n      }\n    }\n\n    //value has to be between start and end\n    if (this.value < this.start && this.start != null) {\n      this.value = new Date(this.start);\n    } else if (this.value > this.end && this.end != null) {\n      this.value = new Date(this.end);\n    }\n\n    if (this.playable === false && this.playing === true) {\n      this.set(\"playing\", false, null, false);\n    }\n  },\n\n  validateFormatting() {\n    // default to current date. Other option: newTime['start'] || newTime['end'] || time.start || time.end;\n    if (this.value == null) this.set(\"value\", this.parse(this.formatDate(new Date())), null, false);\n\n    //make sure dates are transformed into dates at all times\n    if (!utils.isDate(this.start) || !utils.isDate(this.end) || !utils.isDate(this.value)\n      || !utils.isDate(this.startSelected) || !utils.isDate(this.endSelected)) {\n      this._formatToDates();\n    }\n  },\n\n  /**\n   * Plays time\n   */\n  play() {\n    this._startPlaying();\n  },\n\n  /**\n   * Pauses time\n   */\n  pause(soft) {\n    if (soft) {\n      this.postponePause = true;\n    } else {\n      if (this.playing) {\n        this.set(\"playing\", false, null, false);\n        this.set(\"value\", this.value, true, true);\n      }\n    }\n  },\n\n  /**\n   * Indicates dragging of time\n   */\n  dragStart() {\n    this.dragging = true;\n  },\n  dragStop() {\n    this.dragging = false;\n  },\n\n\n  /**\n   * gets time range\n   * @returns range between start and end\n   */\n  getRange() {\n    const is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].range(this.start, this.end, is.step);\n  },\n\n  /**\n   * gets the d3 interval and stepsize for d3 time interval methods\n   * D3's week-interval starts on sunday and d3 does not support a quarter interval\n   **/\n  getIntervalAndStep() {\n    let d3Interval, step;\n    switch (this.unit) {\n      case \"week\": d3Interval = \"monday\"; step = this.step; break;\n      case \"quarter\": d3Interval = \"month\"; step = this.step * 3; break;\n      default: d3Interval = this.unit; step = this.step; break;\n    }\n    return { interval: utils.capitalize(d3Interval), step };\n  },\n\n  /**\n   * Gets filter for time\n   * @param {Boolean} splash: get filter for current year only\n   * @returns {Object} time filter\n   */\n  getFilter(splash) {\n    const defaultStart = this.parse(this.startOrigin);\n    const defaultEnd = this.parse(this.endOrigin);\n\n    const dim = this.getDimension();\n    let filter = null;\n\n    if (splash) {\n      if (this.value != null) {\n        filter = {};\n        filter[dim] = this.formatters.data(this.value);\n      }\n    } else {\n      let gte, lte;\n      if (defaultStart != null) {\n        gte = this.formatters.data(defaultStart);\n      }\n      if (defaultEnd != null) {\n        lte = this.formatters.data(defaultEnd);\n      }\n      if (gte || lte) {\n        filter = {};\n        filter[dim] = {};\n        if (gte) filter[dim][\"$gte\"] = gte;\n        if (lte) filter[dim][\"$lte\"] = lte;\n      }\n    }\n    return filter;\n  },\n\n  /**\n   * Gets parser for this model\n   * @returns {Function} parser function\n   */\n  getParser(type = \"data\") {\n    return this.formatters[type].parse;\n  },\n\n  /**\n  * Gets formatter for this model\n  * @returns {Function} formatter function\n  */\n  getFormatter(type = \"data\") {\n    return this.formatters[type];\n  },\n\n  /**\n   * Gets an array with all time steps for this model\n   * @returns {Array} time array\n   */\n  getAllSteps() {\n    if (!this.start || !this.end) {\n      utils.warn(\"getAllSteps(): invalid start/end time is detected: \" + this.start + \", \" + this.end);\n      return [];\n    }\n    const hash = \"\" + this.offset + this.start + this.end + this.step;\n\n    //return if cached\n    if (this.allSteps[hash]) return this.allSteps[hash];\n\n    this.allSteps[hash] = [];\n    const is = this.getIntervalAndStep();\n    let curr = d3[\"utc\" + is.interval].offset(this.start, this.offset);\n    while (+curr <= +this.end) {\n      const is = this.getIntervalAndStep();\n      this.allSteps[hash].push(curr);\n      curr = d3[\"utc\" + is.interval].offset(curr, is.step);\n    }\n    return this.allSteps[hash];\n  },\n\n  /**\n   * Snaps the time to integer\n   * possible inputs are \"start\", \"end\", \"value\". \"value\" is default\n   */\n  snap(what) {\n    if (!this.round) return;\n    if (what == null) what = \"value\";\n    let op = \"round\";\n    if (this.round === \"ceil\") op = \"ceil\";\n    if (this.round === \"floor\") op = \"floor\";\n    const is = this.getIntervalAndStep();\n    const time = d3[\"utc\" + is.interval][op](this[what]);\n    if ((this.value - time) != 0 || (this.value - this.start) == 0 || (this.value - this.end) == 0) {\n      this.set(what, time, true); //3rd argumennt forces update\n    }\n  },\n\n  /**\n   * Starts playing the time, initializing the interval\n   */\n  _startPlaying() {\n    //don't play if it's not playable\n    if (!this.playable) return;\n\n    const _this = this;\n\n    //go to start if we start from end point\n    if (this.value >= this.endSelected) {\n      _this.getModelObject(\"value\").set(_this.startSelected, null, false /*make change non-persistent for URL and history*/);\n    } else {\n      //the assumption is that the time is already snapped when we start playing\n      //because only dragging the timeslider can un-snap the time, and it snaps on drag.end\n      //so we don't need this line. let's see if we survive without.\n      //as a consequence, the first time update in playing sequence will have this.playing flag up\n      //so the bubble chart will zoom in smoothly. Closes #1213\n      //this.snap();\n    }\n    this.set(\"playing\", true, null, false);\n    this.playInterval(this.immediatePlay);\n\n    this.trigger(\"play\");\n  },\n\n  playInterval(immediatePlay) {\n    if (!this.playing) return;\n    const _this = this;\n    this.delayAnimations = this.delay;\n    if (this.delay < this.delayThresholdX2) this.delayAnimations *= 2;\n    if (this.delay < this.delayThresholdX4) this.delayAnimations *= 2;\n\n    const delayAnimations = immediatePlay ? 1 : this.delayAnimations;\n\n    this._intervals.setInterval(\"playInterval_\" + this._id, () => {\n      // when time is playing and it reached the end\n      if (_this.value >= _this.endSelected) {\n        // if looping\n        if (_this.loop) {\n          // reset time to start, silently\n          _this.getModelObject(\"value\").set(_this.startSelected, null, false /*make change non-persistent for URL and history*/);\n        } else {\n          _this.set(\"playing\", false, null, false);\n        }\n      } else {\n\n        _this._intervals.clearInterval(\"playInterval_\" + _this._id);\n\n        if (_this.postponePause || !_this.playing) {\n          _this.set(\"playing\", false, null, false);\n          _this.postponePause = false;\n          _this.getModelObject(\"value\").set(_this.value, true, true /*force the change and make it persistent for URL and history*/);\n        } else {\n          const is = _this.getIntervalAndStep();\n          if (_this.delay < _this.delayThresholdX2) is.step *= 2;\n          if (_this.delay < _this.delayThresholdX4) is.step *= 2;\n          const time = d3[\"utc\" + is.interval].offset(_this.value, is.step);\n          if (time >= _this.endSelected) {\n            // if no playing needed anymore then make the last update persistent and not overshooting\n            _this.getModelObject(\"value\").set(_this.endSelected, null, true /*force the change and make it persistent for URL and history*/);\n          } else {\n            _this.getModelObject(\"value\").set(time, null, false /*make change non-persistent for URL and history*/);\n          }\n          _this.playInterval();\n        }\n      }\n    }, delayAnimations);\n\n  },\n\n  incrementTime(time) {\n    const is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].offset(time, is.step);\n  },\n\n  decrementTime(time) {\n    const is = this.getIntervalAndStep();\n    return d3[\"utc\" + is.interval].offset(time, -is.step);\n  },\n\n  /**\n   * Stops playing the time, clearing the interval\n   */\n  _stopPlaying() {\n    this._intervals.clearInterval(\"playInterval_\" + this._id);\n    //this.snap();\n    this.trigger(\"pause\");\n  }\n\n});\n\n/*\n * Week Format to format and parse dates\n * Conforms with ISO8601\n * Follows format: YYYYwWW: 2015w04, 3845w34, 0020w53\n */\nfunction weekFormat() {\n\n  const format = function(d) {\n    return formatWeekYear(d) + \"w\" + formatWeek(d);\n  };\n\n  format.parse = function parse(dateString) {\n    const matchedDate = dateString.match(/^(\\d{4})w(\\d{2})$/);\n    return matchedDate ? getDateFromWeek(matchedDate[1], matchedDate[2]) : null;\n  };\n\n  const formatWeekYear = function(d) {\n    const origin = +d;\n    return new Date(origin + ((4 - (d.getUTCDay() || 7)) * 86400000)).getUTCFullYear();\n  };\n\n  const formatWeek = function(d) {\n    const origin = +d;\n    const quote = new Date(origin + ((4 - (d.getUTCDay() || 7)) * 86400000));\n    const week = Math.ceil(((quote.getTime() - quote.setUTCMonth(0, 1)) / 86400000 + 1) / 7);\n    return week < 10 ? \"0\" + week : week;\n  };\n\n  const getDateFromWeek = function(p1, p2) {\n    const week = parseInt(p2);\n    const year = p1;\n    const startDateOfYear = new Date(); // always 4th of January (according to standard ISO 8601)\n    startDateOfYear.setUTCFullYear(year);\n    startDateOfYear.setUTCMonth(0);\n    startDateOfYear.setUTCDate(4);\n    const startDayOfWeek = startDateOfYear.getUTCDay() || 7;\n    const dayOfWeek = 1; // Monday === 1\n    const dayOfYear = week * 7 + dayOfWeek - (startDayOfWeek + 4);\n\n    let date = formats[\"year\"].parse(year);\n    date = new Date(date.getTime() + dayOfYear * 24 * 60 * 60 * 1000);\n\n    return date;\n  };\n\n  return format;\n\n}\n\n/*\n * Quarter Format to format and parse quarter dates\n * A quarter is the month%3\n * Follows format: YYYYqQ: 2015q4, 5847q1, 0040q2\n */\nfunction quarterFormat() {\n\n  const format = function(d) {\n    return formats.year.data(d) + \"q\" + formatQuarter(d);\n  };\n\n  format.parse = function(dateString) {\n    const matchedDate = dateString.match(/^(\\d{4})q(\\d)$/);\n    return matchedDate ? getDateFromQuarter(matchedDate[1], matchedDate[2]) : null;\n  };\n\n  const formatQuarter = function(d) {\n    return ((d.getUTCMonth() / 3) | 0) + 1;\n  };\n\n  const getDateFromQuarter = function(p1, p2) {\n    const quarter = parseInt(p2);\n    const month = 3 * quarter - 2; // first month in quarter\n    const year = p1;\n    return formats.month.data.parse([year, (month < 9 ? \"0\" : \"\") + month].join(\"-\"));\n  };\n\n  return format;\n}\n\nexport default TimeModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/time.js","import * as utils from \"base/utils\";\nimport Model from \"base/model\";\n\n//classes are vzb-portrait, vzb-landscape...\nconst class_prefix = \"vzb-\";\nconst class_presentation = \"presentation\";\nconst class_rtl = \"rtl\";\nconst class_portrait = \"vzb-portrait\";\nconst class_landscape = \"vzb-landscape\";\n\nconst UI = Model.extend({\n\n  screen_profiles: {\n    small: {\n      min_width: 0,\n      min_height: 0\n    },\n    medium: {\n      min_width: 600,\n      min_height: 400\n    },\n    large: {\n      min_width: 900,\n      min_height: 520\n    }\n  },\n\n  getClassDefaults() {\n    const defaults = {\n      presentation: false,\n      buttons: [],\n      dialogs: {\n        popup: [],\n        sidebar: [],\n        moreoptions: []\n      },\n      splash: false\n    };\n    return utils.deepExtend(this._super(), defaults);\n  },\n\n  /**\n   * Initializes the layout manager\n   */\n  init(name, values, parent, bind) {\n\n    this._type = \"ui\";\n    this._container = null;\n    //dom element\n    this._curr_profile = \"small\";\n    this._prev_size = {};\n\n    //resize when window resizes\n    this.resizeHandler = this.resizeHandler.bind(this);\n    window.addEventListener(\"resize\", this.resizeHandler);\n    bind[\"change:presentation\"] = this.updatePresentation.bind(this);\n\n    this._super(name, values, parent, bind);\n  },\n\n  resizeHandler(args = {}) {\n    if (this._container) {\n      this.setSize(args.force || false);\n    }\n  },\n\n  /**\n   * Calculates the size of the newly resized container\n   */\n  setSize(force) {\n    const _this = this;\n    const width = this._container.clientWidth;\n    const height = this._container.clientHeight;\n\n    /**\n     * issue #1118\n     * check if device is iPhone then add top margin for searchbar if it visible\n     */\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent) // browser is safari\n      && navigator.userAgent.match(/iPhone/i) // checking device\n    ) {\n      this._container.style.top =  0;\n      if (this._container.clientWidth > this._container.clientHeight // landscape mode\n        && this._container.clientWidth < 700) {  // small device\n        const bodyHeight = this._container.clientHeight;\n        const windowHeight = window.innerHeight;\n        if (2 < (bodyHeight - windowHeight) && (bodyHeight - windowHeight) <= 45) { // check searchbar is visible\n          this._container.style.top =  44 + \"px\";\n          document.body.scrollTop = 44; // scrolling empty space\n        }\n      }\n    }\n\n    if (!force && this._prev_size && this._prev_size.width === width && this._prev_size.height === height\n       || !width || !height) {\n      return;\n    }\n\n    // choose profile depending on size\n    utils.forEach(this.screen_profiles, (range, size) => {\n      //remove class\n      utils.removeClass(_this._container, class_prefix + size);\n      //find best fit\n      if (width >= range.min_width && height >= range.min_height) {\n        _this._curr_profile = size;\n      }\n    });\n\n    //update size class\n    utils.addClass(this._container, class_prefix + this._curr_profile);\n\n    //toggle, untoggle classes based on orientation\n    utils.classed(this._container, class_portrait, width < height);\n    utils.classed(this._container, class_landscape, !(width < height));\n\n    this._prev_size.width = width;\n    this._prev_size.height = height;\n    this.trigger(\"resize\");\n  },\n\n  /**\n   * Sets the container for this layout\n   * @param container DOM element\n   */\n  setContainer(container) {\n    if (!container.clientWidth || !container.clientHeight) utils.warn(\"Vizabi is being initialised with a container of incorrect width or height. While this may be handled without a crash, it's not considered a healthy behavior. You should call Vizabi(placeholder,...) function when placeholder is not display:none and has some >0 !=auto width and height\");\n\n    this._container = container;\n    this.setSize();\n    this.updatePresentation();\n  },\n\n  /**\n   * Sets the presentation mode for this layout\n   * @param {Bool} presentation mode on or off\n   */\n  updatePresentation() {\n    utils.classed(this._container, class_prefix + class_presentation, this.presentation);\n    this.trigger(\"resize\");\n  },\n\n  getPresentationMode() {\n    return this.presentation;\n  },\n\n  setRTL(flag) {\n    utils.classed(this._container, class_prefix + class_rtl, flag);\n  },\n\n  /**\n   * Gets the current selected profile\n   * @returns {String} name of current profile\n   */\n  currentProfile() {\n    return this._curr_profile;\n  },\n\n  clear() {\n    window.removeEventListener(\"resize\", this.resizeHandler);\n  }\n\n});\n\nexport default UI;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ui.js","//  d3.scale.genericLog\nexport default function genericLog() {\n  return (function d3_scale_genericLog(logScale) {\n    const _this = this;\n    let scales = [];\n    let domainParts = [];\n    let eps = 0.1;\n    let delta = 5;\n    let domain = logScale.domain();\n    let range = logScale.range();\n    let interpolator = null;\n    let rangePointingForward, domainPointingForward;\n\n    const abs = function(arg) {\n      if (arg instanceof Array)\n        return arg.map(d => Math.abs(d));\n      return Math.abs(arg);\n    };\n\n    const _buildLinearScale = function(fakeDomain, fakeRange) {\n      return {\n        domain: fakeDomain,\n        sign: 1,\n        range: fakeRange,\n        scale: d3.scaleLinear().domain(fakeDomain).range(fakeRange)\n      };\n    };\n\n    const _buildLogScale = function(fakeDomain, fakeRange, revertDomain) {\n      let normalizedDomain = fakeDomain;\n      //var normalizedRange = fakeRange.slice(0);\n      if (revertDomain) {\n        normalizedDomain = abs(fakeDomain);\n        //fakeRange.reverse();\n      }\n      return {\n        domain: fakeDomain,\n        sign: revertDomain ? -1 : 1,\n        range: fakeRange,\n        scale: d3.scaleLog().domain(normalizedDomain).range(fakeRange)\n      };\n    };\n\n\n    const buildScales = function() {\n      rangePointingForward = range[0] < range[range.length - 1];\n      const rangePointingSign = rangePointingForward ? 1 : -1;\n      scales = [];\n      if (domainParts.length == 1) {\n        if (domainParts[0][0] <= 0 && domainParts[0][1] >= 0) {\n          scales = [_buildLinearScale(domainParts[0], range)];\n        } else {\n          scales = [_buildLogScale(domainParts[0], range, domainParts[0][0] <= 0)];\n        }\n      } else {\n        const maxDomain = d3.max(abs(domain));\n        let rangeLength = abs(d3.max(range) - d3.min(range));\n        let rangePointKoef = 1;\n        let firstRangePoint = 0, secondRangePoint = 0, firstEps = 0, secondEps = 0;\n        logScale.domain([eps, maxDomain]).range([0, rangeLength]);\n        const minRangePoint = delta;//logScale(eps * 2);\n        if (domain[0] != 0 && abs(domain[0]) > eps)\n          firstRangePoint = logScale(abs(domain[0]));\n        if (domain[domain.length - 1] != 0  && abs(domain.length - 1) > eps)\n          secondRangePoint = logScale(abs(domain[domain.length - 1]));\n\n        if (abs(domain[0]) > eps)\n          firstEps = minRangePoint;\n\n        if (abs(domain[domain.length - 1]) > eps)\n          secondEps = minRangePoint;\n\n        rangeLength = rangeLength - firstEps - secondEps;\n        if (secondRangePoint != 0) rangePointKoef = abs((firstRangePoint) / (secondRangePoint));\n\n        let point1, point2;\n        if (domainParts.length == 2) {\n          // example: [-eps..0,eps][eps, val]\n          if (domain[0] == 0 || abs(domain[0]) <= eps) {\n            point1 = range[0] + firstRangePoint * rangePointKoef * rangePointingSign\n              + secondEps * rangePointingSign;\n            scales = [\n              _buildLinearScale(domainParts[0], [range[0], point1]),\n              _buildLogScale(domainParts[1], [point1,  range[range.length - 1]], !domainPointingForward)\n            ];\n          } else if (domain[domain.length - 1] == 0 || abs(domain[domain.length - 1]) <= eps) { // example: [-val,-eps][-eps, 0..eps]\n            point1 = range[range.length - 1] - (firstEps + secondEps) * rangePointKoef * rangePointingSign;\n            scales = [\n              _buildLogScale(domainParts[0], [range[0], point1], domainPointingForward),\n              _buildLinearScale(domainParts[1], [point1, range[range.length - 1]])\n            ];\n          }\n        } else {\n          point1 = range[0] + rangeLength / (1 / rangePointKoef + 1) * rangePointingSign;\n          point2 = range[0] + (rangeLength / (1 / rangePointKoef + 1) + firstEps + secondEps) * rangePointingSign;\n          scales = [\n            _buildLogScale(domainParts[0], [range[0], point1], domainPointingForward),\n            _buildLinearScale(domainParts[1], [point1, point2]),\n            _buildLogScale(domainParts[2], [point2, range[range.length - 1]], !domainPointingForward)\n          ];\n        }\n      }\n    };\n\n    const buildDomain = function() {\n      domainPointingForward = domain[0] < domain[domain.length - 1];\n      domainParts = [];\n      if ((d3.min(domain) > 0 && d3.max(domain) > 0) || (d3.min(domain) < 0 && d3.max(domain) < 0)) {\n        domainParts = [domain];\n      } else {\n        let start, end;\n        if (domainPointingForward) {\n          start = domain[0];\n          end = domain[domain.length - 1];\n        } else {\n          start = domain[domain.length - 1];\n          end = domain[0];\n        }\n        const _addSubdomain = function(first, second) {\n          if (domainPointingForward) {\n            domainParts.push([first, second]);\n          } else {\n            domainParts.unshift([second, first]);\n          }\n        };\n        while (start != end) {\n          if (end <= -eps || (start >= -eps && end <= eps) || start >= eps) {\n            _addSubdomain(start, end);\n            start = end;\n          } else if (start < -eps && end >= -eps) {\n            _addSubdomain(start, -eps);\n            start = -eps;\n          } else if (start >= -eps && end >= eps) {\n            _addSubdomain(start, eps);\n            start = eps;\n          } else {\n            console.warn(\"Something wrong while build subdomains: \" + start + \" \" + end);\n            start = end;\n          }\n        }\n      }\n      buildScales();\n    };\n\n    const _getScaleByDomain = function(x) {\n      if (domainPointingForward) {\n        if (x < domain[0]) {\n          return scales[0];\n        } else if (x > domain[domain.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (let i = 0; i < scales.length; i++) {\n          if (x >= scales[i].domain[0] && x <= scales[i].domain[scales[i].domain.length - 1]) {\n            return scales[i];\n          }\n        }\n\n      } else {\n        if (x > domain[0]) {\n          return scales[0];\n        } else if (x < domain[domain.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (let i = 0; i < scales.length; i++) {\n          if (x <= scales[i].domain[0] && x >= scales[i].domain[scales[i].domain.length - 1]) {\n            return scales[i];\n          }\n        }\n\n      }\n    };\n\n    const getScaleByRange = function(x) {\n      if (rangePointingForward) {\n        if (x < range[0]) {\n          return scales[0];\n        } else if (x > range[range.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (let i = 0; i < scales.length; i++) {\n          if (x >= scales[i].range[0] && x <= scales[i].range[scales[i].range.length - 1]) {\n            return scales[i];\n          }\n        }\n\n      } else {\n        if (x > range[0]) {\n          return scales[0];\n        } else if (x < range[range.length - 1]) {\n          return scales[scales.length - 1];\n        }\n\n        for (let i = 0; i < scales.length; i++) {\n          if (x <= scales[i].range[0] && x >= scales[i].range[1]) {\n            return scales[i];\n          }\n        }\n\n      }\n    };\n\n    //polyfill for IE11\n    Math.sign = Math.sign || function(x) {\n      x = +x;\n      if (x === 0 || isNaN(x)) {\n        return x;\n      }\n      return x > 0 ? 1 : -1;\n    };\n\n    function scale(x) {\n      const currScale = _getScaleByDomain(x);\n\n      return interpolator ?\n        interpolator(currScale.scale(x * currScale.sign)) :\n        currScale.scale(x * currScale.sign);\n    }\n\n    scale.eps = function(arg) {\n      if (!arguments.length)\n        return eps;\n      eps = arg;\n      scale.domain(domain);\n      return scale;\n    };\n\n    scale.delta = function(arg) {\n      if (!arguments.length)\n        return delta;\n      delta = arg;\n      scale.range(range);\n      return scale;\n    };\n\n    scale.domain = function(arg) {\n      if (!arguments.length)\n        return domain;\n\n      // this is an internal array, it will be modified. the input _arg should stay intact\n      switch (arg.length) {\n        // if no values are given, reset input to the default domain (do nothing)\n        case 0:\n          arg = domain;\n          break;\n        // use the given value as a center, get the domain /2 and *2 around it\n        case 1:\n          arg = [\n            arg[0] / 2,\n            arg[0] * 2\n          ];\n          break;\n      }\n      //if the domain is just a single value\n      if (arg[0] == arg[arg.length - 1]) {\n        arg[0] /= 2;\n        arg[arg.length - 1] = arg[arg.length - 1] * 2;\n      }\n      domain = arg;\n      const min = d3.min(abs(domain).filter(val => !!val));\n      if (min) eps = Math.min(eps, min / 100);\n      buildDomain();\n      return scale;\n    };\n\n\n    scale.range = function(arg, force) {\n      if (!arguments.length)\n        return interpolator ? interpolator.range() : range;\n\n      switch (arg.length) {\n        // reset input to the default range\n        case 0:\n          arg = range;\n          break;\n        // use the only value as a center, get the range ±100 around it\n        case 1:\n          arg = [\n            arg[0] - 100,\n            arg[0] + 100\n          ];\n          break;\n        // two is the standard case. do nothing\n      }\n\n      //console.log(\"LOG and LIN range:\", logScale.range(), linScale.range());\n      if (interpolator && !force) {\n        interpolator.range(arg);\n      } else {\n        range = arg;\n        const min = d3.min(abs(range).filter(val => !!val));\n\n        if (min) delta = Math.min(delta, min / 100);\n        buildScales();\n      }\n      return scale;\n    };\n\n    scale.interpolate = function(arg) {\n      let interpolatorDomain = domain;\n      if (domainParts.length > 1) {\n        const _domain = domain;\n        const _range = range;\n        const limits = [domain[0], domain[domain.length - 1]];\n        scale.domain(limits).range(limits);\n        interpolatorDomain = _domain.map(d => scale(d));\n        scale.domain(_domain).range(_range);\n      }\n      interpolator = d3.scaleLinear().domain(interpolatorDomain).range(range).interpolate(arg);\n      scale.range(interpolator.domain(), true);\n      return scale;\n    };\n\n    scale.invert = function(arg) {\n      const currScale = getScaleByRange(arg);\n      return currScale.scale.invert(arg) * currScale.sign;\n    };\n\n    scale.ticks = function(arg) {\n      let partTicks;\n      const ticks = [];\n      for (let i = 0; i < scales.length; i++) {\n        if (scales[i].sign == -1) {\n          partTicks = scales[i].scale.ticks().reverse().map(val => val * -1);\n        } else {\n          partTicks = scales[i].scale.ticks();\n        }\n        if (ticks.length > 0 && partTicks.length > 0 && ticks[ticks.length - 1] == partTicks[0]) {\n          partTicks.splice(0, 1);\n        }\n        ticks.push(...partTicks);\n      }\n      return ticks;\n    };\n\n    scale.copy = function() {\n      return d3_scale_genericLog(logScale).domain(domain).range(range).delta(delta).eps(eps);\n    };\n\n    return d3.rebind(scale, logScale, \"base\", \"rangeRound\", \"clamp\", \"nice\",\n      \"tickFormat\");\n  })(d3.scaleLog().domain([0.1, 200]).range([0, 1000]));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.genericLogScale.js","function detectTouchEvent(element, onTap, onLongTap) {\n  var start;\n  var coordX;\n  var coordY;\n  var namespace = onTap ? '.onTap' : '.onLongTap';\n  d3.select(element)\n    .on('touchstart' + namespace, function(d, i) {\n      start = d3.event.timeStamp;\n      coordX = d3.event.changedTouches[0].screenX;\n      coordY = d3.event.changedTouches[0].screenY;\n    })\n    .on('touchend' + namespace, function(d, i) {\n      coordX = Math.abs(coordX - d3.event.changedTouches[0].screenX);\n      coordY = Math.abs(coordY - d3.event.changedTouches[0].screenY);\n      if (coordX < 5 && coordY < 5) {\n        if (d3.event.timeStamp - start < 500)\n          return onTap ? onTap(d, i) : undefined;\n        return onLongTap ? onLongTap(d, i) : undefined;\n      } else return undefined;\n    });\n}\n\n//d3.selection.prototype.onTap\nvar onTap = function(callback) {\n  return this.each(function() {\n    detectTouchEvent(this, callback);\n  });\n};\n\n//d3.selection.prototype.onLongTap\nvar onLongTap = function(callback) {\n  return this.each(function() {\n    detectTouchEvent(this, null, callback);\n  });\n};\n\nexport default {\n  onTap: onTap,\n  onLongTap: onLongTap\n};\n\nexport {\n  onTap,\n  onLongTap\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.touchEvents.js","import parseDecimal from \"parse-decimal-number\";\nimport Reader from \"base/reader\";\n\nconst cached = {};\n\nconst CSVReader = Reader.extend({\n\n  _name: \"csv\",\n\n  /**\n   * Initializes the reader.\n   * @param {Object} readerInfo Information about the reader\n   */\n  init(readerInfo) {\n    this._data = [];\n    this._basepath = readerInfo.path;\n    this.delimiter = readerInfo.delimiter;\n    this.keySize = readerInfo.keySize || 1;\n\n    this._parseStrategies = [\n      ...[\",.\", \".,\"].map(separator => this._createParseStrategy(separator)),\n      number => number,\n    ];\n\n    Object.assign(this.ERRORS, {\n      WRONG_TIME_COLUMN_OR_UNITS: \"reader/error/wrongTimeUnitsOrColumn\",\n      NOT_ENOUGH_ROWS_IN_FILE: \"reader/error/notEnoughRows\",\n      UNDEFINED_DELIMITER: \"reader/error/undefinedDelimiter\",\n      EMPTY_HEADERS: \"reader/error/emptyHeaders\"\n    });\n  },\n\n  ensureDataIsCorrect({ columns, rows }, parsers) {\n    const timeKey = columns[this.keySize];\n    const [firstRow] = rows;\n    const parser = parsers[timeKey];\n\n    const time = firstRow[timeKey].trim();\n    if (parser && !parser(time)) {\n      throw this.error(this.ERRORS.WRONG_TIME_COLUMN_OR_UNITS, undefined, {\n        currentYear: new Date().getFullYear(),\n        foundYear: time\n      });\n    }\n\n    if (!columns.filter(Boolean).length) {\n      throw this.error(this.ERRORS.EMPTY_HEADERS);\n    }\n  },\n\n  /**\n   * This function returns info about the dataset\n   * in case of CSV reader it's just the name of the file\n   * @returns {object} object of info about the dataset\n   */\n  getDatasetInfo() {\n    return { name: this._basepath.split(\"/\").pop() };\n  },\n\n  load() {\n    const { _basepath: path } = this;\n\n    return new Promise((resolve, reject) => {\n      const cachedData = cached[path];\n\n      if (cachedData) {\n        resolve(cachedData);\n      } else {\n        d3.text(path).get((error, text) => {\n          if (!text) {\n            return reject(`No permissions or empty file: ${path}. ${error}`);\n          }\n\n          if (error) {\n            return reject(`Error happened while loading csv file: ${path}. ${error}`);\n          }\n\n          try {\n            const { delimiter = this._guessDelimiter(text) } = this;\n            const parser = d3.dsvFormat(delimiter);\n            const rows = parser.parse(text, row => Object.keys(row).every(key => !row[key]) ? null : row);\n            const { columns } = rows;\n\n            const result = { columns, rows };\n            cached[path] = result;\n            resolve(result);\n          } catch (e) {\n            return reject(e);\n          }\n        });\n      }\n    });\n  },\n\n  _guessDelimiter(text) {\n    const stringsToCheck = 2;\n    const rows = this._getRows(text, stringsToCheck).map(row => row.replace(/\".*?\"/g, \"\"));\n\n    if (rows.length !== stringsToCheck) {\n      throw this.error(this.ERRORS.NOT_ENOUGH_ROWS_IN_FILE);\n    }\n\n    const [header, firstRow] = rows;\n    const [comma, semicolon] = [\",\", \";\"];\n    const commasCountInHeader = this._countCharsInLine(header, comma);\n    const semicolonsCountInHeader = this._countCharsInLine(header, semicolon);\n    const commasCountInFirstRow = this._countCharsInLine(firstRow, comma);\n    const semicolonsCountInFirstRow = this._countCharsInLine(firstRow, semicolon);\n\n    if (\n      this._checkDelimiters(\n        commasCountInHeader,\n        commasCountInFirstRow,\n        semicolonsCountInHeader,\n        semicolonsCountInFirstRow\n      )\n    ) {\n      return comma;\n    } else if (\n      this._checkDelimiters(\n        semicolonsCountInHeader,\n        semicolonsCountInFirstRow,\n        commasCountInHeader,\n        commasCountInFirstRow\n      )\n    ) {\n      return semicolon;\n    }\n\n    throw this.error(this.ERRORS.UNDEFINED_DELIMITER);\n  },\n\n  _checkDelimiters(\n    firstDelimiterInHeader,\n    firstDelimiterInFirstRow,\n    secondDelimiterInHeader,\n    secondDelimiterInFirstRow\n  ) {\n    return firstDelimiterInHeader === firstDelimiterInFirstRow\n      && firstDelimiterInHeader > 1\n      && (\n        (secondDelimiterInHeader !== secondDelimiterInFirstRow)\n        || (!secondDelimiterInHeader && !secondDelimiterInFirstRow)\n        || (firstDelimiterInHeader > secondDelimiterInHeader && firstDelimiterInFirstRow > secondDelimiterInFirstRow)\n      );\n  },\n\n  _getRows(text, count = 0) {\n    const re = /([^\\r\\n]+)/g;\n    const rows = [];\n    let rowsCount = 0;\n\n    let matches = true;\n    while (matches && rowsCount !== count) {\n      matches = re.exec(text);\n      if (matches && matches.length > 1) {\n        ++rowsCount;\n        rows.push(matches[1]);\n      }\n    }\n\n    return rows;\n  },\n\n  _countCharsInLine(text, char) {\n    const re = new RegExp(char, \"g\");\n    const matches = text.match(re);\n    return matches ? matches.length : 0;\n  },\n\n  _createParseStrategy(separators) {\n    return value => {\n      const hasOnlyNumbersOrSeparators = !(new RegExp(`[^\\\\d${separators}]`).test(value));\n\n      if (hasOnlyNumbersOrSeparators && value) {\n        const result = parseDecimal(value, separators);\n\n        if (!isFinite(result) || isNaN(result)) {\n          this._isParseSuccessful = false;\n        }\n\n        return result;\n      }\n\n      return value;\n    };\n  },\n\n  _mapRows(rows, query, parsers) {\n    const mapRow = this._getRowMapper(query, parsers);\n\n    for (const parseStrategy of this._parseStrategies) {\n      this._parse = parseStrategy;\n      this._isParseSuccessful = true;\n\n      const result = [];\n      for (const row of rows) {\n        const parsed = mapRow(row);\n\n        if (!this._isParseSuccessful) {\n          break;\n        }\n\n        result.push(parsed);\n      }\n\n      if (this._isParseSuccessful) {\n        return result;\n      }\n    }\n  },\n\n  versionInfo: { version: __VERSION, build: __BUILD }\n\n});\n\nexport default CSVReader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/readers/csv/csv.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport * as iconset from \"base/iconset\";\n\n/*!\n * VIZABI BUTTONLIST\n * Reusable buttonlist component\n */\n\n//default existing buttons\nconst class_active = \"vzb-active\";\nconst class_hidden = \"vzb-hidden\";\nconst class_active_locked = \"vzb-active-locked\";\nconst class_expand_dialog = \"vzb-dialog-side\";\nconst class_hide_btn = \"vzb-dialog-side-btn\";\nconst class_unavailable = \"vzb-unavailable\";\nconst class_vzb_fullscreen = \"vzb-force-fullscreen\";\nconst class_container_fullscreen = \"vzb-container-fullscreen\";\n\nconst ButtonList = Component.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, context) {\n\n    //set properties\n    const _this = this;\n    this.name = this.name || \"gapminder-buttonlist\";\n    //    this.template = '<div class=\"vzb-buttonlist\"></div>';\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this._available_buttons = {\n      \"find\": {\n        title: \"buttons/find\",\n        icon: \"search\",\n        required: false\n      },\n      \"show\": {\n        title: \"buttons/show\",\n        icon: \"asterisk\",\n        required: false\n      },\n      \"moreoptions\": {\n        title: \"buttons/more_options\",\n        icon: \"gear\",\n        required: true\n      },\n      \"colors\": {\n        title: \"buttons/colors\",\n        icon: \"paintbrush\",\n        required: false\n      },\n      \"mapcolors\": {\n        title: \"buttons/mapcolors\",\n        icon: \"paintbrush\",\n        required: false\n      },\n      \"size\": {\n        title: \"buttons/size\",\n        icon: \"circle\",\n        required: false\n      },\n      \"zoom\": {\n        title: \"buttons/zoom\",\n        icon: \"cursorPlus\",\n        required: false\n      },\n      \"fullscreen\": {\n        title: \"buttons/expand\",\n        icon: \"expand\",\n        func: this.toggleFullScreen.bind(this),\n        required: true\n      },\n      \"trails\": {\n        title: \"buttons/trails\",\n        icon: \"trails\",\n        func: this.toggleBubbleTrails.bind(this),\n        required: false,\n        statebind: \"ui.chart.trails\",\n        statebindfunc: this.setBubbleTrails.bind(this)\n      },\n      \"lock\": {\n        title: \"buttons/lock\",\n        icon: \"lock\",\n        func: this.toggleBubbleLock.bind(this),\n        required: false,\n        statebind: \"ui.chart.lockNonSelected\",\n        statebindfunc: this.setBubbleLock.bind(this)\n      },\n      \"inpercent\": {\n        title: \"buttons/inpercent\",\n        icon: \"percent\",\n        func: this.toggleInpercent.bind(this),\n        required: false,\n        statebind: \"ui.chart.inpercent\",\n        statebindfunc: this.setInpercent.bind(this)\n      },\n      \"presentation\": {\n        title: \"buttons/presentation\",\n        icon: \"presentation\",\n        func: this.togglePresentationMode.bind(this),\n        required: false,\n        statebind: \"ui.presentation\",\n        statebindfunc: this.setPresentationMode.bind(this)\n      },\n      \"about\": {\n        title: \"buttons/about\",\n        icon: \"about\",\n        required: false\n      },\n      \"axes\": {\n        title: \"buttons/axes\",\n        icon: \"axes\",\n        required: false\n      },\n      \"axesmc\": {\n        title: \"buttons/axesmc\",\n        icon: \"axes\",\n        required: false\n      },\n      \"stack\": {\n        title: \"buttons/stack\",\n        icon: \"stack\",\n        required: false\n      },\n      \"side\": {\n        title: \"buttons/side\",\n        icon: \"side\",\n        required: false\n      },\n      \"_default\": {\n        title: \"Button\",\n        icon: \"asterisk\",\n        required: false\n      }\n    };\n\n    this._active_comp = false;\n\n    this.model_binds = {\n      \"change:state.marker.select\": function(evt) {\n        if (!_this._readyOnce) return;\n\n        _this.setBubbleTrails();\n        _this.setBubbleLock();\n        _this._toggleButtons();\n\n\n        //scroll button list to end if bottons appeared or disappeared\n        // if(_this.entitiesSelected_1 !== (_this.model.state.marker.select.length > 0)) {\n        //   _this.scrollToEnd();\n        // }\n        // _this.entitiesSelected_1 = _this.model.state.marker.select.length > 0;\n      },\n      \"change:ui.chart\": function(evt, path) {\n        if (path.indexOf(\"lockActive\") > -1 || path.indexOf(\"lockUnavailable\") > -1) {\n          _this.setBubbleLock();\n        }\n      }\n    };\n\n    // config.ui is same as this.model.ui here but this.model.ui is not yet available because constructor hasn't been called.\n    // can't call constructor earlier because this.model_binds needs to be complete before calling constructor\n    config.ui.buttons.forEach(buttonId => {\n      const button = _this._available_buttons[buttonId];\n      if (button && button.statebind) {\n        _this.model_binds[\"change:\" + button.statebind] = function(evt) {\n          button.statebindfunc(buttonId, evt.source.value);\n        };\n      }\n    });\n\n    // builds model\n    this._super(config, context);\n\n    this.validatePopupButtons(this.model.ui.buttons, this.model.ui.dialogs);\n\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n\n    this.root.findChildByName(\"gapminder-dialogs\").on(\"close\", (evt, params) => {\n      _this.setButtonActive(params.id, false);\n    });\n\n    const button_expand = (this.model.ui.dialogs || {}).sidebar || [];\n\n    // // if button_expand has been passed in with boolean param or array must check and covert to array\n    // if (button_expand){\n    //   this.model.ui.dialogs.sidebar = (button_expand === true) ? this.model.ui.buttons : button_expand;\n    // }\n\n    // if (button_expand && button_expand.length !== 0) {\n    //     d3.select(this.root.element).classed(\"vzb-dialog-expand-true\", true);\n    // }\n\n    const button_list = [].concat(this.model.ui.buttons);\n\n    // (button_expand||[]).forEach(function(button) {\n    //   if (button_list.indexOf(button) === -1) {\n    //     button_list.push(button);\n    //   }\n    // });\n\n    this.model.ui.buttons = button_list;\n\n    //add buttons and render components\n    this._addButtons(button_list, button_expand);\n\n    //store body overflow\n    this._prev_body_overflow = document.body.style.overflow;\n\n    this.setBubbleTrails();\n    this.setBubbleLock();\n    this.setInpercent();\n    this.setPresentationMode();\n\n    this._toggleButtons();\n\n  },\n\n  proceedClick(id) {\n    const _this = this;\n    const btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    const classes = btn.attr(\"class\");\n    const btn_config = _this._available_buttons[id];\n\n    if (btn_config && btn_config.func) {\n      btn_config.func(id);\n    } else {\n      const btn_active = classes.indexOf(class_active) === -1;\n\n      btn.classed(class_active, btn_active);\n      const evt = {};\n      evt[\"id\"] = id;\n      evt[\"active\"] = btn_active;\n      _this.trigger(\"click\", evt);\n    }\n  },\n\n  validatePopupButtons(buttons, dialogs) {\n    const _this = this;\n\n    const popupDialogs = dialogs.popup;\n    const popupButtons = buttons.filter(d => (_this._available_buttons[d] && !_this._available_buttons[d].func));\n    for (let i = 0, j = popupButtons.length; i < j; i++) {\n      if (popupDialogs.indexOf(popupButtons[i]) == -1) {\n        return utils.error('Buttonlist: bad buttons config: \"' + popupButtons[i] + '\" is missing in popups list');\n      }\n    }\n    return false; //all good\n  },\n\n  /*\n   * reset buttons show state\n   */\n  _showAllButtons() {\n    // show all existing buttons\n    const _this = this;\n    const buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n    buttons.each(function(d, i) {\n      const button = d3.select(this);\n      button.style(\"display\", \"\");\n    });\n  },\n\n  /*\n  * determine which buttons are shown on the buttonlist\n  */\n  _toggleButtons() {\n    const _this = this;\n    const parent = this.parent.element.node ? this.parent.element : d3.select(this.parent.element);\n\n    //HERE\n    const button_expand = (this.model.ui.dialogs || {}).sidebar || [];\n    _this._showAllButtons();\n\n    const buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    const container = this.element.node().getBoundingClientRect();\n\n    const not_required = [];\n    const required = [];\n\n    let button_width = 80;\n    let button_height = 80;\n    let container_width = this.element.node().getBoundingClientRect().width;\n    let container_height = this.element.node().getBoundingClientRect().height;\n    let buttons_width = 0;\n    let buttons_height = 0;\n\n    buttons.each(function(d, i) {\n      const button_data = d;\n      const button = d3.select(this);\n      const expandable = button_expand.indexOf(button_data.id) !== -1;\n      const button_margin = { top: parseInt(button.style(\"margin-top\")), right: parseInt(button.style(\"margin-right\")), left: parseInt(button.style(\"margin-left\")), bottom: parseInt(button.style(\"margin-bottom\")) };\n      button_width = button.node().getBoundingClientRect().width + button_margin.right + button_margin.left;\n      button_height = button.node().getBoundingClientRect().height + button_margin.top + button_margin.bottom;\n\n      if (!button.classed(class_hidden)) {\n        if (!expandable || (_this.getLayoutProfile() !== \"large\")) {\n          buttons_width += button_width;\n          buttons_height += button_height;\n          //sort buttons between required and not required buttons.\n          // Not required buttons will only be shown if there is space available\n          if (button_data.required) {\n            required.push(button);\n          } else {\n            not_required.push(button);\n          }\n        } else {\n          button.style(\"display\", \"none\");\n        }\n      }\n    });\n    const width_diff = buttons_width - container_width;\n    const height_diff = buttons_height - container_height;\n    let number_of_buttons = 1;\n\n    //check if container is landscape or portrait\n    // if portrait small or large with expand, use width\n    if (parent.classed(\"vzb-large\") && parent.classed(\"vzb-dialog-expand-true\")\n    || parent.classed(\"vzb-small\") && parent.classed(\"vzb-portrait\")) {\n      //check if the width_diff is small. If it is, add to the container\n      // width, to allow more buttons in a way that is still usable\n      if (width_diff > 0 && width_diff <= 10) {\n        container_width += width_diff;\n      }\n      number_of_buttons = Math.floor(container_width / button_width) - required.length;\n      if (number_of_buttons < 0) {\n        number_of_buttons = 0;\n      }\n    // else, use height\n    } else {\n      //check if the width_diff is small. If it is, add to the container\n      // width, to allow more buttons in a way that is still usable\n      if (height_diff > 0 && height_diff <= 10) {\n        container_height += height_diff;\n      }\n      number_of_buttons = Math.floor(container_height / button_height) - required.length;\n      if (number_of_buttons < 0) {\n        number_of_buttons = 0;\n      }\n    }\n    //change the display property of non required buttons, from right to\n    // left\n    not_required.reverse();\n    const hiddenButtons = [];\n    for (let i = 0, j = not_required.length - number_of_buttons; i < j; i++) {\n      not_required[i].style(\"display\", \"none\");\n      hiddenButtons.push(not_required[i].attr(\"data-btn\"));\n    }\n\n    const evt = {};\n    evt[\"hiddenButtons\"] = hiddenButtons;\n    _this.trigger(\"toggle\", evt);\n\n  },\n\n  /*\n   * adds buttons configuration to the components and template_data\n   * @param {Array} button_list list of buttons to be added\n   */\n  _addButtons(button_list, button_expand) {\n    const _this = this;\n    this._components_config = [];\n    const details_btns = [];\n    if (!button_list.length) return;\n    //add a component for each button\n    for (let i = 0; i < button_list.length; i++) {\n\n      const btn = button_list[i];\n      const btn_config = this._available_buttons[btn];\n\n      //add template data\n      const d = (btn_config) ? btn : \"_default\";\n      const details_btn = utils.clone(this._available_buttons[d]);\n      if (d == \"_default\") {\n        details_btn.title = \"buttons/\" + btn;\n      }\n      details_btn.id = btn;\n      details_btn.icon = iconset[details_btn.icon];\n      details_btns.push(details_btn);\n    }\n\n    const t = this.getTranslationFunction(true);\n\n    this.element.selectAll(\"button\").data(details_btns)\n      .enter().append(\"button\")\n      .attr(\"class\", d => {\n        let cls = \"vzb-buttonlist-btn\";\n        if (button_expand.length > 0) {\n          if (button_expand.indexOf(d.id) > -1) {\n            cls += \" vzb-dialog-side-btn\";\n          }\n        }\n\n        return cls;\n      })\n      .attr(\"data-btn\", d => d.id)\n      .html(btn => \"<span class='vzb-buttonlist-btn-icon fa'>\" +\n          btn.icon + \"</span><span class='vzb-buttonlist-btn-title'>\" +\n          t(btn.title) + \"</span>\");\n\n    const buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    //clicking the button\n    buttons.on(\"click\", function() {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const id = d3.select(this).attr(\"data-btn\");\n      _this.proceedClick(id);\n    });\n\n  },\n\n\n  scrollToEnd() {\n    let target = 0;\n    const parent = d3.select(\".vzb-tool\");\n\n    if (parent.classed(\"vzb-portrait\") && parent.classed(\"vzb-small\")) {\n      if (this.model.state.marker.select.length > 0) target = this.element.node().scrollWidth;\n      this.element.node().scrollLeft = target;\n    } else {\n      if (this.model.state.marker.select.length > 0) target = this.element.node().scrollHeight;\n      this.element.node().scrollTop = target;\n    }\n  },\n\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   * Ideally, it contains only operations related to size\n   */\n  resize() {\n    //TODO: what to do when resizing?\n    if (!this.element.selectAll) return utils.warn(\"buttonlist resize() aborted because element is not yet defined\");\n\n    //toggle presentaion off is switch to 'small' profile\n    if (this.getLayoutProfile() === \"small\" && this.model.ui.presentation) {\n      this.togglePresentationMode();\n    }\n\n    this._toggleButtons();\n  },\n\n  setButtonActive(id, boolActive) {\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active, boolActive);\n  },\n\n  toggleBubbleTrails() {\n    this.model.ui.chart.trails = !this.model.ui.chart.trails;\n    this.setBubbleTrails();\n  },\n  setBubbleTrails() {\n    const trails = (this.model.ui.chart || {}).trails;\n    if (!trails && trails !== false) return;\n    const id = \"trails\";\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    if (!btn.node()) return utils.warn(\"setBubbleTrails: no button '\" + id + \"' found in DOM. doing nothing\");\n\n    btn.classed(class_active_locked, trails);\n    btn.classed(class_hidden, this.model.state.marker.select.length == 0);\n  },\n  toggleBubbleLock(id) {\n    const active = (this.model.ui.chart || {}).lockActive;\n\n    if (this.model.state.marker.select.length == 0 && !active) return;\n\n    let locked = this.model.ui.chart.lockNonSelected;\n    const time = this.model.state.time;\n    locked = locked ? 0 : time.formatDate(time.value);\n    this.model.ui.chart.lockNonSelected = locked;\n\n    this.setBubbleLock();\n  },\n  setBubbleLock() {\n    let locked = (this.model.ui.chart || {}).lockNonSelected;\n    const active = (this.model.ui.chart || {}).lockActive;\n    const unavailable = (this.model.ui.chart || {}).lockUnavailable || false;\n    if (!locked && locked !== 0) return;\n\n    if (locked !== 0 && this.model.state.marker.select.length === 0 && !active) {\n      locked = this.model.ui.chart.lockNonSelected = 0;\n    }\n\n    const id = \"lock\";\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    if (!btn.node()) return utils.warn(\"setBubbleLock: no button '\" + id + \"' found in DOM. doing nothing\");\n\n    const translator = this.model.locale.getTFunction();\n\n    //btn.classed(class_unavailable, this.model.state.marker.select.length == 0 && !active);\n    btn.classed(class_unavailable, unavailable);\n    if (typeof active === \"undefined\") {\n      btn.classed(class_hidden, this.model.state.marker.select.length == 0);\n    } else {\n      btn.classed(class_hidden, !active);\n    }\n\n    btn.classed(class_active_locked, locked);\n    btn.select(\".vzb-buttonlist-btn-title\")\n      .text(locked ? locked : translator(\"buttons/lock\"));\n\n    btn.select(\".vzb-buttonlist-btn-icon\")\n      .html(iconset[locked ? \"lock\" : \"unlock\"]);\n  },\n  toggleInpercent() {\n    this.model.ui.chart.inpercent = !this.model.ui.chart.inpercent;\n    this.setInpercent();\n  },\n  setInpercent() {\n    if (typeof ((this.model.ui.chart || {}).inpercent) === \"undefined\") return;\n    const id = \"inpercent\";\n    const translator = this.model.locale.getTFunction();\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active_locked, this.model.ui.chart.inpercent);\n  },\n  togglePresentationMode() {\n    this.model.ui.presentation = !this.model.ui.presentation;\n    this.setPresentationMode();\n  },\n  setPresentationMode() {\n    const id = \"presentation\";\n    const translator = this.model.locale.getTFunction();\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active_locked, this.model.ui.presentation);\n  },\n  toggleFullScreen(id, emulateClick) {\n\n    if (!window) return;\n\n    let component = this;\n    let pholder = component.placeholder;\n    let pholder_found = false;\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    const fs = !this.model.ui.fullscreen;\n    const body_overflow = (fs) ? \"hidden\" : this._prev_body_overflow;\n\n    while (!(pholder_found = utils.hasClass(pholder, \"vzb-placeholder\"))) {\n      component = component.parent;\n      pholder = component.placeholder;\n    }\n\n    //TODO: figure out a way to avoid fullscreen resize delay in firefox\n    if (fs) {\n      this.resizeInExitHandler = false;\n      launchIntoFullscreen(pholder);\n      subscribeFullscreenChangeEvent.call(this, this.toggleFullScreen.bind(this, id, true));\n    } else {\n      this.resizeInExitHandler = !emulateClick;\n      exitFullscreen.call(this);\n    }\n    utils.classed(pholder, class_vzb_fullscreen, fs);\n    if (typeof container !== \"undefined\") {\n      utils.classed(container, class_container_fullscreen, fs);\n    }\n\n    this.model.ui.fullscreen = fs;\n    const translator = this.model.locale.getTFunction();\n    btn.classed(class_active_locked, fs);\n\n    btn.select(\".vzb-buttonlist-btn-icon\").html(iconset[fs ? \"unexpand\" : \"expand\"]);\n\n    btn.select(\".vzb-buttonlist-btn-title>span\").text(\n      translator(\"buttons/\" + (fs ? \"unexpand\" : \"expand\"))\n    )\n      .attr(\"data-vzb-translate\", \"buttons/\" + (fs ? \"unexpand\" : \"expand\"));\n\n    //restore body overflow\n    document.body.style.overflow = body_overflow;\n\n    if (!this.resizeInExitHandler) this.root.ui.resizeHandler();\n\n    //force window resize event\n    // utils.defer(function() {\n    //   event = window.document.createEvent(\"HTMLEvents\");\n    //   event.initEvent(\"resize\", true, true);\n    //   event.eventName = \"resize\";\n    //   window.dispatchEvent(event);\n    // });\n  }\n\n});\n\nfunction isFullscreen() {\n  if (!window) return false;\n  if (window.document.webkitIsFullScreen !== undefined)\n    return window.document.webkitIsFullScreen;\n  if (window.document.mozFullScreen !== undefined)\n    return window.document.mozFullScreen;\n  if (window.document.msFullscreenElement !== undefined)\n    return window.document.msFullscreenElement;\n\n  return false;\n}\n\nfunction exitHandler(emulateClickFunc) {\n  if (!isFullscreen()) {\n    removeFullscreenChangeEvent.call(this);\n    if (!this.resizeInExitHandler) {\n      emulateClickFunc();\n    } else {\n      this.root.ui.resizeHandler();\n    }\n  }\n}\n\nfunction subscribeFullscreenChangeEvent(exitFunc) {\n  if (!window) return;\n  const doc = window.document;\n\n  this.exitFullscreenHandler = exitHandler.bind(this, exitFunc);\n  doc.addEventListener(\"webkitfullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"mozfullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"fullscreenchange\", this.exitFullscreenHandler, false);\n  doc.addEventListener(\"MSFullscreenChange\", this.exitFullscreenHandler, false);\n}\n\nfunction removeFullscreenChangeEvent() {\n  const doc = window.document;\n\n  doc.removeEventListener(\"webkitfullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"mozfullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"fullscreenchange\", this.exitFullscreenHandler);\n  doc.removeEventListener(\"MSFullscreenChange\", this.exitFullscreenHandler);\n}\n\nfunction launchIntoFullscreen(elem) {\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  } else if (elem.msRequestFullscreen) {\n    elem.msRequestFullscreen();\n  } else if (elem.mozRequestFullScreen) {\n    elem.mozRequestFullScreen();\n  } else if (elem.webkitRequestFullscreen && allowWebkitFullscreenAPI()) {\n    elem.webkitRequestFullscreen();\n  }\n}\n\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitExitFullscreen && allowWebkitFullscreenAPI()) {\n    document.webkitExitFullscreen();\n  } else {\n    removeFullscreenChangeEvent.call(this);\n    this.resizeInExitHandler = false;\n  }\n}\n\nfunction allowWebkitFullscreenAPI() {\n  return !(navigator.vendor && navigator.vendor.indexOf(\"Apple\") > -1 &&\n    navigator.userAgent && !navigator.userAgent.match(\"CriOS\"));\n}\n\nexport default ButtonList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttonlist/buttonlist.js","import * as utils from \"base/utils\";\nimport ButtonList from \"components/buttonlist/buttonlist\";\nimport * as iconset from \"base/iconset\";\n\n/*!\n * VIZABI OPTIONSBUTTONLIST\n * Reusable optionsbuttonlist component\n */\n\n//default existing buttons\nconst class_active = \"vzb-active\";\n// var class_active_locked = \"vzb-active-locked\";\n// var class_expand_dialog = \"vzb-dialog-side\";\n// var class_hide_btn = \"vzb-dialog-side-btn\";\n// var class_unavailable = \"vzb-unavailable\";\n// var class_vzb_fullscreen = \"vzb-force-fullscreen\";\n// var class_container_fullscreen = \"vzb-container-fullscreen\";\n\nconst OptionsButtonList = ButtonList.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, context) {\n\n    //set properties\n    const _this = this;\n    this.name = \"gapminder-optionsbuttonlist\";\n\n    this._super(config, context);\n  },\n\n  readyOnce() {\n    const _this = this;\n    Object.keys(this._available_buttons).forEach(buttonId => {\n      const button = _this._available_buttons[buttonId];\n      button.required = !button.required;\n    });\n\n    this.buttonListComp = this.root.findChildByName(\"gapminder-buttonlist\");\n\n    this.buttonListComp.on(\"click\", (evt, button) => {\n      const btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + button.id + \"']\");\n      btn.classed(class_active, button.active);\n    });\n\n    this.buttonListComp.on(\"toggle\", (evt, params) => {\n      const btn = _this.element.selectAll(\".vzb-buttonlist-btn\");\n      let visibleButton = 0;\n      btn.each(function(d) {\n        const button = d3.select(this);\n        const isHidden = params.hiddenButtons.indexOf(d.id) == -1;\n        button.style(\"display\", isHidden ? \"none\" : \"\");\n        if (!isHidden) visibleButton++;\n      });\n    });\n\n    this._super();\n  },\n\n  proceedClick(id) {\n    const _this = this;\n    this.buttonListComp.proceedClick(id);\n    const btn_data = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\").datum();\n    if (btn_data.func) {\n      setTimeout(() => {\n        _this.root.findChildByName(\"gapminder-dialogs\").closeAllDialogs();\n      }, 200);\n    }\n  },\n\n  _toggleButtons() {\n    //\n  }\n\n});\n\nexport default OptionsButtonList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttonlist/optionsbuttonlist/optionsbuttonlist.js","import { isTouchDevice } from \"base/utils\";\n\nconst css = {\n  INVISIBLE: \"vzb-invisible\",\n  COLOR_POINTER: \"vzb-colorpicker-pointer\",\n  COLOR_BUTTON: \"vzb-colorpicker-cell\",\n  COLOR_DEFAULT: \"vzb-colorpicker-default\",\n  COLOR_SAMPLE: \"vzb-colorpicker-sample\",\n  COLOR_PICKER: \"vzb-colorpicker-svg\",\n  COLOR_CIRCLE: \"vzb-colorpicker-circle\",\n  COLOR_CIRCLES: \"vzb-colorpicker-circles\",\n  COLOR_SEGMENT: \"vzb-colorpicker-segment\",\n  COLOR_BACKGR: \"vzb-colorpicker-background\"\n};\n\nexport default class ColorPicker {\n  constructor(container) {\n    this._container = container;\n    this._wrapper = this._container.select(\".\" + css.COLOR_PICKER);\n\n    this._init();\n  }\n\n  _init() {\n    this._initVariables();\n    this._initCircles();\n    this._style();\n    this.resize(this._svg);\n  }\n\n  _initVariables() {\n    // radius of the central hole in color wheel: px\n    this._maxWidth = 280;\n    this._maxHeight = 323;\n\n    this._colorOld = \"#000\";\n    this._colorDef = \"#000\";\n    this._colorWhite = \"#f8f8f8\";\n\n    // margins in % of container's width and height\n    this._margin = {\n      top: 0.1,\n      bottom: 0.1,\n      left: 0.1,\n      right: 0.1\n    };\n\n    this._initSvg();\n\n    const {\n      width: svgWidth,\n      height: svgHeight\n    } = getComputedStyle(this._svg.node());\n    this._width = this.constructor.px2num(svgWidth);\n    this._height = this.constructor.px2num(svgHeight);\n    this._maxRadius = this._width / 2 * (1 - this._margin.left - this._margin.right);\n\n    // tuning defaults\n    this._nCellsH = 15;\n    // number of cells by hues (angular)\n    this._minH = 0;\n    // which hue do we start from: 0 to 1 instead of 0 to 365\n    this._nCellsL = 4;\n    // number of cells by lightness (radial)\n    this._minL = 0.5;\n    // which lightness to start from: 0 to 1. Recommended .3...0.5\n    this._satConstant = 0.7;\n    // constant saturation for color wheel: 0 to 1. Recommended .7...0.8\n    this._outerL_display = 0.4;\n    // exceptional saturation of the outer circle. the one displayed 0 to 1\n    this._outerL_meaning = 0.3;\n    // exceptional saturation of the outer circle. the one actually meant 0 to 1\n    this._firstAngleSat = 0;\n    // exceptional saturation at first angular segment. Set 0 to have shades of grey\n    this._minRadius = 15;\n    this._arc = d3.arc();\n\n\n    this._pie = d3.pie().sort(null).value(d => 1);\n    this._colorPointer = null;\n    this._showColorPicker = false;\n    this._sampleRect = null;\n    this._sampleText = null;\n    this._callback = value => console.info(`Color picker callback example. Setting color to ${value}`);\n    this._colorData = this._generateColorData();\n  }\n\n  _generateColorData() {\n    const {\n      _minL,\n      _minH,\n      _nCellsL,\n      _nCellsH,\n      _firstAngleSat,\n      _satConstant,\n      _outerL_display,\n      _outerL_meaning,\n    } = this;\n\n    const result = [];\n    // loop across circles\n    for (let l = 0; l < _nCellsL; l++) {\n      const lightness = _minL + (1 - _minL) / _nCellsL * l;\n      // new circle of cells\n      result.push([]);\n      // loop across angles\n      for (let h = 0; h <= _nCellsH; h++) {\n        const hue = _minH + (1 - _minH) / _nCellsH * h;\n        // new cell\n        result[l].push({\n          display: this.constructor.hsl2rgb(\n            hue,\n            h === 0 ? _firstAngleSat : _satConstant,\n            l === 0 ? _outerL_display : lightness\n          ),\n\n          meaning: this.constructor.hsl2rgb(\n            hue,\n            h === 0 ? _firstAngleSat : _satConstant,\n            l === 0 ? _outerL_meaning : lightness\n          )\n        });\n      }\n    }\n\n    return result;\n  }\n\n  _initSvg() {\n    this._wrapper = this._container.append(\"div\")\n      .style(\"position\", \"absolute\")\n      .style(\"top\", \"0\")\n      .style(\"left\", \"0\")\n      .style(\"width\", \"100%\")\n      .style(\"max-width\", this._maxWidth + \"px\")\n      .style(\"height\", \"100%\")\n      .style(\"max-height\", this._maxHeight + \"px\")\n      .style(\"z-index\", 9999)\n      .attr(\"class\", css.COLOR_PICKER + \" vzb-dialog-shadow\")\n      .classed(css.INVISIBLE, !this._showColorPicker)\n      .on(\"mouseout\", () => this._cellHover(this._colorOld));\n\n    this._svg = this._wrapper.append(\"svg\")\n      .style(\"width\", \"100%\")\n      .style(\"height\", \"100%\");\n  }\n\n  _initCircles() {\n    const {\n      _svg,\n      _maxHeight,\n      _width,\n      _height,\n      _margin,\n      _colorData,\n      _nCellsL,\n      _minRadius,\n      _maxRadius,\n      _colorWhite,\n    } = this;\n\n    _svg.append(\"rect\")\n      .attr(\"width\", _width)\n      .attr(\"height\", _maxHeight)\n      .attr(\"class\", css.COLOR_BACKGR)\n      .on(\"mouseover\", () => this._cellHover(this._colorOld))\n      .on(\"click\", () => {\n        d3.event.stopPropagation();\n        this._changeColor(this._colorOld);\n        this.show(false);\n      });\n\n    const tx = _maxRadius + _width * _margin.left;\n    const ty = _maxRadius + _height * _margin.top;\n    const circles = _svg.append(\"g\")\n      .attr(\"class\", css.COLOR_CIRCLES)\n      .attr(\"transform\", `translate(${tx}, ${ty})`);\n\n    _svg.append(\"rect\")\n      .attr(\"class\", css.COLOR_SAMPLE)\n      .attr(\"width\", _width / 2)\n      .attr(\"height\", _height * _margin.top / 2);\n\n    this._sampleRect = _svg.append(\"rect\")\n      .attr(\"class\", css.COLOR_SAMPLE)\n      .attr(\"width\", _width / 2)\n      .attr(\"x\", _width / 2)\n      .attr(\"height\", _height * _margin.top / 2);\n\n    _svg.append(\"text\")\n      .attr(\"x\", _width * _margin.left)\n      .attr(\"y\", _height * _margin.top / 2)\n      .attr(\"dy\", \"1.3em\")\n      .attr(\"class\", css.COLOR_SAMPLE)\n      .style(\"text-anchor\", \"start\");\n\n    this._sampleText = _svg.append(\"text\")\n      .attr(\"x\", _width * (1 - _margin.right))\n      .attr(\"y\", _height * _margin.top / 2)\n      .attr(\"dy\", \"1.3em\")\n      .attr(\"class\", css.COLOR_SAMPLE)\n      .style(\"text-anchor\", \"end\");\n\n    _svg.append(\"text\")\n      .attr(\"x\", _width * 0.1)\n      .attr(\"y\", _height * (1 - _margin.bottom))\n      .attr(\"dy\", \"1.2em\")\n      .attr(\"class\", \"vzb-default-label\")\n      .style(\"text-anchor\", \"start\")\n      .text(\"default\");\n\n    _svg.append(\"circle\")\n      .attr(\"class\", css.COLOR_DEFAULT + \" \" + css.COLOR_BUTTON)\n      .attr(\"r\", _width * _margin.left / 2)\n      .attr(\"cx\", _width * _margin.left * 1.5)\n      .attr(\"cy\", _height * (1 - _margin.bottom * 1.5))\n      .on(\"mouseover\", function() {\n        d3.select(this).style(\"stroke\", \"#444\");\n        self._cellHover(self._colorDef);\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this).style(\"stroke\", \"none\");\n      });\n\n    const self = this;\n    circles.selectAll(\".\" + css.COLOR_CIRCLE)\n      .data(_colorData).enter().append(\"g\")\n      .attr(\"class\", css.COLOR_CIRCLE)\n      .each(function(circleData, index) {\n        self._arc\n          .outerRadius(_minRadius + (_maxRadius - _minRadius) / _nCellsL * (_nCellsL - index))\n          .innerRadius(_minRadius + (_maxRadius - _minRadius) / _nCellsL * (_nCellsL - index - 1));\n\n        const segment = d3.select(this).selectAll(\".\" + css.COLOR_SEGMENT)\n          .data(self._pie(circleData)).enter().append(\"g\")\n          .attr(\"class\", css.COLOR_SEGMENT);\n\n        segment.append(\"path\")\n          .attr(\"class\", css.COLOR_BUTTON)\n          .attr(\"d\", self._arc)\n          .style(\"fill\", d => d.data.display)\n          .style(\"stroke\", d => d.data.display)\n          .on(\"mouseover\", function(d) {\n            self._cellHover(d.data.meaning, this);\n          })\n          .on(\"mouseout\", () => self._cellUnhover());\n      });\n\n    circles.append(\"circle\")\n      .attr(\"r\", _minRadius)\n      .attr(\"fill\", _colorWhite)\n      .attr(\"class\", css.COLOR_BUTTON)\n      .on(\"mouseover\", function() {\n        d3.select(this).style(\"stroke\", \"#555\");\n        self._cellHover(_colorWhite);\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this).style(\"stroke\", \"none\");\n      });\n\n    this._colorPointer = circles.append(\"path\")\n      .attr(\"class\", css.COLOR_POINTER + \" \" + css.INVISIBLE);\n\n    _svg.selectAll(\".\" + css.COLOR_BUTTON)\n      .on(\"click\", d => {\n        d3.event.stopPropagation();\n        this._changeColor(d ? d.data.meaning : this._colorDef, true);\n        this.show(false);\n      });\n  }\n\n  _style() {\n    const {\n      _svg,\n      _colorWhite\n    } = this;\n\n    _svg.select(\".\" + css.COLOR_BACKGR)\n      .style(\"fill\", \"white\");\n\n    _svg.select(\".\" + css.COLOR_POINTER)\n      .style(\"stroke-width\", 2)\n      .style(\"stroke\", _colorWhite)\n      .style(\"pointer-events\", \"none\")\n      .style(\"fill\", \"none\");\n\n    _svg.selectAll(\".\" + css.COLOR_BUTTON)\n      .style(\"cursor\", \"pointer\");\n\n    _svg.selectAll(\"text\")\n      .style(\"pointer-events\", \"none\")\n      .style(\"fill\", \"#D9D9D9\")\n      .style(\"font-size\", \"0.7em\")\n      .style(\"text-transform\", \"uppercase\");\n\n    _svg.selectAll(\"circle.\" + css.COLOR_BUTTON)\n      .style(\"stroke-width\", 2);\n\n    _svg.selectAll(\"rect.\" + css.COLOR_SAMPLE)\n      .style(\"pointer-events\", \"none\");\n  }\n\n  _cellHover(value, view) {\n    // show color pointer if the view is set (a cell of colorwheel)\n    if (view != null)\n      this._colorPointer\n        .classed(css.INVISIBLE, false)\n        .attr(\"d\", d3.select(view).attr(\"d\"));\n\n    this._sampleRect.style(\"fill\", value);\n    this._sampleText.text(value);\n\n    const isTouch = isTouchDevice();\n\n    this._changeColor(value, isTouch);\n    isTouch && this.show(false);\n  }\n\n  _changeColor(color, isClick = false) {\n    this._callback(color, isClick);\n  }\n\n  _cellUnhover() {\n    this._colorPointer.classed(css.INVISIBLE, true);\n  }\n\n  resize(arg) {\n    if (!arguments.length)\n      return;\n\n    if (typeof arg !== \"undefined\") {\n      const { _margin } = this;\n      const svg = arg;\n\n      const {\n        width: svgWidth,\n        height: svgHeight,\n      } = getComputedStyle(svg.node());\n      const width = this.constructor.px2num(svgWidth);\n      const height = this.constructor.px2num(svgHeight);\n\n      const maxRadius = width / 2 * (1 - _margin.left - _margin.right);\n      const selectedColor = svg.select(\".\" + css.COLOR_DEFAULT);\n      const defaultLabel = svg.select(\".vzb-default-label\");\n      const circles = svg.select(\".\" + css.COLOR_CIRCLES);\n\n      const hPos = maxRadius + height * _margin.top;\n      const hPosCenter = (1 + _margin.top * 0.5) * height * 0.5;\n\n      const tx = maxRadius + width * _margin.left;\n      const ty = hPos > hPosCenter ? hPosCenter : hPos;\n      circles.attr(\"transform\", `translate(${tx}, ${ty})`);\n\n      selectedColor.attr(\"cx\", width * _margin.left * 1.5)\n        .attr(\"cy\", height * (1 - _margin.bottom * 1.5));\n\n      defaultLabel.attr(\"x\", width * 0.1)\n        .attr(\"y\", height * (1 - _margin.bottom));\n    }\n\n    return this.fitToScreen();\n  }\n\n  fitToScreen(arg) {\n    const screen = this._container.node().getBoundingClientRect();\n    let xPos, yPos;\n\n    const {\n      width: wrapperWidth,\n      height: wrapperHeight,\n      right: wrapperRight,\n      top: wrapperTop\n    } = getComputedStyle(this._wrapper.node());\n    const width = this.constructor.px2num(wrapperWidth);\n    const height = this.constructor.px2num(wrapperHeight);\n\n    if (!arg) {\n      xPos = screen.width - this.constructor.px2num(wrapperRight) - width;\n      yPos = this.constructor.px2num(wrapperTop);\n    } else {\n      xPos = arg[0] - screen.left;\n      yPos = arg[1] - screen.top;\n    }\n\n    const styles = { left: \"\" };\n    if (screen.width * 0.8 <= width) {\n      styles.right = (screen.width - width) * 0.5 + \"px\";\n    } else if (xPos + width > screen.width) {\n      styles.right = Math.min(screen.width * 0.1, 20) + \"px\";\n    } else {\n      styles.right = screen.width - xPos - width + \"px\";\n    }\n\n    if (styles.right) {\n      this._wrapper.style(\"right\", styles.right);\n    }\n\n    if (screen.height * 0.8 <= height) {\n      styles.top = (screen.height - height) * 0.5 + \"px\";\n    } else if (yPos + height * 1.2 > screen.height) {\n      styles.top = screen.height * 0.9 - height + \"px\";\n    } else {\n      styles.top = yPos + \"px\";\n    }\n\n    if (styles.top) {\n      this._wrapper.style(\"top\", styles.top);\n    }\n\n    this._wrapper.style(\"left\", styles.left);\n\n    return this;\n  }\n\n  show(arg) {\n    if (!arguments.length) {\n      return this._showColorPicker;\n    }\n\n    if (this._svg == null) {\n      console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n    }\n\n    this._showColorPicker = arg == \"toggle\" ? !this._showColorPicker : arg;\n\n    if (!this._showColorPicker) {\n      this._callback = () => void 0;\n    }\n\n    this._wrapper.classed(css.INVISIBLE, !this._showColorPicker);\n  }\n\n  _getOrSet(property, value) {\n    property = \"_\" + property;\n\n    if (arguments.length > 1) {\n      this[property] = value;\n      return this;\n    }\n\n    return this[property];\n  }\n\n  nCellsH() {\n    return this._getOrSet(\"nCellsH\", ...arguments);\n  }\n\n  minH() {\n    return this._getOrSet(\"minH\", ...arguments);\n  }\n\n  nCellsL() {\n    return this._getOrSet(\"nCellsL\", ...arguments);\n  }\n\n  minL() {\n    return this._getOrSet(\"minL\", ...arguments);\n  }\n\n  outerL_display() {\n    return this._getOrSet(\"outerL_display\", ...arguments);\n  }\n\n  outerL_meaning() {\n    return this._getOrSet(\"outerL_meaning\", ...arguments);\n  }\n\n  satConstant() {\n    return this._getOrSet(\"satConstant\", ...arguments);\n  }\n\n  firstAngleSat() {\n    return this._getOrSet(\"firstAngleSat\", ...arguments);\n  }\n\n  minRadius() {\n    return this._getOrSet(\"minRadius\", ...arguments);\n  }\n\n  margin() {\n    return this._getOrSet(\"margin\", ...arguments);\n  }\n\n  callback() {\n    return this._getOrSet(\"callback\", ...arguments);\n  }\n\n  colorDef(arg) {\n    if (!arguments.length)\n      return this._colorDef;\n\n    if (typeof arg !== \"undefined\") {\n      this._colorDef = arg;\n    }\n\n    if (this._svg == null) {\n      console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n    }\n\n    this._svg.select(\".\" + css.COLOR_DEFAULT).style(\"fill\", this._colorDef);\n\n    return this;\n  }\n\n  translate(translator) {\n    if (typeof translator === \"function\") {\n      this._svg.select(\".vzb-default-label\")\n        .text(translator(\"colorpicker/default\"));\n    }\n\n    return this;\n  }\n\n  colorOld(arg) {\n    if (!arguments.length) {\n      return this._colorOld;\n    }\n\n    this._colorOld = arg;\n\n    if (this._svg == null) {\n      console.warn(\"Color picker is missing SVG element. Was init sequence performed?\");\n    }\n\n    this._svg.select(\"rect.\" + css.COLOR_SAMPLE).style(\"fill\", this._colorOld);\n    this._svg.select(\"text.\" + css.COLOR_SAMPLE).text(this._colorOld);\n\n    return this;\n  }\n\n  static hsl2rgb(h, s, l) {\n    let r, g, b;\n    if (s == 0) {\n      r = g = b = l; // achromatic\n    } else {\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      const p = 2 * l - q;\n      r = this.hue2rgb(p, q, h + 1 / 3);\n      g = this.hue2rgb(p, q, h);\n      b = this.hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return \"#\" +\n      Math.round(r * 255).toString(16) +\n      Math.round(g * 255).toString(16) +\n      Math.round(b * 255).toString(16);\n  }\n\n  static hue2rgb(p, q, t) {\n    if (t < 0)\n      t += 1;\n    if (t > 1)\n      t -= 1;\n    if (t < 1 / 6)\n      return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n      return q;\n    if (t < 2 / 3)\n      return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  static px2num(px) {\n    return parseFloat(px) || 0;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.colorPicker.js","import * as utils from \"base/utils\";\n//d3.axisSmart\n\nexport default function axisSmart(_orient) {\n\n  return (function d3_axis_smart(_super) {\n\n    const VERTICAL = \"vertical axis\";\n    const HORIZONTAL = \"horizontal axis\";\n    const X = \"labels stack side by side\";\n    const Y = \"labels stack top to bottom\";\n\n    const OPTIMISTIC = \"optimistic approximation: labels have different lengths\";\n    const PESSIMISTIC = \"pessimistic approximation: all labels have the largest length\";\n    const DEFAULT_LOGBASE = 10;\n\n    function onlyUnique(value, index, self) {\n      return self.indexOf(value) === index;\n    }\n\n    function axis(g) {\n      const checkDmn = axis.scale().domain();\n      const checkRng = axis.scale().range();\n      if (!checkDmn[0] && checkDmn[0] !== 0 || !checkDmn[1] && checkDmn[1] !== 0\n      || !checkRng[0] && checkRng[0] !== 0 || !checkRng[1] && checkRng[1] !== 0) {\n        return utils.warn(\"d3.axisSmart() skips action because of invalid domain \" + JSON.stringify(checkDmn) + \" or range \" + JSON.stringify(checkRng) + \" of the attached scale\");\n      }\n\n      if (highlightValue != null) {\n        axis.highlightValueRun(g);\n        return;\n      }\n\n      // measure the width and height of one digit\n      const widthSampleG = g.append(\"g\").attr(\"class\", \"tick widthSampling\");\n      const widthSampleT = widthSampleG.append(\"text\").text(\"0\");\n      if (!options.cssMargin) options.cssMargin = {};\n      options.cssMargin.top = widthSampleT.style(\"margin-top\");\n      options.cssMargin.bottom = widthSampleT.style(\"margin-bottom\");\n      options.cssMargin.left = widthSampleT.style(\"margin-left\");\n      options.cssMargin.right = widthSampleT.style(\"margin-right\");\n      options.widthOfOneDigit = widthSampleT.node().getBBox().width;\n      options.heightOfOneDigit = widthSampleT.node().getBBox().height;\n      widthSampleG.remove();\n\n      // run label factory - it will store labels in tickValues property of axis\n      axis.labelFactory(options);\n\n      // construct the view (d3 constructor is used)\n      let transition = null;\n      if (options.transitionDuration > 0) {\n        _super(transition = g.transition().duration(options.transitionDuration));\n      } else {\n        _super(g);\n      }\n\n      //remove axis d3v4 hardcoded attributes\n      g.attr(\"fill\", null);\n      g.attr(\"font-size\", null);\n      g.attr(\"font-family\", null);\n      g.attr(\"text-anchor\", null);\n\n      //identify the orientation of axis and the direction of labels\n      const orient = axis.orient() == \"top\" || axis.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n      const dimension = (orient == HORIZONTAL && axis.pivot() || orient == VERTICAL && !axis.pivot()) ? Y : X;\n\n      //add an invisible element that would represent hovered value\n      g.selectAll(\".vzb-axis-value\")\n        .data([null])\n        .enter().append(\"g\")\n        .attr(\"class\", \"vzb-axis-value\")\n        .classed(\"vzb-hidden\", true)\n        .append(\"text\");\n\n      // patch the label positioning after the view is generated\n      const padding = axis.tickPadding();\n      g.selectAll(\"text\")\n        .each(function(d, i) {\n          if (axis.pivot() == null) return;\n\n          const view = d3.select(this);\n          view.attr(\"transform\", \"rotate(\" + (axis.pivot() ? -90 : 0) + \")\");\n          view.style(\"text-anchor\", dimension == X ? \"middle\" : \"end\");\n          view.attr(\"x\", dimension == X ? (orient == VERTICAL ? -padding : 0) : -padding);\n          view.attr(\"y\", dimension == X ? (orient == VERTICAL ? 0 : padding) : 0);\n          view.attr(\"dx\", dimension == X ? (orient == VERTICAL ? padding : 0) : 0);\n          view.attr(\"dy\", dimension == X ? (orient == VERTICAL ? -padding : \".72em\") : \".32em\");\n        });\n\n      //apply label repositioning: first and last visible values would shift away from the borders\n      if (axis.repositionLabels() != null) {\n        const patchLabelsPosition = () => {\n          g.selectAll(\".tick\")\n            .each(function(d) {\n              const view = d3.select(this).select(\"text\");\n              const shift = axis.repositionLabels()[d] || { x: 0, y: 0 };\n              view.attr(\"x\", +view.attr(\"x\") + shift.x);\n              view.attr(\"y\", +view.attr(\"y\") + shift.y);\n            });\n        };\n        transition ? transition.on(\"end\", () => patchLabelsPosition()) : patchLabelsPosition();\n      }\n\n      //hide axis labels that are outside the available viewport\n      const scale = axis.scale();\n      if (options.viewportLength) {\n        g.selectAll(\".tick\")\n          .classed(\"vzb-hidden\", d => scale(d) < 0 || scale(d) > options.viewportLength);\n      }\n\n      // add minor ticks. if none exist add an empty array\n      if (axis.tickValuesMinor() == null) axis.tickValuesMinor([]);\n      let minorTicks = g.selectAll(\".tick-minor\").data(tickValuesMinor);\n      minorTicks.exit().remove();\n      minorTicks = minorTicks.enter().append(\"line\")\n        .attr(\"class\", \"tick-minor\")\n        .merge(minorTicks);\n\n      const tickLengthOut = axis.tickSizeMinor().outbound;\n      const tickLengthIn = axis.tickSizeMinor().inbound;\n      minorTicks\n        .classed(\"vzb-hidden\", d => scale(d) < 0 || scale(d) > options.viewportLength)\n        .attr(\"y1\", orient == HORIZONTAL ? (axis.orient() == \"top\" ? 1 : -1) * tickLengthIn : scale)\n        .attr(\"y2\", orient == HORIZONTAL ? (axis.orient() == \"top\" ? -1 : 1) * tickLengthOut : scale)\n        .attr(\"x1\", orient == VERTICAL ? (axis.orient() == \"right\" ? -1 : 1) * tickLengthIn : scale)\n        .attr(\"x2\", orient == VERTICAL ? (axis.orient() == \"right\" ? 1 : -1) * tickLengthOut : scale);\n\n      //adjust axis rake\n      g.selectAll(\"path\").remove();\n      let rake = g.selectAll(\".vzb-axis-line\").data([0]);\n      rake.exit().remove();\n      rake = rake.enter().append(\"line\")\n        .attr(\"class\", \"vzb-axis-line\")\n        .merge(rake);\n\n      if (options.viewportLength) {\n        rake\n          .attr(\"x1\", orient == VERTICAL ? 0 : -1)\n          .attr(\"x2\", orient == VERTICAL ? 0 : options.viewportLength)\n          .attr(\"y1\", orient == HORIZONTAL ? 0 : 0)\n          .attr(\"y2\", orient == HORIZONTAL ? 0 : options.viewportLength);\n      } else {\n        //TODO: this will not work for the \"ordinal\" scaleType\n        rake\n          .attr(\"x1\", orient == VERTICAL ? 0 : d3.min(scale.range()) - (options.bump || 0) - 1)\n          .attr(\"x2\", orient == VERTICAL ? 0 : d3.max(scale.range()) + (options.bump || 0))\n          .attr(\"y1\", orient == HORIZONTAL ? 0 : d3.min(scale.range()) - (options.bump || 0))\n          .attr(\"y2\", orient == HORIZONTAL ? 0 : d3.max(scale.range()) + (options.bump || 0));\n      }\n    }\n\n\n    axis.highlightValueRun = function(g) {\n\n      //if viewport is defined and HL value is outside then behave as reset HL\n      if (options.viewportLength && highlightValue != \"none\" && (\n        axis.scale()(highlightValue) > options.viewportLength ||\n        axis.scale()(highlightValue) < 0\n      )) highlightValue = \"none\";\n\n      //identify the orientation of axis and the direction of labels\n      const orient = axis.orient() == \"top\" || axis.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n      const dimension = (orient == HORIZONTAL && axis.pivot() || orient == VERTICAL && !axis.pivot()) ? \"y\" : \"x\";\n      const pivot = axis.pivot() ? -1 : 1;\n\n      //set content and visibility of HL value\n      g.select(\".vzb-axis-value\")\n        .classed(\"vzb-hidden\", highlightValue == \"none\");\n\n      let bbox;\n      const o = {};\n\n      if (highlightValue != \"none\") {\n        // measure its width and height for collision resolving\n        bbox = g.select(\".vzb-axis-value\").node().getBBox();\n\n        // clone a known options object (because we don't want to overwrite widthOfOneDigit / heightOfOneDigit in the original one\n        o.bump = options.bump;\n        o.formatter = options.formatter;\n        o.viewportLength = options.viewportLength;\n        o.toolMargin = options.toolMargin;\n        o.cssMargin = options.cssMargin;\n        o.widthOfOneDigit = bbox[axis.pivot() ? \"height\" : \"width\"] / (options.formatter(highlightValue).length);\n        o.heightOfOneDigit = bbox[axis.pivot() ? \"width\" : \"height\"];\n      }\n\n      // this will give additive shifting for the hovered value in case it sticks out a little outside viewport\n      const hlValueShift = (highlightValue == \"none\" ? { x: 0, y: 0 } :\n        repositionLabelsThatStickOut([highlightValue], o, orient, axis.scale(), dimension)[highlightValue])[dimension];\n\n      // this function will help to move the hovered value to the right place\n      const getTransform = function(d) {\n        return highlightValue == \"none\" ? \"translate(0,0)\" :\n          \"translate(\"\n            + (orient == HORIZONTAL ? axis.scale()(highlightValue) + hlValueShift * pivot : 0) + \",\"\n            + (orient == VERTICAL ? axis.scale()(highlightValue) + hlValueShift * pivot : 0)\n            + \")\";\n      };\n\n      // this function will help to compute opacity for the axis labels that would overlap with the HL label\n      const getOpacity = function(d, t, view) {\n        if (highlightValue == \"none\") return 1;\n\n        const wh = orient == HORIZONTAL ? \"width\" : \"height\";\n        const shift = (axis.repositionLabels()[d] || { x: 0, y: 0 })[dimension];\n\n        // opacity depends on the collision between label's boundary boxes\n        return axis.hlOpacityScale()(\n          // this computes the distance between the box centers, this is a 1-d problem because all labels are along the axis\n          // shifts of labels that stick out from the viewport are also taken into account\n          Math.abs(axis.scale()(d) + shift * pivot - axis.scale()(highlightValue) -  hlValueShift * pivot)\n          // this computes the sides of boundary boxes, each has a half-size to reduce the distance between centers\n          - view.getBBox()[wh] / 2 - bbox[wh] / 2\n        );\n      };\n\n      // apply translation of the HL value and opacity of tick labels\n      if (highlightTransDuration) {\n        g.select(\".vzb-axis-value\")\n          .transition()\n          .duration(highlightTransDuration)\n          .ease(d3.easeLinear)\n          .attr(\"transform\", getTransform);\n\n        g.select(\".vzb-axis-value\")\n          .select(\"text\")\n          .transition(\"text\")\n          .delay(highlightTransDuration)\n          .text(highlightValue == \"none\" ? \"\" : options.formatter(highlightValue));\n\n        g.selectAll(\".tick:not(.vzb-hidden)\").each(function(d, t) {\n          d3.select(this).select(\"text\")\n            .transition()\n            .duration(highlightTransDuration)\n            .ease(d3.easeLinear)\n            .style(\"opacity\", getOpacity(d, t, this));\n        });\n\n      } else {\n        g.select(\".vzb-axis-value\")\n          .interrupt()\n          .attr(\"transform\", getTransform)\n          .transition();\n\n        g.select(\".vzb-axis-value\")\n          .select(\"text\")\n          .interrupt()\n          .text(highlightValue == \"none\" ? \"\" : options.formatter(highlightValue))\n          .transition();\n\n        g.selectAll(\".tick:not(.vzb-hidden)\").each(function(d, t) {\n          d3.select(this).select(\"text\")\n            .interrupt()\n            .style(\"opacity\", getOpacity(d, t, this))\n            .transition();\n        });\n\n      }\n\n      highlightValue = null;\n    };\n\n\n    let hlOpacityScale = d3.scaleLinear().domain([0, 5]).range([0, 1]).clamp(true);\n    axis.hlOpacityScale = function(arg) {\n      if (!arguments.length) return hlOpacityScale;\n      hlOpacityScale = arg;\n      return axis;\n    };\n\n    let highlightValue = null;\n    axis.highlightValue = function(arg) {\n      if (!arguments.length) return highlightValue;\n      highlightValue = arg;\n      return axis;\n    };\n\n    let highlightTransDuration = 0;\n    axis.highlightTransDuration = function(arg) {\n      if (!arguments.length) return highlightTransDuration;\n      highlightTransDuration = arg;\n      return axis;\n    };\n\n    let repositionLabels = null;\n    axis.repositionLabels = function(arg) {\n      if (!arguments.length) return repositionLabels;\n      repositionLabels = arg;\n      return axis;\n    };\n\n    let pivot = false;\n    axis.pivot = function(arg) {\n      if (!arguments.length) return pivot;\n      pivot = !!arg;\n      return axis;\n    };\n\n    let tickValuesMinor = [];\n    axis.tickValuesMinor = function(arg) {\n      if (!arguments.length) return tickValuesMinor;\n      tickValuesMinor = arg;\n      return axis;\n    };\n\n    let tickSizeMinor = {\n      outbound: 0,\n      inbound: 0\n    };\n    axis.tickSizeMinor = function(arg1, arg2) {\n      if (!arguments.length) return tickSizeMinor;\n      tickSizeMinor = {\n        outbound: arg1,\n        inbound: arg2 || 0\n      };\n      meow(\"setting\", tickSizeMinor);\n      return axis;\n    };\n\n    let options = {};\n    axis.labelerOptions = function(arg) {\n      if (!arguments.length) return options;\n      options = arg;\n      return axis;\n    };\n\n    axis.METHOD_REPEATING = \"repeating specified powers\";\n    axis.METHOD_DOUBLING = \"doubling the value\";\n\n    axis.labelFactory = function(options) {\n      if (options == null) options = {};\n      if (options.scaleType != \"linear\" &&\n        options.scaleType != \"time\" &&\n        options.scaleType != \"genericLog\" &&\n        options.scaleType != \"log\" &&\n        options.scaleType != \"ordinal\") {\n        return axis.ticks(ticksNumber)\n          .tickFormat(null)\n          .tickValues(null)\n          .tickValuesMinor(null)\n          .pivot(null)\n          .repositionLabels(null);\n      }\n      if (options.scaleType == \"ordinal\") return axis;\n\n      if (options.logBase == null) options.logBase = DEFAULT_LOGBASE;\n      if (options.stops == null) options.stops = [1, 2, 5, 3, 7, 4, 6, 8, 9];\n\n\n      if (options.removeAllLabels == null) options.removeAllLabels = false;\n\n      if (options.formatter == null) options.formatter = axis.tickFormat() ?\n        axis.tickFormat() : function(d) { return d + \"\"; };\n      options.cssLabelMarginLimit = 5; //px\n\n      if (options.cssMargin == null) options.cssMargin = {};\n      if (options.cssMargin.left == null || parseInt(options.cssMargin.left) < options.cssLabelMarginLimit)\n        options.cssMargin.left = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.right == null || parseInt(options.cssMargin.right) < options.cssLabelMarginLimit)\n        options.cssMargin.right = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.top == null || parseInt(options.cssMargin.top) < options.cssLabelMarginLimit)\n        options.cssMargin.top = options.cssLabelMarginLimit + \"px\";\n      if (options.cssMargin.bottom == null || parseInt(options.cssMargin.bottom) < options.cssLabelMarginLimit)\n        options.cssMargin.bottom = options.cssLabelMarginLimit + \"px\";\n      if (options.toolMargin == null) options.toolMargin = {\n        left: 30,\n        bottom: 30,\n        right: 30,\n        top: 30\n      };\n      if (options.bump == null) options.bump = 0;\n      if (options.viewportLength == null) options.viewportLength = 0;\n\n      if (options.pivotingLimit == null) options.pivotingLimit = options.toolMargin[this.orient()];\n\n      if (options.showOuter == null) options.showOuter = false;\n      if (options.limitMaxTickNumber == null) options.limitMaxTickNumber = 0; //0 is unlimited\n\n      const orient = this.orient() == \"top\" || this.orient() == \"bottom\" ? HORIZONTAL : VERTICAL;\n\n      if (options.isPivotAuto == null) options.isPivotAuto = orient == VERTICAL;\n\n      if (options.cssFontSize == null) options.cssFontSize = \"13px\";\n      if (options.widthToFontsizeRatio == null) options.widthToFontsizeRatio = 0.75;\n      if (options.heightToFontsizeRatio == null) options.heightToFontsizeRatio = 1.20;\n      if (options.widthOfOneDigit == null) options.widthOfOneDigit =\n        parseInt(options.cssFontSize) * options.widthToFontsizeRatio;\n      if (options.heightOfOneDigit == null) options.heightOfOneDigit =\n        parseInt(options.cssFontSize) * options.heightToFontsizeRatio;\n      if (options.fitIntoScale == null || options.fitIntoScale == \"pessimistic\") options.fitIntoScale = PESSIMISTIC;\n      if (options.fitIntoScale == \"optimistic\") options.fitIntoScale = OPTIMISTIC;\n\n\n      meow(\"********** \" + orient + \" **********\");\n\n      const domain = axis.scale().domain();\n      const range = axis.scale().range();\n      const lengthDomain = Math.abs(domain[domain.length - 1] - domain[0]);\n      const lengthRange = Math.abs(range[range.length - 1] - range[0]);\n\n      const min = d3.min([domain[0], domain[domain.length - 1]]);\n      const max = d3.max([domain[0], domain[domain.length - 1]]);\n      const bothSidesUsed = ((options.scaleType == \"linear\" ? min < 0 : min <= 0) && max >= 0) && options.scaleType != \"time\";\n\n      let tickValues = options.showOuter ? [min, max] : [];\n      let tickValuesMinor = []; //[min, max];\n      let ticksNumber = 5;\n\n      function getBaseLog(x, base) {\n        if (x == 0 || base == 0) {\n          return 0;\n        }\n        if (base == null) base = options.logBase;\n        return Math.log(x) / Math.log(base);\n      }\n\n      // estimate the longest formatted label in pixels\n      const estLongestLabelLength =\n        //take 17 sample values and measure the longest formatted label\n        d3.max(d3.range(min, max, (max - min) / 17).concat(max).map(d => options.formatter(d).replace(\".\", \"\").length)) * options.widthOfOneDigit + parseInt(options.cssMargin.left);\n\n      const pivot = options.isPivotAuto && (\n        (estLongestLabelLength > options.pivotingLimit) && (orient == VERTICAL)\n        ||\n        !(estLongestLabelLength > options.pivotingLimit) && !(orient == VERTICAL)\n      );\n\n      const labelsStackOnTop = (orient == HORIZONTAL && pivot || orient == VERTICAL && !pivot);\n\n\n      // conditions to remove labels altogether\n      const labelsJustDontFit = (!labelsStackOnTop && options.heightOfOneDigit > options.pivotingLimit);\n      if (options.removeAllLabels) return axis.tickValues([]);\n\n      // return a single tick if have only one point in the domain\n      if (min == max) return axis.tickValues([min]).ticks(1).tickFormat(options.formatter);\n\n\n      // LABELS FIT INTO SCALE\n      // measure if all labels in array tickValues can fit into the allotted lengthRange\n      // approximationStyle can be OPTIMISTIC or PESSIMISTIC\n      // in optimistic style the length of every label is added up and then we check if the total pack of symbols fit\n      // in pessimistic style we assume all labels have the length of the longest label from tickValues\n      // returns TRUE if labels fit and FALSE otherwise\n      const labelsFitIntoScale = function(tickValues, lengthRange, approximationStyle, rescalingLabels) {\n        if (tickValues == null || tickValues.length <= 1) return true;\n        if (approximationStyle == null) approximationStyle = PESSIMISTIC;\n        if (rescalingLabels == null) scaleType = \"none\";\n\n\n        if (labelsStackOnTop) {\n          //labels stack on top of each other. digit height matters\n          return lengthRange >\n            tickValues.length * (\n              options.heightOfOneDigit +\n              parseInt(options.cssMargin.top) +\n              parseInt(options.cssMargin.bottom)\n            );\n        }\n\n        //labels stack side by side. label width matters\n        const marginsLR = parseInt(options.cssMargin.left) + parseInt(options.cssMargin.right);\n        const maxLength = d3.max(tickValues.map(d => options.formatter(d).length));\n\n        // log scales need to rescale labels, so that 9 takes more space than 2\n        if (rescalingLabels == \"log\") {\n          // sometimes only a fragment of axis is used. in this case we want to limit the scope to that fragment\n          // yes, this is hacky and experimental\n          lengthRange = Math.abs(axis.scale()(d3.max(tickValues)) - axis.scale()(d3.min(tickValues)));\n\n          return lengthRange >\n            d3.sum(tickValues.map(d => (\n              options.widthOfOneDigit * (approximationStyle == PESSIMISTIC ? maxLength : options.formatter(\n                d).length) + marginsLR\n            )\n            // this is a logarithmic rescaling of labels\n            * (1 + Math.log(d.toString().replace(/([0.])/g, \"\")[0]) / Math.LN10)));\n\n        }\n\n        return lengthRange >\n          tickValues.length * marginsLR + (approximationStyle == PESSIMISTIC ?\n            options.widthOfOneDigit * tickValues.length * maxLength : 0) + (approximationStyle == OPTIMISTIC ?\n              options.widthOfOneDigit * (\n                tickValues.map(d => options.formatter(d)).join(\"\").length\n              ) : 0);\n      };\n\n\n      // COLLISION BETWEEN\n      // Check is there is a collision between labels ONE and TWO\n      // ONE is a value, TWO can be a value or an array\n      // returns TRUE if collision takes place and FALSE otherwise\n      const collisionBetween = function(one, two) {\n        if (two == null || two.length == 0) return false;\n        if (!(two instanceof Array)) two = [two];\n\n        for (let i = 0; i < two.length; i++) {\n          if (\n            one != two[i] && one != 0 &&\n            Math.abs(axis.scale()(one) - axis.scale()(two[i])) <\n            (labelsStackOnTop ?\n              (options.heightOfOneDigit) :\n              (options.formatter(one).length + options.formatter(two[i]).length) * options.widthOfOneDigit / 2\n            )\n          ) return true;\n\n        }\n        return false;\n      };\n\n      if (options.scaleType == \"genericLog\" || options.scaleType == \"log\") {\n        const eps = axis.scale().eps ? axis.scale().eps() : 0;\n\n        const spawnZero = bothSidesUsed ? [0] : [];\n\n        // check if spawn positive is needed. if yes then spawn!\n        const spawnPos = max < eps ? [] : (\n          d3.range(\n            Math.floor(getBaseLog(Math.max(eps, min))),\n            Math.ceil(getBaseLog(max)),\n            1)\n            .concat(Math.ceil(getBaseLog(max)))\n            .map(d => Math.pow(options.logBase, d))\n        );\n\n        // check if spawn negative is needed. if yes then spawn!\n        const spawnNeg = min > -eps ? [] : (\n          d3.range(\n            Math.floor(getBaseLog(Math.max(eps, -max))),\n            Math.ceil(getBaseLog(-min)),\n            1)\n            .concat(Math.ceil(getBaseLog(-min)))\n            .map(d => -Math.pow(options.logBase, d))\n        );\n\n\n        // automatic chosing of method if it's not explicitly defined\n        if (options.method == null) {\n          const coverage = bothSidesUsed ?\n            Math.max(Math.abs(max), Math.abs(min)) / eps :\n            Math.max(Math.abs(max), Math.abs(min)) / Math.min(Math.abs(max), Math.abs(min));\n          options.method = 10 <= coverage && coverage <= 1024 ? this.METHOD_DOUBLING : this.METHOD_REPEATING;\n        }\n\n\n        //meow('spawn pos/neg: ', spawnPos, spawnNeg);\n\n\n        if (options.method == this.METHOD_DOUBLING) {\n          let doublingLabels = [];\n          if (bothSidesUsed) tickValues.push(0);\n          const avoidCollidingWith = [].concat(tickValues);\n\n          // start with the smallest abs number on the scale, rounded to nearest nice power\n          //var startPos = max<eps? null : Math.pow(options.logBase, Math.floor(getBaseLog(Math.max(eps,min))));\n          //var startNeg = min>-eps? null : -Math.pow(options.logBase, Math.floor(getBaseLog(Math.max(eps,-max))));\n\n          const startPos = max < eps ? null : 4 * spawnPos[Math.floor(spawnPos.length / 2) - 1];\n          const startNeg = min > -eps ? null : 4 * spawnNeg[Math.floor(spawnNeg.length / 2) - 1];\n\n          //meow('starter pos/neg: ', startPos, startNeg);\n\n          if (startPos) {\n            for (let l = startPos; l <= max; l *= 2) doublingLabels.push(l);\n          }\n          if (startPos) {\n            for (let l = startPos / 2; l >= Math.max(min, eps); l /= 2) doublingLabels.push(l);\n          }\n          if (startNeg) {\n            for (let l = startNeg; l >= min; l *= 2) doublingLabels.push(l);\n          }\n          if (startNeg) {\n            for (let l = startNeg / 2; l <= Math.min(max, -eps); l /= 2) doublingLabels.push(l);\n          }\n\n          doublingLabels = doublingLabels\n            .sort(d3.ascending)\n            .filter(d => min <= d && d <= max);\n\n          tickValuesMinor = tickValuesMinor.concat(doublingLabels);\n\n          doublingLabels = groupByPriorities(doublingLabels, false); // don't skip taken values\n\n          const tickValues_1 = tickValues;\n          for (let j = 0; j < doublingLabels.length; j++) {\n\n            // compose an attempt to add more axis labels\n            const trytofit = tickValues_1.concat(doublingLabels[j])\n              .filter(d => !collisionBetween(d, avoidCollidingWith))\n              .filter(onlyUnique);\n\n            // stop populating if labels don't fit\n            if (!labelsFitIntoScale(trytofit, lengthRange, PESSIMISTIC, \"none\")) break;\n\n            // apply changes if no blocking instructions\n            tickValues = trytofit;\n          }\n        }\n\n\n        if (options.method == this.METHOD_REPEATING) {\n\n          let spawn = spawnZero.concat(spawnPos).concat(spawnNeg).sort(d3.ascending);\n\n          options.stops.forEach((stop, i) => {\n            tickValuesMinor = tickValuesMinor.concat(spawn.map(d => d * stop));\n          });\n\n          spawn = groupByPriorities(spawn);\n          const avoidCollidingWith = spawnZero.concat(tickValues);\n\n          let stopTrying = false;\n\n          options.stops.forEach((stop, i) => {\n            if (i == 0) {\n              for (let j = 0; j < spawn.length; j++) {\n\n                // compose an attempt to add more axis labels\n                const trytofit = tickValues\n                  .concat(spawn[j].map(d => d * stop))\n                  // throw away labels that collide with \"special\" labels 0, min, max\n                  .filter(d => !collisionBetween(d, avoidCollidingWith))\n                  .filter(d => min <= d && d <= max)\n                  .filter(onlyUnique);\n\n                // stop populating if labels don't fit\n                if (!labelsFitIntoScale(trytofit, lengthRange, PESSIMISTIC, \"none\")) break;\n\n                // apply changes if no blocking instructions\n                tickValues = trytofit;\n              }\n\n              // flatten the spawn array\n              spawn = [].concat(...spawn);\n            } else {\n              if (stopTrying) return;\n\n              // compose an attempt to add more axis labels\n              const trytofit = tickValues\n                .concat(spawn.map(d => d * stop))\n                .filter(d => min <= d && d <= max)\n                .filter(onlyUnique);\n\n              // stop populating if the new composition doesn't fit\n              if (!labelsFitIntoScale(trytofit, lengthRange, PESSIMISTIC, \"log\")) {\n                stopTrying = true;\n                return;\n              }\n              // stop populating if the number of labels is limited in options\n              if (tickValues.length > options.limitMaxTickNumber && options.limitMaxTickNumber != 0) {\n                stopTrying = true;\n                return;\n              }\n\n              // apply changes if no blocking instructions\n              tickValues = trytofit;\n            }\n          });\n\n\n        } //method\n\n\n      } //logarithmic\n\n\n      if (options.scaleType == \"linear\" || options.scaleType == \"time\") {\n        if (bothSidesUsed) tickValues.push(0);\n        const avoidCollidingWith = [].concat(tickValues);\n\n        if (labelsStackOnTop) {\n          ticksNumber = Math.max(Math.floor(lengthRange / (options.heightOfOneDigit + parseInt(options.cssMargin.top))), 2);\n        } else {\n          ticksNumber = Math.max(Math.floor(lengthRange / estLongestLabelLength), 2);\n        }\n\n        // limit maximum ticks number\n        if (options.limitMaxTickNumber != 0 && ticksNumber > options.limitMaxTickNumber) ticksNumber = options.limitMaxTickNumber;\n\n        let addLabels = axis.scale().ticks(ticksNumber)\n          .sort(d3.ascending)\n          .filter(d => min <= d && d <= max);\n\n        tickValuesMinor = tickValuesMinor.concat(addLabels);\n\n        addLabels = groupByPriorities(addLabels, false);\n\n        const tickValues_1 = tickValues;\n        for (let j = 0; j < addLabels.length; j++) {\n\n          // compose an attempt to add more axis labels\n          const trytofit = tickValues_1.concat(addLabels[j])\n            .filter(d => !collisionBetween(d, avoidCollidingWith))\n            .filter(onlyUnique);\n\n          // stop populating if labels don't fit\n          if (!labelsFitIntoScale(trytofit, lengthRange, options.fitIntoScale, \"none\")) break;\n\n          // apply changes if no blocking instructions\n          tickValues = trytofit;\n        }\n\n        tickValues = tickValues //.concat(addLabels)\n          .filter(d => !collisionBetween(d, avoidCollidingWith))\n          .filter(onlyUnique);\n\n\n      }\n\n\n      if (tickValues != null && tickValues.length <= 2 && !bothSidesUsed) {\n        //remove min tick if min, max ticks have collision between them\n        tickValues = Math.abs(axis.scale()(min) - axis.scale()(max)) < (labelsStackOnTop ?\n          (options.heightOfOneDigit) :\n          (options.formatter(min).length + options.formatter(max).length) * options.widthOfOneDigit) ? [max] : [min, max];\n        if (tickValues.length == 1 && (options.scaleType == \"linear\" || options.scaleType == \"time\")) {\n          tickValuesMinor = [];\n        }\n      }\n\n      if (tickValues != null && tickValues.length <= 3 && bothSidesUsed) {\n        if (!collisionBetween(0, [min, max])) {\n          tickValues = [min, 0, max];\n        } else {\n          tickValues = [min, max];\n        }\n      }\n\n      if (tickValues != null) tickValues.sort((a, b) => (orient == HORIZONTAL ? -1 : 1) * (axis.scale()(b) - axis.scale()(a)));\n\n      if (labelsJustDontFit) tickValues = [];\n      tickValuesMinor = tickValuesMinor.filter(d => tickValues.indexOf(d) == -1 && min <= d && d <= max);\n\n\n      meow(\"final result\", tickValues);\n\n      return axis\n        .ticks(ticksNumber)\n        .tickFormat(options.formatter)\n        .tickValues(tickValues)\n        .tickValuesMinor(tickValuesMinor)\n        .pivot(pivot)\n        .repositionLabels(\n          repositionLabelsThatStickOut(tickValues, options, orient, axis.scale(), labelsStackOnTop ? \"y\" : \"x\")\n        );\n    };\n\n\n    // GROUP ELEMENTS OF AN ARRAY, SO THAT...\n    // less-prio elements are between the high-prio elements\n    // Purpose: enable adding axis labels incrementally, like this for 9 labels:\n    // PRIO 1: +--------, concat result: +-------- first we show only 1 label\n    // PRIO 2: ----+---+, concat result: +---+---+ then we add 2 more, that are maximally spaced\n    // PRIO 3: --+---+--, concat result: +-+-+-+-+ then we fill spaces with 2 more labels\n    // PRIO 4: -+-+-+-+-, concat result: +++++++++ then we fill the remaing spaces and show all labels\n    // exception: zero jumps to the front, if it's on the list\n    // example1: [1 2 3 4 5 6 7] --> [[1][4 7][2 3 5 6]]\n    // example2: [1 2 3 4 5 6 7 8 9] --> [[1][5 9][3 7][2 4 6 8]]\n    // example3: [-4 -3 -2 -1 0 1 2 3 4 5 6 7] --> [[0][-4][2][-1 5][-3 -2 1 3 4 6 7]]\n    // inputs:\n    // array - the source array to be processed. Only makes sense if sorted\n    // removeDuplicates - return incremental groups (true, default), or return concatinated result (false)\n    // returns:\n    // the nested array\n    function groupByPriorities(array, removeDuplicates) {\n      if (removeDuplicates == null) removeDuplicates = true;\n\n      const result = [];\n      const taken = [];\n\n      //zero is an exception, if it's present we manually take it to the front\n      if (array.indexOf(0) != -1) {\n        result.push([0]);\n        taken.push(array.indexOf(0));\n      }\n\n      for (let k = array.length; k >= 1; k = k < 4 ? k - 1 : k / 2) {\n        // push the next group of elements to the result\n        result.push(array.filter((d, i) => {\n          if (i % Math.floor(k) == 0 && (taken.indexOf(i) == -1 || !removeDuplicates)) {\n            taken.push(i);\n            return true;\n          }\n          return false;\n        }));\n      }\n\n      return result;\n    }\n\n\n    // REPOSITION LABELS THAT STICK OUT\n    // Purpose: the outer labels can easily be so large, they stick out of the allotted area\n    // Example:\n    // Label is fine:    Label sticks out:    Label sticks out more:    Solution - label is shifted:\n    //      12345 |           1234|                123|5                   12345|\n    // _______.   |      _______. |           _______.|                 _______.|\n    //\n    // this is what the function does on the first step (only outer labels)\n    // on the second step it shifts the inner labels that start to overlap with the shifted outer labels\n    //\n    // requires tickValues array to be sorted from tail-first\n    // tail means left or bottom, head means top or right\n    //\n    // dimension - which dimension requires shifting\n    // X if labels stack side by side, Y if labels stack on top of one another\n    //\n    // returns the array of recommended {x,y} shifts\n\n    function repositionLabelsThatStickOut(tickValues, options, orient, scale, dimension) {\n      if (!tickValues) return null;\n      const result = {};\n\n      // make an abstraction layer for margin sizes\n      // tail means left or bottom, head means top or right\n      const margin =\n        orient == VERTICAL ? {\n          head: options.toolMargin.top,\n          tail: options.toolMargin.bottom\n        } : {\n          head: options.toolMargin.right,\n          tail: options.toolMargin.left\n        };\n\n      let range = scale.range();\n      let bump = options.bump;\n\n      //when a viewportLength is given: adjust outer VISIBLE tick values\n      //this is helpful when the scaled is zoomed, so labels don't get truncated by a viewport svg\n      if (options.viewportLength) {\n        //remove invisible ticks from the array\n        tickValues = tickValues.filter(d => scale(d) >= 0 && scale(d) <= options.viewportLength);\n        //overwrite the available range with viewport limits. direction doesn't matter because we take min-max later anyway\n        range = [0, options.viewportLength];\n        //reset the bump because zoomed axis has no bump\n        bump = 0;\n      }\n\n      // STEP 1:\n      // for outer labels: avoid sticking out from the tool margin\n      tickValues.forEach((d, i) => {\n        if (i != 0 && i != tickValues.length - 1) return;\n\n        // compute the influence of the axis head\n        let repositionHead = Math.min(margin.head, options.widthOfOneDigit * 0.5) + bump\n          + (orient == HORIZONTAL ? 1 : 0) * d3.max(range)\n          - (orient == HORIZONTAL ? 0 : 1) * d3.min(range)\n          + (orient == HORIZONTAL ? -1 : 1) * scale(d)\n          - (dimension == \"x\") * options.formatter(d).length * options.widthOfOneDigit / 2\n          - (dimension == \"y\") * options.heightOfOneDigit / 2\n          // we may consider or not the label margins to give them a bit of spacing from the edges\n          - (dimension == \"x\") * parseInt(options.cssMargin.right)\n          - (dimension == \"y\") * parseInt(options.cssMargin.top);\n\n        // compute the influence of the axis tail\n        let repositionTail = Math.min(margin.tail, options.widthOfOneDigit * 0.5) + bump\n          + (orient == VERTICAL ? 1 : 0) * d3.max(range)\n          - (orient == VERTICAL ? 0 : 1) * d3.min(range)\n          + (orient == VERTICAL ? -1 : 1) * scale(d)\n          - (dimension == \"x\") * options.formatter(d).length * options.widthOfOneDigit / 2\n          - (dimension == \"y\") * options.heightOfOneDigit / 2\n          // we may consider or not the label margins to give them a bit of spacing from the edges\n          - (dimension == \"x\") * parseInt(options.cssMargin.left)\n          - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // apply limits in order to cancel repositioning of labels that are good\n        if (repositionHead > 0) repositionHead = 0;\n        if (repositionTail > 0) repositionTail = 0;\n\n        // add them up with appropriate signs, save to the axis\n        result[d] = { x: 0, y: 0 };\n        result[d][dimension] = (dimension == \"y\" && orient == VERTICAL ? -1 : 1) * (repositionHead - repositionTail);\n      });\n\n\n      // STEP 2:\n      // for inner labels: avoid collision with outer labels\n      tickValues.forEach((d, i) => {\n        if (i == 0 || i == tickValues.length - 1) return;\n\n        // compute the influence of the head-side outer label\n        let repositionHead =\n          // take the distance between head and the tick at hand\n          Math.abs(scale(d) - scale(tickValues[tickValues.length - 1]))\n\n          // substract the shift of the head TODO: THE SIGN CHOICE HERE MIGHT BE WRONG. NEED TO TEST ALL CASES\n          - (dimension == \"y\") * (orient == HORIZONTAL ? -1 : 1) * result[tickValues[tickValues.length - 1]][dimension]\n          - (dimension == \"x\") * (orient == HORIZONTAL ? 1 : -1) * result[tickValues[tickValues.length - 1]][dimension]\n\n          // substract half-length of the overlapping labels\n          - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(d).length\n          - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(tickValues[tickValues.length - 1]).length\n          - (dimension == \"y\") * options.heightOfOneDigit * 0.7 //TODO remove magic constant - relation of actual font height to BBox-measured height\n\n          // we may consider or not the label margins to give them a bit of spacing from the edges\n          - (dimension == \"x\") * parseInt(options.cssMargin.left)\n          - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // compute the influence of the tail-side outer label\n        let repositionTail =\n          // take the distance between tail and the tick at hand\n          Math.abs(scale(d) - scale(tickValues[0]))\n\n          // substract the shift of the tail TODO: THE SIGN CHOICE HERE MIGHT BE WRONG. NEED TO TEST ALL CASES\n          - (dimension == \"y\") * (orient == VERTICAL ? -1 : 1) * result[tickValues[0]][dimension]\n          - (dimension == \"x\") * (orient == VERTICAL ? 1 : -1) * result[tickValues[0]][dimension]\n\n          // substract half-length of the overlapping labels\n          - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(d).length\n          - (dimension == \"x\") * options.widthOfOneDigit / 2 * options.formatter(tickValues[0]).length\n          - (dimension == \"y\") * options.heightOfOneDigit * 0.7 //TODO remove magic constant - relation of actual font height to BBox-measured height\n\n          // we may consider or not the label margins to give them a bit of spacing from the edges\n          - (dimension == \"x\") * parseInt(options.cssMargin.left)\n          - (dimension == \"y\") * parseInt(options.cssMargin.bottom);\n\n        // apply limits in order to cancel repositioning of labels that are good\n        if (repositionHead > 0) repositionHead = 0;\n        if (repositionTail > 0) repositionTail = 0;\n\n        // add them up with appropriate signs, save to the axis\n        result[d] = { x: 0, y: 0 };\n        result[d][dimension] = (dimension == \"y\" && orient == VERTICAL ? -1 : 1) * (repositionHead - repositionTail);\n      });\n\n\n      return result;\n    } // function repositionLabelsThatStickOut()\n\n\n    axis.copy = function() {\n      return d3_axis_smart(d3[\"axis\" + utils.capitalize(_orient)]());\n    };\n\n    axis.orient = function() {\n      if (!arguments.length) return _orient;\n      return axis;\n    };\n\n    return d3.rebind(axis, _super,\n      \"scale\", \"ticks\", \"tickArguments\", \"tickValues\", \"tickFormat\",\n      \"tickSize\", \"tickSizeInner\", \"tickSizeOuter\", \"tickPadding\"\n    );\n\n\n    function meow() {\n      if (!axis.labelerOptions().isDevMode) return;\n      console.log(...arguments);\n    }\n\n  })(d3[\"axis\" + utils.capitalize(_orient)]());\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.axisWithLabelPicker.js","import * as utils from \"base/utils\";\nimport Dialog from \"components/dialogs/_dialog\";\nimport globals from \"base/globals\";\nimport Tool from \"base/tool\";\nimport Data from \"models/data\";\n\n/*\n * Size dialog\n */\n\nconst About = Dialog.extend(\"about\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"about\";\n\n    this._super(config, parent);\n  },\n\n  readyOnce() {\n    const version = globals.version;\n    const updated = new Date(parseInt(globals.build));\n\n    this.element = d3.select(this.element);\n    this.element.select(\".vzb-about-text0\")\n      .html(\"This chart is made with Vizabi,\");\n    this.element.select(\".vzb-about-text1\")\n      .html(\"a project by <a href='http://gapminder.org'>Gapminder Foundation</a>\");\n    this.element.select(\".vzb-about-version\")\n      .html(\"<a href='https://github.com/Gapminder/vizabi/releases/tag/v\" + version + \"'>Version: \" + version + \"</a>\");\n    this.element.select(\".vzb-about-updated\")\n      .html(\"Build: \" + d3.time.format(\"%Y-%m-%d at %H:%M\")(updated));\n    this.element.select(\".vzb-about-report\")\n      .html(\"<a href='https://getsatisfaction.com/gapminder/'>Report a problem</a>\");\n    this.element.select(\".vzb-about-credits\")\n      .html(\"<a href='https://github.com/Gapminder/vizabi/graphs/contributors'>Contributors</a>\");\n\n    //versions\n    const data = Data;\n\n    const toolData = {};\n    const versionInfo = this.root.versionInfo;\n    toolData.version = versionInfo ? versionInfo.version : \"N/A\";\n    toolData.build = versionInfo ? d3.time.format(\"%Y-%m-%d at %H:%M\")(new Date(parseInt(versionInfo.build))) : \"N/A\";\n    toolData.name = this.root.name;\n\n    const toolsEl = this.element.select(\".vzb-about-tool\");\n    toolsEl.html(\"\");\n    toolsEl.append(\"p\")\n      .text(\"Tool: \" + toolData.name);\n    toolsEl.append(\"p\")\n      .text(\"-version: \" + toolData.version);\n    toolsEl.append(\"p\")\n      .text(\"-build: \" + toolData.build);\n\n    const readerData = data.instances.map(dataInstance => {\n      const data = {};\n      const versionInfo = dataInstance.readerObject.versionInfo;\n      data.version = versionInfo ? versionInfo.version : \"N/A\";\n      data.build = versionInfo ? d3.time.format(\"%Y-%m-%d at %H:%M\")(new Date(parseInt(versionInfo.build))) : \"N/A\";\n      data.name = dataInstance.readerObject._name;\n      return data;\n    });\n\n    let readersEl = this.element.select(\".vzb-about-readers\").selectAll(\".vzb-about-reader\").data(readerData);\n    readersEl.exit().remove();\n    readersEl = readersEl.enter()\n      .append(\"p\")\n      .attr(\"class\", \"vzb-about-reader\");\n    readersEl.append(\"p\")\n      .text(d => d.name);\n    readersEl.append(\"p\")\n      .text(d => \"-version: \" + d.version);\n    readersEl.append(\"p\")\n      .text(d => \"-build: \" + d.build);\n\n    const datasetData = data.instances.map(dataInstance => dataInstance.getDatasetName());\n\n    let datasetsEl = this.element.select(\".vzb-about-datasets\").selectAll(\".vzb-about-dataset\").data(datasetData);\n    datasetsEl.exit().remove();\n    datasetsEl = datasetsEl.enter()\n      .append(\"p\")\n      .attr(\"class\", \"vzb-about-dataset\");\n    datasetsEl.append(\"p\")\n      .text(d => d);\n\n  }\n});\n\nexport default About;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/about/about.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\nimport minmaxinputs from \"components/minmaxinputs/minmaxinputs\";\n\n/*\n * Axes dialog\n */\n\nconst Axes = Dialog.extend(\"axes\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, parent) {\n    this.name = \"axes\";\n    const _this = this;\n\n    this.components = [{\n      component: indicatorpicker,\n      placeholder: \".vzb-xaxis-selector\",\n      model: [\"state.time\", \"state.marker.axis_x\", \"locale\"]\n    }, {\n      component: minmaxinputs,\n      placeholder: \".vzb-xaxis-minmax\",\n      model: [\"state.marker\", \"state.time\", \"locale\"],\n      markerID: \"axis_x\",\n      ui: {\n        selectDomainMinMax: false,\n        selectZoomedMinMax: true\n      }\n    }, {\n      component: indicatorpicker,\n      placeholder: \".vzb-yaxis-selector\",\n      model: [\"state.time\", \"state.marker.axis_y\", \"locale\"]\n    }, {\n      component: minmaxinputs,\n      placeholder: \".vzb-yaxis-minmax\",\n      model: [\"state.marker\", \"state.time\", \"locale\"],\n      markerID: \"axis_y\",\n      ui: {\n        selectDomainMinMax: false,\n        selectZoomedMinMax: true\n      }\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Axes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/axes/axes.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\n/*!\n * VIZABI MIN MAX INPUT FIELDS\n */\n\nconst DOMAINMIN = \"domainMin\";\nconst DOMAINMAX = \"domainMax\";\nconst ZOOMEDMIN = \"zoomedMin\";\nconst ZOOMEDMAX = \"zoomedMax\";\n\nconst MinMaxInputs = Component.extend({\n\n  /**\n   * Initializes the Component.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init(config, context) {\n\n    this.name = \"gapminder-minmaxinputs\";\n    this.template = require(\"./minmaxinputs.html\");\n\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.markerID = config.markerID;\n    if (!config.markerID) utils.warn(\"minmaxinputs.js complains on 'markerID' property: \" + config.markerID);\n\n    this.model_binds = {\n      \"translate:locale\": () => {\n        this.updateView();\n      },\n\n      [`change:marker.${this.markerID}`]: () => {\n        this.updateView();\n      },\n\n      ready: () => {\n        this.updateView();\n      }\n    };\n\n    // contructor is the same as any component\n    this._super(config, context);\n\n    // SPECIFIC COMPONENT UI! NOT TOOLMODEL UI!\n    this.ui = utils.extend({\n      selectDomainMinMax: false,\n      selectZoomedMinMax: false\n    }, this.ui.getPlainObject());\n\n  },\n\n  ready() {\n    this.updateView();\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.element = d3.select(this.element);\n\n    this.el_domain_labelMin = this.element.select(\".vzb-mmi-domainmin-label\");\n    this.el_domain_labelMax = this.element.select(\".vzb-mmi-domainmax-label\");\n    this.el_domain_fieldMin = this.element.select(\".vzb-mmi-domainmin\");\n    this.el_domain_fieldMax = this.element.select(\".vzb-mmi-domainmax\");\n\n    this.el_break = this.element.select(\".vzb-mmi-break\");\n\n    this.el_zoomed_labelMin = this.element.select(\".vzb-mmi-zoomedmin-label\");\n    this.el_zoomed_labelMax = this.element.select(\".vzb-mmi-zoomedmax-label\");\n    this.el_zoomed_fieldMin = this.element.select(\".vzb-mmi-zoomedmin\");\n    this.el_zoomed_fieldMax = this.element.select(\".vzb-mmi-zoomedmax\");\n\n\n    _this.el_domain_fieldMin.on(\"change\", function() {\n      _this._setModel(DOMAINMIN, this.value);\n    });\n    _this.el_domain_fieldMax.on(\"change\", function() {\n      _this._setModel(DOMAINMAX, this.value);\n    });\n\n    _this.el_zoomed_fieldMin.on(\"change\", function() {\n      _this._setModel(ZOOMEDMIN, this.value);\n    });\n    _this.el_zoomed_fieldMax.on(\"change\", function() {\n      _this._setModel(ZOOMEDMAX, this.value);\n    });\n\n    this.element.selectAll(\"input\")\n      .on(\"keypress\", () => {\n        if (d3.event.which == 13) document.activeElement.blur();\n      });\n  },\n\n  updateView() {\n    const _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    this.el_domain_labelMin.text(this.translator(\"hints/min\") + \":\");\n    this.el_domain_labelMax.text(this.translator(\"hints/max\") + \":\");\n    this.el_zoomed_labelMin.text(this.translator(\"hints/min\") + \":\");\n    this.el_zoomed_labelMax.text(this.translator(\"hints/max\") + \":\");\n\n    this.el_domain_labelMin.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_labelMax.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_fieldMin.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n    this.el_domain_fieldMax.classed(\"vzb-hidden\", !this.ui.selectDomainMinMax);\n\n    this.el_break.classed(\"vzb-hidden\", !(this.ui.selectDomainMinMax && this.ui.selectZoomedMinMax));\n\n    this.el_zoomed_labelMin.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_labelMax.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_fieldMin.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n    this.el_zoomed_fieldMax.classed(\"vzb-hidden\", !this.ui.selectZoomedMinMax);\n\n    const formatter = function(n) {\n      if (!n && n !== 0) return n;\n      if (utils.isDate(n)) return _this.model.time.formatDate(n);\n      return d3.format(\".2r\")(n);\n    };\n\n    const marker = this.model.marker[this.markerID];\n    const domain = marker.getScale().domain();\n\n    this.el_domain_fieldMin.property(\"value\", formatter(d3.min(domain)));\n    this.el_domain_fieldMax.property(\"value\", formatter(d3.max(domain)));\n    this.el_zoomed_fieldMin.property(\"value\", formatter(marker.getZoomedMin()));\n    this.el_zoomed_fieldMax.property(\"value\", formatter(marker.getZoomedMax()));\n  },\n\n  _setModel(what, value) {\n    this.model.marker[this.markerID][what] = utils.strToFloat(value);\n  }\n\n});\n\nexport default MinMaxInputs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/minmaxinputs/minmaxinputs.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport colorlegend from \"components/colorlegend/colorlegend\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\n\n/*!\n * VIZABI COLOR DIALOG\n */\n\nconst Colors = Dialog.extend(\"colors\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, parent) {\n    this.name = \"colors\";\n\n    this.components = [{\n      component: indicatorpicker,\n      placeholder: \".vzb-caxis-selector\",\n      model: [\"state.time\", \"state.marker.color\", \"locale\"],\n      showHoverValues: true\n    }, {\n      component: colorlegend,\n      placeholder: \".vzb-clegend-container\",\n      model: [\"state.time\", \"state.entities\", \"state.marker\", \"state.marker.color\", \"locale\", \"ui\"]\n    }];\n\n\n    this._super(config, parent);\n  }\n\n});\n\nexport default Colors;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/colors/colors.js","import Dialog from \"./_dialog\";\nimport * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\n/*!\n * VIZABI DIALOGS\n * Reusable dialogs component\n */\n\n//default existing dialogs\nconst class_active = \"vzb-active\";\nconst class_expand_dialog = \"vzb-dialog-side\";\n\nconst Dialogs = Component.extend({\n\n  /**\n   * Initializes the dialogs\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, context) {\n\n    // set properties\n    this.name = \"gapminder-dialogs\";\n    this._curr_dialog_index = 20;\n\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    const components = Dialog.getCollection();\n    this._available_dialogs = Object.keys(components)\n      .reduce((result, key) => {\n        const component = components[key];\n\n        if (component.prototype.isDialog && !key.startsWith(\"_\")) {\n          result[key] = { dialog: component };\n        }\n\n        return result;\n      }, {});\n\n    this._super(config, context);\n\n  },\n\n  domReady() {\n    const dialog_popup = (this.model.ui.dialogs || {}).popup || [];\n    let dialog_sidebar = (this.model.ui.dialogs || {}).sidebar || [];\n\n    this.rootEl = this.root.element instanceof Array ? this.root.element : d3.select(this.root.element);\n\n    // if dialog_sidebar has been passed in with boolean param or array must check and covert to array\n    if (dialog_sidebar === true) {\n      dialog_sidebar = dialog_popup;\n      (this.model.ui.dialogs || {}).sidebar = dialog_sidebar;\n    }\n    if (dialog_sidebar.length !== 0) {\n      this.rootEl.classed(\"vzb-dialog-expand-true\", true);\n    }\n    this.dialog_popup = dialog_popup;\n    this.dialog_sidebar = dialog_sidebar;\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n    if (utils.isTouchDevice()) {\n      this.element.classed(\"vzb-no-hover\", true);\n    }\n\n    this._addDialogs(this.dialog_popup, this.dialog_sidebar);\n\n    this.resize();\n\n    if (this.dialog_popup.length !== 0) {\n      this.root.findChildByName(\"gapminder-buttonlist\")\n        .on(\"click\", (evt, button) => {\n          if (!_this._available_dialogs[button.id]) return;\n\n          if (button.active) {\n            _this.openDialog(button.id);\n          } else {\n            _this.closeDialog(button.id);\n          }\n        });\n\n      const popupDialogs = this.element.selectAll(\".vzb-top-dialog\").filter(d => _this.dialog_popup.indexOf(d.id) > -1);\n\n      const close_buttons = popupDialogs.select(\".vzb-top-dialog>.vzb-dialog-modal>.vzb-dialog-buttons>[data-click='closeDialog']\");\n      close_buttons.on(\"click\", (d, i) => {\n        _this.closeDialog(d.id);\n      });\n\n      const pinDialog = popupDialogs.select(\".vzb-top-dialog>.vzb-dialog-modal>[data-click='pinDialog']\");\n      pinDialog.on(\"click\", (d, i) => {\n        _this.pinDialog(d.id);\n      });\n\n      this.rootEl.node().addEventListener(\"click\", () => {\n        _this.closeAllDialogs();\n      });\n\n      this.rootEl.on(\"mousedown\", function(e) {\n        if (!this._active_comp) return; //don't do anything if nothing is open\n\n        let target = d3.event.target;\n        let closeDialog = true;\n        while (target) {\n          if (target.classList.contains(\"vzb-dialog-modal\")) {\n            closeDialog = false;\n            break;\n          }\n          target = target.parentElement;\n        }\n        if (closeDialog) {\n          _this.closeAllDialogs();\n        }\n      });\n    }\n\n    this.element.on(\"click\", () => {\n      d3.event.stopPropagation();\n    });\n\n  },\n\n  resize() {\n    if (!this.element.selectAll) return utils.warn(\"dialogs resize() aborted because element is not yet defined\");\n\n    const _this = this;\n    const profile = this.getLayoutProfile();\n\n    this.element.selectAll(\".vzb-top-dialog\").each(function(d) {\n      const dialogEl = d3.select(this);\n      let cls = dialogEl.attr(\"class\").replace(\" vzb-popup\", \"\").replace(\" vzb-sidebar\", \"\");\n\n      if (profile === \"large\" && _this.dialog_sidebar.indexOf(d.id) > -1) {\n        cls += \" vzb-sidebar\";\n      } else if (_this.dialog_popup.indexOf(d.id) > -1) {\n        cls += \" vzb-popup\";\n      }\n\n      dialogEl.attr(\"class\", cls);\n    });\n\n  },\n\n  /*\n   * adds dialogs configuration to the components and template_data\n   * @param {Array} dialog_list list of dialogs to be added\n   */\n  _addDialogs(dialog_popup, dialog_sidebar) {\n\n    const profile = this.getLayoutProfile();\n    let dialog_list = [];\n\n    dialog_list = dialog_popup ? dialog_list.concat(dialog_popup) : dialog_list;\n    dialog_list = dialog_sidebar ? dialog_list.concat(dialog_sidebar) : dialog_list;\n\n    dialog_list = utils.unique(dialog_list);\n\n    this._components_config = [];\n    const details_dlgs = [];\n    if (!dialog_list.length) return;\n    //add a component for each dialog\n    for (let i = 0; i < dialog_list.length; i++) {\n\n      const dlg = dialog_list[i];\n      const dlg_config = this._available_dialogs[dlg];\n\n      //if it's a dialog, add component\n      if (dlg_config && dlg_config.dialog) {\n        const comps = this._components_config;\n\n        //add corresponding component\n        comps.push({\n          component: dlg_config.dialog,\n          placeholder: '.vzb-dialogs-dialog[data-dlg=\"' + dlg + '\"]',\n          model: [\"state\", \"ui\", \"locale\"]\n        });\n\n        dlg_config.component = comps.length - 1;\n      }\n\n      dlg_config.id = dlg;\n      details_dlgs.push(dlg_config);\n    }\n\n\n    this.element.selectAll(\"div\").data(details_dlgs)\n      .enter().append(\"div\")\n      .attr(\"data-dlg\", d => d.id)\n      .attr(\"class\", \"vzb-top-dialog vzb-dialogs-dialog vzb-dialog-shadow\");\n\n    this.loadSubComponents();\n\n    const _this = this;\n    //render each subcomponent\n    utils.forEach(this.components, subcomp => {\n      subcomp.render();\n      _this.on(\"resize\", () => {\n        subcomp.trigger(\"resize\");\n      });\n      subcomp.on(\"dragstart\", () => {\n        _this.bringForward(subcomp.name);\n      });\n      subcomp.on(\"close\", function() {\n        this.placeholderEl.each(d => {\n          const evt = {};\n          evt.id = d.id;\n          _this.trigger(\"close\", evt);\n        });\n      });\n    });\n\n  },\n\n  bringForward(id) {\n    const dialog = this.element.select(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n    dialog.style(\"z-index\", this._curr_dialog_index);\n    this._curr_dialog_index += 10;\n  },\n\n  //TODO: make opening/closing a dialog via update and model\n  /*\n   * Activate a dialog\n   * @param {String} id dialog id\n   */\n  openDialog(id) {\n    //close pinned dialogs for small profile\n    const forceClose = this.getLayoutProfile() === \"small\";\n    this.closeAllDialogs(forceClose);\n\n    const dialog = this.element.selectAll(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    this._active_comp = this.components[this._available_dialogs[id].component];\n\n    this._active_comp.beforeOpen();\n    //add classes\n    dialog.classed(class_active, true);\n\n    this.bringForward(id);\n\n    //call component function\n    this._active_comp.open();\n  },\n\n\n  pinDialog(id) {\n    const dialog = this.element.select(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    if (this._available_dialogs[id].ispin) {\n      dialog.classed(\"pinned\", false);\n      this._available_dialogs[id].ispin = false;\n    } else {\n      dialog.classed(\"pinned\", true);\n      this._available_dialogs[id].ispin = true;\n    }\n  },\n\n\n  /*\n   * Closes a dialog\n   * @param {String} id dialog id\n   */\n  closeDialog(id) {\n    const dialog = this.element.selectAll(\".vzb-popup.vzb-dialogs-dialog[data-dlg='\" + id + \"']\");\n\n    this._active_comp = this.components[this._available_dialogs[id].component];\n\n    if (this._active_comp && !this._active_comp.isOpen) return;\n\n    if (this._available_dialogs[id].ispin)\n      this.pinDialog(id);\n\n    if (this._active_comp) {\n      this._active_comp.beforeClose();\n    }\n    //remove classes\n    dialog.classed(class_active, false);\n\n    //call component close function\n    if (this._active_comp) {\n      this._active_comp.close();\n    }\n    this._active_comp = false;\n\n  },\n\n  /*\n   * Close all dialogs\n   */\n  closeAllDialogs(forceclose) {\n    const _this = this;\n    //remove classes\n    const dialogClass = forceclose ? \".vzb-popup.vzb-dialogs-dialog.vzb-active\" : \".vzb-popup.vzb-dialogs-dialog.vzb-active:not(.pinned)\";\n    const all_dialogs = this.element.selectAll(dialogClass);\n    all_dialogs.each(d => {\n      _this.closeDialog(d.id);\n    });\n  }\n\n});\n\nexport default Dialogs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/dialogs.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simpleslider from \"components/simpleslider/simpleslider\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\n\n/*!\n * VIZABI FIND CONTROL\n * Reusable find dialog\n */\n\nconst Find = Dialog.extend(\"find\", {\n\n  init(config, parent) {\n    this.name = \"find\";\n    const _this = this;\n\n    this.components = [{\n      component: simpleslider,\n      placeholder: \".vzb-dialog-bubbleopacity\",\n      model: [\"state.marker\"],\n      arg: \"opacitySelectDim\",\n      properties: { step: 0.01 }\n    }];\n\n    this.enablePicker = ((config.ui.dialogs.dialog || {}).find || {}).enablePicker;\n    if (this.enablePicker) {\n      this.components.push({\n        component: indicatorpicker,\n        placeholder: \".vzb-find-filter-selector\",\n        model: [\"state.time\", \"state.entities\", \"locale\"]\n      });\n    }\n\n    this.model_binds = {\n      \"change:state.marker.select\": function(evt) {\n        _this.items.order();\n        _this.selectDataPoints();\n        _this.showHideDeselect();\n      },\n      \"change:state.time.playing\": function(evt) {\n        if (!_this.model.state.time.playing) {\n          _this.time = _this.model.state.time.value;\n\n          _this.model.state.marker.getFrame(_this.time, (values, time) => {\n            if (!values || (_this.time - time)) return;\n            _this.redrawDataPoints(values);\n          });\n        }\n      },\n      \"change:state.time.value\": function(evt) {\n        // hide changes if the dialog is not visible\n        if (!_this.placeholderEl.classed(\"vzb-active\") && !_this.placeholderEl.classed(\"vzb-sidebar\")) return;\n\n        _this.time = _this.model.state.time.value;\n\n        _this.model.state.marker.getFrame(_this.time, values => {\n          if (!values) return;\n          _this.redrawDataPoints(values);\n        });\n      },\n      \"translate:locale\": function() {\n        _this.input_search.attr(\"placeholder\", _this.translator(\"placeholder/search\") + \"...\");\n      }\n    };\n\n    this._super(config, parent);\n  },\n\n  /**\n   * Grab the list div\n   */\n  readyOnce() {\n    this._super();\n\n    this.list = this.element.select(\".vzb-find-list\");\n    this.input_search = this.element.select(\".vzb-find-search\");\n    this.deselect_all = this.element.select(\".vzb-find-deselect\");\n    this.opacity_nonselected = this.element.select(\".vzb-dialog-bubbleopacity\");\n\n    this.element.select(\".vzb-find-filter-selector\").classed(\"vzb-hidden\", !this.enablePicker);\n    this.element.select(\".vzb-dialog-title\").classed(\"vzb-title-two-rows\", this.enablePicker);\n\n    this.KEY = this.model.state.entities.getDimension();\n\n    const _this = this;\n\n    this.input_search.on(\"keyup\", () => {\n      const event = d3.event;\n      if (event.keyCode == 13 && _this.input_search.node().value == \"select all\") {\n        _this.input_search.node().value = \"\";\n        //clear highlight so it doesn't get in the way when selecting an entity\n        if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n        _this.model.state.marker.selectAll();\n      }\n    });\n\n    this.input_search.on(\"input\", () => {\n      _this.showHideSearch();\n    });\n\n    this.deselect_all.on(\"click\", () => {\n      _this.deselectMarkers();\n    });\n\n    this.translator = this.model.locale.getTFunction();\n    this.input_search.attr(\"placeholder\", this.translator(\"placeholder/search\") + \"...\");\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", () => {\n      _this.ready();\n    });\n\n  },\n\n  open() {\n    const _this = this;\n    this._super();\n\n    this.input_search.node().value = \"\";\n    this.showHideSearch();\n\n    this.time = this.model.state.time.value;\n\n    this.model.state.marker.getFrame(this.time, values => {\n      if (!values) return;\n      _this.redrawDataPoints(values);\n    });\n  },\n\n  /**\n   * Build the list everytime it updates\n   */\n  //TODO: split update in render and update methods\n  ready() {\n    this._super();\n\n    const _this = this;\n    const KEY = this.KEY = this.model.state.entities.getDimension();\n    const KEYS = this.KEYS = utils.unique(this.model.state.marker._getAllDimensions({ exceptType: \"time\" }));\n    this.multiDim = KEYS.length > 1;\n\n    this.importantHooks = _this.model.state.marker.getImportantHooks();\n    const labelNames = _this.model.state.marker.getLabelHookNames();\n\n    this.time = this.model.state.time.value;\n    this.model.state.marker.getFrame(this.time, values => {\n      if (!values) return;\n\n      const data = _this.multiDim ? _this.model.state.marker.getKeysMD()\n        .map(pointer => {\n          pointer.brokenData = false;\n          pointer.name = KEYS.map((key, index) => values[labelNames[index]][pointer[key]])\n            .join(\", \");\n\n          return pointer;\n        })\n        : _this.model.state.marker.getKeys().map(d => {\n          const pointer = {};\n          pointer[KEY] = d[KEY];\n          pointer.brokenData = false;\n          pointer.name = values.label[d[KEY]];\n\n          return pointer;\n        });\n\n      //sort data alphabetically\n      data.sort((a, b) => (a.name < b.name) ? -1 : 1);\n\n      _this.list.html(\"\");\n\n      _this.items = _this.list.selectAll(\".vzb-find-item\")\n        .data(data)\n        .enter()\n        .append(\"div\")\n        .attr(\"class\", \"vzb-find-item vzb-dialog-checkbox\");\n\n      _this.items.append(\"input\")\n        .attr(\"type\", \"checkbox\")\n        .attr(\"class\", \"vzb-find-item\")\n        .attr(\"id\", (d, i) => \"-find-\" + i + \"-\" + _this._id)\n        .on(\"change\", d => {\n          //clear highlight so it doesn't get in the way when selecting an entity\n          if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n          _this.model.state.marker.selectMarker(d);\n          //return to highlighted state\n          if (!utils.isTouchDevice() && !d.brokenData) _this.model.state.marker.highlightMarker(d);\n        });\n\n      _this.items.append(\"label\")\n        .attr(\"for\", (d, i) => \"-find-\" + i + \"-\" + _this._id)\n        .text(d => d.name)\n        .attr(\"title\", function(d) {\n          return this.offsetWidth < this.scrollWidth ? d.name : null;\n        })\n        .on(\"mouseover\", d => {\n          if (!utils.isTouchDevice() && !d.brokenData) _this.model.state.marker.highlightMarker(d);\n        })\n        .on(\"mouseout\", d => {\n          if (!utils.isTouchDevice()) _this.model.state.marker.clearHighlighted();\n        });\n      utils.preventAncestorScrolling(_this.element.select(\".vzb-dialog-scrollable\"));\n\n      _this.redrawDataPoints(values);\n      _this.selectDataPoints();\n      _this.showHideSearch();\n      _this.showHideDeselect();\n\n    });\n  },\n\n  redrawDataPoints(values) {\n    const _this = this;\n    const KEY = this.KEY;\n    const KEYS = this.KEYS;\n\n    if (this.multiDim) {\n      _this.items\n        .each(function(d) {\n          const view = d3.select(this).select(\"label\");\n          d.brokenData = false;\n\n          utils.forEach(_this.importantHooks, name => {\n            const hook = values[name];\n            if (!hook) return;\n            const value = utils.getValueMD(d, hook, KEYS) || false;\n            if (!value && value !== 0) {\n              d.brokenData = true;\n              return false;\n            }\n          });\n\n          const nameIfEllipsis = this.offsetWidth < this.scrollWidth ? d.name : \"\";\n          view\n            .classed(\"vzb-find-item-brokendata\", d.brokenData)\n            .attr(\"title\", nameIfEllipsis + (d.brokenData ? (nameIfEllipsis ? \" | \" : \"\") + _this.model.state.time.formatDate(_this.time) + \": \" + _this.translator(\"hints/nodata\") : \"\"));\n        });\n    } else {\n      _this.items\n        .each(function(d) {\n          const view = d3.select(this).select(\"label\");\n\n          d.brokenData = false;\n          utils.forEach(values, (hook, name) => {\n            //TODO: remove the hack with hardcoded hook names (see discussion in #1389)\n            if (name !== \"color\" && name !== \"size_label\" && _this.model.state.marker[name].use !== \"constant\" && !hook[d[KEY]] && hook[d[KEY]] !== 0) {\n              d.brokenData = true;\n            }\n          });\n\n          const nameIfEllipsis = this.offsetWidth < this.scrollWidth ? d.name : \"\";\n          view\n            .classed(\"vzb-find-item-brokendata\", d.brokenData)\n            .attr(\"title\", nameIfEllipsis + (d.brokenData ? (nameIfEllipsis ? \" | \" : \"\") + _this.model.state.time.formatDate(_this.time) + \": \" + _this.translator(\"hints/nodata\") : \"\"));\n        });\n    }\n  },\n\n  selectDataPoints() {\n    const _this = this;\n    const KEY = this.KEY;\n    //    const selected = this.model.state.marker.getSelected(KEY);\n    const selected = this.model.state.marker;\n    this.items.selectAll(\"input\")\n    //      .property(\"checked\", d => (selected.indexOf(d[KEY]) !== -1));\n      .property(\"checked\", function(d) {\n        const isSelected = selected.isSelected(d);\n        d3.select(this.parentNode).classed(\"vzb-checked\", isSelected);\n        return isSelected;\n      });\n    const lastCheckedNode = this.list.selectAll(\".vzb-checked\")\n      .classed(\"vzb-separator\", false)\n      .lower()\n      .nodes()[0];\n    d3.select(lastCheckedNode).classed(\"vzb-separator\", true);\n    this.contentEl.node().scrollTop = 0;\n  },\n\n  showHideSearch() {\n    let search = this.input_search.node().value || \"\";\n    search = search.toLowerCase();\n\n    this.list.selectAll(\".vzb-find-item\")\n      .classed(\"vzb-hidden\", d => {\n        const lower = (d.name || \"\").toString().toLowerCase();\n        return (lower.indexOf(search) === -1);\n      });\n  },\n\n  showHideDeselect() {\n    const someSelected = !!this.model.state.marker.select.length;\n    this.deselect_all.classed(\"vzb-hidden\", !someSelected);\n    this.opacity_nonselected.classed(\"vzb-hidden\", !someSelected);\n  },\n\n  deselectMarkers() {\n    this.model.state.marker.clearSelected();\n  },\n\n  transitionEnd(event) {\n    this._super(event);\n\n    if (!utils.isTouchDevice()) this.input_search.node().focus();\n  }\n\n});\n\nexport default Find;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/find/find.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simpleslider from \"components/simpleslider/simpleslider\";\n/*\n * Size dialog\n */\n\nconst Grouping = Dialog.extend(\"grouping\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"grouping\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.groupStops = [1, 5, 10, 15];\n\n    this.components = [\n      {\n        component: simpleslider,\n        placeholder: \".vzb-dialog-placeholder\",\n        model: [\"state.entities_age\"],\n        arg: \"grouping\",\n        properties: { min: 1, max: this.groupStops.length, step: 1, suppressInput: true, scale: d3.scaleLinear()\n          .domain(d3.range(1, this.groupStops.length))\n          .range(this.groupStops)\n        }\n      }\n    ];\n\n    this._super(config, parent);\n  },\n\n  readyOnce() {\n    this._super();\n    //    this.element = d3.select(this.element);\n    const groups = this.element.select(\".vzb-dialog-groups\");\n\n    groups.selectAll(\".vzb-dialog-groups-title\")\n      .data(this.groupStops)\n      .enter()\n      .append(\"span\")\n      .attr(\"class\", \".vzb-dialog-groups-title\")\n      .text(d => d);\n  }\n});\n\nexport default Grouping;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/grouping/grouping.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport sizeslider from \"components/sizeslider/sizeslider\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\nimport simplecheckbox from \"components/simplecheckbox/simplecheckbox\";\n/*\n * Label dialog\n */\n\nconst Label = Dialog.extend(\"label\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"label\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [\n      {\n        component: sizeslider,\n        placeholder: \".vzb-dialog-sizeslider\",\n        model: [\"state.marker.size_label\",  \"locale\"],\n        propertyname: \"LabelTextSize\",\n        ui: {\n          constantUnit: \"unit/pixels\"\n        }\n      },\n      {\n        component: indicatorpicker,\n        placeholder: \".vzb-saxis-selector\",\n        model: [\"state.time\", \"state.marker.size_label\", \"locale\"],\n        showHoverValues: true\n      },\n      {\n        component: simplecheckbox,\n        placeholder: \".vzb-removelabelbox-switch\",\n        model: [\"ui.chart\", \"locale\"],\n        checkbox: \"removeLabelBox\",\n        submodel: \"labels\"\n      }\n    ];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Label;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/label/label.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\n\n/*!\n * VIZABI BUBBLE SIZE slider\n * Reusable bubble size slider\n */\n\nconst OPTIONS = {\n  EXTENT_MIN: 0,\n  EXTENT_MAX: 1,\n  TEXT_PARAMS: { TOP: 18, LEFT: 10, MAX_WIDTH: 42, MAX_HEIGHT: 16 },\n  BAR_WIDTH: 6,\n  THUMB_RADIUS: 10,\n  THUMB_STROKE_WIDTH: 4,\n  INTRO_DURATION: 250,\n  MARGIN: { TOP: 2, LEFT: 5, RIGHT: 5 }\n};\n\nconst profiles = {\n  \"small\": {\n    minLabelTextSize: 7,\n    maxLabelTextSize: 21,\n    defaultLabelTextSize: 12\n  },\n  \"medium\": {\n    minLabelTextSize: 7,\n    maxLabelTextSize: 30,\n    defaultLabelTextSize: 15\n  },\n  \"large\": {\n    minLabelTextSize: 6,\n    maxLabelTextSize: 48,\n    defaultLabelTextSize: 20\n  }\n};\n\n\nconst SizeSlider = Component.extend({\n\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param config The options passed to the component\n   * @param context The component's parent\n   */\n  init(config, context) {\n\n    this.name = \"sizeslider\";\n\n    this.template = this.template || require(\"./sizeslider.html\");\n\n    this.propertyName = config.propertyname;\n\n    this.model_expects = [{\n      name: \"size\",\n      type: \"size\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    const _this = this;\n    this.model_binds = {\n      \"change:size.domainMin\": changeMinMaxHandler,\n      \"change:size.domainMax\": changeMinMaxHandler,\n      \"change:size.extent\": changeMinMaxHandler,\n      \"ready\": function() {\n        _this.modelReady();\n      }\n    };\n\n    function changeMinMaxHandler(evt, path) {\n      const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._updateLabels(extent);\n      _this._moveBrush(extent);\n    }\n\n    this._setModel = utils.throttle(this._setModel, 50);\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n  modelReady() {\n    const _this = this;\n    _this.modelUse = _this.model.size.use;\n    const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    if (_this.modelUse != \"constant\") {\n      _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n      _this.sliderEl.selectAll(\".w\").classed(\"vzb-hidden\", false);\n      _this.sliderEl.select(\".selection\").classed(\"vzb-hidden\", false);\n      _this.sliderEl.select(\".overlay\").classed(\"vzb-pointerevents-none\", false);\n      _this._setLabelsText();\n    } else {\n      _this.sliderEl.selectAll(\".w\").classed(\"vzb-hidden\", true);\n      _this.sliderEl.select(\".selection\").classed(\"vzb-hidden\", true);\n      _this.sliderEl.select(\".overlay\").classed(\"vzb-pointerevents-none\", true);\n      if (!_this.model.size.which) {\n        const p = _this.propertyActiveProfile;\n        extent[1] = (p.default - p.min) / (p.max - p.min);\n        _this.model.size.which = \"_default\";\n      }\n    }\n    _this._moveBrush(extent);\n  },\n\n  /**\n   * Executes after the template is loaded and rendered.\n   * Ideally, it contains HTML instantiations related to template\n   * At this point, this.element and this.placeholder are available as a d3 object\n   */\n  readyOnce() {\n    const _this = this;\n    const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n    this.element = d3.select(this.element);\n    this.sliderSvg = this.element.select(\".vzb-szs-svg\");\n    this.sliderWrap = this.sliderSvg.select(\".vzb-szs-slider-wrap\");\n    this.sliderEl = this.sliderWrap.select(\".vzb-szs-slider\");\n\n    const  textMargin = { v: OPTIONS.TEXT_PARAMS.TOP, h: OPTIONS.TEXT_PARAMS.LEFT };\n    const textMaxWidth = OPTIONS.TEXT_PARAMS.MAX_WIDTH;\n    const textMaxHeight = OPTIONS.TEXT_PARAMS.MAX_HEIGHT;\n    const barWidth = OPTIONS.BAR_WIDTH;\n    const thumbRadius = OPTIONS.THUMB_RADIUS;\n    const thumbStrokeWidth = OPTIONS.THUMB_STROKE_WIDTH;\n    const padding = {\n      top: OPTIONS.MARGIN.TOP + barWidth * 1.25,\n      left: thumbRadius,\n      right: thumbRadius,\n      bottom: barWidth + textMaxHeight\n    };\n\n    let componentWidth = (this.element.node().offsetWidth  - padding.left - padding.right) || 0;\n    if (componentWidth < 0) componentWidth = 0;\n\n    this.padding = padding;\n\n    this.propertyActiveProfile = this.getPropertyActiveProfile();\n    this.translator = this.model.locale.getTFunction();\n\n    this.propertyScale = d3.scaleLinear()\n      .domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX])\n      .range([this.propertyActiveProfile.min, this.propertyActiveProfile.max])\n      .clamp(true);\n\n    this.xScale = d3.scaleLinear()\n      .domain([OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX])\n      .range([0, componentWidth])\n      .clamp(true);\n\n    this.brush = d3.brushX()\n      .extent([[0, 0], [componentWidth, barWidth]])\n      .handleSize(thumbRadius * 2 + barWidth * 2)\n      .on(\"start\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n          const brushDatum = _this.sliderEl.node().__brush;\n          brushDatum.selection[1][0] += 0.01;\n        }\n        _this._setFromExtent(false, false, false);\n      })\n      .on(\"brush\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        if (d3.event.selection && d3.event.selection[0] == d3.event.selection[1]) {\n          const brushDatum = _this.sliderEl.node().__brush;\n          brushDatum.selection[1][0] += 0.01;\n        }\n        _this._setFromExtent(true, false, false); // non persistent change\n      })\n      .on(\"end\", () => {\n        if (_this.nonBrushChange || !d3.event.sourceEvent) return;\n        _this._setFromExtent(true, true); // force a persistent change\n      });\n\n    this.sliderThumbs = this.sliderEl.selectAll(\".handle\")\n      .data([{ type: \"w\" }, { type: \"e\" }], d => d.type)\n      .enter().append(\"svg\").attr(\"class\", d => \"handle handle--\" + d.type + \" \" + d.type)\n      .classed(\"vzb-szs-slider-thumb\", true);\n\n    this.sliderThumbs.append(\"g\")\n      .attr(\"class\", \"vzb-szs-slider-thumb-badge\")\n      .append(\"path\")\n      .attr(\"d\", \"M\" + (thumbRadius + barWidth) + \" \" + (thumbRadius + barWidth * 1.5) + \"l\" + (-thumbRadius) + \" \" + (thumbRadius * 1.5) + \"h\" + (thumbRadius * 2) + \"Z\");\n\n    this.sliderEl\n      .call(_this.brush);\n\n    this.sliderLabelsWrapperEl = this.sliderEl.append(\"g\");\n    this.sliderLabelsWrapperEl.selectAll(\"text\").data([0, 0]).enter()\n      .append(\"text\")\n      .attr(\"class\", (d, i) => \"vzb-szs-slider-thumb-label \" + (i ? \"e\" : \"w\"))\n      .attr(\"dy\", (-barWidth * 1.25) + \"px\");\n\n    this.sliderLabelsEl = this.sliderEl.selectAll(\"text.vzb-szs-slider-thumb-label\");\n\n    this.sliderEl.selectAll(\".selection,.overlay\")\n      .attr(\"height\", barWidth)\n      .attr(\"rx\", barWidth * 0.25)\n      .attr(\"ry\", barWidth * 0.25)\n      .attr(\"transform\", \"translate(0,\" + (-barWidth * 0.5) + \")\");\n    this.sliderEl.select(\".extent\")\n      .classed(\"vzb-szs-slider-extent\", true);\n\n    this.on(\"resize\", () => {\n      //console.log(\"EVENT: resize\");\n      _this.propertyActiveProfile = _this.getPropertyActiveProfile();\n      _this.propertyScale.range([_this.propertyActiveProfile.min, _this.propertyActiveProfile.max]);\n\n      let componentWidth = (_this.element.node().offsetWidth || 0) - padding.left - padding.right;\n      if (componentWidth < 0) componentWidth = 0;\n\n      _this.xScale.range([0, componentWidth]);\n      _this._updateSize();\n      _this.sliderEl.call(_this.brush.extent([[0, 0], [componentWidth, barWidth]]));\n      const extent = _this.model.size.extent || [OPTIONS.EXTENT_MIN, OPTIONS.EXTENT_MAX];\n      _this._moveBrush(extent);\n    });\n\n    this._moveBrush(extent);\n\n    _this.sizeScaleMinMax = _this.model.size.getScale().domain();\n\n    if (_this.sizeScaleMinMax) {\n      _this._setLabelsText();\n    }\n\n    if (_this.model._ready) this.modelReady();\n  },\n\n  ready() {\n    this.isRTL = this.model.locale.isRTL();\n    this._updateSize();\n    this._updateLabels();\n  },\n\n  getPropertyActiveProfile() {\n    const profile = profiles[this.getLayoutProfile()];\n    return { min: profile[\"min\" + this.propertyName], max: profile[\"max\" + this.propertyName], default: profile[\"default\" + this.propertyName] };\n  },\n\n  _moveBrush(s) {\n    const _s = s.map(this.xScale);\n    this.nonBrushChange = true;\n    this.sliderEl.call(this.brush.move, [_s[0], _s[1] + 0.01]);\n    this.nonBrushChange = false;\n    this._setFromExtent(false, false, false);\n  },\n\n  /*\n   * RESIZE:\n   * Executed whenever the container is resized\n   */\n  _updateSize() {\n    const isRTL = this.model.locale.isRTL();\n    let componentWidth = (this.element.node().offsetWidth - this.padding.right) || 0;\n    if (componentWidth < 0) componentWidth = 0;\n\n    this.sliderSvg\n      .attr(\"height\", this.propertyActiveProfile.max + this.padding.top + this.padding.bottom)\n      .attr(\"width\", \"100%\");\n    this.sliderWrap\n      .attr(\"transform\", isRTL ? \"translate(\" + componentWidth + \",\" + (this.propertyActiveProfile.max + this.padding.top) + \") scale(-1,1)\" :\n        \"translate(\" + this.padding.left + \",\" + (this.propertyActiveProfile.max + this.padding.top) + \")\");\n    this.sliderLabelsWrapperEl\n      .attr(\"transform\", isRTL ? \"scale(-1,1)\" : null);\n    this.sliderLabelsEl\n      .attr(\"text-anchor\", (d, i) => (isRTL ? i : !i) ? \"start\" : \"end\");\n  },\n\n  _updateLabels(s) {\n    const _this = this;\n    if (s) { this.sliderLabelsEl.data(s); }\n    this.sliderLabelsEl\n      .attr(\"transform\", (d, i) => {\n        const dX = _this.xScale(i);\n        const dY = 0;//i ? -textMargin.v : 0;\n        return \"translate(\" + ((_this.isRTL ? -1 : 1) * dX) + \",\" + (dY) + \")\";\n      })\n      .attr(\"font-size\", (d, i) => _this.propertyScale(d));\n    if (_this.model.size.use === \"constant\")\n      this.sliderLabelsEl.text(d => ~~(_this.propertyScale(d)) + (_this.translator(_this.ui.constantUnit) || \"\"));\n  },\n\n  _setLabelsText() {\n    const _this = this;\n    const texts = [_this.model.size.getTickFormatter()(_this.sizeScaleMinMax[0]), _this.model.size.getTickFormatter()(_this.sizeScaleMinMax[1])];\n    _this.sliderLabelsEl\n      .text((d, i) => texts[i]);\n  },\n\n  /**\n   * Prepares setting of the current model with the values from extent.\n   * @param {boolean} set model\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setFromExtent(setModel, force, persistent) {\n    let s = d3.brushSelection(this.sliderEl.node());\n    if (!s) return;\n    s = [this.xScale.invert(s[0]), this.xScale.invert(+s[1].toFixed(1))];\n    this._updateLabels(s);\n    if (setModel) this._setModel(s, force, persistent);\n  },\n\n  /**\n   * Sets the current value in model. avoid updating more than once in framerate\n   * @param {number} value\n   * @param {boolean} force force firing the change event\n   * @param {boolean} persistent sets the persistency of the change event\n   */\n  _setModel(value, force, persistent) {\n    value = [+value[0].toFixed(2), +value[1].toFixed(2)];\n    this.model.size.set({ \"extent\": value }, force, persistent);\n  }\n\n});\n\nexport default SizeSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sizeslider/sizeslider.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simpleslider from \"components/simpleslider/simpleslider\";\nimport bubblesize from \"components/bubblesize/bubblesize\";\nimport colorlegend from \"components/colorlegend/colorlegend\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\nimport simplecheckbox from \"components/simplecheckbox/simplecheckbox\";\nimport optionsbuttonlist from \"components/buttonlist/optionsbuttonlist/optionsbuttonlist\";\n\n/*\n * More options dialog\n */\n\nconst MoreOptions = Dialog.extend(\"moreoptions\", {\n\n  /**\n   * Initializes the dialog component\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, parent) {\n    this.name = \"moreoptions\";\n\n    //specifying components\n    this.components = [{\n      component: optionsbuttonlist,\n      placeholder: \".vzb-dialog-options-buttonlist\",\n      model: [\"state\", \"ui\", \"locale\"]\n    }];\n\n    this._super(config, parent);\n  },\n\n  readyOnce() {\n    this._super();\n\n    const _this = this;\n    this.accordionEl = this.contentEl.select(\".vzb-accordion\");\n\n    this.on(\"dragend\", () => {\n      _this._setMaxHeight();\n    });\n\n    const dialog_popup = (this.model.ui.dialogs || {}).popup || [];\n    let dialog_moreoptions = (this.model.ui.dialogs || {}).moreoptions || [];\n\n    // if dialog_moreoptions has been passed in with boolean param or array must check and covert to array\n    if (dialog_moreoptions === true) {\n      dialog_moreoptions = dialog_popup;\n      (this.model.ui.dialogs || {}).moreoptions = dialog_moreoptions;\n    }\n\n    this._addDialogs(dialog_moreoptions);\n\n    //accordion\n    if (this.accordionEl) {\n      const titleEl = this.accordionEl.selectAll(\".vzb-accordion-section\")\n        .select(\".vzb-dialog-title>span:first-child\");\n      titleEl.on(\"click\", d => {\n        const element = _this.components[d.component].element;\n        const sectionEl = _this.components[d.component].placeholderEl;\n        const activeEl = _this.accordionEl.select(\".vzb-accordion-active\");\n        if (activeEl) {\n          activeEl.classed(\"vzb-accordion-active\", false);\n        }\n        if (sectionEl.node() !== activeEl.node()) {\n          sectionEl.classed(\"vzb-accordion-active\", true);\n        }\n      });\n    }\n  },\n\n  _addDialogs(dialog_list) {\n    this._components_config = [];\n    const details_dlgs = [];\n    if (!dialog_list.length) return;\n    //add a component for each dialog\n    for (let i = 0; i < dialog_list.length; i++) {\n\n      //check moreoptions in dialog.moreoptions\n      if (dialog_list[i] === \"moreoptions\") continue;\n\n      const dlg = dialog_list[i];\n      const dlg_config = utils.deepClone(this.parent._available_dialogs[dlg]);\n\n      //if it's a dialog, add component\n      if (dlg_config && dlg_config.dialog) {\n        const comps = this._components_config;\n\n        //add corresponding component\n        comps.push({\n          component: dlg_config.dialog,\n          placeholder: '.vzb-dialogs-dialog[data-dlg=\"' + dlg + '\"]',\n          model: [\"state\", \"ui\", \"locale\"]\n        });\n\n        dlg_config.component = comps.length - 1;\n\n        dlg_config.id = dlg;\n        details_dlgs.push(dlg_config);\n      }\n    }\n\n    this.accordionEl.selectAll(\"div\").data(details_dlgs)\n      .enter().append(\"div\")\n      .attr(\"class\", d => {\n        const cls = \"vzb-dialogs-dialog vzb-moreoptions vzb-accordion-section\";\n        return cls;\n      })\n      .attr(\"data-dlg\", d => d.id);\n\n    this.loadSubComponents();\n\n    const _this = this;\n    //render each subcomponent\n    utils.forEach(this.components, subcomp => {\n      subcomp.render();\n      _this.on(\"resize\", () => {\n        subcomp.trigger(\"resize\");\n      });\n    });\n  }\n});\n\nexport default MoreOptions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/moreoptions/moreoptions.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simpleslider from \"components/simpleslider/simpleslider\";\n/*\n * Size dialog\n */\n\nconst Opacity = Dialog.extend(\"opacity\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"opacity\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [\n      {\n        component: simpleslider,\n        placeholder: \".vzb-dialog-bubbleopacity-regular\",\n        model: [\"state.marker\"],\n        arg: \"opacityRegular\",\n        properties: { step: 0.01 }\n      }, {\n        component: simpleslider,\n        placeholder: \".vzb-dialog-bubbleopacity-selectdim\",\n        model: [\"state.marker\"],\n        arg: \"opacitySelectDim\",\n        properties: { step: 0.01 }\n      }\n    ];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Opacity;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/opacity/opacity.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simplecheckbox from \"components/simplecheckbox/simplecheckbox\";\n/*\n * Size dialog\n */\n\nconst Presentation = Dialog.extend(\"presentation\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"presentation\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [\n      {\n        component: simplecheckbox,\n        placeholder: \".vzb-presentationmode-switch\",\n        model: [\"ui\", \"locale\"],\n        checkbox: \"presentation\"\n      }];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Presentation;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/presentation/presentation.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\n\n/*!\n * VIZABI SHOW CONTROL\n * Reusable show dialog\n */\n\nconst Show = Dialog.extend(\"show\", {\n\n  init(config, parent) {\n    this.name = \"show\";\n    const _this = this;\n\n    this.model_binds = {\n      \"change:state.entities.show\": function(evt) {\n        _this.redraw();\n      }\n    };\n\n    this.enablePicker = ((config.ui.dialogs.dialog || {}).show || {}).enablePicker;\n    if (this.enablePicker) {\n      this.components = [{\n        component: indicatorpicker,\n        placeholder: \".vzb-show-filter-selector\",\n        model: [\"state.time\", \"state.entities\", \"locale\"]\n      }];\n    }\n\n\n    this._super(config, parent);\n  },\n\n  /**\n   * Grab the list div\n   */\n  readyOnce() {\n    this._super();\n\n    this.resetFilter = utils.deepExtend({}, this.model.state.entities.show);\n\n    this.element.select(\".vzb-show-filter-selector\").classed(\"vzb-hidden\", !this.enablePicker);\n    this.element.select(\".vzb-dialog-title\").classed(\"vzb-title-two-rows\", this.enablePicker);\n\n    this.list = this.element.select(\".vzb-show-list\");\n    this.input_search = this.element.select(\".vzb-show-search\");\n    this.deselect_all = this.element.select(\".vzb-show-deselect\");\n\n    this.KEY = this.model.state.entities.getDimension();\n    this.TIMEDIM = this.model.state.time.getDimension();\n\n    const _this = this;\n    this.input_search.on(\"input\", () => {\n      _this.showHideSearch();\n    });\n\n    this.deselect_all.on(\"click\", () => {\n      _this.deselectEntities();\n    });\n\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", () => {\n      _this.KEY = _this.model.state.entities.getDimension();\n      _this.redraw();\n    });\n  },\n\n  open() {\n    this._super();\n\n    this.input_search.node().value = \"\";\n    this.showHideSearch();\n  },\n\n  ready() {\n    this._super();\n    this.KEY = this.model.state.entities.getDimension();\n    this.redraw();\n    utils.preventAncestorScrolling(this.element.select(\".vzb-dialog-scrollable\"));\n\n  },\n\n  redraw() {\n\n    const _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    if (!this.KEY) {\n      _this.list.html(\"\");\n      return;\n    }\n\n    this.model.state.marker_allpossible.getFrame(this.model.state.time.value, values => {\n      if (!values) return;\n      const data = utils.keys(values.label)\n        .map(d => {\n          const result = {};\n          result[_this.KEY] = d;\n          result[\"label\"] = values.label[d];\n          return result;\n        });\n\n      //sort data alphabetically\n      data.sort((a, b) => (a.label < b.label) ? -1 : 1);\n\n      _this.list.html(\"\");\n\n      const items = _this.list.selectAll(\".vzb-show-item\")\n        .data(data)\n        .enter()\n        .append(\"div\")\n        .attr(\"class\", \"vzb-show-item vzb-dialog-checkbox\");\n\n      items.append(\"input\")\n        .attr(\"type\", \"checkbox\")\n        .attr(\"class\", \"vzb-show-item\")\n        .attr(\"id\", d => \"-show-\" + d[_this.KEY] + \"-\" + _this._id)\n        .property(\"checked\", function(d) {\n          const isShown = _this.model.state.entities.isShown(d);\n          d3.select(this.parentNode).classed(\"vzb-checked\", isShown);\n          return isShown;\n        })\n        .on(\"change\", d => {\n          _this.model.state.marker.clearSelected();\n          _this.model.state.entities.showEntity(d);\n          _this.showHideDeselect();\n        });\n\n      items.append(\"label\")\n        .attr(\"for\", d => \"-show-\" + d[_this.KEY] + \"-\" + _this._id)\n        .text(d => d.label)\n        .attr(\"title\", function(d) {\n          return this.offsetWidth < this.scrollWidth ? d.label : null;\n        });\n\n      const lastCheckedNode = _this.list.selectAll(\".vzb-checked\")\n        .classed(\"vzb-separator\", false)\n        .lower()\n        .nodes()[0];\n      d3.select(lastCheckedNode).classed(\"vzb-separator\", true);\n      _this.contentEl.node().scrollTop = 0;\n\n      _this.input_search.attr(\"placeholder\", _this.translator(\"placeholder/search\") + \"...\");\n\n      _this.showHideSearch();\n      _this.showHideDeselect();\n\n    });\n  },\n\n  showHideSearch() {\n\n    let search = this.input_search.node().value || \"\";\n    search = search.toLowerCase();\n\n    this.list.selectAll(\".vzb-show-item\")\n      .classed(\"vzb-hidden\", d => {\n        const lower = (d.label || \"\").toString().toLowerCase();\n        return (lower.indexOf(search) === -1);\n      });\n  },\n\n  showHideDeselect() {\n    const show = this.model.state.entities.show[this.KEY];\n    this.deselect_all.classed(\"vzb-hidden\", !show || show.length == 0);\n  },\n\n  deselectEntities() {\n    const KEY = this.KEY;\n    if (this.resetFilter[KEY]) {\n      const newShow = Object.assign({}, this.model.state.entities.show);\n      newShow[KEY] = this.resetFilter[KEY];\n      this.model.state.entities.show = newShow;\n    } else {\n      this.model.state.entities.clearShow();\n    }\n    this.showHideDeselect();\n  },\n\n  transitionEnd(event) {\n    this._super(event);\n\n    if (!utils.isTouchDevice()) this.input_search.node().focus();\n  }\n\n});\n\nexport default Show;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/show/show.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\nimport simplecheckbox from \"components/simplecheckbox/simplecheckbox\";\n/*!\n * VIZABI SIDE CONTROL\n * Reusable side dialog\n */\n\nconst Side = Dialog.extend(\"side\", {\n\n  init(config, parent) {\n    this.name = \"side\";\n    const _this = this;\n\n    this.model_binds = {\n      \"change:state.marker.side.which\": function(evt) {\n        if (_this.model.state.entities_allpossibleside) {\n          const sideDim = _this.model.state.marker.side.use == \"constant\" ? null : _this.model.state.marker.side.which;\n          _this.model.state.entities_allpossibleside.set(\"dim\", sideDim);\n        }\n      },\n      \"change:state.entities_side.show\": function(evt) {\n        if (!_this._readyOnce) return;\n        _this.updateState();\n        _this.redraw();\n      },\n      \"change:ui.chart.flipSides\": function(evt) {\n        if (!_this._readyOnce) return;\n        _this.updateState();\n        _this.redraw();\n      }\n\n    };\n\n    this.components = [\n      {\n        component: indicatorpicker,\n        placeholder: \".vzb-side-selector\",\n        model: [\"state.time\", \"state.marker.side\", \"locale\"],\n        showHoverValues: false\n      }\n    ];\n\n    this._super(config, parent);\n  },\n\n  /**\n   * Grab the list div\n   */\n  readyOnce() {\n    this._super();\n    this.listLeft = this.element.select(\".vzb-side-list-left\");\n    this.listRight = this.element.select(\".vzb-side-list-right\");\n    this.switchSides = this.element.select(\".vzb-side-switch-sides\");\n\n    this.TIMEDIM = this.model.state.time.getDimension();\n    this.state = {};\n    const _this = this;\n\n    this.switchSides.on(\"click\", () => {\n      _this.model.ui.chart.flipSides = !_this.model.ui.chart.flipSides;\n    });\n\n    //make sure it refreshes when all is reloaded\n    this.root.on(\"ready\", () => {\n      _this.redraw();\n    });\n  },\n\n  ready() {\n    this._super();\n\n    this.KEY = this.model.state.entities_side.getDimension();\n    if (this.model.state.marker.side.use !== \"constant\" && !(this.model.state.entities_side.show[this.KEY] || {})[\"$in\"]) {\n      const key = this.model.state.entities_allpossibleside.dim;\n      const sideKeys = this.model.state.marker_allpossibleside.getKeys().map(d => d[key]);\n      const filterKeys = sideKeys.sort(d3.ascending).slice(0, 2);\n      if (filterKeys.length > 0) {\n        const show = Object.assign({}, this.model.state.entities_side.show);\n        show[this.KEY] = { \"$in\": filterKeys };\n        this.model.state.entities_side.set(\"show\", show);\n      }\n    }\n\n    this.updateState();\n    this.redraw();\n    utils.preventAncestorScrolling(this.element.select(\".vzb-dialog-scrollable\"));\n\n  },\n\n  updateState() {\n    const _this = this;\n    const sideDim = this.model.state.marker.side.getEntity().getDimension();\n    const modelSide = this.model.state.marker.side;\n\n    this.state[\"right\"] = {};\n    this.state[\"left\"] = {};\n    if (modelSide.state[\"left\"][sideDim] && modelSide.state[\"right\"][sideDim]) {\n      this.state[\"left\"][sideDim] = modelSide.state[\"left\"][sideDim];\n      this.state[\"right\"][sideDim] = modelSide.state[\"right\"][sideDim];\n    } else {\n      const sides = this.model.state.marker.getKeys(sideDim);\n      let sideKeys = [];\n      const sideFiltered = !!this.model.state.marker.side.getEntity().show[sideDim];\n      sideKeys = sides.filter(f => !sideFiltered || _this.model.state.marker.side.getEntity().isShown(f)).map(m => m[sideDim]);\n\n      if (sideKeys.length > 2) sideKeys.length = 2;\n      if (sideKeys.length > 1) {\n        const sortFunc = this.ui.chart.flipSides ? d3.ascending : d3.descending;\n        sideKeys.sort(sortFunc);\n      }\n\n      this.state[\"right\"] = {};\n      this.state[\"right\"][sideDim] = sideKeys[0];\n      this.state[\"left\"] = {};\n      this.state[\"left\"][sideDim] = sideKeys[1] ? sideKeys[1] : sideKeys[0];\n    }\n\n    const hidden = this.model.state.marker.side.use == \"constant\";\n\n    this.listLeft.classed(\"vzb-hidden\", hidden);\n    this.listRight.classed(\"vzb-hidden\", hidden);\n    this.switchSides.classed(\"vzb-hidden\", hidden || this.state[\"left\"][sideDim] == this.state[\"right\"][sideDim]);\n  },\n\n  redraw() {\n\n    const _this = this;\n    this.translator = this.model.locale.getTFunction();\n\n    if (!_this.model.state.entities_allpossibleside.dim) return;\n    this.model.state.marker_allpossibleside.getFrame(this.model.state.time.value, values => {\n      if (!values) return;\n      const data = utils.keys(values.label)\n        .map(d => {\n          const result = {};\n          result[_this.KEY] = d;\n          result[\"label\"] = values.label[d];\n          return result;\n        });\n\n      //sort data alphabetically\n      data.sort((a, b) => (a.label < b.label) ? -1 : 1);\n\n      _this.listLeft.html(\"\");\n      _this.listRight.html(\"\");\n      _this.createList(_this.listLeft, \"left\", data);\n      _this.createList(_this.listRight, \"right\", data);\n\n    });\n  },\n\n  createList(listSel, name, data) {\n    const _this = this;\n    const sideDim = this.model.state.marker.side.getEntity().getDimension();\n\n    const items = listSel.selectAll(\".vzb-side-item\")\n      .data(data)\n      .enter()\n      .append(\"div\")\n      .attr(\"class\", \"vzb-side-item vzb-dialog-radio\");\n\n    items.append(\"input\")\n      .attr(\"type\", \"radio\")\n      .attr(\"name\", name + \"-\" + _this._id)\n      .attr(\"class\", \"vzb-side-item\")\n      .attr(\"id\", d => \"-side-\" + name + \"-\" + d[sideDim] + \"-\" + _this._id)\n      .property(\"checked\", d => _this.state[name][sideDim] === d[sideDim])\n      .on(\"change\", (d, i) => {\n        const sideEntities = _this.model.state.entities_side;\n        const sideDim = sideEntities.getDimension();\n        const otherSide = name == \"left\" ? \"right\" : \"left\";\n        const modelSide = _this.model.state.marker.side;\n\n        modelSide.state[name][sideDim] = d[sideDim];\n        modelSide.state[otherSide][sideDim] = _this.state[otherSide][sideDim];\n\n        const showArray = [];\n\n        if (!sideEntities.isShown(d)) {\n          showArray.push(d);\n        }\n        if (d[sideDim] !== _this.state[otherSide][sideDim] && !sideEntities.isShown(_this.state[otherSide])) {\n          showArray.push(_this.state[otherSide]);\n        }\n        if (_this.state[name][sideDim] !== _this.state[otherSide][sideDim] && sideEntities.isShown(_this.state[name])) {\n          showArray.push(_this.state[name]);\n        }\n\n        if (d[sideDim] !== _this.state[otherSide][sideDim]) {\n          const sideKeys = [d[sideDim], _this.state[otherSide][sideDim]];\n          const sortFunc = _this.ui.chart.flipSides ? d3.ascending : d3.descending;\n          sideKeys.sort(sortFunc);\n          if (sideKeys[name == \"left\" ? 0 : 1] == d[sideDim]) {\n            _this.model.state.marker.side.switchSideState();\n            _this.ui.chart.flipSides = !_this.ui.chart.flipSides;\n          }\n        }\n\n        if (showArray.length) {\n          sideEntities.showEntity(showArray);\n        }\n\n      });\n\n    items.append(\"label\")\n      .attr(\"for\", d => \"-side-\" + name + \"-\" + d[_this.KEY] + \"-\" + _this._id)\n      .text(d => d.label);\n  }\n\n});\n\nexport default Side;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/side/side.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport bubblesize from \"components/bubblesize/bubblesize\";\nimport indicatorpicker from \"components/indicatorpicker/indicatorpicker\";\n/*\n * Size dialog\n */\n\nconst Size = Dialog.extend(\"size\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"size\";\n\n    // in dialog, this.model_expects = [\"state\", \"ui\", \"locale\"];\n\n    this.components = [\n      {\n        component: indicatorpicker,\n        placeholder: \".vzb-saxis-selector\",\n        model: [\"state.time\", \"state.marker.size\", \"locale\"],\n        showHoverValues: true\n      }\n    ];\n\n    // config.ui is same as this.model.ui here but this.model.ui is not yet available because constructor hasn't been called.\n    // can't call constructor earlier because this.components needs to be complete before calling constructor\n    if (!config.ui.chart || config.ui.chart.sizeSelectorActive !== 0) {\n      this.components.push({\n        component: bubblesize,\n        placeholder: \".vzb-dialog-bubblesize\",\n        model: [\"state.marker.size\", \"locale\"],\n        ui: {\n          show_button: false\n        }\n      });\n    }\n\n    this._super(config, parent);\n  }\n});\n\nexport default Size;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/size/size.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport simpleslider from \"components/simpleslider/simpleslider\";\n/*\n * Size dialog\n */\n\nconst Speed = Dialog.extend(\"speed\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"speed\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [\n      {\n        component: simpleslider,\n        placeholder: \".vzb-dialog-placeholder\",\n        model: [\"state.time\"],\n        arg: \"delay\",\n        properties: { min: 1, max: 6, step: 0.1, scale: d3.scaleLinear()\n          .domain([1, 2, 3, 4, 5, 6])\n          .range([1200, 900, 450, 200, 150, 100])\n        }\n      }\n    ];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Speed;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/speed/speed.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport draggablelist from \"components/draggablelist/draggablelist\";\n\n\n/*\n * stack dialog\n */\n\nconst Stack = Dialog.extend(\"stack\", {\n\n  /**\n     * Initializes the dialog component\n     * @param config component configuration\n     * @param context component context (parent)\n     */\n  init(config, parent) {\n    this.name = \"stack\";\n    const _this = this;\n\n    // in dialog, this.model_expects = [\"state\", \"ui\", \"locale\"];\n\n    this.components = [{\n      component: draggablelist,\n      placeholder: \".vzb-dialog-draggablelist\",\n      model: [\"state.marker.group\", \"state.marker.color\", \"locale\", \"ui.chart\"],\n      groupID: \"manualSorting\",\n      isEnabled: \"manualSortingEnabled\",\n      dataArrFn: _this.manualSorting.bind(_this),\n      lang: \"\"\n    }];\n\n    this.model_binds = {\n      \"change:state.marker.group\": function(evt) {\n        //console.log(\"group change \" + evt);\n        if (!_this._ready) return;\n        _this.updateView();\n      }\n    };\n\n    this._super(config, parent);\n  },\n\n\n  readyOnce() {\n    this._super();\n\n    const _this = this;\n    this.group = this.model.state.marker.group;\n    this.stack = this.model.state.marker.stack;\n\n    this.howToStackEl = this.element.select(\".vzb-howtostack\").selectAll(\"input\")\n      .on(\"change\", function() {\n        _this.setModel(\"stack\", d3.select(this).node().value);\n      });\n    this.howToMergeEl = this.element.select(\".vzb-howtomerge\").selectAll(\"input\")\n      .on(\"change\", function() {\n        _this.setModel(\"merge\", d3.select(this).node().value);\n      });\n\n    this.updateView();\n  },\n\n  ready() {\n    this._super();\n    if (!this.model.state.marker.color.isDiscrete()) {\n      if (this.stack.use == \"property\") {\n        this.setModel(\"stack\", \"none\");\n        return;\n      }\n      else if (this.group.merge) {\n        this.setModel(\"merge\", \"none\");\n        return;\n      }\n    }\n    this.updateView();\n  },\n\n  updateView() {\n    const _this = this;\n\n    this.howToStackEl\n      .property(\"checked\", function() {\n        if (d3.select(this).node().value === \"none\") return _this.stack.which === \"none\";\n        if (d3.select(this).node().value === \"bycolor\") return _this.stack.which === _this.model.state.marker.color.which;\n        if (d3.select(this).node().value === \"all\") return _this.stack.which === \"all\";\n      })\n      .attr(\"disabled\", function() {\n        if (d3.select(this).node().value === \"none\") return null; // always enabled\n        if (d3.select(this).node().value === \"all\") return null; // always enabled\n        if (d3.select(this).node().value === \"bycolor\") return _this.model.state.marker.color.use !== \"property\" ? true : null;\n      });\n\n    _this.model.ui.chart.manualSortingEnabled = _this.stack.which == \"all\";\n\n    this.howToMergeEl\n      .property(\"checked\", function() {\n        if (d3.select(this).node().value === \"none\") return !_this.group.merge && !_this.stack.merge;\n        if (d3.select(this).node().value === \"grouped\") return _this.group.merge;\n        if (d3.select(this).node().value === \"stacked\") return _this.stack.merge;\n      })\n      .attr(\"disabled\", function() {\n        if (d3.select(this).node().value === \"none\") return null; // always enabled\n        if (d3.select(this).node().value === \"grouped\") return _this.stack.which === \"none\" || _this.model.state.marker.color.use !== \"property\" ? true : null;\n        if (d3.select(this).node().value === \"stacked\") return _this.stack.which === \"all\" ? null : true;\n      });\n\n\n  },\n\n  manualSorting(value, persistent = false) {\n    if (arguments.length === 0) return this.model.state.marker.group.manualSorting;\n    this.model.state.marker.group.set({ manualSorting: value }, false, persistent);\n  },\n\n  setModel(what, value) {\n\n    const obj = { stack: {}, group: {} };\n\n    if (what === \"merge\") {\n      switch (value) {\n        case \"none\":\n          obj.group.merge = false;\n          obj.stack.merge = false;\n          break;\n        case \"grouped\":\n          obj.group.merge = true;\n          obj.stack.merge = false;\n          break;\n        case \"stacked\":\n          obj.group.merge = false;\n          obj.stack.merge = true;\n          break;\n      }\n    }\n    if (what === \"stack\") {\n\n      switch (value) {\n        case \"all\":\n          obj.stack.use = \"constant\";\n          obj.stack.which = \"all\";\n          break;\n        case \"none\":\n          obj.stack.use = \"constant\";\n          obj.stack.which = \"none\";\n          break;\n        case \"bycolor\":\n          obj.stack.use = \"property\";\n          obj.stack.which = this.model.state.marker.color.which;\n          break;\n      }\n\n      //validate possible merge values in group and stack hooks\n      if (value === \"none\" && this.group.merge) obj.group.merge = false;\n      if (value !== \"all\" && this.stack.merge) obj.stack.merge = false;\n    }\n\n    this.model.state.marker.set(obj);\n  }\n});\n\nexport default Stack;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/stack/stack.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\nconst DraggableList = Component.extend({\n\n  init(config, context) {\n    this.template = '<span class=\"vzb-dl-holder\"><ul class=\"vzb-draggable list vzb-dialog-scrollable\"></ul></span>';\n    const _this = this;\n    this.name = \"draggableList\";\n\n    this.dataArrFn = config.dataArrFn;\n    this.lang = config.lang;\n\n    this.model_expects = [{\n      name: \"group\",\n      type: \"model\"\n    }, {\n      name: \"color\",\n      type: \"color\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }, {\n      name: \"chart\",\n      type: \"model\"\n    }];\n\n    this.groupID = config.groupID;\n    this.isEnabled = config.isEnabled;\n    this.draggable = true;\n\n    if (!config.groupID) utils.warn(\"draggablelist.js complains on 'groupID' property: \" + config.groupID);\n\n    this.model_binds = {\n      \"translate:locale\": function(evt) {\n        _this.updateView();\n      },\n      \"change:group.which\": function(evt) {\n        _this.updateView();\n      }\n    };\n\n    this.model_binds[\"change:group.\" + this.groupID] = function(evt) {\n      _this.updateView();\n    };\n    this.model_binds[\"change:chart.\" + this.isEnabled] = function(evt) {\n      _this.draggable = _this.model.chart[_this.isEnabled];\n      _this.updateView();\n    };\n\n\n    this._super(config, context);\n\n    this.updateData = utils.debounce(this.updateData, 1000);\n\n    this.itemDragger = d3.drag()\n      .on(\"start\", (draggedData, i) => {\n        if (_this.dataUpdateFlag || !_this.draggable) return;\n        d3.event.sourceEvent.stopPropagation();\n        _this.parentBoundRect = _this.element.node().getBoundingClientRect();\n        _this.element\n          .selectAll(\"div\")\n          .each(function(d, i) {\n            const boundRect = this.getBoundingClientRect();\n            d._y = boundRect.top;\n            d._top = 0;\n            if (draggedData.data === d.data) {\n              d._height = boundRect.height;\n              _this.selectedNode = this;\n            }\n          });\n        d3.select(_this.selectedNode)\n          .classed(\"dragged\", true);\n      })\n\n      .on(\"drag\", (draggedData, draggedIndex) => {\n        if (_this.dataUpdateFlag || !_this.draggable) return;\n        draggedData._top += d3.event.dy;\n        const newDraggedY = draggedData._y + draggedData._top;\n        if (newDraggedY > _this.parentBoundRect.top\n          && newDraggedY + draggedData._height < _this.parentBoundRect.top + _this.parentBoundRect.height)\n        {\n          _this.itemsEl\n            .style(\"top\", (d, i) => {\n              let top = 0;\n\n              if (i < draggedIndex && d._y + draggedData._height * 0.5 > newDraggedY) {\n                top = draggedData._height;\n              }\n              else if (i > draggedIndex && d._y - draggedData._height * 0.5 < newDraggedY) {\n                top = -draggedData._height;\n              }\n\n              if (i != draggedIndex) d._top = top;\n              return d._top + \"px\";\n            });\n        }\n      })\n\n      .on(\"end\", (d, i) => {\n        if (_this.dataUpdateFlag || !_this.draggable) return;\n        _this.getData();\n      });\n\n  },\n\n  ready() {\n    const _this = this;\n\n    this.updateView();\n\n    this.itemsEl = this.element\n      .selectAll(\"div\");\n\n    this.itemsEl\n      .call(_this.itemDragger);\n\n    const test = this.itemsEl.select(\"li\")\n      .on(\"mouseover\", function() {\n        d3.select(this).classed(\"hover\", true);\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this).classed(\"hover\", false);\n      })\n      .on(\"touchstart\", () => {\n        d3.event.preventDefault();\n      });\n\n  },\n\n  updateView() {\n    const _this = this;\n\n    const labels = _this.model.color.getColorlegendMarker().label.getItems();\n    const labelsKeys = utils.keys(labels);\n\n    const labelsKeysSorted = labelsKeys.slice().sort();\n    const prevLabelsKeysSorted = (this.dataArrFn() || []).slice().sort();\n    if (utils.arrayEquals(labelsKeysSorted, prevLabelsKeysSorted) === false) {\n      this.dataArrFn(labelsKeys);\n    }\n\n    this.items = this.element.selectAll(\"div\").data(() => (_this.dataArrFn() || []).map(d => ({ data: d })));\n\n    this.items.exit().remove();\n\n    this.items = this.items.enter()\n      .append(\"div\")\n      .append(\"li\")\n      .each(function() {\n        const view = d3.select(this);\n\n        view.append(\"span\")\n          .classed(\"label-circle\", true);\n\n        view.append(\"span\")\n          .classed(\"label-text\", true);\n      })\n      .merge(this.items);\n\n    const colorScale = this.model.color.getScale();\n    this.items.select(\"li\")\n      .each(function({ data }) {\n        const view = d3.select(this);\n\n        view\n          .classed(\"hover\", false)\n          .attr(\"data\", data);\n\n        view.select(\".label-circle\")\n          .style(\"background\", colorScale(data));\n\n        view\n          .select(\".label-text\")\n          .text(labels[data]);\n      });\n\n    const draggable = _this.draggable ? true : null;\n    this.element.selectAll(\"div\")\n      .style(\"top\", \"\")\n      .attr(\"draggable\", draggable)\n      .classed(\"dragged\", false);\n    this.dataUpdateFlag = false;\n\n  },\n\n  getData() {\n    let dataArr = [];\n    const data = this.element\n      .selectAll(\"div\").data();\n\n    dataArr = data\n      .sort((a, b) => (a._y + a._top) - (b._y + b._top))\n      .map(d => d.data);\n    if (utils.arrayEquals(this.dataArrFn(), dataArr)) {\n      this.updateView();\n    } else {\n      this.dataUpdateFlag = true;\n      this.updateData(dataArr, true);\n    }\n  },\n\n  updateData(dataArr, persistent) {\n    this.dataArrFn(dataArr, persistent);\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.element = d3.select(this.element).select(\".list\");\n\n  }\n\n});\n\nexport default DraggableList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/draggablelist/draggablelist.js","import Dialog from \"components/dialogs/_dialog\";\nimport DynamicBackground from \"helpers/d3.dynamicBackground\";\n\n/*\n * Timedisplay dialog\n */\nconst TimeDisplay = Dialog.extend(\"timedisplay\", {\n\n  init(config, parent) {\n    this.name = \"timedisplay\";\n\n    this.model_binds = {\n      \"change:state.time.value\": () => {\n        this.updateTime();\n      }\n    };\n\n    this._super(config, parent);\n  },\n\n  ready() {\n    this.updateTime();\n  },\n\n  readyOnce() {\n    this._super();\n    this.timeLabel = new DynamicBackground(this.element.select(\".vzb-timedisplay\"));\n    this.timeLabel.setConditions({ widthRatio: 1, heightRatio: 1 });\n    this.resize();\n  },\n\n  resize() {\n    if (this.timeLabel) {\n      this.timeLabel\n        .resize(this.contentEl.style(\"width\"), this.contentEl.style(\"height\"));\n    }\n  },\n\n  updateTime() {\n    const timeMdl = this.model.state.time;\n    this.time_1 = this.time == null ? timeMdl.value : this.time;\n    this.time = timeMdl.value;\n    const duration = timeMdl.playing && (this.time - this.time_1 > 0) ? timeMdl.delayAnimations : 0;\n    this.timeLabel.setText(timeMdl.formatDate(this.time, \"ui\"), duration);\n  }\n\n});\n\nexport default TimeDisplay;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/timedisplay/timedisplay.js","//d3.svg.dynamicBackground\n\n\nimport Class from \"base/class\";\n\nexport default Class.extend({\n\n  init(context, conditions) {\n    this.context = context;\n    this.context.classed(\"vzb-dynamic-background\", true);\n\n    this.width = 0;\n    this.height = 0;\n    this.topOffset = 0;\n    this.leftOffset = 0;\n    this.bottomOffset = 0;\n    this.rightOffset = 0;\n    this.textWidth = 0;\n    this.textHeight = 0;\n    this.widthRatio = 0.9;\n    this.heightRatio = 0.9;\n    this.xAlign = \"center\";\n    this.yAlign = \"center\";\n    this.element = this.context.append(\"text\").style(\"font-size\", \"20px\");\n    this._sample = this.context.append(\"text\").style(\"font-size\", \"20px\").style(\"opacity\", 0);\n\n    if (conditions) {\n      this.setConditions(conditions);\n    }\n  },\n\n  setConditions(conditions) {\n    if (!isNaN(parseFloat(conditions.rightOffset)) && isFinite(conditions.rightOffset)) {\n      this.rightOffset = conditions.rightOffset;\n    }\n    if (!isNaN(parseFloat(conditions.leftOffset)) && isFinite(conditions.leftOffset)) {\n      this.leftOffset = conditions.leftOffset;\n    }\n    if (!isNaN(parseFloat(conditions.topOffset)) && isFinite(conditions.topOffset)) {\n      this.topOffset = conditions.topOffset;\n    }\n    if (!isNaN(parseFloat(conditions.bottomOffset)) && isFinite(conditions.bottomOffset)) {\n      this.bottomOffset = conditions.bottomOffset;\n    }\n    if (conditions.xAlign) {\n      this.xAlign = conditions.xAlign;\n    }\n    if (conditions.yAlign) {\n      this.yAlign = conditions.yAlign;\n    }\n    if (!isNaN(parseFloat(conditions.widthRatio)) && conditions.widthRatio > 0 && conditions.widthRatio <= 1) {\n      this.widthRatio = conditions.widthRatio;\n    }\n    if (!isNaN(parseFloat(conditions.heightRatio)) && conditions.heightRatio > 0 && conditions.heightRatio <= 1) {\n      this.heightRatio = conditions.heightRatio;\n    }\n    return this;\n  },\n\n  resize(width, height, topOffset, leftOffset) {\n    this.width = parseInt(width, 10) || 0;\n    this.height = parseInt(height, 10) || 0;\n\n    if (topOffset) {\n      this.topOffset = topOffset;\n    }\n    if (leftOffset) {\n      this.leftOffset = leftOffset;\n    }\n\n    this._resizeText();\n  },\n\n  setText(text, delay = 0) {\n    const callback = () => {\n      this._sample.text(text);\n      this._resizeText();\n      this.element.text(text);\n    };\n\n    const clear = () => {\n      clearTimeout(this._text.timeout);\n      delete this._text;\n    };\n\n    if (!delay) {\n      if (this._text) {\n        clear();\n      }\n      callback();\n    } else {\n      if (this._text) {\n        this._text.callback();\n        clear();\n      }\n      this._text = {\n        callback,\n        timeout: setTimeout(() => {\n          callback();\n          clear();\n        }, delay)\n      };\n    }\n\n    return this;\n  },\n\n\n  _resizeText() {\n    const bbox = this._sample.node().getBBox();\n    if (!bbox.width || !bbox.height || !this.width || !this.height) return this;\n\n    // method from http://stackoverflow.com/a/22580176\n    const widthTransform = this.width * this.widthRatio / bbox.width;\n    const heightTransform = this.height * this.heightRatio / bbox.height;\n    this.scalar = Math.min(widthTransform, heightTransform);\n    this.element.attr(\"transform\", \"scale(\" + this.scalar + \")\");\n\n    this.textHeight = bbox.height * this.scalar;\n    this.textWidth = bbox.width * this.scalar;\n\n    switch (this.yAlign) {\n      case \"bottom\": this.context.select(\"text\").attr(\"dy\", \".325em\"); break;\n      case \"center\": this.context.select(\"text\").attr(\"dy\", \".325em\"); break;\n      case \"top\": this.context.select(\"text\").attr(\"dy\", \"0\"); break;\n    }\n\n    this.context.attr(\"transform\", \"translate(\" + this._getLeftOffset() + \",\" + this._getTopOffset() + \")\");\n\n    return this;\n  },\n\n  _getLeftOffset() {\n    switch (this.xAlign) {\n      case \"right\":\n        return this.width - this.textWidth / 2 - this.rightOffset;\n      case \"left\":\n        return this.textWidth / 2 + this.leftOffset;\n      default :\n        return this.width / 2;\n    }\n  },\n\n  _getTopOffset() {\n    switch (this.yAlign) {\n      case \"top\":\n        return this.textHeight / 2 + this.topOffset;\n      case \"bottom\":\n        return this.height - this.textHeight / 2 - this.bottomOffset;\n      default :\n        return this.height / 2;\n    }\n  }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.dynamicBackground.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Dialog from \"components/dialogs/_dialog\";\n\nimport zoombuttonlist from \"components/zoombuttonlist/zoombuttonlist\";\nimport simplecheckbox from \"components/simplecheckbox/simplecheckbox\";\n\n\n/*\n * Zoom dialog\n */\n\nconst Zoom = Dialog.extend(\"zoom\", {\n\n/**\n * Initializes the dialog component\n * @param config component configuration\n * @param context component context (parent)\n */\n  init(config, parent) {\n    this.name = \"zoom\";\n\n    // in dialog, this.model_expects = [\"state\", \"data\"];\n\n    this.components = [{\n      component: zoombuttonlist,\n      placeholder: \".vzb-dialog-zoom-buttonlist\",\n      model: [\"state\", \"ui\", \"locale\"]\n    }, {\n      component: simplecheckbox,\n      placeholder: \".vzb-panwitharrow-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"panWithArrow\"\n    }, {\n      component: simplecheckbox,\n      placeholder: \".vzb-zoomonscrolling-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"zoomOnScrolling\"\n    }, {\n      component: simplecheckbox,\n      placeholder: \".vzb-adaptminmaxzoom-switch\",\n      model: [\"ui\", \"locale\"],\n      checkbox: \"adaptMinMaxZoom\"\n    }];\n\n    this._super(config, parent);\n  }\n});\n\nexport default Zoom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialogs/zoom/zoom.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport * as iconset from \"base/iconset\";\n\n/*!\n * VIZABI OPTIONSBUTTONLIST\n * Reusable optionsbuttonlist component\n */\n\n//default existing buttons\nconst class_active = \"vzb-active\";\n// var class_active_locked = \"vzb-active-locked\";\n// var class_expand_dialog = \"vzb-dialog-side\";\n// var class_hide_btn = \"vzb-dialog-side-btn\";\n// var class_unavailable = \"vzb-unavailable\";\n// var class_vzb_fullscreen = \"vzb-force-fullscreen\";\n// var class_container_fullscreen = \"vzb-container-fullscreen\";\n\nconst ZoomButtonList = Component.extend({\n\n  /**\n   * Initializes the buttonlist\n   * @param config component configuration\n   * @param context component context (parent)\n   */\n  init(config, context) {\n\n    //set properties\n    const _this = this;\n    this.name = \"gapminder-zoombuttonlist\";\n\n    this.model_expects = [{\n      name: \"state\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this._available_buttons = {\n      \"arrow\": {\n        title: \"buttons/cursorarrow\",\n        icon: \"cursorArrow\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"plus\": {\n        title: \"buttons/cursorplus\",\n        icon: \"cursorPlus\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"minus\": {\n        title: \"buttons/cursorminus\",\n        icon: \"cursorMinus\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"hand\": {\n        title: \"buttons/cursorhand\",\n        icon: \"cursorHand\",\n        func: this.toggleCursorMode.bind(this),\n        required: true,\n        statebind: \"ui.cursorMode\",\n        statebindfunc: this.setCursorMode.bind(this)\n      },\n      \"hundredpercent\": {\n        title: \"buttons/hundredpercent\",\n        icon: \"hundredPercent\",\n        func: this.toggleHundredPercent.bind(this),\n        required: true\n        // ,\n        // statebind: \"ui.chart.trails\",\n        // statebindfunc: this.setBubbleTrails.bind(this)\n      }\n    };\n\n    this.model_binds = {};\n\n    Object.keys(this._available_buttons).forEach(buttonId => {\n      const button = _this._available_buttons[buttonId];\n      if (button && button.statebind) {\n        _this.model_binds[\"change:\" + button.statebind] = function(evt) {\n          button.statebindfunc(buttonId, evt.source.value);\n        };\n      }\n    });\n\n    this._super(config, context);\n\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.element = d3.select(this.placeholder);\n    this.element.selectAll(\"div\").remove();\n\n    this._addButtons(Object.keys(this._available_buttons), []);\n    this.setCursorMode(\"arrow\");\n\n  },\n\n  /*\n   * adds buttons configuration to the components and template_data\n   * @param {Array} button_list list of buttons to be added\n   */\n  _addButtons(button_list, button_expand) {\n    const _this = this;\n    this._components_config = [];\n    const details_btns = [];\n    if (!button_list.length) return;\n    //add a component for each button\n    for (let i = 0; i < button_list.length; i++) {\n\n      const btn = button_list[i];\n      const btn_config = this._available_buttons[btn];\n\n      //add template data\n      const d = (btn_config) ? btn : \"_default\";\n      const details_btn = utils.clone(this._available_buttons[d]);\n\n      details_btn.id = btn;\n      details_btn.icon = iconset[details_btn.icon];\n      details_btns.push(details_btn);\n    }\n\n    const t = this.getTranslationFunction(true);\n\n    this.element.selectAll(\"button\").data(details_btns)\n      .enter().append(\"button\")\n      .attr(\"class\", d => {\n        let cls = \"vzb-buttonlist-btn\";\n        if (button_expand.length > 0) {\n          if (button_expand.indexOf(d.id) > -1) {\n            cls += \" vzb-dialog-side-btn\";\n          }\n        }\n\n        return cls;\n      })\n      .attr(\"data-btn\", d => d.id)\n      .html(btn => \"<span class='vzb-buttonlist-btn-icon fa'>\" +\n          btn.icon + \"</span><span class='vzb-buttonlist-btn-title'>\" +\n          t(btn.title) + \"</span>\");\n\n    const buttons = this.element.selectAll(\".vzb-buttonlist-btn\");\n\n    //clicking the button\n    buttons.on(\"click\", function() {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const id = d3.select(this).attr(\"data-btn\");\n      _this.proceedClick(id);\n    });\n\n  },\n\n  proceedClick(id) {\n    const _this = this;\n    const btn = _this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n    const classes = btn.attr(\"class\");\n    const btn_config = _this._available_buttons[id];\n\n    if (btn_config && btn_config.func) {\n      btn_config.func(id);\n    } else {\n      const btn_active = classes.indexOf(class_active) === -1;\n\n      btn.classed(class_active, btn_active);\n      const evt = {};\n      evt[\"id\"] = id;\n      evt[\"active\"] = btn_active;\n      _this.trigger(\"click\", evt);\n    }\n  },\n\n  setButtonActive(id, boolActive) {\n    const btn = this.element.selectAll(\".vzb-buttonlist-btn[data-btn='\" + id + \"']\");\n\n    btn.classed(class_active, boolActive);\n  },\n\n  toggleCursorMode(id) {\n    const value = id;\n    this.model.ui.set(\"cursorMode\", value, false, false);\n  },\n\n  setCursorMode(id) {\n    const value = this.model.ui.cursorMode ? this.model.ui.cursorMode : \"arrow\";\n    this.element.selectAll(\".vzb-buttonlist-btn\")\n      .classed(class_active, d => d.id == value);\n  },\n\n  toggleHundredPercent(id) {\n    this.root.trigger(\"resetZoom\");\n  }\n\n});\n\nexport default ZoomButtonList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/zoombuttonlist/zoombuttonlist.js","import \"babel-polyfill\";\nimport Vzb from \"vizabi\";\nimport \"assets/styles/vizabi.scss\";\n\nexport default Vzb;\nmodule.exports = Vzb;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vizabi-gapminder.js","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-polyfill/lib/index.js\n// module id = 175\n// module chunks = 0","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/shim.js\n// module id = 176\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.symbol.js\n// module id = 177\n// module chunks = 0","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_keyof.js\n// module id = 178\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_enum-keys.js\n// module id = 179\n// module chunks = 0","var $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.create.js\n// module id = 180\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.define-property.js\n// module id = 181\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperties: require('./_object-dps')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.define-properties.js\n// module id = 182\n// module chunks = 0","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js\n// module id = 183\n// module chunks = 0","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.get-prototype-of.js\n// module id = 184\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.keys.js\n// module id = 185\n// module chunks = 0","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function(){\n  return require('./_object-gopn-ext').f;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.get-own-property-names.js\n// module id = 186\n// module chunks = 0","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.freeze.js\n// module id = 187\n// module chunks = 0","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function($seal){\n  return function seal(it){\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.seal.js\n// module id = 188\n// module chunks = 0","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function($preventExtensions){\n  return function preventExtensions(it){\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.prevent-extensions.js\n// module id = 189\n// module chunks = 0","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function($isFrozen){\n  return function isFrozen(it){\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.is-frozen.js\n// module id = 190\n// module chunks = 0","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function($isSealed){\n  return function isSealed(it){\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.is-sealed.js\n// module id = 191\n// module chunks = 0","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function($isExtensible){\n  return function isExtensible(it){\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.is-extensible.js\n// module id = 192\n// module chunks = 0","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.assign.js\n// module id = 193\n// module chunks = 0","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', {is: require('./_same-value')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.is.js\n// module id = 194\n// module chunks = 0","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.set-prototype-of.js\n// module id = 195\n// module chunks = 0","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof')\n  , test    = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif(test + '' != '[object z]'){\n  require('./_redefine')(Object.prototype, 'toString', function toString(){\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.object.to-string.js\n// module id = 196\n// module chunks = 0","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', {bind: require('./_bind')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.function.bind.js\n// module id = 197\n// module chunks = 0","var dP         = require('./_object-dp').f\n  , createDesc = require('./_property-desc')\n  , has        = require('./_has')\n  , FProto     = Function.prototype\n  , nameRE     = /^\\s*function ([^ (]*)/\n  , NAME       = 'name';\n\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function(){\n    try {\n      var that = this\n        , name = ('' + that).match(nameRE)[1];\n      has(that, NAME) || !isExtensible(that) || dP(that, NAME, createDesc(5, name));\n      return name;\n    } catch(e){\n      return '';\n    }\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.function.name.js\n// module id = 198\n// module chunks = 0","'use strict';\nvar isObject       = require('./_is-object')\n  , getPrototypeOf = require('./_object-gpo')\n  , HAS_INSTANCE   = require('./_wks')('hasInstance')\n  , FunctionProto  = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif(!(HAS_INSTANCE in FunctionProto))require('./_object-dp').f(FunctionProto, HAS_INSTANCE, {value: function(O){\n  if(typeof this != 'function' || !isObject(O))return false;\n  if(!isObject(this.prototype))return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while(O = getPrototypeOf(O))if(this.prototype === O)return true;\n  return false;\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.function.has-instance.js\n// module id = 199\n// module chunks = 0","var $export   = require('./_export')\n  , $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), {parseInt: $parseInt});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.parse-int.js\n// module id = 200\n// module chunks = 0","var $export     = require('./_export')\n  , $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), {parseFloat: $parseFloat});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.parse-float.js\n// module id = 201\n// module chunks = 0","'use strict';\nvar global            = require('./_global')\n  , has               = require('./_has')\n  , cof               = require('./_cof')\n  , inheritIfRequired = require('./_inherit-if-required')\n  , toPrimitive       = require('./_to-primitive')\n  , fails             = require('./_fails')\n  , gOPN              = require('./_object-gopn').f\n  , gOPD              = require('./_object-gopd').f\n  , dP                = require('./_object-dp').f\n  , $trim             = require('./_string-trim').trim\n  , NUMBER            = 'Number'\n  , $Number           = global[NUMBER]\n  , Base              = $Number\n  , proto             = $Number.prototype\n  // Opera ~12 has broken Object#toString\n  , BROKEN_COF        = cof(require('./_object-create')(proto)) == NUMBER\n  , TRIM              = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function(argument){\n  var it = toPrimitive(argument, false);\n  if(typeof it == 'string' && it.length > 2){\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0)\n      , third, radix, maxCode;\n    if(first === 43 || first === 45){\n      third = it.charCodeAt(2);\n      if(third === 88 || third === 120)return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if(first === 48){\n      switch(it.charCodeAt(1)){\n        case 66 : case 98  : radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79 : case 111 : radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default : return +it;\n      }\n      for(var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++){\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if(code < 48 || code > maxCode)return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif(!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')){\n  $Number = function Number(value){\n    var it = arguments.length < 1 ? 0 : value\n      , that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function(){ proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for(var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++){\n    if(has(Base, key = keys[j]) && !has($Number, key)){\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.constructor.js\n// module id = 202\n// module chunks = 0","'use strict';\nvar $export      = require('./_export')\n  , toInteger    = require('./_to-integer')\n  , aNumberValue = require('./_a-number-value')\n  , repeat       = require('./_string-repeat')\n  , $toFixed     = 1..toFixed\n  , floor        = Math.floor\n  , data         = [0, 0, 0, 0, 0, 0]\n  , ERROR        = 'Number.toFixed: incorrect invocation!'\n  , ZERO         = '0';\n\nvar multiply = function(n, c){\n  var i  = -1\n    , c2 = c;\n  while(++i < 6){\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function(n){\n  var i = 6\n    , c = 0;\n  while(--i >= 0){\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function(){\n  var i = 6\n    , s = '';\n  while(--i >= 0){\n    if(s !== '' || i === 0 || data[i] !== 0){\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function(x, n, acc){\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function(x){\n  var n  = 0\n    , x2 = x;\n  while(x2 >= 4096){\n    n += 12;\n    x2 /= 4096;\n  }\n  while(x2 >= 2){\n    n  += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128..toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function(){\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits){\n    var x = aNumberValue(this, ERROR)\n      , f = toInteger(fractionDigits)\n      , s = ''\n      , m = ZERO\n      , e, z, j, k;\n    if(f < 0 || f > 20)throw RangeError(ERROR);\n    if(x != x)return 'NaN';\n    if(x <= -1e21 || x >= 1e21)return String(x);\n    if(x < 0){\n      s = '-';\n      x = -x;\n    }\n    if(x > 1e-21){\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if(e > 0){\n        multiply(0, z);\n        j = f;\n        while(j >= 7){\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while(j >= 23){\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if(f > 0){\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.to-fixed.js\n// module id = 203\n// module chunks = 0","'use strict';\nvar $export      = require('./_export')\n  , $fails       = require('./_fails')\n  , aNumberValue = require('./_a-number-value')\n  , $toPrecision = 1..toPrecision;\n\n$export($export.P + $export.F * ($fails(function(){\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function(){\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision){\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision); \n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.to-precision.js\n// module id = 204\n// module chunks = 0","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.epsilon.js\n// module id = 205\n// module chunks = 0","// 20.1.2.2 Number.isFinite(number)\nvar $export   = require('./_export')\n  , _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it){\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.is-finite.js\n// module id = 206\n// module chunks = 0","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {isInteger: require('./_is-integer')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.is-integer.js\n// module id = 207\n// module chunks = 0","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number){\n    return number != number;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.is-nan.js\n// module id = 208\n// module chunks = 0","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export   = require('./_export')\n  , isInteger = require('./_is-integer')\n  , abs       = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number){\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.is-safe-integer.js\n// module id = 209\n// module chunks = 0","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.max-safe-integer.js\n// module id = 210\n// module chunks = 0","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.min-safe-integer.js\n// module id = 211\n// module chunks = 0","var $export     = require('./_export')\n  , $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', {parseFloat: $parseFloat});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.parse-float.js\n// module id = 212\n// module chunks = 0","var $export   = require('./_export')\n  , $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', {parseInt: $parseInt});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.number.parse-int.js\n// module id = 213\n// module chunks = 0","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export')\n  , log1p   = require('./_math-log1p')\n  , sqrt    = Math.sqrt\n  , $acosh  = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN \n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x){\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.acosh.js\n// module id = 214\n// module chunks = 0","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export')\n  , $asinh  = Math.asinh;\n\nfunction asinh(x){\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0 \n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', {asinh: asinh});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.asinh.js\n// module id = 215\n// module chunks = 0","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export')\n  , $atanh  = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0 \n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x){\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.atanh.js\n// module id = 216\n// module chunks = 0","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export')\n  , sign    = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x){\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.cbrt.js\n// module id = 217\n// module chunks = 0","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x){\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.clz32.js\n// module id = 218\n// module chunks = 0","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x){\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.cosh.js\n// module id = 219\n// module chunks = 0","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export')\n  , $expm1  = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', {expm1: $expm1});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.expm1.js\n// module id = 220\n// module chunks = 0","// 20.2.2.16 Math.fround(x)\nvar $export   = require('./_export')\n  , sign      = require('./_math-sign')\n  , pow       = Math.pow\n  , EPSILON   = pow(2, -52)\n  , EPSILON32 = pow(2, -23)\n  , MAX32     = pow(2, 127) * (2 - EPSILON32)\n  , MIN32     = pow(2, -126);\n\nvar roundTiesToEven = function(n){\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n\n$export($export.S, 'Math', {\n  fround: function fround(x){\n    var $abs  = Math.abs(x)\n      , $sign = sign(x)\n      , a, result;\n    if($abs < MIN32)return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n    a = (1 + EPSILON32 / EPSILON) * $abs;\n    result = a - (a - $abs);\n    if(result > MAX32 || result != result)return $sign * Infinity;\n    return $sign * result;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.fround.js\n// module id = 221\n// module chunks = 0","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export')\n  , abs     = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2){ // eslint-disable-line no-unused-vars\n    var sum  = 0\n      , i    = 0\n      , aLen = arguments.length\n      , larg = 0\n      , arg, div;\n    while(i < aLen){\n      arg = abs(arguments[i++]);\n      if(larg < arg){\n        div  = larg / arg;\n        sum  = sum * div * div + 1;\n        larg = arg;\n      } else if(arg > 0){\n        div  = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.hypot.js\n// module id = 222\n// module chunks = 0","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export')\n  , $imul   = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function(){\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y){\n    var UINT16 = 0xffff\n      , xn = +x\n      , yn = +y\n      , xl = UINT16 & xn\n      , yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.imul.js\n// module id = 223\n// module chunks = 0","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x){\n    return Math.log(x) / Math.LN10;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.log10.js\n// module id = 224\n// module chunks = 0","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {log1p: require('./_math-log1p')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.log1p.js\n// module id = 225\n// module chunks = 0","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x){\n    return Math.log(x) / Math.LN2;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.log2.js\n// module id = 226\n// module chunks = 0","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {sign: require('./_math-sign')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.sign.js\n// module id = 227\n// module chunks = 0","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export')\n  , expm1   = require('./_math-expm1')\n  , exp     = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function(){\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x){\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.sinh.js\n// module id = 228\n// module chunks = 0","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export')\n  , expm1   = require('./_math-expm1')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x){\n    var a = expm1(x = +x)\n      , b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.tanh.js\n// module id = 229\n// module chunks = 0","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it){\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.math.trunc.js\n// module id = 230\n// module chunks = 0","var $export        = require('./_export')\n  , toIndex        = require('./_to-index')\n  , fromCharCode   = String.fromCharCode\n  , $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars\n    var res  = []\n      , aLen = arguments.length\n      , i    = 0\n      , code;\n    while(aLen > i){\n      code = +arguments[i++];\n      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.from-code-point.js\n// module id = 231\n// module chunks = 0","var $export   = require('./_export')\n  , toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite){\n    var tpl  = toIObject(callSite.raw)\n      , len  = toLength(tpl.length)\n      , aLen = arguments.length\n      , res  = []\n      , i    = 0;\n    while(len > i){\n      res.push(String(tpl[i++]));\n      if(i < aLen)res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.raw.js\n// module id = 232\n// module chunks = 0","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function($trim){\n  return function trim(){\n    return $trim(this, 3);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.trim.js\n// module id = 233\n// module chunks = 0","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.iterator.js\n// module id = 234\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $at     = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos){\n    return $at(this, pos);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.code-point-at.js\n// module id = 235\n// module chunks = 0","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export   = require('./_export')\n  , toLength  = require('./_to-length')\n  , context   = require('./_string-context')\n  , ENDS_WITH = 'endsWith'\n  , $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /*, endPosition = @length */){\n    var that = context(this, searchString, ENDS_WITH)\n      , endPosition = arguments.length > 1 ? arguments[1] : undefined\n      , len    = toLength(that.length)\n      , end    = endPosition === undefined ? len : Math.min(toLength(endPosition), len)\n      , search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.ends-with.js\n// module id = 236\n// module chunks = 0","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export  = require('./_export')\n  , context  = require('./_string-context')\n  , INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /*, position = 0 */){\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.includes.js\n// module id = 237\n// module chunks = 0","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.repeat.js\n// module id = 238\n// module chunks = 0","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export     = require('./_export')\n  , toLength    = require('./_to-length')\n  , context     = require('./_string-context')\n  , STARTS_WITH = 'startsWith'\n  , $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /*, position = 0 */){\n    var that   = context(this, searchString, STARTS_WITH)\n      , index  = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length))\n      , search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.starts-with.js\n// module id = 239\n// module chunks = 0","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function(createHTML){\n  return function anchor(name){\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.anchor.js\n// module id = 240\n// module chunks = 0","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function(createHTML){\n  return function big(){\n    return createHTML(this, 'big', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.big.js\n// module id = 241\n// module chunks = 0","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function(createHTML){\n  return function blink(){\n    return createHTML(this, 'blink', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.blink.js\n// module id = 242\n// module chunks = 0","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function(createHTML){\n  return function bold(){\n    return createHTML(this, 'b', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.bold.js\n// module id = 243\n// module chunks = 0","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function(createHTML){\n  return function fixed(){\n    return createHTML(this, 'tt', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.fixed.js\n// module id = 244\n// module chunks = 0","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function(createHTML){\n  return function fontcolor(color){\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.fontcolor.js\n// module id = 245\n// module chunks = 0","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function(createHTML){\n  return function fontsize(size){\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.fontsize.js\n// module id = 246\n// module chunks = 0","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function(createHTML){\n  return function italics(){\n    return createHTML(this, 'i', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.italics.js\n// module id = 247\n// module chunks = 0","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function(createHTML){\n  return function link(url){\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.link.js\n// module id = 248\n// module chunks = 0","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function(createHTML){\n  return function small(){\n    return createHTML(this, 'small', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.small.js\n// module id = 249\n// module chunks = 0","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function(createHTML){\n  return function strike(){\n    return createHTML(this, 'strike', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.strike.js\n// module id = 250\n// module chunks = 0","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function(createHTML){\n  return function sub(){\n    return createHTML(this, 'sub', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.sub.js\n// module id = 251\n// module chunks = 0","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function(createHTML){\n  return function sup(){\n    return createHTML(this, 'sup', '', '');\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.string.sup.js\n// module id = 252\n// module chunks = 0","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', {now: function(){ return new Date().getTime(); }});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.date.now.js\n// module id = 253\n// module chunks = 0","'use strict';\nvar $export     = require('./_export')\n  , toObject    = require('./_to-object')\n  , toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function(){\n  return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({toISOString: function(){ return 1; }}) !== 1;\n}), 'Date', {\n  toJSON: function toJSON(key){\n    var O  = toObject(this)\n      , pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.date.to-json.js\n// module id = 254\n// module chunks = 0","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export')\n  , fails   = require('./_fails')\n  , getTime = Date.prototype.getTime;\n\nvar lz = function(num){\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (fails(function(){\n  return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';\n}) || !fails(function(){\n  new Date(NaN).toISOString();\n})), 'Date', {\n  toISOString: function toISOString(){\n    if(!isFinite(getTime.call(this)))throw RangeError('Invalid time value');\n    var d = this\n      , y = d.getUTCFullYear()\n      , m = d.getUTCMilliseconds()\n      , s = y < 0 ? '-' : y > 9999 ? '+' : '';\n    return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n      '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n      'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n      ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.date.to-iso-string.js\n// module id = 255\n// module chunks = 0","var DateProto    = Date.prototype\n  , INVALID_DATE = 'Invalid Date'\n  , TO_STRING    = 'toString'\n  , $toString    = DateProto[TO_STRING]\n  , getTime      = DateProto.getTime;\nif(new Date(NaN) + '' != INVALID_DATE){\n  require('./_redefine')(DateProto, TO_STRING, function toString(){\n    var value = getTime.call(this);\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.date.to-string.js\n// module id = 256\n// module chunks = 0","var TO_PRIMITIVE = require('./_wks')('toPrimitive')\n  , proto        = Date.prototype;\n\nif(!(TO_PRIMITIVE in proto))require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.date.to-primitive.js\n// module id = 257\n// module chunks = 0","'use strict';\nvar anObject    = require('./_an-object')\n  , toPrimitive = require('./_to-primitive')\n  , NUMBER      = 'number';\n\nmodule.exports = function(hint){\n  if(hint !== 'string' && hint !== NUMBER && hint !== 'default')throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_date-to-primitive.js\n// module id = 258\n// module chunks = 0","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', {isArray: require('./_is-array')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.is-array.js\n// module id = 259\n// module chunks = 0","'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.from.js\n// module id = 260\n// module chunks = 0","'use strict';\nvar $export        = require('./_export')\n  , createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function(){\n  function F(){}\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */){\n    var index  = 0\n      , aLen   = arguments.length\n      , result = new (typeof this == 'function' ? this : Array)(aLen);\n    while(aLen > index)createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.of.js\n// module id = 261\n// module chunks = 0","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export   = require('./_export')\n  , toIObject = require('./_to-iobject')\n  , arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator){\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.join.js\n// module id = 262\n// module chunks = 0","'use strict';\nvar $export    = require('./_export')\n  , html       = require('./_html')\n  , cof        = require('./_cof')\n  , toIndex    = require('./_to-index')\n  , toLength   = require('./_to-length')\n  , arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function(){\n  if(html)arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end){\n    var len   = toLength(this.length)\n      , klass = cof(this);\n    end = end === undefined ? len : end;\n    if(klass == 'Array')return arraySlice.call(this, begin, end);\n    var start  = toIndex(begin, len)\n      , upTo   = toIndex(end, len)\n      , size   = toLength(upTo - start)\n      , cloned = Array(size)\n      , i      = 0;\n    for(; i < size; i++)cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.slice.js\n// module id = 263\n// module chunks = 0","'use strict';\nvar $export   = require('./_export')\n  , aFunction = require('./_a-function')\n  , toObject  = require('./_to-object')\n  , fails     = require('./_fails')\n  , $sort     = [].sort\n  , test      = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function(){\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function(){\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn){\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.sort.js\n// module id = 264\n// module chunks = 0","'use strict';\nvar $export  = require('./_export')\n  , $forEach = require('./_array-methods')(0)\n  , STRICT   = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */){\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.for-each.js\n// module id = 265\n// module chunks = 0","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-species-create.js\n// module id = 266\n// module chunks = 0","var isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_array-species-constructor.js\n// module id = 267\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $map    = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */){\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.map.js\n// module id = 268\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */){\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.filter.js\n// module id = 269\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $some   = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */){\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.some.js\n// module id = 270\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $every  = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */){\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.every.js\n// module id = 271\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.reduce.js\n// module id = 272\n// module chunks = 0","'use strict';\nvar $export = require('./_export')\n  , $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.reduce-right.js\n// module id = 273\n// module chunks = 0","'use strict';\nvar $export       = require('./_export')\n  , $indexOf      = require('./_array-includes')(false)\n  , $native       = [].indexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /*, fromIndex = 0 */){\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.index-of.js\n// module id = 274\n// module chunks = 0","'use strict';\nvar $export       = require('./_export')\n  , toIObject     = require('./_to-iobject')\n  , toInteger     = require('./_to-integer')\n  , toLength      = require('./_to-length')\n  , $native       = [].lastIndexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /*, fromIndex = @[*-1] */){\n    // convert -0 to +0\n    if(NEGATIVE_ZERO)return $native.apply(this, arguments) || 0;\n    var O      = toIObject(this)\n      , length = toLength(O.length)\n      , index  = length - 1;\n    if(arguments.length > 1)index = Math.min(index, toInteger(arguments[1]));\n    if(index < 0)index = length + index;\n    for(;index >= 0; index--)if(index in O)if(O[index] === searchElement)return index || 0;\n    return -1;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.last-index-of.js\n// module id = 275\n// module chunks = 0","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', {copyWithin: require('./_array-copy-within')});\n\nrequire('./_add-to-unscopables')('copyWithin');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.copy-within.js\n// module id = 276\n// module chunks = 0","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', {fill: require('./_array-fill')});\n\nrequire('./_add-to-unscopables')('fill');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.fill.js\n// module id = 277\n// module chunks = 0","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export')\n  , $find   = require('./_array-methods')(5)\n  , KEY     = 'find'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.find.js\n// module id = 278\n// module chunks = 0","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export')\n  , $find   = require('./_array-methods')(6)\n  , KEY     = 'findIndex'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.find-index.js\n// module id = 279\n// module chunks = 0","require('./_set-species')('Array');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.array.species.js\n// module id = 280\n// module chunks = 0","var global            = require('./_global')\n  , inheritIfRequired = require('./_inherit-if-required')\n  , dP                = require('./_object-dp').f\n  , gOPN              = require('./_object-gopn').f\n  , isRegExp          = require('./_is-regexp')\n  , $flags            = require('./_flags')\n  , $RegExp           = global.RegExp\n  , Base              = $RegExp\n  , proto             = $RegExp.prototype\n  , re1               = /a/g\n  , re2               = /a/g\n  // \"new\" creates a new object, old webkit buggy here\n  , CORRECT_NEW       = new $RegExp(re1) !== re1;\n\nif(require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function(){\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))){\n  $RegExp = function RegExp(p, f){\n    var tiRE = this instanceof $RegExp\n      , piRE = isRegExp(p)\n      , fiU  = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function(key){\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function(){ return Base[key]; },\n      set: function(it){ Base[key] = it; }\n    });\n  };\n  for(var keys = gOPN(Base), i = 0; keys.length > i; )proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.constructor.js\n// module id = 281\n// module chunks = 0","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject    = require('./_an-object')\n  , $flags      = require('./_flags')\n  , DESCRIPTORS = require('./_descriptors')\n  , TO_STRING   = 'toString'\n  , $toString   = /./[TO_STRING];\n\nvar define = function(fn){\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif(require('./_fails')(function(){ return $toString.call({source: 'a', flags: 'b'}) != '/a/b'; })){\n  define(function toString(){\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if($toString.name != TO_STRING){\n  define(function toString(){\n    return $toString.call(this);\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.to-string.js\n// module id = 282\n// module chunks = 0","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function(defined, MATCH, $match){\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.match.js\n// module id = 283\n// module chunks = 0","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function(defined, REPLACE, $replace){\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue){\n    'use strict';\n    var O  = defined(this)\n      , fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.replace.js\n// module id = 284\n// module chunks = 0","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function(defined, SEARCH, $search){\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.search.js\n// module id = 285\n// module chunks = 0","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function(defined, SPLIT, $split){\n  'use strict';\n  var isRegExp   = require('./_is-regexp')\n    , _split     = $split\n    , $push      = [].push\n    , $SPLIT     = 'split'\n    , LENGTH     = 'length'\n    , LAST_INDEX = 'lastIndex';\n  if(\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ){\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function(separator, limit){\n      var string = String(this);\n      if(separator === undefined && limit === 0)return [];\n      // If `separator` is not a regex, use native split\n      if(!isRegExp(separator))return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if(!NPCG)separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while(match = separatorCopy.exec(string)){\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if(lastIndex > lastLastIndex){\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          if(!NPCG && match[LENGTH] > 1)match[0].replace(separator2, function(){\n            for(i = 1; i < arguments[LENGTH] - 2; i++)if(arguments[i] === undefined)match[i] = undefined;\n          });\n          if(match[LENGTH] > 1 && match.index < string[LENGTH])$push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if(output[LENGTH] >= splitLimit)break;\n        }\n        if(separatorCopy[LAST_INDEX] === match.index)separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if(lastLastIndex === string[LENGTH]){\n        if(lastLength || !separatorCopy.test(''))output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if('0'[$SPLIT](undefined, 0)[LENGTH]){\n    $split = function(separator, limit){\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit){\n    var O  = defined(this)\n      , fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.regexp.split.js\n// module id = 286\n// module chunks = 0","'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.promise.js\n// module id = 287\n// module chunks = 0","'use strict';\nvar weak = require('./_collection-weak');\n\n// 23.4 WeakSet Objects\nrequire('./_collection')('WeakSet', function(get){\n  return function WeakSet(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value){\n    return weak.def(this, value, true);\n  }\n}, weak, false, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.weak-set.js\n// module id = 288\n// module chunks = 0","'use strict';\nvar $export      = require('./_export')\n  , $typed       = require('./_typed')\n  , buffer       = require('./_typed-buffer')\n  , anObject     = require('./_an-object')\n  , toIndex      = require('./_to-index')\n  , toLength     = require('./_to-length')\n  , isObject     = require('./_is-object')\n  , ArrayBuffer  = require('./_global').ArrayBuffer\n  , speciesConstructor = require('./_species-constructor')\n  , $ArrayBuffer = buffer.ArrayBuffer\n  , $DataView    = buffer.DataView\n  , $isView      = $typed.ABV && ArrayBuffer.isView\n  , $slice       = $ArrayBuffer.prototype.slice\n  , VIEW         = $typed.VIEW\n  , ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), {ArrayBuffer: $ArrayBuffer});\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it){\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function(){\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end){\n    if($slice !== undefined && end === undefined)return $slice.call(anObject(this), start); // FF fix\n    var len    = anObject(this).byteLength\n      , first  = toIndex(start, len)\n      , final  = toIndex(end === undefined ? len : end, len)\n      , result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first))\n      , viewS  = new $DataView(this)\n      , viewT  = new $DataView(result)\n      , index  = 0;\n    while(first < final){\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.array-buffer.js\n// module id = 289\n// module chunks = 0","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.data-view.js\n// module id = 290\n// module chunks = 0","require('./_typed-array')('Int8', 1, function(init){\n  return function Int8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.int8-array.js\n// module id = 291\n// module chunks = 0","require('./_typed-array')('Uint8', 1, function(init){\n  return function Uint8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.uint8-array.js\n// module id = 292\n// module chunks = 0","require('./_typed-array')('Uint8', 1, function(init){\n  return function Uint8ClampedArray(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js\n// module id = 293\n// module chunks = 0","require('./_typed-array')('Int16', 2, function(init){\n  return function Int16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.int16-array.js\n// module id = 294\n// module chunks = 0","require('./_typed-array')('Uint16', 2, function(init){\n  return function Uint16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.uint16-array.js\n// module id = 295\n// module chunks = 0","require('./_typed-array')('Int32', 4, function(init){\n  return function Int32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.int32-array.js\n// module id = 296\n// module chunks = 0","require('./_typed-array')('Uint32', 4, function(init){\n  return function Uint32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.uint32-array.js\n// module id = 297\n// module chunks = 0","require('./_typed-array')('Float32', 4, function(init){\n  return function Float32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.float32-array.js\n// module id = 298\n// module chunks = 0","require('./_typed-array')('Float64', 8, function(init){\n  return function Float64Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.typed.float64-array.js\n// module id = 299\n// module chunks = 0","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export   = require('./_export')\n  , aFunction = require('./_a-function')\n  , anObject  = require('./_an-object')\n  , rApply    = (require('./_global').Reflect || {}).apply\n  , fApply    = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function(){\n  rApply(function(){});\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList){\n    var T = aFunction(target)\n      , L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.apply.js\n// module id = 300\n// module chunks = 0","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export    = require('./_export')\n  , create     = require('./_object-create')\n  , aFunction  = require('./_a-function')\n  , anObject   = require('./_an-object')\n  , isObject   = require('./_is-object')\n  , fails      = require('./_fails')\n  , bind       = require('./_bind')\n  , rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function(){\n  function F(){}\n  return !(rConstruct(function(){}, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function(){\n  rConstruct(function(){});\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /*, newTarget*/){\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if(ARGS_BUG && !NEW_TARGET_BUG)return rConstruct(Target, args, newTarget);\n    if(Target == newTarget){\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch(args.length){\n        case 0: return new Target;\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args));\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto    = newTarget.prototype\n      , instance = create(isObject(proto) ? proto : Object.prototype)\n      , result   = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.construct.js\n// module id = 301\n// module chunks = 0","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP          = require('./_object-dp')\n  , $export     = require('./_export')\n  , anObject    = require('./_an-object')\n  , toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function(){\n  Reflect.defineProperty(dP.f({}, 1, {value: 1}), 1, {value: 2});\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes){\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.define-property.js\n// module id = 302\n// module chunks = 0","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export  = require('./_export')\n  , gOPD     = require('./_object-gopd').f\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey){\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.delete-property.js\n// module id = 303\n// module chunks = 0","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export  = require('./_export')\n  , anObject = require('./_an-object');\nvar Enumerate = function(iterated){\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = []       // keys\n    , key;\n  for(key in iterated)keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function(){\n  var that = this\n    , keys = that._k\n    , key;\n  do {\n    if(that._i >= keys.length)return {value: undefined, done: true};\n  } while(!((key = keys[that._i++]) in that._t));\n  return {value: key, done: false};\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target){\n    return new Enumerate(target);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.enumerate.js\n// module id = 304\n// module chunks = 0","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD           = require('./_object-gopd')\n  , getPrototypeOf = require('./_object-gpo')\n  , has            = require('./_has')\n  , $export        = require('./_export')\n  , isObject       = require('./_is-object')\n  , anObject       = require('./_an-object');\n\nfunction get(target, propertyKey/*, receiver*/){\n  var receiver = arguments.length < 3 ? target : arguments[2]\n    , desc, proto;\n  if(anObject(target) === receiver)return target[propertyKey];\n  if(desc = gOPD.f(target, propertyKey))return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if(isObject(proto = getPrototypeOf(target)))return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', {get: get});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.get.js\n// module id = 305\n// module chunks = 0","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD     = require('./_object-gopd')\n  , $export  = require('./_export')\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey){\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js\n// module id = 306\n// module chunks = 0","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export  = require('./_export')\n  , getProto = require('./_object-gpo')\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target){\n    return getProto(anObject(target));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.get-prototype-of.js\n// module id = 307\n// module chunks = 0","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey){\n    return propertyKey in target;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.has.js\n// module id = 308\n// module chunks = 0","// 26.1.10 Reflect.isExtensible(target)\nvar $export       = require('./_export')\n  , anObject      = require('./_an-object')\n  , $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target){\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.is-extensible.js\n// module id = 309\n// module chunks = 0","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {ownKeys: require('./_own-keys')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.own-keys.js\n// module id = 310\n// module chunks = 0","// 26.1.12 Reflect.preventExtensions(target)\nvar $export            = require('./_export')\n  , anObject           = require('./_an-object')\n  , $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target){\n    anObject(target);\n    try {\n      if($preventExtensions)$preventExtensions(target);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.prevent-extensions.js\n// module id = 311\n// module chunks = 0","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP             = require('./_object-dp')\n  , gOPD           = require('./_object-gopd')\n  , getPrototypeOf = require('./_object-gpo')\n  , has            = require('./_has')\n  , $export        = require('./_export')\n  , createDesc     = require('./_property-desc')\n  , anObject       = require('./_an-object')\n  , isObject       = require('./_is-object');\n\nfunction set(target, propertyKey, V/*, receiver*/){\n  var receiver = arguments.length < 4 ? target : arguments[3]\n    , ownDesc  = gOPD.f(anObject(target), propertyKey)\n    , existingDescriptor, proto;\n  if(!ownDesc){\n    if(isObject(proto = getPrototypeOf(target))){\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if(has(ownDesc, 'value')){\n    if(ownDesc.writable === false || !isObject(receiver))return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', {set: set});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.set.js\n// module id = 312\n// module chunks = 0","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export  = require('./_export')\n  , setProto = require('./_set-proto');\n\nif(setProto)$export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto){\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es6.reflect.set-prototype-of.js\n// module id = 313\n// module chunks = 0","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export   = require('./_export')\n  , $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /*, fromIndex = 0 */){\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.array.includes.js\n// module id = 314\n// module chunks = 0","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export')\n  , $at     = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos){\n    return $at(this, pos);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.at.js\n// module id = 315\n// module chunks = 0","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export')\n  , $pad    = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padStart: function padStart(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.pad-start.js\n// module id = 316\n// module chunks = 0","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export')\n  , $pad    = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padEnd: function padEnd(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.pad-end.js\n// module id = 317\n// module chunks = 0","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function($trim){\n  return function trimLeft(){\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.trim-left.js\n// module id = 318\n// module chunks = 0","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function($trim){\n  return function trimRight(){\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.trim-right.js\n// module id = 319\n// module chunks = 0","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export     = require('./_export')\n  , defined     = require('./_defined')\n  , toLength    = require('./_to-length')\n  , isRegExp    = require('./_is-regexp')\n  , getFlags    = require('./_flags')\n  , RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function(regexp, string){\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next(){\n  var match = this._r.exec(this._s);\n  return {value: match, done: match === null};\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp){\n    defined(this);\n    if(!isRegExp(regexp))throw TypeError(regexp + ' is not a regexp!');\n    var S     = String(this)\n      , flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp)\n      , rx    = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.string.match-all.js\n// module id = 320\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.symbol.async-iterator.js\n// module id = 321\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.symbol.observable.js\n// module id = 322\n// module chunks = 0","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export        = require('./_export')\n  , ownKeys        = require('./_own-keys')\n  , toIObject      = require('./_to-iobject')\n  , gOPD           = require('./_object-gopd')\n  , createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object){\n    var O       = toIObject(object)\n      , getDesc = gOPD.f\n      , keys    = ownKeys(O)\n      , result  = {}\n      , i       = 0\n      , key;\n    while(keys.length > i)createProperty(result, key = keys[i++], getDesc(O, key));\n    return result;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js\n// module id = 323\n// module chunks = 0","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export')\n  , $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.values.js\n// module id = 324\n// module chunks = 0","// https://github.com/tc39/proposal-object-values-entries\nvar $export  = require('./_export')\n  , $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it){\n    return $entries(it);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.entries.js\n// module id = 325\n// module chunks = 0","'use strict';\nvar $export         = require('./_export')\n  , toObject        = require('./_to-object')\n  , aFunction       = require('./_a-function')\n  , $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter){\n    $defineProperty.f(toObject(this), P, {get: aFunction(getter), enumerable: true, configurable: true});\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.define-getter.js\n// module id = 326\n// module chunks = 0","'use strict';\nvar $export         = require('./_export')\n  , toObject        = require('./_to-object')\n  , aFunction       = require('./_a-function')\n  , $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter){\n    $defineProperty.f(toObject(this), P, {set: aFunction(setter), enumerable: true, configurable: true});\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.define-setter.js\n// module id = 327\n// module chunks = 0","'use strict';\nvar $export                  = require('./_export')\n  , toObject                 = require('./_to-object')\n  , toPrimitive              = require('./_to-primitive')\n  , getPrototypeOf           = require('./_object-gpo')\n  , getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.get;\n    } while(O = getPrototypeOf(O));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.lookup-getter.js\n// module id = 328\n// module chunks = 0","'use strict';\nvar $export                  = require('./_export')\n  , toObject                 = require('./_to-object')\n  , toPrimitive              = require('./_to-primitive')\n  , getPrototypeOf           = require('./_object-gpo')\n  , getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.set;\n    } while(O = getPrototypeOf(O));\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.object.lookup-setter.js\n// module id = 329\n// module chunks = 0","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Map', {toJSON: require('./_collection-to-json')('Map')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.map.to-json.js\n// module id = 330\n// module chunks = 0","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.set.to-json.js\n// module id = 331\n// module chunks = 0","// https://github.com/ljharb/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', {global: require('./_global')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.system.global.js\n// module id = 332\n// module chunks = 0","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export')\n  , cof     = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it){\n    return cof(it) === 'Error';\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.error.is-error.js\n// module id = 333\n// module chunks = 0","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.math.iaddh.js\n// module id = 334\n// module chunks = 0","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.math.isubh.js\n// module id = 335\n// module chunks = 0","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >> 16\n      , v1 = $v >> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.math.imulh.js\n// module id = 336\n// module chunks = 0","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >>> 16\n      , v1 = $v >>> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.math.umulh.js\n// module id = 337\n// module chunks = 0","var metadata                  = require('./_metadata')\n  , anObject                  = require('./_an-object')\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey){\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.define-metadata.js\n// module id = 338\n// module chunks = 0","var metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , toMetaKey              = metadata.key\n  , getOrCreateMetadataMap = metadata.map\n  , store                  = metadata.store;\n\nmetadata.exp({deleteMetadata: function deleteMetadata(metadataKey, target /*, targetKey */){\n  var targetKey   = arguments.length < 3 ? undefined : toMetaKey(arguments[2])\n    , metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if(metadataMap === undefined || !metadataMap['delete'](metadataKey))return false;\n  if(metadataMap.size)return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.delete-metadata.js\n// module id = 339\n// module chunks = 0","var metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , getPrototypeOf         = require('./_object-gpo')\n  , ordinaryHasOwnMetadata = metadata.has\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nvar ordinaryGetMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({getMetadata: function getMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.get-metadata.js\n// module id = 340\n// module chunks = 0","var Set                     = require('./es6.set')\n  , from                    = require('./_array-from-iterable')\n  , metadata                = require('./_metadata')\n  , anObject                = require('./_an-object')\n  , getPrototypeOf          = require('./_object-gpo')\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nvar ordinaryMetadataKeys = function(O, P){\n  var oKeys  = ordinaryOwnMetadataKeys(O, P)\n    , parent = getPrototypeOf(O);\n  if(parent === null)return oKeys;\n  var pKeys  = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({getMetadataKeys: function getMetadataKeys(target /*, targetKey */){\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js\n// module id = 341\n// module chunks = 0","var metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({getOwnMetadata: function getOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.get-own-metadata.js\n// module id = 342\n// module chunks = 0","var metadata                = require('./_metadata')\n  , anObject                = require('./_an-object')\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nmetadata.exp({getOwnMetadataKeys: function getOwnMetadataKeys(target /*, targetKey */){\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js\n// module id = 343\n// module chunks = 0","var metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , getPrototypeOf         = require('./_object-gpo')\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nvar ordinaryHasMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({hasMetadata: function hasMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.has-metadata.js\n// module id = 344\n// module chunks = 0","var metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({hasOwnMetadata: function hasOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.has-own-metadata.js\n// module id = 345\n// module chunks = 0","var metadata                  = require('./_metadata')\n  , anObject                  = require('./_an-object')\n  , aFunction                 = require('./_a-function')\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({metadata: function metadata(metadataKey, metadataValue){\n  return function decorator(target, targetKey){\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n}});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.reflect.metadata.js\n// module id = 346\n// module chunks = 0","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export   = require('./_export')\n  , microtask = require('./_microtask')()\n  , process   = require('./_global').process\n  , isNode    = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn){\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.asap.js\n// module id = 347\n// module chunks = 0","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export     = require('./_export')\n  , global      = require('./_global')\n  , core        = require('./_core')\n  , microtask   = require('./_microtask')()\n  , OBSERVABLE  = require('./_wks')('observable')\n  , aFunction   = require('./_a-function')\n  , anObject    = require('./_an-object')\n  , anInstance  = require('./_an-instance')\n  , redefineAll = require('./_redefine-all')\n  , hide        = require('./_hide')\n  , forOf       = require('./_for-of')\n  , RETURN      = forOf.RETURN;\n\nvar getMethod = function(fn){\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function(subscription){\n  var cleanup = subscription._c;\n  if(cleanup){\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function(subscription){\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function(subscription){\n  if(!subscriptionClosed(subscription)){\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function(observer, subscriber){\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup      = subscriber(observer)\n      , subscription = cleanup;\n    if(cleanup != null){\n      if(typeof cleanup.unsubscribe === 'function')cleanup = function(){ subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch(e){\n    observer.error(e);\n    return;\n  } if(subscriptionClosed(this))cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe(){ closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function(subscription){\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if(m)return m.call(observer, value);\n      } catch(e){\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value){\n    var subscription = this._s;\n    if(subscriptionClosed(subscription))throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if(!m)throw value;\n      value = m.call(observer, value);\n    } catch(e){\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch(e){\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber){\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer){\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn){\n    var that = this;\n    return new (core.Promise || global.Promise)(function(resolve, reject){\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next : function(value){\n          try {\n            return fn(value);\n          } catch(e){\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x){\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if(method){\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function(observer){\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          try {\n            if(forOf(x, false, function(it){\n              observer.next(it);\n              if(done)return RETURN;\n            }) === RETURN)return;\n          } catch(e){\n            if(done)throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  },\n  of: function of(){\n    for(var i = 0, l = arguments.length, items = Array(l); i < l;)items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          for(var i = 0; i < items.length; ++i){\n            observer.next(items[i]);\n            if(done)return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function(){ return this; });\n\n$export($export.G, {Observable: $Observable});\n\nrequire('./_set-species')('Observable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/es7.observable.js\n// module id = 348\n// module chunks = 0","// ie9- setTimeout & setInterval additional parameters fix\nvar global     = require('./_global')\n  , $export    = require('./_export')\n  , invoke     = require('./_invoke')\n  , partial    = require('./_partial')\n  , navigator  = global.navigator\n  , MSIE       = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\nvar wrap = function(set){\n  return MSIE ? function(fn, time /*, ...args */){\n    return set(invoke(\n      partial,\n      [].slice.call(arguments, 2),\n      typeof fn == 'function' ? fn : Function(fn)\n    ), time);\n  } : set;\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout:  wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/web.timers.js\n// module id = 349\n// module chunks = 0","'use strict';\nvar path      = require('./_path')\n  , invoke    = require('./_invoke')\n  , aFunction = require('./_a-function');\nmodule.exports = function(/* ...pargs */){\n  var fn     = aFunction(this)\n    , length = arguments.length\n    , pargs  = Array(length)\n    , i      = 0\n    , _      = path._\n    , holder = false;\n  while(length > i)if((pargs[i] = arguments[i++]) === _)holder = true;\n  return function(/* ...args */){\n    var that = this\n      , aLen = arguments.length\n      , j = 0, k = 0, args;\n    if(!holder && !aLen)return invoke(fn, pargs, that);\n    args = pargs.slice();\n    if(holder)for(;length > j; j++)if(args[j] === _)args[j] = arguments[k++];\n    while(aLen > k)args.push(arguments[k++]);\n    return invoke(fn, args, that);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_partial.js\n// module id = 350\n// module chunks = 0","module.exports = require('./_global');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_path.js\n// module id = 351\n// module chunks = 0","var $export = require('./_export')\n  , $task   = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate:   $task.set,\n  clearImmediate: $task.clear\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/web.immediate.js\n// module id = 352\n// module chunks = 0","var $iterators    = require('./es6.array.iterator')\n  , redefine      = require('./_redefine')\n  , global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , wks           = require('./_wks')\n  , ITERATOR      = wks('iterator')\n  , TO_STRING_TAG = wks('toStringTag')\n  , ArrayValues   = Iterators.Array;\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype\n    , key;\n  if(proto){\n    if(!proto[ITERATOR])hide(proto, ITERATOR, ArrayValues);\n    if(!proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    for(key in $iterators)if(!proto[key])redefine(proto, key, $iterators[key], true);\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/web.dom.iterable.js\n// module id = 353\n// module chunks = 0","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime.js\n// module id = 354\n// module chunks = 0","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/fn/regexp/escape.js\n// module id = 355\n// module chunks = 0","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export')\n  , $re     = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', {escape: function escape(it){ return $re(it); }});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/core.regexp.escape.js\n// module id = 356\n// module chunks = 0","module.exports = function(regExp, replace){\n  var replacer = replace === Object(replace) ? function(part){\n    return replace[part];\n  } : replace;\n  return function(it){\n    return String(it).replace(regExp, replacer);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/modules/_replacer.js\n// module id = 357\n// module chunks = 0","import requireAll from \"helpers/requireAll\";\nimport * as utils from \"base/utils\";\nimport Tool from \"base/tool\";\nimport Class from \"base/class\";\nimport Component from \"base/component\";\nimport Model from \"base/model\";\nimport Reader from \"base/reader\";\nimport Events from \"base/events\";\nimport globals from \"base/globals\";\nimport * as iconset from \"base/iconset\";\n\nconst Vzb = function(name, placeholder, external_model) {\n  const tool = Tool.get(name);\n  if (tool) {\n    const t = new tool(placeholder, external_model);\n    Vzb._instances[t._id] = t;\n    return t;\n  }\n  utils.error('Tool \"' + name + '\" was not found.');\n};\n\n//stores reference to each tool on the page\nVzb._instances = {};\n//stores global variables accessible by any tool or component\nVzb._globals = globals;\n\n//TODO: clear all objects and intervals as well\n//garbage collection\nVzb.clearInstances = function(id) {\n  if (id) {\n    Vzb._instances[id] = void 0;\n  } else {\n    for (const i in Vzb._instances) {\n      Vzb._instances[i].clear();\n    }\n    Vzb._instances = {};\n  }\n};\n\n//available readers = all\nconst readers = requireAll(require.context(\"./readers\", true, /\\.js$/));\n\n//register available readers\nutils.forEach(readers, (reader, name) => {\n  Reader.register(name, reader);\n});\n\n\nconst components = requireAll(require.context(\"./components\", true, /\\.js$/), 1);\n\n//register available components\nutils.forEach(components, (component, name) => {\n  Component.register(name, component);\n});\n\nrequireAll(require.context(\"./components/dialogs\", true, /\\.js$/));\n\n\nVzb.helpers = requireAll(require.context(\"helpers\", false, /\\.js$/));\nVzb.iconset = iconset;\n\n//d3 addons\n\nimport genericLog from \"helpers/d3.genericLogScale\";\nimport { onTap, onLongTap } from \"helpers/d3.touchEvents\";\n//import * as touchFixes from 'helpers/d3.touchFixes';\n\n//d3 v3 -> v4\n\n// Copies a variable number of methods from source to target.\nd3.rebind = function(target, source) {\n  let i = 1, method;\n  const n = arguments.length;\n  while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n  return target;\n};\n\n// Method is assumed to be a standard D3 getter-setter:\n// If passed with no arguments, gets the value.\n// If passed with arguments, sets the value and returns the target.\nfunction d3_rebind(target, source, method) {\n  return function() {\n    const value = method.apply(source, arguments);\n    return value === source ? target : value;\n  };\n}\n\nd3.time = {};\nd3.time.scale = d3.scaleTime;\nd3.time.scale.utc = d3.scaleUtc;\nd3.time.format = function(f) {\n  const format = d3.timeFormat(f);\n  format.parse = d3.timeParse(f);\n  return format;\n};\nd3.time.format.utc = function(f) {\n  const format = d3.utcFormat(f);\n  format.parse = d3.utcParse(f);\n  return format;\n};\nd3.time.format.iso = function(f) {\n  const format = d3.isoFormat(f);\n  format.parse = d3.isoParse(f);\n  return format;\n};\n\n\nd3.scaleGenericlog = genericLog;\nd3.selection.prototype.onTap = onTap;\nd3.selection.prototype.onLongTap = onLongTap;\n\n//TODO: Fix for scroll on mobile chrome on d3 v3.5.17. It must be retested/removed on d3 v4.x.x\n//see explanation here https://github.com/vizabi/vizabi/issues/2020#issuecomment-250205191\n//d3.svg.brush = touchFixes.brush;\n//d3.drag = touchFixes.drag;\n//d3.behavior.zoom = touchFixes.zoom;\n\n//makes all objects accessible\nVzb.Class = Class;\nVzb.Tool = Tool;\nVzb.Component = Component;\nVzb.Model = Model;\nVzb.Reader = Reader;\nVzb.Events = Events;\nVzb.utils = utils;\n\nexport default Vzb;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vizabi.js","/*\n * A collection of interpolators\n * @param {Number} x1, x2, y1, y2 - boundary points\n * @param {Number} x - point of interpolation\n * @return {Number} y - interpolated value\n */\n//\nmodule.exports = {\n    linear: function(x1, x2, y1, y2, x) {\n      return +y1 + (x - x1) / (x2 - x1) * (y2 - y1);\n    },\n    exp: function(x1, x2, y1, y2, x) {\n      return Math.exp((Math.log(y1) * (x2 - x) - Math.log(y2) * (x1 - x)) / (x2 - x1));\n    },\n    stepBefore: function(x1, x2, y1, y2, x) {\n        return y2;\n    },\n    stepAfter: function(x1, x2, y1, y2, x) {\n        return y1;\n    },\n    stepMiddle: function(x1, x2, y1, y2, x) {\n        return (x < (x1 + x2)/2) ? y1 : y2;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vizabi-interpolators/interpolators.js\n// module id = 359\n// module chunks = 0","import Class from \"base/class\";\n\nconst Intervals = Class.extend({\n\n  /**\n   * Initializes intervals\n   */\n  init() {\n    this.intervals = {};\n  },\n\n  /**\n   * Sets an interval\n   * @param {String} name name of interval\n   * @param {Function} func function to be executed\n   * @param {Number} duration duration in milliseconds\n   */\n  setInterval(name, func, duration) {\n    this.clearInterval(name);\n    this.intervals[name] = setInterval(func, duration);\n  },\n\n  /**\n   * Clears an interval\n   * @param {String} name name of interval to be removed\n   */\n  clearInterval(name) {\n    if (name) {\n      if (this.intervals[name]) {\n        clearInterval(this.intervals[name]);\n        delete this.intervals[name];\n      }\n    } else {\n      this.clearAllIntervals();\n    }\n  },\n\n  /**\n   * Clears all intervals\n   */\n  clearAllIntervals() {\n    for (const i in this.intervals) {\n      this.clearInterval(i);\n    }\n  }\n});\n\nexport default Intervals;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/intervals.js","var map = {\n\t\"./axis\": 100,\n\t\"./axis.js\": 100,\n\t\"./color\": 134,\n\t\"./color.js\": 134,\n\t\"./data\": 101,\n\t\"./data.js\": 101,\n\t\"./dataconnected\": 54,\n\t\"./dataconnected.js\": 54,\n\t\"./entities\": 135,\n\t\"./entities.js\": 135,\n\t\"./group\": 136,\n\t\"./group.js\": 136,\n\t\"./hook\": 37,\n\t\"./hook.js\": 37,\n\t\"./label\": 137,\n\t\"./label.js\": 137,\n\t\"./locale\": 138,\n\t\"./locale.js\": 138,\n\t\"./marker\": 139,\n\t\"./marker.js\": 139,\n\t\"./side\": 140,\n\t\"./side.js\": 140,\n\t\"./size\": 141,\n\t\"./size.js\": 141,\n\t\"./stack\": 142,\n\t\"./stack.js\": 142,\n\t\"./time\": 143,\n\t\"./time.js\": 143,\n\t\"./ui\": 144,\n\t\"./ui.js\": 144\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 361;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models ^\\.\\/.*$\n// module id = 361\n// module chunks = 0","\nimport * as utils from \"base/utils\";\nimport Class from \"base/class\";\n\nfunction _getQueryId(query, path) {\n  return utils.hashCode([\n    query.select.key,\n    query.where,\n    query.join,\n    query.dataset,\n    query.version,\n    query.language,\n    path\n  ]);\n}\n\nexport class Storage {\n  constructor() {\n    this.queryIds = {};\n    this.queries = {};\n    this._collection = {};\n    this._collectionPromises = {}; // stores promises, making sure we don't do one calulation twice\n  }\n\n  /**\n   * Loads resource from reader\n   * @param {Array} query Array with queries to be loaded\n   * @param {Object} parsers An object with concepts as key and parsers as value\n   * @param {Object} readerObject for this query\n   */\n  loadFromReader(query, parsers, readerObject) {\n    const _this = this;\n    const queryMergeId = _getQueryId(query, readerObject._basepath);\n\n    if (!this.queries[queryMergeId]) {\n      this.queries[queryMergeId] = this.queryQueue(readerObject, queryMergeId);\n    }\n    return this.queries[queryMergeId].getPromise(query, parsers);\n  }\n\n  getDataId(query, readerObject) {\n    const queryMergeId = _getQueryId(query, readerObject._basepath);\n    if (this.queries[queryMergeId]) {\n      return this.queries[queryMergeId].getDataId(query);\n    }\n    return false;\n\n  }\n\n  queryQueue(readerObject, queryMergeId) {\n    const _context = this;\n    return new function() {\n      this.readerObject = readerObject;\n      this.queries = [];\n      this.query = null;\n      this.parsers = null;\n      this.defer = {};\n      this.getPromise = function(query, parsers) {\n        for (const reader of this.queries) {\n          if (query.select.value.filter(x => reader.query.select.value.indexOf(x) == -1).length == 0) { //check if this query have all needed values\n            return reader.defer.promise;\n          }\n        }\n        if (!this.query) {\n          this.query = query;\n          this.parsers = parsers;\n        } else {\n          this.query.select.value = utils.unique(this.query.select.value.concat(query.select.value));\n          utils.extend(this.parsers, parsers);\n        }\n        utils.debounce(() => {\n          this.runQuery();\n        }, 10)();\n        if (!this.defer.promise || !(this.defer.promise instanceof Promise)) {\n          this.defer.promise = new Promise((resolve, reject) => {\n            this.defer.resolve = resolve;\n            this.defer.reject = reject;\n          });\n        }\n        return this.defer.promise;\n      };\n      this.runQuery = function() {\n        if (this.query) {\n          this.queries.push(this.reader(this.query, this.parsers, this.defer));\n          this.query = null;\n          this.parsers = null;\n          this.defer = {};\n        }\n      };\n\n      this.getDataId = function(query) {\n        for (const reader of this.queries) {\n          if (query.select.value.filter(x => reader.query.select.value.indexOf(x) == -1).length == 0 && reader.dataId) { //check if this query have all needed values\n            return reader.dataId;\n          }\n        }\n        return false;\n      };\n\n      this.reader = function(query, parsers, defer) {\n        const _queue = this;\n        return new function() {\n          this.defer = defer;\n          this.query = query;\n          this.parsers = parsers;\n          this.dataId = null;\n          _queue.readerObject.read(this.query, this.parsers).then(response => {\n            //success reading\n            this.checkQueryResponse(query, response);\n            this.dataId = utils.hashCode([\n              query, _queue.readerObject._basepath\n            ]);\n            _context._collection[this.dataId] = {};\n            _context._collectionPromises[this.dataId] = {};\n            const col = _context._collection[this.dataId];\n            col.data = response;\n            col.valid = {};\n            col.nested = {};\n            col.unique = {};\n            col.limits = {};\n            col.frames = {};\n            col.haveNoDataPointsPerKey = {};\n            col.query = query;\n            this.defer.resolve(this.dataId);\n          }).catch(err => {\n            this.defer.reject(err);\n          });\n\n          this.checkQueryResponse = function(query, response) {\n            if (response.length == 0) utils.warn(\"Reader for data source '\" + this._name + \"' returned empty array for query:\", JSON.stringify(query, null, 2));\n\n            if (response.length > 0) {\n              // search data for the entirely missing columns\n              const columnsMissing = (query.select.key || []).concat(query.select.value || []);\n              for (let i = response.length - 1; i >= 0; i--) {\n                for (let c = columnsMissing.length - 1; c >= 0; c--) {\n                  // if found value for column c in row i then remove that column name from the list of missing columns\n                  if (response[i][columnsMissing[c]] || response[i][columnsMissing[c]] === 0) columnsMissing.splice(c, 1);\n                }\n                // all columns were found to have value in at least one of the rows then stop iterating\n                if (!columnsMissing.length) break;\n              }\n              columnsMissing.forEach(d => {\n                if (query.select.key.indexOf(d) == -1) {\n                  utils.warn('Reader result: Column \"' + d + '\" is missing from \"' + query.from + '\" data, but it might be ok');\n                } else {\n                  utils.error('Reader result: Key column \"' + d + '\" is missing from \"' + query.from + '\" data for query:', JSON.stringify(query));\n                  console.log(response);\n                }\n              });\n            }\n          };\n        }();\n      };\n    }();\n  }\n\n  setGrouping(dataId, grouping) {\n    this._collection[dataId].grouping = grouping;\n  }\n\n  getData(dataId, what, whatId, args) {\n    // if they want data, return the data\n    if (!what || what == \"data\") {\n      return this._collection[dataId][\"data\"];\n    }\n    if (what == \"query\") {\n      return this._collection[dataId][\"query\"];\n    }\n    // if they didn't give an instruction, give them the whole thing\n    // it's probably old code which modifies the data outside this class\n    // TODO: move these methods inside (e.g. model.getNestedItems())\n    if (!whatId) {\n      return this._collection[dataId][what];\n    }\n\n    // if they want a certain processing of the data, see if it's already in cache\n    const id = (typeof whatId === \"string\") ? whatId : JSON.stringify(whatId);\n    if (this._collection[dataId][what][id]) {\n      return this._collection[dataId][what][id];\n    }\n\n    // if it's not cached, process the data and then return it\n    switch (what) {\n      case \"unique\":\n        this._collection[dataId][what][id] = this._getUnique(dataId, whatId);\n        break;\n      case \"valid\":\n        this._collection[dataId][what][id] = this._getValid(dataId, whatId);\n        break;\n      case \"limits\":\n        this._collection[dataId][what][id] = this._getLimits(dataId, whatId);\n        break;\n      case \"nested\":\n        this._collection[dataId][what][id] = this._getNested(dataId, whatId);\n        break;\n      case \"haveNoDataPointsPerKey\":\n        //do nothing. no caching is available for this option, served directly from collection\n        break;\n    }\n    return this._collection[dataId][what][id];\n  }\n\n  _getValid(dataId, column) {\n    return this._collection[dataId].data.filter(f => f[column] || f[column] === 0);\n  }\n\n  _getLimits(dataId, attr) {\n\n    const items = this._collection[dataId].data;\n    // get only column attr and only rows with number or date\n    const filtered = items.reduce((filtered, d) => {\n\n      // check for dates\n      const f = (utils.isDate(d[attr])) ? d[attr] : parseFloat(d[attr]);\n\n      // if it is a number\n      if (!isNaN(f)) {\n        filtered.push(f);\n      }\n\n      //filter\n      return filtered;\n    }, []);\n\n    // get min/max for the filtered rows\n    let min;\n    let max;\n    const limits = {};\n    for (let i = 0; i < filtered.length; i += 1) {\n      const c = filtered[i];\n      if (typeof min === \"undefined\" || c < min) {\n        min = c;\n      }\n      if (typeof max === \"undefined\" || c > max) {\n        max = c;\n      }\n    }\n    limits.min = min || 0;\n    limits.max = max || 100;\n    return limits;\n  }\n\n  _getUnique(dataId, attr) {\n    let uniq;\n    const items = this._collection[dataId].data;\n    // if it's an array, it will return a list of unique combinations.\n    if (utils.isArray(attr)) {\n      const values = items.map(d => utils.clone(d, attr)); // pick attrs\n      uniq = utils.unique(values, n => JSON.stringify(n));\n    } // if it's a string, it will return a list of values\n    else {\n      const values = items.map(d => d[attr]);\n      uniq = utils.unique(values);\n    }\n    return uniq;\n  }\n\n  _getNested(dataId, order) {\n    // Nests are objects of key-value pairs\n    // Example:\n    //\n    // order = [\"geo\", \"time\"];\n    //\n    // original_data = [\n    //   { geo: \"afg\", time: 1800, gdp: 23424, lex: 23}\n    //   { geo: \"afg\", time: 1801, gdp: 23424, lex: null}\n    //   { geo: \"chn\", time: 1800, gdp: 23587424, lex: 46}\n    //   { geo: \"chn\", time: 1801, gdp: null, lex: null}\n    // ];\n    //\n    // nested_data = {\n    //   afg: {\n    //     1800: {gdp: 23424, lex: 23},\n    //     1801: {gdp: 23424, lex: null}\n    //   }\n    //   chn: {\n    //     1800: {gdp: 23587424, lex: 46 },\n    //     1801: {gdp: null, lex: null }\n    //   }\n    // };\n\n    let nest = d3.nest();\n    for (let i = 0; i < order.length; i++) {\n      nest = nest.key(\n        (function(k) {\n          return function(d) {\n            return d[k];\n          };\n        })(order[i])\n      );\n    }\n\n    return utils.nestArrayToObj(nest.entries(this._collection[dataId][\"data\"]));\n  }\n\n  getFrames(dataId, framesArray, keys, conceptprops) {\n    const _this = this;\n    const whatId = this._getCacheKey(dataId, framesArray, keys);\n    if (!this._collectionPromises[dataId][whatId]) {\n      this._collectionPromises[dataId][whatId] = {\n        queue: this.framesQueue(framesArray, whatId),\n        promise: null\n      };\n    }\n    if (this._collectionPromises[dataId][whatId] && this._collectionPromises[dataId][whatId][\"promise\"] instanceof Promise) {\n      return this._collectionPromises[dataId][whatId][\"promise\"];\n    }\n\n    this._collectionPromises[dataId][whatId][\"promise\"] = new Promise((resolve, reject) => {\n      if (!dataId) reject(utils.warn(\"Data.js 'get' method doesn't like the dataId you gave it: \" + dataId));\n      _this._getFrames(dataId, whatId, framesArray, keys, conceptprops).then(frames => {\n        _this._collection[dataId][\"frames\"][whatId] = frames;\n        resolve(_this._collection[dataId][\"frames\"][whatId]);\n      });\n    });\n\n    return this._collectionPromises[dataId][whatId][\"promise\"];\n  }\n\n  getFrame(dataId, framesArray, neededFrame, keys) {\n    const _this = this;\n    const whatId = this._getCacheKey(dataId, framesArray, keys);\n    return new Promise((resolve, reject) => {\n      if (_this._collection[dataId][\"frames\"][whatId] && _this._collection[dataId][\"frames\"][whatId][neededFrame]) {\n        resolve(_this._collection[dataId][\"frames\"][whatId]);\n      } else {\n        _this._collectionPromises[dataId][whatId][\"queue\"].forceFrame(neededFrame, () => {\n          resolve(_this._collection[dataId][\"frames\"][whatId]);\n        });\n      }\n    });\n  }\n\n  listenFrame(dataId, framesArray, keys,  cb) {\n    const whatId = this._getCacheKey(dataId, framesArray, keys);\n    this._collectionPromises[dataId][whatId][\"queue\"].defaultCallbacks.push(time => {\n      cb(dataId, time);\n    });\n    if (this._collection[dataId][\"frames\"][whatId]) {\n      utils.forEach(this._collection[dataId][\"frames\"][whatId], (frame, key) => {\n        cb(dataId, new Date(key));\n      });\n    }\n  }\n\n  _muteAllQueues(except) {\n    utils.forEach(this._collectionPromises, (queries, dataId) => {\n      utils.forEach(queries, (promise, whatId) => {\n        if (promise.queue.isActive == true && promise.queue.whatId != except) {\n          promise.queue.mute();\n        }\n      });\n    });\n  }\n\n  _checkForcedQueuesExists() {\n    utils.forEach(this._collectionPromises, (queries, dataId) => {\n      utils.forEach(queries, (promise, whatId) => {\n        if (promise.queue.forcedQueue.length > 0) {\n          promise.queue.unMute();\n        }\n      });\n    });\n  }\n\n  _unmuteQueue() {\n    utils.forEach(this._collectionPromises, (queries, dataId) => {\n      utils.forEach(queries, (promise, whatId) => {\n        if (promise.queue.isActive == false) {\n          promise.queue.unMute();\n        }\n      });\n    });\n  }\n\n  /**\n   * set priority for generate each year frame\n   * @param framesArray\n   * @param whatId\n   * @returns {*}\n   */\n  framesQueue(framesArray, whatId) {\n    const _context = this;\n    return new function() {\n      this.defaultCallbacks = [];\n      this.callbacks = {};\n      this.forcedQueue = [];\n      this.isActive = true;\n      this.delayedAction = null;\n      this.whatId = whatId;\n      this.queue = framesArray.slice(0); //clone array\n      const queue = this;\n      //put the last element to the start of the queue because we are likely to need it first\n      this.queue.splice(0, 0, this.queue.splice(this.queue.length - 1, 1)[0]);\n      this.key = 0;\n      this.mute = function() {\n        this.isActive = false;\n        this.delayedAction = Promise.resolve.bind(Promise);\n      };\n\n      this.unMute = function() {\n        this.isActive = true;\n        if (typeof this.delayedAction === \"function\") {\n          this.delayedAction();\n        }\n        this.delayedAction = null;\n        if (this.forcedQueue.length == 0 && this.queue.length == 0) {\n          _context._unmuteQueue();\n        }\n      };\n      this.frameComplete = function(frameName) { //function called after build each frame with name of frame build\n        let i;\n        if (queue.defaultCallbacks.length > 0) {\n          for (i = 0; i < queue.defaultCallbacks.length; i++) {\n            queue.defaultCallbacks[i](frameName);\n          }\n        }\n        if (queue.callbacks[frameName] && queue.callbacks[frameName].length > 0) {\n          for (i = 0; i < queue.callbacks[frameName].length; i++) {\n            queue.callbacks[frameName][i]();\n          }\n        }\n      };\n      this._waitingForActivation = function() {\n        const _this = this;\n        return new Promise((resolve, reject) => {\n          if (_this.isActive) {\n            return resolve();\n          }\n          _this.delayedAction = resolve;\n        });\n      };\n\n      this._getNextFrameName = function() {\n        let frameName = null;\n        if (this.forcedQueue.length > 0 || this.queue.length > 0) {\n          if (this.forcedQueue.length > 0) {\n            frameName = this.forcedQueue.shift();\n          } else {\n            if (this.forcedQueue.length == 0 && this.key >= this.queue.length - 1) {\n              this.key = 0;\n            }\n            frameName = this.queue.splice(this.key, 1).pop();\n          }\n        } else {\n          _context._unmuteQueue();\n        }\n        return frameName;\n      };\n      this.checkForcedFrames = function() {\n        if (this.forcedQueue.length > 0) return;\n        _context._checkForcedQueuesExists();\n      };\n\n      // returns the next frame in a queue\n      this.getNext = function() {\n        const _this = this;\n        return new Promise((resolve, reject) => {\n          _this.checkForcedFrames();\n          if (_this.isActive) {\n            resolve(_this._getNextFrameName());\n          } else {\n            _this._waitingForActivation().then(() => {\n              resolve(_this._getNextFrameName());\n            });\n          }\n        });\n      };\n\n      // force the particular frame up the queue\n      this.forceFrame = function(frameName, cb) {\n        const objIndexOf = function(obj, need) {\n          const search = need.toString();\n          let index = -1;\n          for (let i = 0, len = obj.length; i < len; i++) {\n            if (obj[i].toString() == search) {\n              index = i;\n              break;\n            }\n          }\n          return index;\n        };\n        if (this.callbacks[frameName]) {\n\n          this.callbacks[frameName].push(cb);\n        } else {\n          const newKey = objIndexOf(this.queue, frameName);//this.queue.indexOf(frameName.toString());\n          if (newKey !== -1) {\n            this.forcedQueue.unshift(this.queue.splice(newKey, 1).pop());\n            _context._muteAllQueues(this.whatId);\n            this.unMute();\n            if (typeof cb === \"function\") {\n              if (typeof this.callbacks[frameName] !== \"object\") {\n                this.callbacks[frameName] = [];\n              }\n              this.callbacks[frameName].push(cb);\n            }\n            this.key = newKey; //set key to next year after gorced element (preload if user click play)\n          } else {\n            if (typeof this.callbacks[frameName] === \"object\") {\n              this.callbacks[frameName].push(cb);\n            } else {\n              this.callbacks[frameName] = [cb];\n            }\n          }\n        }\n      };\n    }();\n  }\n\n  /**\n   * Get regularised dataset (where gaps are filled)\n   * @param {Number} dataId hash code for query\n   * @param {String} whatId hash code for cache\n   * @param {Array} framesArray -- array of keyframes across animatable\n   * @param {Array} keys -- array of keys\n   * @param {Array} indicatorsDB \n   * @returns {Object} regularised dataset, nested by [animatable, column, key]\n   */\n  _getFrames(dataId, whatId, framesArray, keys, indicatorsDB) {\n    const _this = this;\n    if (!_this._collection[dataId][\"frames\"][whatId]) {\n      _this._collection[dataId][\"frames\"][whatId] = {};\n    }\n    return new Promise((resolve, reject) => {\n\n      //TODO: thses should come from state or from outside somehow\n      // FramesArray in the input contains the array of keyframes in animatable dimension.\n      // Example: array of years like [1800, 1801 … 2100]\n      // these will be the points where we need data\n      // (some of which might already exist in the set. in regular datasets all the points would exist!)\n\n      // Check if query.where clause is missing a time field\n\n      if (!indicatorsDB) utils.warn(\"_getFrames in data.js is missing indicatorsDB, it's needed for gap filling\");\n      if (!framesArray) utils.warn(\"_getFrames in data.js is missing framesArray, it's needed so much\");\n\n      const TIME = _this._collection[dataId].query.animatable;\n      const KEY = _this._collection[dataId].query.select.key.slice(0);\n      if (TIME && KEY.indexOf(TIME) != -1) KEY.splice(KEY.indexOf(TIME), 1);\n\n      const filtered = {};\n      let k, items, itemsIndex, oneFrame, method, use, next;\n\n      const entitiesByKey = {};\n      if (KEY.length > 1) {\n        for (k = 1; k < KEY.length; k++) {\n          const nested = _this.getData(dataId, \"nested\", [KEY[k]].concat([TIME]));\n          entitiesByKey[KEY[k]] = Object.keys(nested);\n        }\n      }\n\n      // We _nest_ the flat dataset in two levels: first by “key” (example: geo), then by “animatable” (example: year)\n      // See the _getNested function for more details\n      const nested = _this.getData(dataId, \"nested\", KEY.concat([TIME]));\n      keys = keys ? keys : Object.keys(nested);\n      entitiesByKey[KEY[0]] = keys;\n      // Get the list of columns that are in the dataset, exclude key column and animatable column\n      // Example: [“lex”, “gdp”, “u5mr\"]\n      const query = _this._collection[dataId].query;\n      const columns = query.select.value.filter(f => f !== \"_default\");\n\n      const cLength = columns.length;\n      let key, c;\n\n      const lastIndex = KEY.length - 1;\n      function createFiltered(parent, index) {\n        const keys = entitiesByKey[KEY[index]];\n        for (let i = 0, j = keys.length; i < j; i++) {\n          parent[keys[i]] = {};\n          if (index == lastIndex) {\n            for (c = 0; c < cLength; c++) parent[keys[i]][columns[c]] = null;\n          } else {\n            const nextIndex = index + 1;\n            createFiltered(parent[keys[i]], nextIndex);\n          }\n        }\n      }\n\n      createFiltered(filtered, 0);\n\n      for (c = 0; c < cLength; c++) _this._collection[dataId].haveNoDataPointsPerKey[columns[c]] = {};\n\n      const { key: groupKey, grouping: groupValue } = _this._collection[dataId].grouping || {};\n\n      const buildFrame = function(frameName, entitiesByKey, KEY, dataId, callback) {\n        const frame = {};\n        if (query.from !== \"datapoints\") {\n          // we populate the regular set with a single value (unpack properties into constant time series)\n          const dataset = _this._collection[dataId].data;\n          for (c = 0; c < cLength; c++) frame[columns[c]] = {};\n\n          for (let i = 0; i < dataset.length; i++) {\n            const d = dataset[i];\n            for (c = 0; c < cLength; c++) {\n              frame[columns[c]][d[KEY[0]]] = d[columns[c]];\n              //check data for properties with missed data. If founded then write key to haveNoDataPointsPerKey with\n              //count of broken datapoints\n              if (d[columns[c]] == null) {\n                _this._collection[dataId].haveNoDataPointsPerKey[columns[c]][d[KEY[0]]] = dataset.length;\n              }\n            }\n          }\n\n        } else {\n          // If there is a time field in query.where clause, then we are dealing with indicators in this request\n\n          // Put together a template for cached filtered sets (see below what's needed)\n\n          // Now we run a 3-level loop: across frames, then across keys, then and across data columns (lex, gdp)\n\n          const firstKeyObject = {};\n          for (c = 0; c < cLength; c++) firstKeyObject[c] = frame[columns[c]] = {};\n\n          if (groupKey) {\n            iterateKeysWithGrouping(firstKeyObject, nested, filtered, 0);\n          } else {\n            iterateKeys(firstKeyObject, nested, filtered, 0);\n          }\n\n          function iterateKeys(lastKeyObject, nested, filtered, index) {\n            const _lastKeyObject = {};\n            const keys = entitiesByKey[KEY[index]];\n            for (let i = 0, j = keys.length, key; i < j; i++) {\n              key = keys[i];\n              if (nested[key]) {\n                if (index == lastIndex) {\n                  for (c = 0; c < cLength; c++) {\n                    lastKeyObject[c][key] = mapValue(columns[c], nested[key], filtered[key]);\n                  }\n                } else {\n                  for (c = 0; c < cLength; c++) {\n                    _lastKeyObject[c] = lastKeyObject[c][key] = {};\n                  }\n                  iterateKeys(_lastKeyObject, nested[key], filtered[key], index + 1);\n                }\n              }\n            }\n          }\n\n          function iterateKeysWithGrouping(lastKeyObject, nested, filtered, index) {\n            const _lastKeyObject = {};\n            const keys = entitiesByKey[KEY[index]];\n            const grouping = KEY[index] === groupKey;\n            for (let i = 0, j = keys.length, key, gKey; i < j; i++) {\n              key = keys[i];\n              gKey = grouping ? ~~(+key / groupValue) * groupValue : key;\n              if (index == lastIndex) {\n                let value;\n                for (c = 0; c < cLength; c++) {\n                  value = mapValue(columns[c], nested[key], filtered[key]);\n                  if (value !== null) {\n                    lastKeyObject[c][gKey] = (lastKeyObject[c][gKey] || 0) + value;\n                  } else if (lastKeyObject[c][gKey] === undefined) {\n                    lastKeyObject[c][gKey] = value;\n                  }\n                }\n              } else {\n                for (c = 0; c < cLength; c++) {\n                  _lastKeyObject[c] = lastKeyObject[c][gKey] = lastKeyObject[c][gKey] || {};\n                }\n                iterateKeysWithGrouping(_lastKeyObject, nested[key], filtered[key], index + 1);\n              }\n            }\n          }\n\n          function mapValue(column, nested, filtered) {\n\n            //If there are some points in the array with valid numbers, then\n            //interpolate the missing point and save it to the “clean regular set”\n            method = indicatorsDB[column] ? indicatorsDB[column].interpolation : null;\n            use = indicatorsDB[column] ? indicatorsDB[column].use : \"indicator\";\n\n            // Inside of this 3-level loop is the following:\n            if (nested && nested[frameName] && (nested[frameName][0][column] || nested[frameName][0][column] === 0)) {\n\n              // Check if the piece of data for [this key][this frame][this column] exists\n              // and is valid. If so, then save it into a “clean regular set”\n              return nested[frameName][0][column];\n            }\n\n            // the piece of data is not available and the interpolation is set to \"none\"\n            if (method === \"none\") return null;\n\n            // If the piece of data doesn’t exist or is invalid, then we need to inter- or extapolate it\n\n            // Let’s take a slice of the nested set, corresponding to the current key nested[key]\n            // As you remember it has the data nested further by frames.\n            // At every frame the data in the current column might or might not exist.\n            // Thus, let’s filter out all the frames which don’t have the data for the current column.\n            // Let’s cache it because we will most likely encounter another gap in the same column for the same key\n            items = filtered[column];\n            if (items === null) {\n              const givenFrames = Object.keys(nested);\n              items = new Array(givenFrames.length);\n              itemsIndex = 0;\n\n              for (let z = 0, length = givenFrames.length; z < length; z++) {\n                oneFrame = nested[givenFrames[z]];\n                if (oneFrame[0][column] || oneFrame[0][column] === 0) items[itemsIndex++] = oneFrame[0];\n              }\n\n              //trim the length of the array\n              items.length = itemsIndex;\n\n              if (itemsIndex === 0) {\n                filtered[column] = [];\n              } else {\n                filtered[column] = items;\n              }\n\n              if (items.length == 0) _this._collection[dataId].haveNoDataPointsPerKey[column][key] = items.length;\n            }\n\n            // Now we are left with a fewer frames in the filtered array. Let's check its length.\n            //If the array is empty, then the entire column is missing for the key\n            //So we let the key have missing values in this column for all frames\n            if (items && items.length > 0) {\n              next = null;\n              return utils.interpolatePoint(items, use, column, next, TIME, frameName, method);\n            }\n          }\n        }\n\n        // save the calcualted frame to global datamanager cache\n        _this._collection[dataId][\"frames\"][whatId][frameName] = frame;\n\n        // fire the callback\n        if (typeof callback === \"function\") {\n          // runs the function frameComplete inside framesQueue.getNext()\n          callback(frameName);\n        }\n\n        // recursively call the buildFrame again, this time for the next frame\n        //QUESTION: FramesArray is probably not needed at this point. dataId and whatId is enough\n        _this._collectionPromises[dataId][whatId][\"queue\"].getNext().then(nextFrame => {\n          if (nextFrame) {\n            utils.defer(() => {\n              buildFrame(nextFrame, entitiesByKey, KEY, dataId, _this._collectionPromises[dataId][whatId][\"queue\"].frameComplete);\n            });\n          } else {\n            //this goes to marker.js as a \"response\"\n            resolve(_this._collection[dataId][\"frames\"][whatId]);\n          }\n        });\n      };\n      _this._collectionPromises[dataId][whatId][\"queue\"].getNext().then(nextFrame => {\n        if (nextFrame) {\n          buildFrame(nextFrame, entitiesByKey, KEY, dataId, _this._collectionPromises[dataId][whatId][\"queue\"].frameComplete);\n        }\n      });\n    });\n  }\n\n  _getCacheKey(dataId, frames, keys) {\n    let result = frames[0] + \" - \" + frames[frames.length - 1];\n    const grouping = this._collection[dataId][\"grouping\"];\n    if (grouping) {\n      result = result + \"_grouping(\" + grouping.key + \":\" + grouping.grouping + \")\";\n    }\n    if (keys) {\n      result = result + \"_\" + keys.join();\n    }\n    return result;\n  }\n}\n\nexport const DataStorage = new Storage();\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/datastorage.js","var map = {\n\t\"./csv-time_in_columns/csv-time_in_columns.js\": 364,\n\t\"./csv/csv.js\": 147,\n\t\"./inline/inline.js\": 366\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 363;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/readers \\.js$\n// module id = 363\n// module chunks = 0","import CSVReader from \"readers/csv/csv\";\nimport { isNumber } from \"base/utils\";\n\nconst CSVTimeInColumnsReader = CSVReader.extend({\n\n  _name: \"csv-time_in_columns\",\n\n  init(readerInfo) {\n    this._super(readerInfo);\n    this.timeKey = \"time\";\n  },\n\n  load() {\n    return this._super()\n      .then(({ rows, columns }) => {\n        const indicatorKey = columns[this.keySize];\n\n        const concepts = rows.reduce((result, row) => {\n          Object.keys(row).forEach(concept => {\n            concept = concept === indicatorKey ? row[indicatorKey] : concept;\n\n            if (String(Number(concept)) !== String(concept) && !result.includes(concept)) {\n              result.push(concept);\n            }\n          });\n\n          return result;\n        }, []);\n        concepts.splice(1, 0, this.timeKey);\n\n        const indicators = concepts.slice(2);\n        const [entityDomain] = concepts;\n        return {\n          columns: concepts,\n          rows: rows.reduce((result, row) => {\n            const resultRows = result.filter(resultRow => resultRow[entityDomain] === row[entityDomain]);\n\n            if (resultRows.length) {\n              resultRows.forEach(resultRow => {\n                resultRow[row[indicatorKey]] = row[resultRow[this.timeKey]];\n              });\n            } else {\n              Object.keys(row).forEach(key => {\n                if (![entityDomain, indicatorKey].includes(key)) {\n\n                  const domainAndTime = {\n                    [entityDomain]: row[entityDomain],\n                    [this.timeKey]: key,\n                  };\n\n                  const indicatorsObject = indicators.reduce((result, indicator) => {\n                    result[indicator] = row[indicatorKey] === indicator ? row[key] : null;\n                    return result;\n                  }, {});\n\n                  result.push(Object.assign(domainAndTime, indicatorsObject));\n                }\n              });\n            }\n\n            return result;\n          }, [])\n        };\n      });\n  },\n\n  versionInfo: { version: __VERSION, build: __BUILD }\n\n});\n\nexport default CSVTimeInColumnsReader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/readers/csv-time_in_columns/csv-time_in_columns.js","(function() {\n  var options, patterns;\n\n  patterns = [];\n\n  options = {};\n\n  module.exports = function(value, inOptions) {\n    var decimal, fractionPart, integerPart, number, pattern, patternIndex, result, thousands;\n    if (typeof inOptions === 'string') {\n      if (inOptions.length !== 2) {\n        throw {\n          name: 'ArgumentException',\n          message: 'The format for string options is \\'<thousands><decimal>\\' (exactly two characters)'\n        };\n      }\n      thousands = inOptions[0];\n      decimal = inOptions[1];\n    } else if (inOptions instanceof Array) {\n      if (inOptions.length !== 2) {\n        throw {\n          name: 'ArgumentException',\n          message: 'The format for array options is [\\'<thousands>\\',\\'[<decimal>\\'] (exactly two elements)'\n        };\n      }\n      thousands = inOptions[0];\n      decimal = inOptions[1];\n    } else {\n      thousands = (inOptions != null ? inOptions.thousands : void 0) || options.thousands;\n      decimal = (inOptions != null ? inOptions.decimal : void 0) || options.decimal;\n    }\n    patternIndex = \"\" + thousands + decimal;\n    pattern = patterns[patternIndex];\n    if (!pattern) {\n      pattern = patterns[patternIndex] = new RegExp('^\\\\s*(-?(?:(?:\\\\d{1,3}(?:\\\\' + thousands + '\\\\d{3})+)|\\\\d*))(?:\\\\' + decimal + '(\\\\d*))?\\\\s*$');\n    }\n    result = value.match(pattern);\n    if (!result || result.length !== 3) {\n      return NaN;\n    }\n    integerPart = result[1].replace(new RegExp(\"\\\\\" + thousands, 'g'), '');\n    fractionPart = result[2];\n    number = parseFloat(integerPart + \".\" + fractionPart);\n    return number;\n  };\n\n  module.exports.setOptions = function(newOptions) {\n    var key, value;\n    for (key in newOptions) {\n      value = newOptions[key];\n      options[key] = value;\n    }\n  };\n\n  module.exports.factoryReset = function() {\n    return options = {\n      thousands: ',',\n      decimal: '.'\n    };\n  };\n\n  module.exports.factoryReset();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/parse-decimal-number/dist/parse-decimal-number.js\n// module id = 365\n// module chunks = 0","import Reader from \"base/reader\";\n\n/**\n * Inline Reader\n * the simplest reader possible\n */\n\nconst InlineReader = Reader.extend({\n\n  _name: \"inline\",\n\n  init(readerInfo) {\n    this._data = readerInfo.data || [{}];\n  },\n\n  load() {\n    return Promise.resolve({\n      columns: Object.keys(this._data[0]),\n      data: this._data\n    });\n  },\n\n  versionInfo: { version: __VERSION, build: __BUILD }\n\n});\n\nexport default InlineReader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/readers/inline/inline.js","var map = {\n\t\"./bubblesize/bubblesize.js\": 103,\n\t\"./buttonlist/buttonlist.js\": 148,\n\t\"./buttonlist/optionsbuttonlist/optionsbuttonlist.js\": 149,\n\t\"./colorlegend/colorlegend.js\": 104,\n\t\"./datanotes/datanotes.js\": 369,\n\t\"./datawarning/datawarning.js\": 370,\n\t\"./dialogs/_dialog.js\": 10,\n\t\"./dialogs/about/about.js\": 152,\n\t\"./dialogs/axes/axes.js\": 153,\n\t\"./dialogs/colors/colors.js\": 155,\n\t\"./dialogs/dialogs.js\": 156,\n\t\"./dialogs/find/find.js\": 157,\n\t\"./dialogs/grouping/grouping.js\": 158,\n\t\"./dialogs/label/label.js\": 159,\n\t\"./dialogs/moreoptions/moreoptions.js\": 161,\n\t\"./dialogs/opacity/opacity.js\": 162,\n\t\"./dialogs/presentation/presentation.js\": 163,\n\t\"./dialogs/show/show.js\": 164,\n\t\"./dialogs/side/side.js\": 165,\n\t\"./dialogs/size/size.js\": 166,\n\t\"./dialogs/speed/speed.js\": 167,\n\t\"./dialogs/stack/stack.js\": 168,\n\t\"./dialogs/timedisplay/timedisplay.js\": 170,\n\t\"./dialogs/zoom/zoom.js\": 172,\n\t\"./draggablelist/draggablelist.js\": 169,\n\t\"./indicatorpicker/indicatorpicker.js\": 33,\n\t\"./minmaxinputs/minmaxinputs.js\": 154,\n\t\"./simplecheckbox/simplecheckbox.js\": 56,\n\t\"./simpleslider/simpleslider.js\": 55,\n\t\"./sizeslider/sizeslider.js\": 160,\n\t\"./steppedspeedslider/steppedspeedslider.js\": 390,\n\t\"./timeslider/timeslider.js\": 392,\n\t\"./treemenu/treemenu.js\": 394,\n\t\"./zoombuttonlist/zoombuttonlist.js\": 173\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 367;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components \\.js$\n// module id = 367\n// module chunks = 0","module.exports = \"<div class=\\\"vzb-bs-holder\\\">\\n\\t<svg class=\\\"vzb-bs-svg\\\">\\n\\t\\t<g class=\\\"vzb-bs-slider-wrap\\\">\\n\\t\\t\\t<g class=\\\"vzb-bs-slider\\\">\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</svg>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bubblesize/bubblesize.html\n// module id = 368\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\nimport { close as iconClose } from \"base/iconset\";\n\nconst DataNotes = Component.extend({\n\n  init(config, context) {\n    const _this = this;\n\n    this.name = \"gapminder-datanotes\";\n\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n\n    this.model_binds = {\n      \"translate:locale\": function(evt) {\n        if (!_this._ready || !_this._readyOnce) return;\n        _this.ready();\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    this.close = this.close.bind(this);\n\n    this.hidden = true;\n    this.showNotes = false;\n    this.pinned = false;\n    this.left = 0;\n    this.top = 0;\n    this.hookName = null;\n    this.newHookName = null;\n  },\n\n  ready() {\n    this.setValues();\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.translator = this.model.locale.getTFunction();\n    this.element = d3.select(this.placeholder);\n\n    this.element.selectAll(\"div\").remove();\n\n    const container = this.element;\n\n    container.append(\"div\")\n      .html(iconClose)\n      .on(\"click\", () => {\n        d3.event.stopPropagation();\n        _this.close();\n      })\n      .select(\"svg\")\n      .attr(\"width\", \"0px\")\n      .attr(\"height\", \"0px\")\n      .attr(\"class\", \"vzb-data-notes-close\")\n      .classed(\"vzb-hidden\", true);\n\n    container.append(\"div\")\n      .attr(\"class\", \"vzb-data-notes-body vzb-dialog-scrollable\");\n\n    container.append(\"div\")\n      .attr(\"class\", \"vzb-data-notes-link\");\n\n  },\n\n  resize() {\n    this.close();\n  },\n\n  close() {\n    if (!this.hidden) {\n      this.pin(false).hide();\n    }\n  },\n\n  setHook(_hookName) {\n    if (!this._readyOnce) return this;\n    if (this.pinned) {\n      this.newHookName = _hookName;\n      return this;\n    }\n    if (this.hookName) this.model.marker[this.hookName].off(\"change:which\", this.close);\n    this.hookName = this.newHookName = _hookName;\n    this.model.marker[this.hookName].on(\"change:which\", this.close);\n\n    this.setValues();\n\n    return this;\n  },\n\n  setValues() {\n    if (!this.hookName) return;\n    const hook = this.model.marker[this.hookName];\n    const concept = hook.getConceptprops();\n\n    this.element.select(\".vzb-data-notes-body\")\n      .classed(\"vzb-hidden\", !concept.description)\n      .text(concept.description || \"\");\n\n    this.element.select(\".vzb-data-notes-link\").classed(\"vzb-hidden\", !concept.sourceLink);\n\n    if (concept.sourceLink) {\n      const _source = this.translator(\"hints/source\");\n      const sourceName = concept.sourceName || \"\";\n      this.element.select(\".vzb-data-notes-link\").html(\"<span>\" + (sourceName ? (_source + \":\") : \"\") +\n        '<a href=\"' + concept.sourceLink + '\" target=\"_blank\">' + (sourceName ? sourceName : _source) + \"</a></span>\");\n    }\n    this.showNotes = concept.sourceLink || concept.description;\n  },\n\n  setPos(_left, _top, force) {\n    this.left = _left;\n    this.top = _top;\n    if (this.pinned && !force) return this;\n    const parentHeight = this.parent.element.offsetHeight;\n    const width = this.element.node().offsetWidth;\n    const height = this.element.node().offsetHeight;\n    let leftMove;\n    let topMove;\n    let leftPos = this.left - width;\n    let topPos = this.top;\n    if (leftPos < 10) {\n      leftPos = 10;\n      leftMove = true;\n    }\n    if ((topPos + height + 10) > parentHeight) {\n      topPos = parentHeight - height - 10;\n      topMove = true;\n    }\n\n    if (leftMove && topMove) {\n      topPos = this.top - height - 30;\n    }\n\n    this.element.style(\"top\", topPos + \"px\");\n    this.element.style(\"left\", leftPos + \"px\");\n\n    return this;\n  },\n\n  pin(arg) {\n    if (this.hidden) return this;\n    this.pinned = !this.pinned;\n    if (arg != null) this.pinned = arg;\n    this.element.select(\".vzb-data-notes-close\").classed(\"vzb-hidden\", !this.pinned);\n    this.element.classed(\"vzb-data-notes-pinned\", this.pinned);\n    if (this.hookName != this.newHookName) this.setHook(this.newHookName);\n    this.element.select(\".vzb-data-notes-body\").node().scrollTop = 0;\n\n    return this.showNotes ?\n      this.setPos(this.left, this.top, true) :\n      this.hide();\n  },\n\n  toggle(arg) {\n    if (this.pinned || !this.hookName) return this;\n    if (arg == null) arg = !this.hidden;\n    this.hidden = arg;\n    this.element.classed(\"vzb-hidden\", this.hidden || !this.showNotes);\n    return this;\n  },\n\n  show() {\n    return this.toggle(false);\n  },\n\n  hide() {\n    return this.toggle(true);\n  }\n\n});\n\nexport default DataNotes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/datanotes/datanotes.js","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\nimport { warn as iconWarn, close as iconClose } from \"base/iconset\";\n\nlet hidden = true;\n\nconst DataWarning = Component.extend({\n\n  init(config, context) {\n    const _this = this;\n\n    this.name = \"gapminder-datawarning\";\n\n    this.model_expects = [{\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n\n    this.model_binds = {\n      \"translate:locale\": function(evt) {\n        if (!_this._ready) return;\n        _this.redraw();\n      }\n    };\n\n    //contructor is the same as any component\n    this._super(config, context);\n  },\n\n  ready() {\n    this.redraw();\n  },\n\n  readyOnce() {\n    const _this = this;\n    this.element = d3.select(this.placeholder);\n\n    this.element.selectAll(\"div\").remove();\n\n    this.element.append(\"div\")\n      .attr(\"class\", \"vzb-data-warning-background\")\n      .on(\"click\", () => {\n        _this.toggle(true);\n      });\n\n    this.container = this.element.append(\"div\")\n      .attr(\"class\", \"vzb-data-warning-box\");\n\n    this.container.append(\"div\")\n      .html(iconClose)\n      .on(\"click\", () => {\n        _this.toggle();\n      })\n      .select(\"svg\")\n      .attr(\"width\", \"0px\")\n      .attr(\"height\", \"0px\")\n      .attr(\"class\", \"vzb-data-warning-close\");\n\n    const icon = this.container.append(\"div\")\n      .attr(\"class\", \"vzb-data-warning-link\")\n      .html(iconWarn);\n\n    icon.append(\"div\");\n\n    this.container.append(\"div\")\n      .attr(\"class\", \"vzb-data-warning-title\");\n\n    this.container.append(\"div\")\n      .attr(\"class\", \"vzb-data-warning-body vzb-dialog-scrollable\");\n  },\n\n  redraw() {\n    this.translator = this.model.locale.getTFunction();\n\n    this.container.select(\".vzb-data-warning-link div\")\n      .text(this.translator(\"hints/dataWarning\"));\n\n    const title = this.translator(\"datawarning/title/\" + this.parent.name);\n    this.container.select(\".vzb-data-warning-title\")\n      .html(title)\n      .classed(\"vzb-hidden\", !title || title == (\"datawarning/title/\" + this.parent.name));\n\n    this.container.select(\".vzb-data-warning-body\")\n      .html(this.translator(\"datawarning/body/\" + this.parent.name));\n  },\n\n  toggle(arg) {\n    if (arg == null) arg = !hidden;\n    hidden = arg;\n    this.element.classed(\"vzb-hidden\", hidden);\n\n    const _this = this;\n    this.parent.components.forEach(c => {\n      c.element.classed(\"vzb-blur\", c != _this && !hidden);\n    });\n  }\n\n});\n\nexport default DataWarning;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/datawarning/datawarning.js","var map = {\n\t\"./about/about.html\": 372,\n\t\"./axes/axes.html\": 373,\n\t\"./colors/colors.html\": 374,\n\t\"./find/find.html\": 375,\n\t\"./grouping/grouping.html\": 376,\n\t\"./label/label.html\": 377,\n\t\"./moreoptions/moreoptions.html\": 378,\n\t\"./opacity/opacity.html\": 379,\n\t\"./presentation/presentation.html\": 380,\n\t\"./show/show.html\": 381,\n\t\"./side/side.html\": 382,\n\t\"./size/size.html\": 383,\n\t\"./speed/speed.html\": 384,\n\t\"./stack/stack.html\": 385,\n\t\"./timedisplay/timedisplay.html\": 386,\n\t\"./zoom/zoom.html\": 387\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 371;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs \\.html$\n// module id = 371\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/about\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-about-text0\\\"></p>\\n      <p class=\\\"vzb-about-text1\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-version\\\"></p>\\n      <p class=\\\"vzb-about-updated\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-report\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-credits\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-tool\\\"></p>\\n      <br/>\\n      <p class=\\\"vzb-about-datasets\\\"><span>Datasets:</span></p>\\n      <br/>\\n      <p class=\\\"vzb-about-readers\\\"><span>Readers:</span></p>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n      \\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/about/about.html\n// module id = 372\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"axes\\\" data-click=\\\"pinDialog\\\"></span>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"axes\\\" data-click=\\\"dragDialog\\\"></span>\\n    <div class=\\\"vzb-dialog-title\\\"><%=t (\\\"buttons/axes\\\") %></div>\\n    <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"buttons/axis_x\\\") %> <span class=\\\"vzb-xaxis-selector\\\"></span> </p>\\n      <div class=\\\"vzb-xaxis-minmax vzb-dialog-paragraph\\\"></div>\\n      <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"buttons/axis_y\\\") %> <span class=\\\"vzb-yaxis-selector\\\"></span> </p>\\n      <div class=\\\"vzb-yaxis-minmax vzb-dialog-paragraph\\\"></div>\\n    </div>\\n    <div class=\\\"vzb-dialog-buttons\\\">\\n      <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\"><%=t ( \\\"buttons/ok\\\") %></div>\\n    </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/axes/axes.html\n// module id = 373\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"colors\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"colors\\\" data-click=\\\"dragDialog\\\"></span>\\n  \\n  <div class=\\\"vzb-dialog-title\\\">\\n      <%=t (\\\"buttons/colors\\\") %>\\n      <span class=\\\"vzb-caxis-selector\\\"></span>\\n  </div>\\n  \\n  \\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-clegend-container\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/colors/colors.html\n// module id = 374\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"find\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"find\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"dialogs/find\\\") %>\\n    <span class=\\\"vzb-find-filter-selector\\\"></span>\\n    <span class=\\\"vzb-dialog-content vzb-find-filter\\\">\\n      <input class=\\\"vzb-find-search\\\" type=\\\"search\\\"/>\\n    </span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-find-list\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-bubbleopacity vzb-dialog-control\\\"></div>\\n    <div class=\\\"vzb-dialog-button vzb-find-deselect\\\">\\n      <%=t (\\\"buttons/deselect\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/find/find.html\n// module id = 375\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/grouping\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-groups\\\"></div>\\n    <div class=\\\"vzb-dialog-placeholder\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/grouping/grouping.html\n// module id = 376\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/label\\\") %>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <span class=\\\"vzb-saxis-selector\\\"></span>\\n    <div class=\\\"vzb-dialog-sizeslider\\\"></div>\\n    <div class=\\\"vzb-removelabelbox-switch\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/label/label.html\n// module id = 377\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"moreoptions\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"moreoptions\\\" data-click=\\\"dragDialog\\\"></span>\\n\\n\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/more_options\\\") %>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class='vzb-dialog-options-buttonlist'>\\n    </div>\\n    <div class=\\\"vzb-accordion\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/moreoptions/moreoptions.html\n// module id = 378\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/opacity\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <p class=\\\"vzb-dialog-sublabel\\\">\\n        <%=t (\\\"buttons/opacityRegular\\\") %>\\n      </p>\\n      <div class=\\\"vzb-dialog-bubbleopacity-regular\\\"></div>\\n\\n      <p class=\\\"vzb-dialog-sublabel\\\">\\n        <%=t (\\\"buttons/opacityNonselect\\\") %>\\n      </p>\\n      <div class=\\\"vzb-dialog-bubbleopacity-selectdim\\\"></div>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/opacity/opacity.html\n// module id = 379\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"dialogs/presentation\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n      <div class=\\\"vzb-presentationmode-switch\\\"></div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/presentation/presentation.html\n// module id = 380\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"show\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"show\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/show\\\") %>\\n    <span class=\\\"vzb-show-filter-selector\\\"></span>\\n    <span class=\\\"vzb-dialog-content vzb-show-filter\\\">\\n      <input class=\\\"vzb-show-search\\\" type=\\\"search\\\"/>\\n    </span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed vzb-dialog-scrollable\\\">\\n    <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"hints/mount/onlyshowthefollowing\\\") %> </p>\\n    <div class=\\\"vzb-show-list\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-button vzb-show-deselect\\\">\\n      <%=t (\\\"buttons/reset\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/show/show.html\n// module id = 381\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"side\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"side\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\">\\n    <%=t (\\\"buttons/side\\\") %>\\n    <span class=\\\"vzb-side-selector\\\"></span>\\n  </div>\\n  \\n  <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n    <div class=\\\"vzb-side-list vzb-side-list-left\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n    <div class=\\\"vzb-side-list vzb-side-list-right\\\">\\n      <!-- list will be placed here -->\\n    </div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div class=\\\"vzb-dialog-button vzb-label-primary vzb-side-switch-sides\\\">\\n      <%=t (\\\"buttons/leftright\\\") %>\\n    </div>\\n\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/side/side.html\n// module id = 382\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"size\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"size\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/size\\\") %>\\n      <span class=\\\"vzb-saxis-selector\\\"></span>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-bubblesize\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/size/size.html\n// module id = 383\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n      <%=t (\\\"buttons/speed\\\") %>\\n  </div>\\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-dialog-placeholder\\\"></div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/speed/speed.html\n// module id = 384\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"stack\\\" data-click=\\\"pinDialog\\\"></span>\\n    <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"stack\\\" data-click=\\\"dragDialog\\\"></span>\\n    <div class=\\\"vzb-dialog-title\\\"><%=t (\\\"buttons/stack\\\") %></div>\\n        \\n    <div class=\\\"vzb-dialog-content vzb-dialog-scrollable\\\">\\n        \\n        <!--p class=\\\"vzb-dialog-sublabel\\\"> <%=t ( \\\"hints/mount/howtostack\\\") %></p-->\\n        <form class=\\\"vzb-howtostack vzb-dialog-paragraph\\\">\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"none\\\"> <%=t (\\\"mount/stacking/none\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"bycolor\\\"> <%=t (\\\"mount/stacking/color\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"stack\\\" value=\\\"all\\\"> <%=t (\\\"mount/stacking/world\\\") %> </label>\\n        </form>\\n        \\n        <form class=\\\"vzb-howtomerge vzb-dialog-paragraph\\\">\\n            <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"hints/mount/howtomerge\\\") %> </p>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"none\\\"> <%=t (\\\"mount/merging/none\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"grouped\\\"> <%=t (\\\"mount/merging/color\\\") %> </label>\\n            <label> <input type=\\\"radio\\\" name=\\\"merge\\\" value=\\\"stacked\\\"> <%=t (\\\"mount/merging/world\\\") %> </label>\\n        </form>\\n        \\n        <form class=\\\"vzb-manual-sorting\\\">\\n            <p class=\\\"vzb-dialog-sublabel\\\"> <%=t (\\\"mount/manualSorting\\\") %> </p>\\n            <div class=\\\"vzb-dialog-draggablelist vzb-dialog-control\\\"></div>\\n        </form>\\n                \\n    </div>\\n\\n    <div class=\\\"vzb-dialog-buttons\\\">\\n        <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\"><%=t (\\\"buttons/ok\\\") %></div>\\n    </div>\\n\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/stack/stack.html\n// module id = 385\n// module chunks = 0","module.exports = \"<div class=\\\"vzb-dialog-modal\\\">\\n  <div class=\\\"vzb-dialog-content vzb-dialog-content-fixed\\\">\\n    <svg>\\n      <g class=\\\"vzb-timedisplay\\\"></g>\\n    </svg>\\n  </div>\\n  <div class=\\\"vzb-dialog-buttons\\\"></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/timedisplay/timedisplay.html\n// module id = 386\n// module chunks = 0","module.exports = \"<div class='vzb-dialog-modal'>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-pin fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"pinDialog\\\"></span>\\n  <span class=\\\"thumb-tack-class thumb-tack-class-ico-drag fa\\\" data-dialogtype=\\\"label\\\" data-click=\\\"dragDialog\\\"></span>\\n  <div class=\\\"vzb-dialog-title\\\"> \\n    <%=t (\\\"buttons/zoom\\\") %>\\n    <div class=\\\"vzb-dialog-zoom-buttonlist\\\"></div>\\n  </div>\\n      \\n      \\n  <div class=\\\"vzb-dialog-content\\\">\\n    <div class=\\\"vzb-panwitharrow-switch\\\"></div>\\n    <div class=\\\"vzb-zoomonscrolling-switch\\\"></div>\\n    <div class=\\\"vzb-adaptminmaxzoom-switch\\\"></div>\\n  </div>\\n\\n  <div class=\\\"vzb-dialog-buttons\\\">\\n    <div data-click=\\\"closeDialog\\\" class=\\\"vzb-dialog-button vzb-label-primary\\\">\\n      <%=t (\\\"buttons/ok\\\") %>\\n    </div>\\n  </div>\\n\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs/zoom/zoom.html\n// module id = 387\n// module chunks = 0","module.exports = \"<div class=\\\"vzb-mmi-holder\\\">\\n\\n    <span class=\\\"vzb-mmi-domainmin-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-domainmin\\\" name=\\\"min\\\">\\n    <span class=\\\"vzb-mmi-domainmax-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-domainmax\\\" name=\\\"max\\\">\\n\\n    <br class=\\\"vzb-mmi-break\\\"/>\\n\\n    <span class=\\\"vzb-mmi-zoomedmin-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-zoomedmin\\\" name=\\\"min\\\">\\n    <span class=\\\"vzb-mmi-zoomedmax-label\\\"></span>\\n    <input type=\\\"text\\\" class=\\\"vzb-mmi-zoomedmax\\\" name=\\\"max\\\">\\n    \\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/minmaxinputs/minmaxinputs.html\n// module id = 388\n// module chunks = 0","module.exports = \"<div class=\\\"vzb-szs-holder\\\">\\n\\t<svg class=\\\"vzb-szs-svg\\\">\\n\\t\\t<g class=\\\"vzb-szs-slider-wrap\\\">\\n\\t\\t\\t<g class=\\\"vzb-szs-slider\\\">\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</svg>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sizeslider/sizeslider.html\n// module id = 389\n// module chunks = 0","import Component from \"base/component\";\nimport { throttle, transform } from \"base/utils\";\n\nconst SteppedSlider = Component.extend({\n\n  init(config, context) {\n    this.name = \"steppedSpeedSlider\";\n    this.template = require(\"./steppedspeedslider.html\");\n\n    this.config = Object.assign({\n      triangleWidth: 10,\n      triangleHeight: 10,\n      height: 31,\n      lineWidth: 10,\n      domain: [1, 2, 3, 4, 5, 6],\n      range: [1200, 900, 450, 200, 150, 100]\n    }, config);\n\n    this.config.height -= this.config.triangleHeight / 2;\n\n    this.model_expects = [\n      {\n        name: \"time\",\n        type: \"time\"\n      },\n      {\n        name: \"locale\",\n        type: \"locale\"\n      }\n    ];\n\n    this.model_binds = {\n      \"change:time.delay\": () => {\n        this.redraw();\n      }\n    };\n\n    this.setDelay = throttle(this.setDelay, 50);\n\n    this._super(config, context);\n  },\n\n  readyOnce() {\n    const {\n      domain,\n      range,\n      height\n    } = this.config;\n\n    this.element = d3.select(this.element);\n    this.svg = this.element.select(\"svg\");\n\n    this.axisScale = d3.scaleLog()\n      .domain(d3.extent(domain))\n      .range([height, 0]);\n\n    this.delayScale = d3.scaleLinear()\n      .domain(domain)\n      .range(range);\n\n    this.initTriangle();\n    this.initAxis();\n\n    this.redraw();\n  },\n\n  initAxis() {\n    const {\n      lineWidth,\n      triangleWidth,\n      triangleHeight,\n      height\n    } = this.config;\n\n    const axis = d3.axisLeft()\n      .scale(this.axisScale)\n      .tickFormat(() => \"\")\n      .tickSizeInner(lineWidth)\n      .tickSizeOuter(0);\n\n    const tx = triangleWidth + lineWidth / 2;\n    const ty = triangleHeight / 2;\n    this.svg\n      .on(\"mousedown\", () => {\n        const { offsetY } = d3.event;\n        const y = Math.max(0, Math.min(offsetY - ty, height));\n\n        this.setDelay(Math.round(this.delayScale(this.axisScale.invert(y))), true, true);\n      })\n      .select(\".vzb-stepped-speed-slider-axis\")\n      .attr(\"transform\", `translate(${tx}, ${ty})`)\n      .call(axis);\n\n    this.drag = d3.drag()\n      .on(\"drag\", () => {\n        const { dy } = d3.event;\n        const { translateY } = transform(this.slide.node());\n        const y = Math.max(0, Math.min(dy + translateY, height));\n\n        this.setDelay(Math.round(this.delayScale(this.axisScale.invert(y))));\n        this.redraw(y);\n      })\n      .on(\"end\", () => {\n        this.setDelay(this.model.time.delay, true, true);\n      });\n\n    this.svg.call(this.drag);\n  },\n\n  initTriangle() {\n    const {\n      triangleWidth,\n      triangleHeight,\n      lineWidth\n    } = this.config;\n\n    this.slide = this.svg.select(\".vzb-stepped-speed-slider-triangle\");\n\n    this.slide\n      .append(\"g\")\n      .append(\"path\")\n      .attr(\"d\", this.getTrianglePath());\n  },\n\n  getTrianglePath() {\n    const {\n      triangleHeight,\n      triangleWidth\n    } = this.config;\n\n    return `M ${triangleWidth},${triangleHeight / 2} 0,${triangleHeight} 0,0 z`;\n  },\n\n  setDelay(value, force = false, persistent = false) {\n    this.model.time.set(\"delay\", value, force, persistent);\n  },\n\n  redraw(y = this.axisScale(this.delayScale.invert(this.model.time.delay))) {\n    this.slide.attr(\"transform\", `translate(0, ${y})`);\n  }\n\n});\n\nexport default SteppedSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/steppedspeedslider/steppedspeedslider.js","module.exports = \"<div class=\\\"vzb-stepped-speed-slider\\\">\\n  <svg>\\n    <g class=\\\"vzb-stepped-speed-slider-triangle\\\"></g>\\n    <g class=\\\"vzb-stepped-speed-slider-axis\\\"></g>\\n  </svg>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/steppedspeedslider/steppedspeedslider.html\n// module id = 391\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\n\n\nconst precision = 1;\n\n//constants\nconst class_playing = \"vzb-playing\";\nconst class_loading = \"vzb-ts-loading\";\nconst class_hide_play = \"vzb-ts-hide-play-button\";\nconst class_dragging = \"vzb-ts-dragging\";\nconst class_axis_aligned = \"vzb-ts-axis-aligned\";\nconst class_show_value = \"vzb-ts-show-value\";\nconst class_show_value_when_drag_play = \"vzb-ts-show-value-when-drag-play\";\n\n//margins for slider\nconst profiles = {\n  small: {\n    margin: {\n      top: 7,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 8,\n    label_spacing: 10\n  },\n  medium: {\n    margin: {\n      top: 16,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 9,\n    label_spacing: 12\n  },\n  large: {\n    margin: {\n      top: 14,\n      right: 15,\n      bottom: 10,\n      left: 15\n    },\n    radius: 11,\n    label_spacing: 14\n  }\n};\n\n\nconst presentationProfileChanges = {\n  \"medium\": {\n    margin: {\n      top: 9\n    }\n  },\n  \"large\": {\n    margin: {\n    }\n  }\n};\n\nconst TimeSlider = Component.extend({\n  /**\n   * Initializes the timeslider.\n   * Executed once before any template is rendered.\n   * @param model The model passed to the component\n   * @param context The component's parent\n   */\n  init(model, context) {\n\n    this.name = \"gapminder-timeslider\";\n    this.template = this.template || require(\"./timeslider.html\");\n    this.prevPosition = null;\n    //define expected models/hooks for this component\n    this.model_expects = [{\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"entities\",\n      type: \"entities\"\n    }, {\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"ui\",\n      type: \"ui\"\n    }];\n\n    const _this = this;\n    //binds methods to this model\n    this.model_binds = {\n      \"change:time\": function(evt, path) {\n        if (_this.slide) {\n          if (([\"time.start\", \"time.end\"]).indexOf(path) !== -1) {\n            if (!_this.xScale) return;\n            _this.changeLimits();\n          }\n          _this._optionClasses();\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.start\": function(evt, path) {\n        if (_this.slide) {\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.end\": function(evt, path) {\n        if (_this.slide) {\n          //only set handle position if change is external\n          if (!_this.model.time.dragging) _this._setHandle(_this.model.time.playing);\n        }\n      },\n      \"change:time.offset\": function(evt, path) {\n        _this._updateProgressBar();\n        _this.model.marker.listenFramesQueue(null, time => {\n          _this._updateProgressBar(time);\n        });\n      },\n      \"change:time.startSelected\": function(evt, path) {\n        if (_this.slide) {\n          _this.updateSelectedStartLimiter();\n        }\n      },\n      \"change:time.endSelected\": function(evt, path) {\n        if (_this.slide) {\n          _this.updateSelectedEndLimiter();\n        }\n      },\n      \"change:marker.select\": function(evt, path) {\n        _this.setSelectedLimits();\n      }\n    };\n\n\n    // Same constructor as the superclass\n    this._super(model, context);\n\n    // Sort of defaults. Actually should be in ui default or bubblechart.\n    // By not having \"this.model.ui =\" we prevent it from going to url (not defined in defaults)\n    // Should be in defaults when we make components config part of external config (& every component gets own config)\n    this.ui = utils.extend({\n      show_limits: false,\n      show_value: false,\n      show_value_when_drag_play: true,\n      show_button: true,\n      class_axis_aligned: false\n    }, model.ui, this.ui);\n\n\n    //defaults\n    this.width = 0;\n    this.height = 0;\n    this.availableTimeFrames = [];\n    this.completedTimeFrames = [];\n    this.getValueWidth = utils.memoize(this.getValueWidth);\n    this._setTime = utils.throttle(this._setTime, 50);\n  },\n\n  //template is ready\n  readyOnce() {\n\n    const _this = this;\n\n    //DOM to d3\n    //TODO: remove this ugly hack\n    this.element = utils.isArray(this.element) ? this.element : d3.select(this.element);\n\n    //html elements\n    this.slider_outer = this.element.select(\".vzb-ts-slider\");\n    this.slider = this.slider_outer.select(\"g\");\n    this.axis = this.element.select(\".vzb-ts-slider-axis\");\n    this.select = this.element.select(\".vzb-ts-slider-select\");\n    this.progressBar = this.element.select(\".vzb-ts-slider-progress\");\n    this.slide = this.element.select(\".vzb-ts-slider-slide\");\n    this.handle = this.element.select(\".vzb-ts-slider-handle\");\n    this.valueText = this.element.select(\".vzb-ts-slider-value\");\n    //Scale\n    this.xScale = d3.scaleUtc()\n      .clamp(true);\n\n    //Axis\n    this.xAxis = d3.axisBottom()\n      .tickSize(0);\n    //Value\n    this.valueText.attr(\"text-anchor\", \"middle\").attr(\"dy\", \"-0.7em\");\n\n    const brushed = _this._getBrushed();\n    const brushedEnd = _this._getBrushedEnd();\n\n    //Brush for dragging\n    // this.brush = d3.brushX()\n    //   //.x(this.xScale)\n    //   .extent([[0, 0], [0, 0]])\n    //   .on(\"start brush\", function () {\n    //     brushed.call(this);\n    //   })\n    //   .on(\"end\", function () {\n    //     brushedEnd.call(this);\n    //   });\n\n    // //Slide\n    // this.slide.call(this.brush);\n\n    this.brush = d3.drag()\n      //.on(\"start.interrupt\", function() { _this.slide.interrupt(); })\n      .on(\"start drag\", function() {\n        brushed.call(this);\n      })\n      .on(\"end\", function() {\n        brushedEnd.call(this);\n      });\n\n    //Slide\n    this.slide.call(this.brush);\n\n    this.slider_outer.on(\"mousewheel\", () => {\n      //do nothing and dont pass the event on if we are currently dragging the slider\n      if (_this.model.time.dragging) {\n        d3.event.stopPropagation();\n        d3.event.preventDefault();\n        d3.event.returnValue = false;\n        return false;\n      }\n    });\n\n    //this.slide.selectAll(\".extent,.resize\")\n    //  .remove();\n\n    this._setSelectedLimitsId = 0; //counter for setSelectedLimits\n\n    if (this.model.time.startSelected > this.model.time.start) {\n      _this.updateSelectedStartLimiter();\n    }\n\n    if (this.model.time.endSelected < this.model.time.end) {\n      _this.updateSelectedEndLimiter();\n    }\n\n    // special for linechart: resize timeslider to match time x-axis length\n    this.parent.on(\"myEvent\", (evt, params) => {\n      const layoutProfile = _this.getLayoutProfile();\n      const profile = profiles[layoutProfile];\n\n      if (params.profile && params.profile.margin) {\n        profile.margin = params.profile.margin;\n      }\n\n      // set the right margin that depends on longest label width\n      _this.element.select(\".vzb-ts-slider-wrapper\")\n        .style(\"right\", `${params.mRight - profile.margin.right}px`);\n\n      _this.updateSize([0, params.rangeMax]);\n    });\n\n    this.on(\"resize\", () => {\n      _this.updateSize();\n    });\n  },\n\n  //template and model are ready\n  ready() {\n    if (this.model.time.splash) return;\n\n    this.element.classed(class_loading, false);\n\n    const play = this.element.select(\".vzb-ts-btn-play\");\n    const pause = this.element.select(\".vzb-ts-btn-pause\");\n    const _this = this;\n    const time = this.model.time;\n\n    play.on(\"click\", () => {\n\n      _this.model.time.play();\n    });\n\n    pause.on(\"click\", () => {\n      _this.model.time.pause(\"soft\");\n    });\n\n    this.changeLimits();\n    this.changeTime();\n    this.updateSize();\n\n    _this._updateProgressBar();\n    _this.model.marker.listenFramesQueue(null, time => {\n      _this._updateProgressBar(time);\n    });\n    _this.setSelectedLimits(true);\n  },\n\n  changeLimits() {\n    const minValue = this.model.time.start;\n    const maxValue = this.model.time.end;\n    //scale\n    this.xScale.domain([minValue, maxValue]);\n    //axis\n    this.xAxis.tickValues([minValue, maxValue])\n      .tickFormat(this.model.time.getFormatter());\n  },\n\n  changeTime() {\n    //time slider should always receive a time model\n    const time = this.model.time.value;\n    //special classes\n    this._optionClasses();\n  },\n\n  /**\n   * Executes everytime the container or vizabi is resized\n   * Ideally,it contains only operations related to size\n   */\n  updateSize(range) {\n    if (this.model.time.splash) return;\n\n    this.model.time.pause();\n\n    this.profile = this.getActiveProfile(profiles, presentationProfileChanges);\n\n    const slider_w = parseInt(this.slider_outer.style(\"width\"), 10) || 0;\n    const slider_h = parseInt(this.slider_outer.style(\"height\"), 10) || 0;\n\n    if (!slider_h || !slider_w) return utils.warn(\"time slider resize() aborted because element is too small or has display:none\");\n\n    this.width = slider_w - this.profile.margin.left - this.profile.margin.right;\n    this.height = slider_h - this.profile.margin.bottom - this.profile.margin.top;\n    const _this = this;\n\n    //translate according to margins\n    this.slider.attr(\"transform\", \"translate(\" + this.profile.margin.left + \",\" + this.profile.margin.top + \")\");\n\n    this.xScale.range(range || [0, this.width]);\n\n    this.slide\n      .attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\")\n      .attr(\"x1\", this.xScale.range()[0])\n      .attr(\"x2\", this.xScale.range()[1])\n      .style(\"stroke-width\", this.profile.radius * 2 + \"px\");\n    //.call(this.brush\n    //.extent([[this.xScale.range()[0], 0], [this.xScale.range()[1], this.height]]));\n\n    //adjust axis with scale\n    this.xAxis = this.xAxis.scale(this.xScale)\n      .tickPadding(this.profile.label_spacing);\n\n    this.axis.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\")\n      .call(this.xAxis);\n\n    this.select.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\");\n    this.progressBar.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\");\n\n    this.slide.select(\".background\")\n      .attr(\"height\", this.height);\n\n    //size of handle\n    this.handle.attr(\"transform\", \"translate(0,\" + this.height / 2 + \")\")\n      .attr(\"r\", this.profile.radius);\n\n    this.sliderWidth = _this.slider.node().getBoundingClientRect().width;\n\n    this.resizeSelectedLimiters();\n    this._resizeProgressBar();\n    this._setHandle();\n\n  },\n\n  setSelectedLimits(force) {\n    const _this = this;\n    this._setSelectedLimitsId++;\n    const _setSelectedLimitsId = this._setSelectedLimitsId;\n\n    const select = _this.model.marker.select;\n    if (select.length == 0) {\n      _this.model.time.set({\n        startSelected: new Date(_this.model.time.start),\n        endSelected: new Date(_this.model.time.end)\n      }, null, false  /*make change non-persistent for URL and history*/);\n      return;\n    }\n    const KEY = _this.model.entities.getDimension();\n    const proms = [];\n    utils.forEach(select, entity => {\n      proms.push(_this.model.marker.getEntityLimits(entity[KEY]));\n    });\n    Promise.all(proms).then(limits => {\n      if (_setSelectedLimitsId != _this._setSelectedLimitsId) return;\n      const first = limits.shift();\n      let min = first.min;\n      let max = first.max;\n      utils.forEach(limits, limit => {\n        if (min - limit.min > 0) min = limit.min;\n        if (max - limit.max < 0) max = limit.max;\n      });\n      _this.model.time\n        .set({\n          startSelected: d3.max([min, new Date(_this.model.time.start)]),\n          endSelected: d3.min([max, new Date(_this.model.time.end)])\n        }, force, false  /*make change non-persistent for URL and history*/);\n    });\n  },\n\n  updateSelectedStartLimiter() {\n    const _this = this;\n    this.select.select(\"#clip-start-\" + _this._id).remove();\n    this.select.select(\".selected-start\").remove();\n    if (this.model.time.startSelected && this.model.time.startSelected > this.model.time.start) {\n      this.select.append(\"clipPath\")\n        .attr(\"id\", \"clip-start-\" + _this._id)\n        .append(\"rect\");\n      this.select.append(\"path\")\n        .attr(\"clip-path\", \"url(\" + location.pathname + \"#clip-start-\" + _this._id + \")\")\n        .classed(\"selected-start\", true);\n      this.resizeSelectedLimiters();\n    }\n  },\n\n  updateSelectedEndLimiter() {\n    const _this = this;\n    this.select.select(\"#clip-end-\" + _this._id).remove();\n    this.select.select(\".selected-end\").remove();\n    if (this.model.time.endSelected && this.model.time.endSelected < this.model.time.end) {\n      this.select.append(\"clipPath\")\n        .attr(\"id\", \"clip-end-\" + _this._id)\n        .append(\"rect\");\n      this.select.append(\"path\")\n        .attr(\"clip-path\", \"url(\" + location.pathname + \"#clip-end-\" + _this._id + \")\")\n        .classed(\"selected-end\", true);\n      this.resizeSelectedLimiters();\n    }\n  },\n\n  resizeSelectedLimiters() {\n    const _this = this;\n    this.select.select(\".selected-start\")\n      .attr(\"d\", \"M0,0H\" + this.xScale(this.model.time.startSelected));\n    this.select.select(\"#clip-start-\" + _this._id).select(\"rect\")\n      .attr(\"x\", -this.height / 2)\n      .attr(\"y\", -this.height / 2)\n      .attr(\"height\", this.height)\n      .attr(\"width\", this.xScale(this.model.time.startSelected) + this.height / 2);\n    this.select.select(\".selected-end\")\n      .attr(\"d\", \"M\" + this.xScale(this.model.time.endSelected) + \",0H\" + this.xScale(this.model.time.end));\n    this.select.select(\"#clip-end-\" + _this._id).select(\"rect\")\n      .attr(\"x\", this.xScale(this.model.time.endSelected))\n      .attr(\"y\", -this.height / 2)\n      .attr(\"height\", this.height)\n      .attr(\"width\", this.xScale(this.model.time.end) - this.xScale(this.model.time.endSelected) + this.height / 2);\n  },\n\n  _resizeProgressBar() {\n    const _this = this;\n    this.progressBar.selectAll(\"path\")\n      .each(function(d) {\n        d3.select(this)\n          .attr(\"d\", \"M\" + _this.xScale(d[0]) + \",0H\" + _this.xScale(d[1]));\n      });\n  },\n\n  _updateProgressBar(time) {\n    const _this = this;\n    if (time) {\n      if (_this.completedTimeFrames.indexOf(time) != -1) return;\n      _this.completedTimeFrames.push(time);\n      let next = _this.model.time.incrementTime(time);\n      const prev = _this.model.time.decrementTime(time);\n      if (next > _this.model.time.end) {\n        if (time - _this.model.time.end == 0) {\n          next = time;\n          time = prev;\n        } else {\n          return;\n        }\n      }\n      if (_this.availableTimeFrames.length == 0 || _this.availableTimeFrames[_this.availableTimeFrames.length - 1][1] < time) {\n        _this.availableTimeFrames.push([time, next]);\n      } else if (next < _this.availableTimeFrames[0][0]) {\n        _this.availableTimeFrames.unshift([time, next]);\n      } else {\n        for (let i = 0; i < _this.availableTimeFrames.length; i++) {\n          if (time - _this.availableTimeFrames[i][1] == 0) {\n            if (i + 1 < _this.availableTimeFrames.length && next - _this.availableTimeFrames[i + 1][0] == 0) {\n              _this.availableTimeFrames[i][1] = _this.availableTimeFrames[i + 1][1];\n              _this.availableTimeFrames.splice(i + 1, 1);\n            } else {\n              _this.availableTimeFrames[i][1] = next;\n            }\n            break;\n          }\n          if (next - _this.availableTimeFrames[i][0] == 0) {\n            _this.availableTimeFrames[i][0] = time;\n            break;\n          }\n          if (time - _this.availableTimeFrames[i][1] > 0 && next - _this.availableTimeFrames[i + 1][0] < 0) {\n            _this.availableTimeFrames.splice(i + 1, 0, [time, next]);\n            break;\n          }\n        }\n      }\n    } else {\n      _this.availableTimeFrames = [];\n      _this.completedTimeFrames = [];\n    }\n\n    const progress = this.progressBar.selectAll(\"path\").data(_this.availableTimeFrames);\n    progress.exit().remove();\n    progress.enter()\n      .append(\"path\")\n      .attr(\"class\", \"domain\")\n      .merge(progress)\n      .each(function(d) {\n        const element = d3.select(this);\n        element.attr(\"d\", \"M\" + _this.xScale(d[0]) + \",0H\" + _this.xScale(d[1]))\n          .classed(\"rounded\", _this.availableTimeFrames.length == 1);\n\n      });\n  },\n\n\n  /**\n   * Returns width of slider text value.\n   * Parameters in this function needed for memoize function, so they are not redundant.\n   */\n  getValueWidth(layout, value) {\n    return this.valueText.node().getBoundingClientRect().width;\n  },\n\n  /**\n   * Gets brushed function to be executed when dragging\n   * @returns {Function} brushed function\n   */\n  _getBrushed() {\n    const _this = this;\n    return function() {\n\n      if (_this.model.time.playing)\n        _this.model.time.set(\"playing\", false, null, false);\n\n      _this._optionClasses();\n      _this.element.classed(class_dragging, true);\n\n      let value;// = _this.brush.extent()[0];\n      //var value = d3.brushSelection(_this.slide.node());\n\n      //if(!value) return;\n\n      //set brushed properties\n\n      if (d3.event.sourceEvent) {\n        // Prevent window scrolling on cursor drag in Chrome/Chromium.\n        d3.event.sourceEvent.preventDefault();\n\n        _this.model.time.dragStart();\n        let posX = utils.roundStep(Math.round(d3.mouse(this)[0]), precision);\n        value = _this.xScale.invert(posX);\n        const maxPosX = _this.width;\n\n        if (posX > maxPosX) {\n          posX = maxPosX;\n        } else if (posX < 0) {\n          posX = 0;\n        }\n\n        //set handle position\n        _this.handle.attr(\"cx\", posX);\n        _this.valueText.attr(\"transform\", \"translate(\" + posX + \",\" + (_this.height / 2) + \")\");\n        _this.valueText.text(_this.model.time.formatDate(value, \"ui\"));\n      }\n\n      //set time according to dragged position\n      if (value - _this.model.time.value !== 0) {\n        _this._setTime(value);\n      }\n    };\n  },\n\n  /**\n   * Gets brushedEnd function to be executed when dragging ends\n   * @returns {Function} brushedEnd function\n   */\n  _getBrushedEnd() {\n    const _this = this;\n    return function() {\n      _this._setTime.recallLast();\n      _this.element.classed(class_dragging, false);\n      _this.model.time.dragStop();\n      _this.model.time.snap();\n    };\n  },\n\n  /**\n   * Sets the handle to the correct position\n   * @param {Boolean} transition whether to use transition or not\n   */\n  _setHandle(transition) {\n    const _this = this;\n    const value = this.model.time.value;\n    //this.slide.call(this.brush.extent([value, value]));\n    const new_pos = this.xScale(value);\n    //this.brush.move(this.slide, [new_pos, new_pos])\n\n    this.element.classed(\"vzb-ts-disabled\", this.model.time.end <= this.model.time.start);\n    //    this.valueText.text(this.model.time.formatDate(value));\n\n    //    var old_pos = this.handle.attr(\"cx\");\n    //var new_pos = this.xScale(value);\n    if (_this.prevPosition == null) _this.prevPosition = new_pos;\n    const delayAnimations = new_pos > _this.prevPosition ? this.model.time.delayAnimations : 0;\n    if (transition) {\n      this.handle.attr(\"cx\", _this.prevPosition)\n        .transition()\n        .duration(delayAnimations)\n        .ease(d3.easeLinear)\n        .attr(\"cx\", new_pos);\n\n      this.valueText.attr(\"transform\", \"translate(\" + _this.prevPosition + \",\" + (this.height / 2) + \")\")\n        .transition(\"text\")\n        .delay(delayAnimations)\n        .text(this.model.time.formatDate(value, \"ui\"));\n      this.valueText\n        .transition()\n        .duration(delayAnimations)\n        .ease(d3.easeLinear)\n        .attr(\"transform\", \"translate(\" + new_pos + \",\" + (this.height / 2) + \")\");\n    } else {\n      this.handle\n        //cancel active transition\n        .interrupt()\n        .attr(\"cx\", new_pos);\n\n      this.valueText\n        //cancel active transition\n        .interrupt()\n        .interrupt(\"text\")\n        .transition(\"text\");\n      this.valueText\n        .attr(\"transform\", \"translate(\" + new_pos + \",\" + (this.height / 2) + \")\")\n        .text(this.model.time.formatDate(value, \"ui\"));\n    }\n    _this.prevPosition = new_pos;\n\n  },\n\n  /**\n   * Sets the current time model to time\n   * @param {number} time The time\n   */\n  _setTime(time) {\n    //update state\n    const _this = this;\n    //  frameRate = 50;\n\n    //avoid updating more than once in \"frameRate\"\n    //var now = new Date();\n    //if (this._updTime != null && now - this._updTime < frameRate) return;\n    //this._updTime = now;\n    const persistent = !this.model.time.dragging && !this.model.time.playing;\n    _this.model.time.getModelObject(\"value\").set(time, false, persistent); // non persistent\n  },\n\n\n  /**\n   * Applies some classes to the element according to options\n   */\n  _optionClasses() {\n    //show/hide classes\n\n    const show_limits = this.ui.show_limits;\n    const show_value = this.ui.show_value;\n    const show_value_when_drag_play = this.ui.show_value_when_drag_play;\n    const axis_aligned = this.ui.axis_aligned;\n    const show_play = (this.ui.show_button) && (this.model.time.playable);\n\n    if (!show_limits) {\n      this.xAxis.tickValues([]).ticks(0);\n    }\n\n    this.element.classed(class_hide_play, !show_play);\n    this.element.classed(class_playing, this.model.time.playing);\n    this.element.classed(class_show_value, show_value);\n    this.element.classed(class_show_value_when_drag_play, show_value_when_drag_play);\n    this.element.classed(class_axis_aligned, axis_aligned);\n  }\n});\n\nexport default TimeSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/timeslider/timeslider.js","module.exports = \"<div class=\\\"vzb-timeslider vzb-ts-loading\\\">\\n  <div class=\\\"vzb-ts-slider-wrapper\\\">\\n    <svg class=\\\"vzb-ts-slider\\\">\\n      <g>\\n        <g class=\\\"vzb-ts-slider-axis\\\"></g>\\n        <g class=\\\"vzb-ts-slider-progress\\\"></g>\\n        <g class=\\\"vzb-ts-slider-select\\\"></g>\\n        <circle class=\\\"vzb-ts-slider-handle\\\"></circle>\\n        <text class=\\\"vzb-ts-slider-value\\\"></text>\\n        <line class=\\\"vzb-ts-slider-slide\\\"></line>\\n      </g>\\n      </svg>\\n  </div>\\n\\n  <!-- SVG VIZABI ICONS\\n       source: https://github.com/encharm/Font-Awesome-SVG-PNG/ -->\\n  <div class=\\\"vzb-ts-btns\\\">\\n    <button class=\\\"vzb-ts-btn-loading vzb-ts-btn\\\">\\n      <div class='vzb-loader'></div>\\n    </button>\\n    <button class=\\\"vzb-ts-btn-play vzb-ts-btn\\\">\\n      <svg class=\\\"vzb-icon vzb-icon-play\\\" viewBox=\\\"3 3 42 42\\\"\\n           xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n        <path xmlns=\\\"http://www.w3.org/2000/svg\\\" d=\\\"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\\\"/>\\n      </svg>\\n    </button>\\n    <button class=\\\"vzb-ts-btn-pause vzb-ts-btn\\\">\\n      <svg class=\\\"vzb-icon vzb-icon-pause\\\" viewBox=\\\"3 3 42 42\\\"\\n           xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n        <path xmlns=\\\"http://www.w3.org/2000/svg\\\" d=\\\"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-2 28h-4V16h4v16zm8 0h-4V16h4v16z\\\"/>\\n      </svg>\\n    </button>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/timeslider/timeslider.html\n// module id = 393\n// module chunks = 0","import * as utils from \"base/utils\";\nimport Component from \"base/component\";\nimport Class from \"base/class\";\nimport { close as iconClose } from \"base/iconset\";\n\n/*!\n * VIZABI INDICATOR PICKER\n * Reusable indicator picker component\n */\n\nconst INDICATOR = \"which\";\nconst SCALETYPE = \"scaleType\";\nconst MODELTYPE_COLOR = \"color\";\nconst MENU_HORIZONTAL = 1;\nconst MENU_VERTICAL = 2;\n\n//css custom classes\nconst css = {\n  wrapper: \"vzb-treemenu-wrap\",\n  wrapper_outer: \"vzb-treemenu-wrap-outer\",\n  background: \"vzb-treemenu-background\",\n  close: \"vzb-treemenu-close\",\n  search: \"vzb-treemenu-search\",\n  list: \"vzb-treemenu-list\",\n  list_outer: \"vzb-treemenu-list-outer\",\n  list_item: \"vzb-treemenu-list-item\",\n  list_item_leaf: \"vzb-treemenu-list-item-leaf\",\n  leaf: \"vzb-treemenu-leaf\",\n  leaf_content: \"vzb-treemenu-leaf-content\",\n  leaf_content_item: \"vzb-treemenu-leaf-content-item\",\n  leaf_content_item_title: \"vzb-treemenu-leaf-content-item-title\",\n  leaf_content_item_descr: \"vzb-treemenu-leaf-content-item-descr\",\n  hasChild: \"vzb-treemenu-list-item-children\",\n  list_item_label: \"vzb-treemenu-list-item-label\",\n  list_top_level: \"vzb-treemenu-list-top\",\n  search_wrap: \"vzb-treemenu-search-wrap\",\n  isSpecial: \"vzb-treemenu-list-item-special\",\n  hidden: \"vzb-hidden\",\n  title: \"vzb-treemenu-title\",\n  scaletypes: \"vzb-treemenu-scaletypes\",\n  scaletypesDisabled: \"vzb-treemenu-scaletypes-disabled\",\n  scaletypesActive: \"vzb-treemenu-scaletypes-active\",\n  alignYt: \"vzb-align-y-top\",\n  alignYb: \"vzb-align-y-bottom\",\n  alignXl: \"vzb-align-x-left\",\n  alignXr: \"vzb-align-x-right\",\n  alignXc: \"vzb-align-x-center\",\n  menuHorizontal: \"vzb-treemenu-horizontal\",\n  menuVertical: \"vzb-treemenu-vertical\",\n  absPosVert: \"vzb-treemenu-abs-pos-vert\",\n  absPosHoriz: \"vzb-treemenu-abs-pos-horiz\",\n  menuOpenLeftSide: \"vzb-treemenu-open-left-side\",\n  noTransition: \"notransition\"\n};\n\n//options and globals\nconst OPTIONS = {\n  MOUSE_LOCS: [], //contains last locations of mouse\n  MOUSE_LOCS_TRACKED: 3, //max number of locations of mouse\n  DELAY: 200, //amazons multilevel delay\n  TOLERANCE: 150, //this parameter is used for controlling the angle of multilevel dropdown\n  LAST_DELAY_LOC: null, //this is cached location of mouse, when was a delay\n  TIMEOUT: null, //timeout id\n  SEARCH_PROPERTY: \"id\", //property in input data we we'll search by\n  SUBMENUS: \"children\", //property for submenus (used by search)\n  SEARCH_MIN_STR: 1, //minimal length of query string to start searching\n  RESIZE_TIMEOUT: null, //container resize timeout\n  MOBILE_BREAKPOINT: 400, //mobile breakpoint\n  CURRENT_PATH: [], //current active path\n  MIN_COL_WIDTH: 60, //minimal column size\n  MENU_DIRECTION: MENU_HORIZONTAL,\n  MAX_MENU_WIDTH: 320,\n  MENU_OPEN_LEFTSIDE: false\n};\n\nconst Menu = Class.extend({\n  init(parent, menu, options) {\n    const _this = this;\n    this.parent = parent;\n    this.entity = menu;\n    this.OPTIONS = options;\n    this.width = this.OPTIONS.MIN_COL_WIDTH;\n    this.direction = this.OPTIONS.MENU_DIRECTION;\n    this._setDirectionClass();\n    this.menuItems = [];\n    let menuItemsHolder;\n\n    if (this.entity.empty()) return this;\n\n    this.entity.each(function() {\n      menuItemsHolder = d3.selectAll(this.childNodes).filter(function() {\n        return d3.select(this).classed(css.list);\n      });\n    });\n    if (menuItemsHolder.empty()) menuItemsHolder = this.entity;\n    menu.selectAll(\".\" + css.list_item)\n      .filter(function() {\n        return this.parentNode == menuItemsHolder.node();\n      })\n      .each(function() {\n        _this.addSubmenu(d3.select(this));\n      });\n    return this;\n  },\n  setWidth(width, recursive, immediate) {\n    if (this.width != width && this.entity.node()) {\n      this.width = width;\n      if ((this.entity.classed(css.list_top_level) || this.entity.classed(\"active\")) && this.direction == MENU_HORIZONTAL) {\n        if (!immediate) {\n          this.entity.transition()\n            .delay(0)\n            .duration(100)\n            .style(\"width\", this.width + \"px\");\n        } else {\n          this.entity.style(\"width\", this.width + \"px\");\n        }\n      }\n      if (this.entity.classed(css.list_top_level)) {\n        this.entity.selectAll(\".\" + css.leaf).style(\"width\", this.width - 1 + \"px\");\n      }\n      if (recursive) {\n        for (let i = 0; i < this.menuItems.length; i++) {\n          this.menuItems[i].setWidth(this.width, recursive, immediate);\n        }\n      }\n      return this;\n    }\n  },\n  /**\n   * configure menu type (horizontal or vertical)\n   * @param direction MENU_HORIZONTAL or MENU_VERTICAL\n   * @param recursive change direction over menu sublevels\n   * @returns {Menu}\n   */\n  setDirection(direction, recursive) {\n    this.direction = direction;\n    this.entity\n      .style(\"width\", \"\")\n      .style(\"height\", \"\");\n    if (recursive) {\n      for (let i = 0; i < this.menuItems.length; i++) {\n        this.menuItems[i].setDirection(this.direction, recursive);\n      }\n    }\n    this._setDirectionClass();\n    return this;\n  },\n  _setDirectionClass() {\n    if (this.direction == MENU_HORIZONTAL) {\n      this.entity.classed(css.menuVertical, false);\n      this.entity.classed(css.menuHorizontal, true);\n    } else {\n      this.entity.classed(css.menuHorizontal, false);\n      this.entity.classed(css.menuVertical, true);\n    }\n  },\n  addSubmenu(item) {\n    this.menuItems.push(new MenuItem(this, item, this.OPTIONS));\n  },\n  open() {\n    const _this = this;\n    if (!this.isActive()) {\n      _this.parent.parentMenu.openSubmenuNow = true;\n      this.closeNeighbors(() => {\n        if (_this.direction == MENU_HORIZONTAL) {\n          _this._openHorizontal();\n          _this.calculateMissingWidth(0);\n        } else {\n          _this._openVertical();\n        }\n      });\n      _this.parent.parentMenu.openSubmenuNow = false;\n    }\n    return this;\n  },\n  /**\n   * recursively calculate missed width for last menu level\n   * @param width\n   * @param cb\n   */\n  calculateMissingWidth(width, cb) {\n    const _this = this;\n    if (this.entity.classed(css.list_top_level)) {\n      if (width > this.OPTIONS.MAX_MENU_WIDTH) {\n        if (typeof cb === \"function\") cb(width - this.OPTIONS.MAX_MENU_WIDTH);\n      }\n    } else {\n      this.parent.parentMenu.calculateMissingWidth(width + this.width, widthToReduce => {\n        if (widthToReduce > 0) {\n          _this.reduceWidth(widthToReduce, newWidth => {\n            if (typeof cb === \"function\") cb(newWidth); // callback is not defined if it is emitted from this level\n          });\n        } else if (typeof cb === \"function\") cb(widthToReduce);\n      });\n    }\n  },\n  /**\n   * restore width (if it was reduced before)\n   * @param width\n   * @param isClosedElement (parameter for check if curent element emit this action)\n   * @param cb\n   */\n  restoreWidth(width, isClosedElement, cb) {\n    const _this = this;\n    if (isClosedElement) {\n      this.parent.parentMenu.restoreWidth(width, false, cb);\n    } else if (width <= 0) {\n      if (typeof cb === \"function\") cb();\n    } else if (!this.entity.classed(css.list_top_level)) {\n      const currentElementWidth =  this.entity.node().offsetWidth;\n      const newElementWidth = Math.min(width, _this.width);\n      if (currentElementWidth < newElementWidth) {\n        const duration = 250 * (currentElementWidth / newElementWidth);\n        this.entity.transition()\n          .delay(0)\n          .duration(duration)\n          .style(\"width\", newElementWidth + \"px\")\n          .on(\"end\", () => {\n          });\n        _this.parent.parentMenu.restoreWidth(width - newElementWidth, false, cb);\n      } else {\n        this.parent.parentMenu.restoreWidth(width, false, cb);\n      }\n    } else {\n      if (typeof cb === \"function\") cb();\n    }\n  },\n  /**\n   * made element narrower to free space for other element\n   * @param width\n   * @param cb\n   */\n  reduceWidth(width, cb) {\n    const _this = this;\n    const currWidth = this.entity.node().offsetWidth;\n\n    if (currWidth <= this.OPTIONS.MIN_COL_WIDTH) {\n      cb(width - _this.width + currWidth);\n    } else {\n\n      const newElementWidth = Math.max(this.OPTIONS.MIN_COL_WIDTH, _this.width - width);\n      const duration = 250 / (_this.width / newElementWidth);\n      this.entity.transition()\n        .delay(0)\n        .duration(duration)\n        .style(\"width\", newElementWidth + \"px\")\n        .on(\"end\", () => {\n          cb(width - _this.width + newElementWidth);\n        });\n    }\n  },\n  _openHorizontal() {\n    const _this = this;\n    _this.entity.classed(\"active\", true)\n      .transition()\n      .delay(0)\n      .duration(250)\n      .style(\"width\", _this.width + \"px\")\n      .on(\"end\", () => {\n        _this.marqueeToggle(true);\n      });\n  },\n  _openVertical() {\n    const _this = this;\n    _this.entity.style(\"height\", \"0px\");\n    _this.entity.transition()\n      .delay(0)\n      .duration(250)\n      .style(\"height\", (36 * _this.menuItems.length) + \"px\")\n      .on(\"end\", () => {\n        _this.entity.style(\"height\", \"auto\");\n        _this.marqueeToggle(true);\n        _this.scrollToFitView();\n      });\n    _this.entity.classed(\"active\", true);\n  },\n  closeAllChildren(cb) {\n    let callbacks = 0;\n    for (let i = 0; i < this.menuItems.length; i++) {\n      if (this.menuItems[i].isActive()) {\n        ++callbacks;\n        this.menuItems[i].submenu.close(() => {\n          if (--callbacks == 0) {\n            if (typeof cb === \"function\") cb();\n          }\n        });\n      }\n    }\n    if (callbacks == 0) {\n      if (typeof cb === \"function\") cb();\n    }\n  },\n  closeNeighbors(cb) {\n    if (this.parent) {\n      this.parent.closeNeighbors(cb);\n    } else {\n      cb();\n    }\n  },\n  close(cb) {\n    const _this = this;\n    this.closeAllChildren(() => {\n      if (_this.direction == MENU_HORIZONTAL) {\n        _this._closeHorizontal(cb);\n      } else {\n        _this._closeVertical(cb);\n      }\n    });\n  },\n  _closeHorizontal(cb) {\n    const elementWidth = this.entity.node().offsetWidth;\n    const _this = this;\n    const openSubmenuNow = _this.parent.parentMenu.openSubmenuNow;\n    _this.entity.transition()\n      .delay(0)\n      .duration(20)\n      .style(\"width\", 0 + \"px\")\n      .on(\"end\", () => {\n        _this.marqueeToggle(false);\n        _this.entity.classed(\"active\", false);\n        if (!openSubmenuNow) {\n          _this.restoreWidth(_this.OPTIONS.MAX_MENU_WIDTH, true, () => {\n            if (typeof cb === \"function\") cb();\n          });\n        } else {\n          if (typeof cb === \"function\") cb();\n        }\n      });\n  },\n  _closeVertical(cb) {\n    const _this = this;\n    _this.entity\n      .transition()\n      .delay(0)\n      .duration(100)\n      .style(\"height\", 0 + \"px\")\n      .on(\"end\", () => {\n        _this.marqueeToggle(false);\n        _this.entity.classed(\"active\", false);\n        if (typeof cb === \"function\") cb();\n      });\n  },\n  isActive() {\n    return this.entity.classed(\"active\");\n  },\n  hasActiveParentNeighbour() {\n    return this.menuItems\n      .filter(item => item.isActive())\n      .some(item => !!d3.select(item.entity).node().classed(css.hasChild));\n  },\n  marqueeToggle(toggle) {\n    for (let i = 0; i < this.menuItems.length; i++) {\n      this.menuItems[i].marqueeToggle(toggle);\n    }\n  },\n  marqueeToggleAll(toggle) {\n    for (let i = 0; i < this.menuItems.length; i++) {\n      this.menuItems[i].marqueeToggleAll(toggle);\n    }\n  },\n  findItemById(id) {\n    for (let i = 0; i < this.menuItems.length; i++) {\n      if (this.menuItems[i].entity.data().id == id) {\n        return this.menuItems[i];\n      }\n      if (this.menuItems[i].submenu) {\n        const item = this.menuItems[i].submenu.findItemById(id);\n        if (item) return item;\n      }\n    }\n    return null;\n  },\n  getTopMenu() {\n    return this.parent ?\n      this.parent.parentMenu.getTopMenu() :\n      this;\n  },\n\n  scrollToFitView() {\n    const treeMenuNode = this.getTopMenu().entity.node().parentNode;\n    const parentItemNode = this.entity.node().parentNode;\n    const menuRect = treeMenuNode.getBoundingClientRect();\n    const itemRect = parentItemNode.getBoundingClientRect();\n    const viewportItemTop = itemRect.top - menuRect.top;\n    if (viewportItemTop + itemRect.height > menuRect.height) {\n      const newItemTop = (itemRect.height > menuRect.height) ?\n        (menuRect.height - 10) : (itemRect.height + 10);\n\n      const newScrollTop = treeMenuNode.scrollTop + newItemTop - menuRect.height + viewportItemTop;\n\n      const scrollTopTween = function(scrollTop) {\n        return function() {\n          const i = d3.interpolateNumber(this.scrollTop, scrollTop);\n          return function(t) {\n            treeMenuNode.scrollTop = i(t);\n          };\n        };\n      };\n\n      d3.select(treeMenuNode).transition().duration(100)\n        .tween(\"scrolltoptween\", scrollTopTween(newScrollTop));\n\n    }\n\n  }\n\n});\n\nconst MenuItem = Class.extend({\n  init(parent, item, options) {\n    const _this = this;\n    this.parentMenu = parent;\n    this.entity = item;\n    const submenu = item.select(\".\" + css.list_outer);\n    if (submenu.node()) {\n      this.submenu = new Menu(this, submenu, options);\n    }\n    this.entity.select(\".\" + css.list_item_label).on(\"mouseenter\", function() {\n      if (utils.isTouchDevice()) return;\n\n      if (_this.parentMenu.direction == MENU_HORIZONTAL && !d3.select(this).attr(\"children\")) {\n        _this.openSubmenu();\n        _this.marqueeToggle(true);\n      } else if (!_this.parentMenu.hasActiveParentNeighbour()) {\n        _this.closeNeighbors();\n      }\n    }).on(\"click.item\", function() {\n      if (utils.isTouchDevice()) return;\n      d3.event.stopPropagation();\n      if (_this.parentMenu.direction == MENU_HORIZONTAL) {\n        _this.openSubmenu();\n      } else {\n        const view = d3.select(this);\n        //only for leaf nodes\n        if (!view.attr(\"children\")) return;\n        _this.toggleSubmenu();\n      }\n    }).onTap(evt => {\n      d3.event.stopPropagation();\n      if (_this.parentMenu.direction == MENU_VERTICAL) {\n        const view = _this.entity.select(\".\" + css.list_item_label);\n        //only for leaf nodes\n        if (!view.attr(\"children\")) return;\n      }\n      _this.toggleSubmenu();\n    });\n    return this;\n  },\n  setWidth(width, recursive, immediate) {\n    if (this.submenu && recursive) {\n      this.submenu.setWidth(width, recursive, immediate);\n    }\n    return this;\n  },\n  setDirection(direction, recursive) {\n    if (this.submenu && recursive) {\n      this.submenu.setDirection(direction, recursive);\n    }\n    return this;\n  },\n  toggleSubmenu() {\n    if (this.submenu) {\n      if (this.submenu.isActive()) {\n        this.submenu.close();\n      } else {\n        this.submenu.open();\n      }\n    }\n  },\n  openSubmenu() {\n    if (this.submenu) {\n      this.submenu.open();\n    } else {\n      this.closeNeighbors();\n    }\n  },\n  closeNeighbors(cb) {\n    this.parentMenu.closeAllChildren(cb);\n  },\n  isActive() {\n    return this.submenu && this.submenu.isActive();\n  },\n  marqueeToggleAll(toggle) {\n    const _this = this;\n    const labels = this.entity.selectAll(\".\" + css.list_item_label);\n    labels.each(function() {\n      const label = d3.select(this).select(\"span\");\n      const parent = d3.select(this.parentNode);\n      parent.classed(\"marquee\", false);\n      label.style(\"left\", \"\");\n      label.style(\"right\", \"\");\n      label.style(\"width\", \"\");\n      if (toggle) {\n        if (label.node().scrollWidth > label.node().offsetWidth) {\n          label.attr(\"data-content\", label.text());\n          const space = 30;\n          const offset = space + label.node().scrollWidth;\n          label.style(\"left\", -offset + \"px\");\n          label.style(\"right\", -offset + \"px\");\n          label.style(\"width\", offset + \"px\");\n          parent.classed(\"marquee\", true);\n        }\n      }\n    });\n  },\n  marqueeToggle(toggle) {\n    const label = this.entity.select(\".\" + css.list_item_label).select(\"span\");\n    this.entity.classed(\"marquee\", false);\n    label.style(\"left\", \"\");\n    label.style(\"right\", \"\");\n    label.style(\"width\", \"\");\n    if (toggle) {\n      if (label.node().scrollWidth > label.node().offsetWidth) {\n        label.attr(\"data-content\", label.text());\n        const space = 30;\n        const offset = space + label.node().scrollWidth;\n        label.style(\"left\", -offset + \"px\");\n        label.style(\"right\", -offset + \"px\");\n        label.style(\"width\", offset + \"px\");\n        this.entity.classed(\"marquee\", true);\n      }\n    }\n  }\n});\n\nconst TreeMenu = Component.extend({\n\n  //setters-getters\n  tree(input) {\n    if (!arguments.length) return this._tree;\n    this._tree = input;\n    return this;\n  },\n  callback(input) {\n    if (!arguments.length) return this._callback;\n    this._callback = input;\n    return this;\n  },\n  markerID(input) {\n    if (!arguments.length) return this._markerID;\n    this._markerID = input;\n    this.targetModel(this.model.marker[this._markerID]);\n    return this;\n  },\n  targetModel(input) {\n    if (!arguments.length) return this._targetModel;\n    if (this._targetModel) {\n      this._targetModel.off(\"change\", this.change);\n    }\n    this._targetModel = input;\n    this._targetModel.on(\"change\", this.change);\n    if (this._targetModel.isHook()) {\n      this._targetProp = \"which\";\n    }\n    if (this._targetModel.isEntities()) {\n      this._targetProp = \"dim\";\n    }\n    return this;\n  },\n  targetProp(input) {\n    if (!arguments.length) return this._targetProp;\n    this._targetProp = input;\n    return this;\n  },\n  alignX(input) {\n    if (!arguments.length) return this._alignX;\n    this._alignX = input;\n    return this;\n  },\n  alignY(input) {\n    if (!arguments.length) return this._alignY;\n    this._alignY = input;\n    return this;\n  },\n  top(input) {\n    if (!arguments.length) return this._top;\n    this._top = input;\n    return this;\n  },\n  left(input) {\n    if (!arguments.length) return this._left;\n    this._left = input;\n    return this;\n  },\n\n  init(config, context) {\n\n    const _this = this;\n\n    this.name = \"gapminder-treemenu\";\n    this.model_expects = [{\n      name: \"marker\",\n      type: \"model\"\n    }, {\n      name: \"marker_tags\",\n      type: \"model\"\n    }, {\n      name: \"time\",\n      type: \"time\"\n    }, {\n      name: \"locale\",\n      type: \"locale\"\n    }];\n\n    this.context = context;\n    // object for manipulation with menu representation level\n    this.menuEntity = null;\n\n    //contructor is the same as any component\n    this._super(config, context);\n\n    //default callback\n    this._callback = function(indicator) {\n      console.log(\"Indicator selector: stub callback fired. New indicator is \", indicator);\n    };\n    this._alignX = \"center\";\n    this._alignY = \"center\";\n\n    //options\n    this.OPTIONS = utils.deepClone(OPTIONS);\n\n    this.change = this.change.bind(this);\n  },\n\n  change(evt, path) {\n    if (path.indexOf(\".\" + this._targetProp) == -1 && (!this._targetModel.isHook() || path.indexOf(\".scaleType\") == -1)) return;\n    this.updateView();\n  },\n\n  ready() {\n    this.updateView();\n\n    //TODO: hack! potentially unsafe operation here\n    let tags;\n    if (this.model.marker_tags) {\n      tags = this.model.marker_tags.label.getData();\n    }\n    this._buildIndicatorsTree(tags);\n  },\n\n  readyOnce() {\n    //this function is only called once at start, when both DOM and this.model are ready\n    //this.element contains the view where you can append the menu\n    this.element = d3.select(this.placeholder);\n    //menu class private\n    const _this = this;\n\n    this.element.selectAll(\"div\").remove();\n\n    //general markup\n\n    this.element.append(\"div\")\n      .attr(\"class\", css.background)\n      .on(\"click\", () => {\n        d3.event.stopPropagation();\n        _this.toggle();\n      });\n\n    this.wrapperOuter = this.element\n      .append(\"div\")\n      .classed(css.wrapper_outer, true)\n      .classed(css.noTransition, true);\n\n    this.wrapper = this.wrapperOuter\n      .append(\"div\")\n      .classed(css.wrapper, true)\n      .classed(css.noTransition, true)\n      .classed(\"vzb-dialog-scrollable\", true);\n\n    this.wrapper\n      .on(\"click\", () => {\n        d3.event.stopPropagation();\n      });\n\n    this.wrapper.append(\"div\")\n      .attr(\"class\", css.close)\n      .html(iconClose)\n      .on(\"click\", () => {\n        d3.event.stopPropagation();\n        _this.toggle();\n      })\n      .select(\"svg\")\n      .attr(\"width\", \"0px\")\n      .attr(\"height\", \"0px\")\n      .attr(\"class\", css.close + \"-icon\");\n\n    this.wrapper.append(\"div\")\n      .classed(css.scaletypes, true)\n      .append(\"span\");\n    this.wrapper.append(\"div\")\n      .classed(css.title, true)\n      .append(\"span\");\n\n    this.wrapper.append(\"div\")\n      .classed(css.search_wrap, true)\n      .append(\"input\")\n      .classed(css.search, true)\n      .attr(\"type\", \"search\")\n      .attr(\"id\", css.search);\n\n\n    //init functions\n    d3.select(\"body\").on(\"mousemove\", _this._mousemoveDocument);\n    this.wrapper.on(\"mouseleave\", () => {\n      //if(_this.menuEntity.direction != MENU_VERTICAL) _this.menuEntity.closeAllChildren();\n    });\n\n    this.translator = this.model.locale.getTFunction();\n\n    _this._enableSearch();\n\n    _this.resize();\n  },\n\n\n  _buildIndicatorsTree(tagsArray) {\n    if (tagsArray === true || !tagsArray) tagsArray = [];\n\n    const _this = this;\n    const ROOT = \"_root\";\n    const DEFAULT = \"_default\";\n    const UNCLASSIFIED = \"_unclassified\";\n    const ADVANCED = \"advanced\";\n\n    //init the dictionary of tags\n    const tags = {};\n    tags[ROOT] = { id: ROOT, children: [] };\n    tags[UNCLASSIFIED] = { id: UNCLASSIFIED, type: \"folder\", name: this.translator(\"buttons/unclassified\"), children: [] };\n\n    //populate the dictionary of tags\n    tagsArray.forEach(tag => { tags[tag.tag] = { id: tag.tag, name: tag.name, type: \"folder\", children: [] }; });\n\n    //init the tag tree\n    const indicatorsTree = tags[ROOT];\n    indicatorsTree.children.push(tags[UNCLASSIFIED]);\n\n    //populate the tag tree\n    tagsArray.forEach(tag => {\n      if (!tag.parent || !tags[tag.parent]) {\n        // add tag to a root\n        indicatorsTree.children.push(tags[tag.tag]);\n      } else {\n        //add tag to a branch\n        tags[tag.parent].children.push(tags[tag.tag]);\n      }\n    });\n\n    utils.forEach(this.model.marker._root._data, dataSource => {\n      if (dataSource._type !== \"data\") return;\n\n      const indicatorsDB = dataSource.getConceptprops();\n      const datasetName = dataSource.getDatasetName();\n      tags[datasetName] = { id: datasetName, type: \"dataset\", children: [] };\n      tags[ROOT].children.push(tags[datasetName]);\n\n      utils.forEach(indicatorsDB, (entry, id) => {\n        //if entry's tag are empty don't include it in the menu\n        if (entry.tags == \"_none\") return;\n        if (!entry.tags) entry.tags = datasetName || UNCLASSIFIED;\n        const concept = { id, name: entry.name, unit: entry.unit, description: entry.description, dataSource: dataSource._name };\n        entry.tags.split(\",\").forEach(tag => {\n          if (tags[tag.trim()]) {\n            tags[tag.trim()].children.push(concept);\n          } else {\n            //if entry's tag is not found in the tag dictionary\n            if (!_this.consoleGroupOpen) {\n              console.groupCollapsed(\"Some tags were are not found, so indicators went under 'Unclassified' menu\");\n              _this.consoleGroupOpen = true;\n            }\n            utils.warn(\"tag '\" + tag + \"' for indicator '\" + id + \"'\");\n            tags[UNCLASSIFIED].children.push(concept);\n          }\n        });\n      });\n    });\n    if (_this.consoleGroupOpen) {\n      console.groupEnd();\n      delete _this.consoleGroupOpen;\n    }\n    this._sortChildren(indicatorsTree);\n    this.indicatorsTree = indicatorsTree;\n  },\n\n  _sortChildren(tree, isSubfolder) {\n    const _this = this;\n    if (!tree.children) return;\n    tree.children.sort(\n      utils\n      //in each folder including root: put subfolders below loose items\n        .firstBy()((a, b) => { a = a.type === \"dataset\" ? 1 : 0;  b = b.type === \"dataset\" ? 1 : 0; return b - a; })\n        .thenBy((a, b) => { a = a.children ? 1 : 0;  b = b.children ? 1 : 0; return a - b; })\n        .thenBy((a, b) => {\n        //in the root level put \"time\" on top and send \"anvanced\" to the bottom\n          if (!isSubfolder) {\n            if (a.id == \"time\") return -1;\n            if (b.id == \"time\") return 1;\n            if (a.id == \"advanced\") return 1;\n            if (b.id == \"advanced\") return -1;\n            if (a.id == \"_default\") return 1;\n            if (b.id == \"_default\") return -1;\n          }\n          //sort items alphabetically. folders go down because of the emoji folder in the beginning of the name\n          return a.name > b.name ? 1 : -1;\n        })\n    );\n\n    //recursively sort items in subfolders too\n    tree.children.forEach(d => {\n      _this._sortChildren(d, true);\n    });\n  },\n\n  //happens on resizing of the container\n  resize() {\n    const _this = this;\n\n    this.profiles = {\n      \"small\": {\n        col_width: 200\n      },\n      \"medium\": {\n        col_width: 200\n      },\n      \"large\": {\n        col_width: 200\n      }\n    };\n\n    let top = this._top;\n    let left = this._left;\n\n    if (!this.wrapper) return utils.warn(\"treemenu resize() abort because container is undefined\");\n\n    this.wrapper.classed(css.noTransition, true);\n    this.wrapper.node().scrollTop = 0;\n\n    this.activeProfile = this.profiles[this.getLayoutProfile()];\n    this.OPTIONS.IS_MOBILE = this.getLayoutProfile() === \"small\";\n\n    if (this.menuEntity) {\n      this.menuEntity.setWidth(this.activeProfile.col_width, true, true);\n\n      if (this.OPTIONS.IS_MOBILE) {\n        if (this.menuEntity.direction != MENU_VERTICAL) {\n          this.menuEntity.setDirection(MENU_VERTICAL, true);\n          this.OPTIONS.MENU_DIRECTION = MENU_VERTICAL;\n        }\n      } else {\n        if (this.menuEntity.direction != MENU_HORIZONTAL) {\n          this.menuEntity.setDirection(MENU_HORIZONTAL, true);\n          this.OPTIONS.MENU_DIRECTION = MENU_HORIZONTAL;\n        }\n      }\n    }\n\n    this.width = _this.element.node().offsetWidth;\n    this.height = _this.element.node().offsetHeight;\n    const rect = this.wrapperOuter.node().getBoundingClientRect();\n    const containerWidth = rect.width;\n    let containerHeight = rect.height;\n    if (containerWidth) {\n      if (this.OPTIONS.IS_MOBILE) {\n        this.clearPos();\n      } else {\n        if (top || left) {\n          if (this.wrapperOuter.node().offsetTop < 10) {\n            this.wrapperOuter.style(\"top\", \"10px\");\n          }\n          if (this.height - _this.wrapperOuter.node().offsetTop - containerHeight < 0) {\n            if (containerHeight > this.height) {\n              containerHeight = this.height - 20;\n            }\n            this.wrapperOuter.style(\"top\", (this.height - containerHeight - 10) + \"px\");\n            this.wrapperOuter.style(\"bottom\", \"auto\");\n          }\n          if (top) top = _this.wrapperOuter.node().offsetTop;\n        }\n\n        let maxHeight;\n        if (this.wrapperOuter.classed(css.alignYb)) {\n          maxHeight = this.wrapperOuter.node().offsetTop + this.wrapperOuter.node().offsetHeight;\n        } else {\n          maxHeight = this.height - this.wrapperOuter.node().offsetTop;\n        }\n        this.wrapper.style(\"max-height\", (maxHeight - 10) + \"px\");\n\n        this.wrapperOuter.classed(css.alignXc, this._alignX === \"center\");\n        this.wrapperOuter.style(\"margin-left\", this._alignX === \"center\" ? \"-\" + containerWidth / 2 + \"px\" : null);\n        if (this._alignX === \"center\") {\n          this.OPTIONS.MAX_MENU_WIDTH = this.width / 2 - containerWidth * 0.5 - 10;\n        } else {\n          this.OPTIONS.MAX_MENU_WIDTH = this.width - this.wrapperOuter.node().offsetLeft - containerWidth - 10; // 10 - padding around wrapper\n        }\n\n        const minMenuWidth = this.activeProfile.col_width + this.OPTIONS.MIN_COL_WIDTH * 2;\n        let leftPos = this.wrapperOuter.node().offsetLeft;\n        this.OPTIONS.MENU_OPEN_LEFTSIDE = this.OPTIONS.MAX_MENU_WIDTH < minMenuWidth && leftPos > (this.OPTIONS.MAX_MENU_WIDTH + 10);\n        if (this.OPTIONS.MENU_OPEN_LEFTSIDE) {\n          if (leftPos <  (minMenuWidth + 10)) leftPos = (minMenuWidth + 10);\n          this.OPTIONS.MAX_MENU_WIDTH = leftPos - 10; // 10 - padding around wrapper\n        } else {\n          if (this.OPTIONS.MAX_MENU_WIDTH < minMenuWidth) {\n            leftPos -= (minMenuWidth - this.OPTIONS.MAX_MENU_WIDTH);\n            this.OPTIONS.MAX_MENU_WIDTH = minMenuWidth;\n          }\n        }\n\n        if (left) {\n          left = leftPos;\n        } else {\n          if (leftPos != this.wrapperOuter.node().offsetLeft) {\n            this.wrapperOuter.style(\"left\", \"auto\");\n            this.wrapperOuter.style(\"right\", (this.width - leftPos - rect.width) + \"px\");\n          }\n        }\n\n        this._top = top;\n        this._left = left;\n\n        if (left || top) this.setPos();\n\n        this.wrapperOuter.classed(\"vzb-treemenu-open-left-side\", !this.OPTIONS.IS_MOBILE && this.OPTIONS.MENU_OPEN_LEFTSIDE);\n      }\n    }\n\n    this.wrapper.node().offsetHeight;\n    this.wrapper.classed(css.noTransition, false);\n\n    this.setHorizontalMenuHeight();\n\n    return this;\n  },\n\n  toggle() {\n    const _this = this;\n    const hidden = !this.element.classed(css.hidden);\n    this.element.classed(css.hidden, hidden);\n\n    if (hidden) {\n      this.clearPos();\n      this.menuEntity.marqueeToggle(false);\n    } else {\n      this.setPos();\n      !utils.isTouchDevice() && this.focusSearch();\n      this.resize();\n      this.scrollToSelected();\n    }\n\n    this.wrapper.classed(css.noTransition, hidden);\n\n    this.parent.components.forEach(c => {\n      if (c.name == \"gapminder-dialogs\") {\n        d3.select(c.placeholder.parentNode).classed(\"vzb-blur\", !hidden);\n      } else\n      if (c.element.classed) {\n        c.element.classed(\"vzb-blur\", c != _this && !hidden);\n      } else {\n        d3.select(c.element).classed(\"vzb-blur\", c != _this && !hidden);\n      }\n    });\n\n    this.width = _this.element.node().offsetWidth;\n  },\n\n  scrollToSelected() {\n    if (!this.selectedNode) return;\n    const _this = this;\n    const scrollToItem = function(listNode, itemNode) {\n      listNode.scrollTop = 0;\n      const rect = listNode.getBoundingClientRect();\n      const itemRect = itemNode.getBoundingClientRect();\n      const scrollTop = itemRect.bottom - rect.top - listNode.offsetHeight + 10;\n      listNode.scrollTop = scrollTop;\n    };\n\n    if (this.menuEntity.direction == MENU_VERTICAL) {\n      scrollToItem(this.wrapper.node(), this.selectedNode);\n      _this.menuEntity.marqueeToggleAll(true);\n    } else {\n      const selectedItem = this.menuEntity.findItemById(d3.select(this.selectedNode).data().id);\n      selectedItem.submenu.calculateMissingWidth(0, () => {\n        _this.menuEntity.marqueeToggleAll(true);\n      });\n\n      let parent = this.selectedNode;\n      let listNode;\n      while (!(utils.hasClass(parent, css.list_top_level))) {\n        if (parent.tagName == \"LI\") {\n          listNode = utils.hasClass(parent.parentNode, css.list_top_level) ? parent.parentNode.parentNode : parent.parentNode;\n          scrollToItem(listNode, parent);\n        }\n        parent = parent.parentNode;\n      }\n    }\n  },\n\n  setPos() {\n    const top = this._top;\n    const left = this._left;\n    const rect = this.wrapperOuter.node().getBoundingClientRect();\n\n    if (top) {\n      this.wrapperOuter.style(\"top\", top + \"px\");\n      this.wrapperOuter.style(\"bottom\", \"auto\");\n      this.wrapperOuter.classed(css.absPosVert, top);\n    }\n    if (left) {\n      let right = this.element.node().offsetWidth - left - rect.width;\n      right = right < 10 ? 10 : right;\n      this.wrapperOuter.style(\"right\", right + \"px\");\n      this.wrapperOuter.style(\"left\", \"auto\");\n      this.wrapperOuter.classed(css.absPosHoriz, right);\n    }\n\n  },\n\n  clearPos() {\n    this._top = \"\";\n    this._left = \"\";\n    this.wrapperOuter.attr(\"style\", \"\");\n    this.wrapperOuter.classed(css.absPosVert, \"\");\n    this.wrapperOuter.classed(css.absPosHoriz, \"\");\n    this.wrapperOuter.classed(css.menuOpenLeftSide, \"\");\n    this.wrapper.style(\"max-height\", \"\");\n  },\n\n  setHorizontalMenuHeight() {\n    let wrapperHeight = null;\n    if (this.menuEntity && this.OPTIONS.MENU_DIRECTION == MENU_HORIZONTAL && this.menuEntity.menuItems.length) {\n      const oneItemHeight = parseInt(this.menuEntity.menuItems[0].entity.style(\"height\"), 10) || 0;\n      const menuMaxHeight = oneItemHeight * this._maxChildCount;\n      const rootMenuHeight = Math.max(this.menuEntity.menuItems.length, 3) * oneItemHeight + this.menuEntity.entity.node().offsetTop + parseInt(this.wrapper.style(\"padding-bottom\"), 10);\n      wrapperHeight = \"\" + Math.max(menuMaxHeight, rootMenuHeight) + \"px\";\n    }\n    this.wrapper.classed(css.noTransition, true);\n    this.wrapper.node().offsetHeight;\n    this.wrapper.style(\"height\", wrapperHeight);\n    this.wrapper.node().offsetHeight;\n    this.wrapper.classed(css.noTransition, false);\n  },\n  //search listener\n  _enableSearch() {\n    const _this = this;\n\n    const input = this.wrapper.select(\".\" + css.search);\n\n    //it forms the array of possible queries\n    const getMatches = function(value) {\n      const matches = {\n        _id: \"root\",\n        children: []\n      };\n\n      //translation integration\n      const translationMatch = function(value, data, i) {\n\n        let translate = data[i].name;\n        if (!translate && _this.translator) {\n          const t1 = _this.translator(\"indicator\" + \"/\" + data[i][_this.OPTIONS.SEARCH_PROPERTY] + \"/\" + _this._targetModel._type);\n          translate =  t1 || _this.translator(\"indicator/\" + data[i][_this.OPTIONS.SEARCH_PROPERTY]);\n        }\n        return translate && translate.toLowerCase().indexOf(value.toLowerCase()) >= 0;\n      };\n\n      const matching = function(data) {\n        const SUBMENUS = _this.OPTIONS.SUBMENUS;\n        for (let i = 0; i < data.length; i++) {\n          let match = false;\n          match =  translationMatch(value, data, i);\n          if (match) {\n            matches.children.push(data[i]);\n          }\n          if (!match && data[i][SUBMENUS]) {\n            matching(data[i][SUBMENUS]);\n          }\n        }\n      };\n      matching(_this.dataFiltered.children);\n\n      matches.children = utils.unique(matches.children, child => child.id);\n      return matches;\n    };\n\n    let searchValueNonEmpty = false;\n\n    const searchIt = utils.debounce(() => {\n      const value = input.node().value;\n\n      //Protection from unwanted IE11 input events.\n      //IE11 triggers an 'input' event when 'placeholder' attr is set to input element and\n      //on 'focusin' and on 'focusout', if nothing has been entered into the input.\n      if (!searchValueNonEmpty && value == \"\") return;\n      searchValueNonEmpty = value != \"\";\n\n      if (value.length >= _this.OPTIONS.SEARCH_MIN_STR) {\n        _this.redraw(getMatches(value), true);\n      } else {\n        _this.redraw();\n      }\n    }, 250);\n\n    input.on(\"input\", searchIt);\n  },\n\n  _selectIndicator(value) {\n    this._callback(this._targetProp, value);\n    this.toggle();\n  },\n\n\n  //function is redrawing data and built structure\n  redraw(data, useDataFiltered) {\n    const _this = this;\n\n    const isHook = _this._targetModel.isHook();\n\n    let dataFiltered, allowedIDs;\n\n    const indicatorsDB = {};\n    utils.forEach(this.model.marker._root._data, m => {\n      if (m._type === \"data\") utils.deepExtend(indicatorsDB, m.getConceptprops());\n    });\n\n    const targetModelType = _this._targetModel._type;\n\n    if (useDataFiltered) {\n      dataFiltered = data;\n    } else {\n      if (data == null) data = this._tree;\n\n      if (isHook) {\n        allowedIDs = utils.keys(indicatorsDB).filter(f => {\n          //check if indicator is denied to show with allow->names->!indicator\n          if (_this._targetModel.allow && _this._targetModel.allow.names) {\n            if (_this._targetModel.allow.names.indexOf(\"!\" + f) != -1) return false;\n            if (_this._targetModel.allow.names.indexOf(f) != -1) return true;\n          }\n          //keep indicator if nothing is specified in tool properties\n          if (!_this._targetModel.allow || !_this._targetModel.allow.scales) return true;\n          //keep indicator if any scale is allowed in tool properties\n          if (_this._targetModel.allow.scales[0] == \"*\") return true;\n\n          // if no scales defined, all are allowed\n          if (!indicatorsDB[f].scales) return true;\n\n          //check if there is an intersection between the allowed tool scale types and the ones of indicator\n          for (let i = indicatorsDB[f].scales.length - 1; i >= 0; i--) {\n            if (_this._targetModel.allow.scales.indexOf(indicatorsDB[f].scales[i]) > -1) return true;\n          }\n\n          return false;\n        });\n      } else if (_this._targetModel.isEntities()) {\n        const entityTypes = [\"entity_domain\", \"entity_set\"];\n        allowedIDs = utils.keys(indicatorsDB).filter(f => entityTypes.indexOf(indicatorsDB[f].concept_type) > -1);\n      } else {\n        allowedIDs = utils.keys(indicatorsDB);\n      }\n\n      dataFiltered = utils.pruneTree(data, f => allowedIDs.indexOf(f.id) > -1);\n\n      this.dataFiltered = dataFiltered;\n    }\n\n    this.wrapper.select(\"ul\").remove();\n\n    this.element.select(\".\" + css.title).select(\"span\")\n      .text(this.translator(_this._targetModel.isEntities() ? _this._targetModel._root._name + \"/\" + _this._targetModel._name\n        : \"buttons/\" + (isHook ? _this._targetModel._name : (targetModelType + \"/\" + _this._targetProp)))\n      );\n\n    this.element.select(\".\" + css.search)\n      .attr(\"placeholder\", this.translator(\"placeholder/search\") + \"...\");\n\n    this._maxChildCount = 0;\n\n    function createSubmeny(select, data, toplevel) {\n      if (!data.children) return;\n      _this._maxChildCount = Math.max(_this._maxChildCount, data.children.length);\n      const _select = toplevel ? select : select.append(\"div\")\n        .classed(css.list_outer, true);\n\n      const li = _select.append(\"ul\")\n        .classed(css.list, !toplevel)\n        .classed(css.list_top_level, toplevel)\n        .classed(\"vzb-dialog-scrollable\", true)\n        .selectAll(\"li\")\n        .data(data.children, d => d[\"id\"])\n        .enter()\n        .append(\"li\");\n\n      li.append(\"span\")\n        .classed(css.list_item_label, true)\n        // .attr(\"info\", function(d) {\n        //   return d.id;\n        // })\n        .attr(\"children\", d => d.children ? \"true\" : null)\n        .attr(\"type\", d => d.type ? d.type : null)\n        .on(\"click\", function(d) {\n          const view = d3.select(this);\n          //only for leaf nodes\n          if (view.attr(\"children\")) return;\n          d3.event.stopPropagation();\n          _this._selectIndicator({ concept: d.id, dataSource: d.dataSource });\n        })\n        .append(\"span\")\n        .text(d => {\n          //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n          const translated = d.id === \"_default\" ? _this.translator(\"indicator/_default/\" + targetModelType) : d.name || d.id;\n          if (!translated && translated !== \"\") utils.warn(\"translation missing: NAME of \" + d.id);\n          return translated || \"\";\n        });\n\n      li.classed(css.list_item, true)\n        .classed(css.hasChild, d => d[\"children\"])\n        .classed(css.isSpecial, d => d[\"special\"])\n        .each(function(d) {\n          const view = d3.select(this);\n\n          //deepLeaf\n          if (!d.children) {\n            const deepLeaf = view.append(\"div\").attr(\"class\", css.menuHorizontal + \" \" + css.list_outer + \" \" + css.list_item_leaf);\n            deepLeaf.on(\"click\", d => {\n              _this._selectIndicator({ concept: d.id, dataSource: d.dataSource });\n            });\n            const deepLeafContent = deepLeaf.append(\"div\").classed(css.leaf + \" \" + css.leaf_content + \" vzb-dialog-scrollable\", true);\n            deepLeafContent.append(\"span\").classed(css.leaf_content_item + \" \" + css.leaf_content_item_title, true)\n              .text(d => {\n                //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n                const translated = d.id === \"_default\" ? _this.translator(\"indicator/_default/\" + targetModelType) : d.name;\n                return translated || \"\";\n              });\n            let hideUnits;\n            const units = deepLeafContent.append(\"span\").classed(css.leaf_content_item, true)\n              .text(d => {\n                //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n                const translated = d.id === \"_default\" ? _this.translator(\"unit/_default/\" + targetModelType) : d.unit;\n                hideUnits = !translated;\n                return _this.translator(\"hints/units\") + \": \" + translated || \"\";\n              });\n            units.classed(\"vzb-hidden\", hideUnits);\n            let hideDescription;\n            const description = deepLeafContent.append(\"span\").classed(css.leaf_content_item + \" \" + css.leaf_content_item_descr, true)\n              .text(d => {\n                //Let the indicator \"_default\" in tree menu be translated differnetly for every hook type\n                const translated = d.id === \"_default\" ? _this.translator(\"description/_default/\" + targetModelType) : d.description;\n                hideDescription = !translated;\n                return (hideUnits && hideDescription) ? _this.translator(\"hints/nodescr\") : translated || \"\";\n              });\n            description.classed(\"vzb-hidden\", hideDescription && !hideUnits);\n          }\n\n          if (d.id == _this._targetModel[_this._targetProp]) {\n            let parent;\n            if (_this.selectedNode && toplevel) {\n              parent = _this.selectedNode.parentNode;\n              d3.select(_this.selectedNode)\n                .select(\".\" + css.list_item_leaf).classed(\"active\", false);\n              while (!(utils.hasClass(parent, css.list_top_level))) {\n                if (parent.tagName == \"UL\") {\n                  d3.select(parent.parentNode)\n                    .classed(\"active\", false);\n                }\n                parent = parent.parentNode;\n              }\n            }\n            if (!_this.selectedNode || toplevel) {\n              parent = this.parentNode;\n              d3.select(this).classed(\"item-active\", true)\n                .select(\".\" + css.list_item_leaf).classed(\"active\", true);\n              while (!(utils.hasClass(parent, css.list_top_level))) {\n                if (parent.tagName == \"UL\") {\n                  d3.select(parent.parentNode)\n                    .classed(\"active\", true);\n                }\n                if (parent.tagName == \"LI\") {\n                  d3.select(parent).classed(\"item-active\", true);\n                }\n                parent = parent.parentNode;\n              }\n              _this.selectedNode = this;\n            }\n          }\n          createSubmeny(view, d);\n        });\n    }\n\n    if (this.OPTIONS.IS_MOBILE) {\n      this.OPTIONS.MENU_DIRECTION = MENU_VERTICAL;\n    } else {\n      this.OPTIONS.MENU_DIRECTION = MENU_HORIZONTAL;\n    }\n    this.selectedNode = null;\n    createSubmeny(this.wrapper, dataFiltered, true);\n    this.menuEntity = new Menu(null, this.wrapper.selectAll(\".\" + css.list_top_level), this.OPTIONS);\n    if (this.menuEntity) this.menuEntity.setDirection(this.OPTIONS.MENU_DIRECTION);\n    if (this.menuEntity) this.menuEntity.setWidth(this.activeProfile.col_width, true, true);\n\n    this.setHorizontalMenuHeight();\n\n    if (!useDataFiltered) {\n      let pointer = \"_default\";\n      if (allowedIDs.indexOf(this._targetModel[_this._targetProp]) > -1) pointer = this._targetModel[_this._targetProp];\n      if (!indicatorsDB[pointer]) utils.error(\"Concept properties of \" + pointer + \" are missing from the set, or the set is empty. Put a breakpoint here and check what you have in indicatorsDB\");\n\n      if (!indicatorsDB[pointer].scales) {\n        this.element.select(\".\" + css.scaletypes).classed(css.hidden, true);\n        return true;\n      }\n      const scaleTypesData = isHook ? indicatorsDB[pointer].scales.filter(f => {\n        if (!_this._targetModel.allow || !_this._targetModel.allow.scales) return true;\n        if (_this._targetModel.allow.scales[0] == \"*\") return true;\n        return _this._targetModel.allow.scales.indexOf(f) > -1;\n      }) : [];\n      if (scaleTypesData.length == 0) {\n        this.element.select(\".\" + css.scaletypes).classed(css.hidden, true);\n      } else {\n\n        let scaleTypes = this.element.select(\".\" + css.scaletypes).classed(css.hidden, false).selectAll(\"span\")\n          .data(scaleTypesData, d => d);\n\n        scaleTypes.exit().remove();\n\n        scaleTypes = scaleTypes.enter().append(\"span\")\n          .on(\"click\", d => {\n            d3.event.stopPropagation();\n            _this._setModel(\"scaleType\", d);\n          })\n          .merge(scaleTypes);\n\n        const mdlScaleType = _this._targetModel.scaleType;\n\n        scaleTypes\n          .classed(css.scaletypesDisabled, scaleTypesData.length < 2)\n          .classed(css.scaletypesActive, d => (d == mdlScaleType || d === \"log\" && mdlScaleType === \"genericLog\") && scaleTypesData.length > 1)\n          .text(d => _this.translator(\"scaletype/\" + d));\n      }\n\n    }\n\n    return this;\n  },\n\n\n  updateView() {\n    const _this = this;\n\n    if (!this._targetModel) return;\n\n    this.wrapperOuter.classed(css.absPosVert, this._top);\n    this.wrapperOuter.classed(css.alignYt, this._alignY === \"top\");\n    this.wrapperOuter.classed(css.alignYb, this._alignY === \"bottom\");\n    this.wrapperOuter.classed(css.absPosHoriz, this._left);\n    this.wrapperOuter.classed(css.alignXl, this._alignX === \"left\");\n    this.wrapperOuter.classed(css.alignXr, this._alignX === \"right\");\n\n    const setModel = this._setModel.bind(this);\n    this\n      .callback(setModel)\n      .tree(this.indicatorsTree)\n      .redraw();\n\n    this.wrapper.select(\".\" + css.search).node().value = \"\";\n\n    return this;\n  },\n\n  focusSearch(focus = true) {\n    const searchInput = this.wrapper.select(\".\" + css.search).node();\n\n    if (focus) {\n      searchInput.focus();\n    } else {\n      searchInput.blur();\n    }\n  },\n\n  _setModel(what, value) {\n\n    const mdl = this._targetModel;\n    if (what == \"which\") mdl.setWhich(value);\n    if (what == \"scaleType\") mdl.setScaleType(value);\n    if (what == \"dim\") mdl.setDimension(value);\n  }\n\n});\n\nexport default TreeMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/treemenu/treemenu.js","var map = {\n\t\"./_dialog.js\": 10,\n\t\"./about/about.js\": 152,\n\t\"./axes/axes.js\": 153,\n\t\"./colors/colors.js\": 155,\n\t\"./dialogs.js\": 156,\n\t\"./find/find.js\": 157,\n\t\"./grouping/grouping.js\": 158,\n\t\"./label/label.js\": 159,\n\t\"./moreoptions/moreoptions.js\": 161,\n\t\"./opacity/opacity.js\": 162,\n\t\"./presentation/presentation.js\": 163,\n\t\"./show/show.js\": 164,\n\t\"./side/side.js\": 165,\n\t\"./size/size.js\": 166,\n\t\"./speed/speed.js\": 167,\n\t\"./stack/stack.js\": 168,\n\t\"./timedisplay/timedisplay.js\": 170,\n\t\"./zoom/zoom.js\": 172\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 395;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialogs \\.js$\n// module id = 395\n// module chunks = 0","var map = {\n\t\"./d3.axisWithLabelPicker.js\": 151,\n\t\"./d3.collisionResolver.js\": 397,\n\t\"./d3.colorPicker.js\": 150,\n\t\"./d3.dynamicBackground.js\": 171,\n\t\"./d3.genericLogScale.js\": 145,\n\t\"./d3.geoProjection.js\": 398,\n\t\"./d3.touchEvents.js\": 146,\n\t\"./labels.js\": 399,\n\t\"./requireAll.js\": 99,\n\t\"./svgexport.js\": 401,\n\t\"./textEllipsis.js\": 402,\n\t\"./topojson.js\": 403\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 396;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/helpers nonrecursive \\.js$\n// module id = 396\n// module chunks = 0","//d3.svg.collisionResolver\n\nexport default function collisionResolver() {\n  return (function collision_resolver() {\n    const DURATION = 300;\n    let labelHeight = 0;\n    // MAINN FUNCTION. RUN COLLISION RESOLVER ON A GROUP g\n    function resolver(g) {\n      if (selector == null) {\n        console.warn(\"D3 collision resolver stopped: missing a CSS slector\");\n        return;\n      }\n      if (height == null) {\n        console.warn(\"D3 collision resolver stopped: missing height of the canvas\");\n        return;\n      }\n      if (value == null) {\n        console.warn(\n          \"D3 collision resolver stopped: missing pointer within data objects. Example: value = 'valueY' \");\n        return;\n      }\n      if (KEY == null) {\n        console.warn(\"D3 collision resolver stopped: missing a key for data. Example: key = 'geo' \");\n        return;\n      }\n      labelHeight = g.node().getBBox().height * 0.8;\n      //actually reposition the labels\n      const data = g.filter(d => filter(d, time))\n        .sort((x, y) => d3.ascending(x.valueY, y.valueY))\n        .data();\n      const keys = {};\n      for (let i = 0; i < data.length - 1; i++) {\n        const first = data[i];\n        const second = data[i + 1];\n        if (!first.shiftY) first.shiftY = 0;\n        second.shiftY = 0;\n        if ((second.valueY - first.valueY - first.shiftY) >= labelHeight) continue;\n        let upperAvailable = 0;\n        // calculate available space above first element\n        if (first.valueY > labelHeight) {\n          if (i == 0) {\n            upperAvailable = Math.min(labelHeight, first.valueY);\n          } else if (first.valueY - data[i - 1].valueY + data[i - 1].shiftY > labelHeight) {\n            upperAvailable = Math.min(labelHeight, first.valueY - data[i - 1].valueY + data[i - 1].shiftY);\n          }\n        }\n        first.upperAvailable = upperAvailable;\n        let underAvailable = 0;\n        // calculate available space under second element\n        if (second.valueY < height) {\n          if (i == data.length - 2) {\n            underAvailable = Math.min(labelHeight, height - second.valueY);\n          } else if (data[i + 2].valueY - second.valueY > labelHeight) {\n            underAvailable = Math.min(labelHeight, data[i + 2].valueY - second.valueY);\n          }\n        }\n        second.underAvailable = underAvailable;\n        const neededSpace = labelHeight - (second.valueY - first.valueY - first.shiftY);\n        keys[first[KEY]] = {};\n        keys[second[KEY]] = {};\n        if (upperAvailable >= neededSpace / 2 && underAvailable >= neededSpace / 2) {\n          first.shiftY = -neededSpace / 2;\n          second.shiftY = neededSpace / 2;\n        } else if (upperAvailable >= neededSpace / 2) {\n          second.shiftY = underAvailable;\n          first.shiftY = -Math.min(upperAvailable, neededSpace - underAvailable);\n        } else if (underAvailable >= neededSpace / 2) {\n          first.shiftY -= upperAvailable;\n          second.shiftY = Math.min(underAvailable, neededSpace - upperAvailable);\n        } else {\n          first.shiftY = -upperAvailable;\n          second.shiftY = underAvailable;\n        }\n        keys[first[KEY]].valueY = first.valueY + first.shiftY;\n        keys[second[KEY]].valueY = second.valueY + second.shiftY;\n      }\n      g.each(function(d, i) {\n        if (keys[d[KEY]] && keys[d[KEY]].valueY) {\n          d3.select(this).selectAll(selector).transition().duration(DURATION).attr(\"transform\", \"translate(0,\" +\n            keys[d[KEY]].valueY + \")\");\n        }\n      });\n    }\n\n    // GETTERS AND SETTERS\n\n    let selector = null;\n    resolver.selector = function(arg) {\n      if (!arguments.length)\n        return selector;\n      selector = arg;\n      return resolver;\n    };\n    let height = null;\n    resolver.height = function(arg) {\n      if (!arguments.length)\n        return height;\n      height = arg;\n      return resolver;\n    };\n    let scale = d3.scaleLinear()\n      .domain([0, 1])\n      .range([0, 1]);\n    resolver.scale = function(arg) {\n      if (!arguments.length)\n        return scale;\n      scale = arg;\n      return resolver;\n    };\n    let value = null;\n    resolver.value = function(arg) {\n      if (!arguments.length)\n        return value;\n      value = arg;\n      return resolver;\n    };\n    let time = null;\n    resolver.time = function(arg) {\n      if (!arguments.length)\n        return time;\n      time = arg;\n      return resolver;\n    };\n    let filter = function() { return true; };\n    resolver.filter = function(arg) {\n      if (!arguments.length)\n        return filter;\n      filter = arg;\n      return resolver;\n    };\n    let fixed = null;\n    resolver.fixed = function(arg) {\n      if (!arguments.length)\n        return fixed;\n      fixed = arg;\n      return resolver;\n    };\n    let handleResult = null;\n    resolver.handleResult = function(arg) {\n      if (!arguments.length)\n        return handleResult;\n      handleResult = arg;\n      return resolver;\n    };\n    let KEY = null;\n    resolver.KEY = function(arg) {\n      if (!arguments.length)\n        return KEY;\n      KEY = arg;\n      return resolver;\n    };\n    return resolver;\n  })();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.collisionResolver.js","export default function() {\n  d3.geoProject = function(object, projection) {\n    var stream = projection.stream;\n    if (!stream) throw new Error(\"not yet supported\");\n    return (object && d3_geo_projectObjectType.hasOwnProperty(object.type) ? d3_geo_projectObjectType[object.type] : d3_geo_projectGeometry)(object, stream);\n  };\n  function d3_geo_projectFeature(object, stream) {\n    return {\n      type: \"Feature\",\n      id: object.id,\n      properties: object.properties,\n      geometry: d3_geo_projectGeometry(object.geometry, stream)\n    };\n  }\n  function d3_geo_projectGeometry(geometry, stream) {\n    if (!geometry) return null;\n    if (geometry.type === \"GeometryCollection\") return {\n      type: \"GeometryCollection\",\n      geometries: object.geometries.map(function(geometry) {\n        return d3_geo_projectGeometry(geometry, stream);\n      })\n    };\n    if (!d3_geo_projectGeometryType.hasOwnProperty(geometry.type)) return null;\n    var sink = d3_geo_projectGeometryType[geometry.type];\n    d3.geoUstream(geometry, stream(sink));\n    return sink.result();\n  }\n  var d3_geo_projectObjectType = {\n    Feature: d3_geo_projectFeature,\n    FeatureCollection: function(object, stream) {\n      return {\n        type: \"FeatureCollection\",\n        features: object.features.map(function(feature) {\n          return d3_geo_projectFeature(feature, stream);\n        })\n      };\n    }\n  };\n  var d3_geo_projectPoints = [], d3_geo_projectLines = [];\n  var d3_geo_projectPoint = {\n    point: function(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    result: function() {\n      var result = !d3_geo_projectPoints.length ? null : d3_geo_projectPoints.length < 2 ? {\n        type: \"Point\",\n        coordinates: d3_geo_projectPoints[0]\n      } : {\n        type: \"MultiPoint\",\n        coordinates: d3_geo_projectPoints\n      };\n      d3_geo_projectPoints = [];\n      return result;\n    }\n  };\n  var d3_geo_projectLine = {\n    lineStart: d3_geo_projectNoop,\n    point: function(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    lineEnd: function() {\n      if (d3_geo_projectPoints.length) d3_geo_projectLines.push(d3_geo_projectPoints),\n      d3_geo_projectPoints = [];\n    },\n    result: function() {\n      var result = !d3_geo_projectLines.length ? null : d3_geo_projectLines.length < 2 ? {\n        type: \"LineString\",\n        coordinates: d3_geo_projectLines[0]\n      } : {\n        type: \"MultiLineString\",\n        coordinates: d3_geo_projectLines\n      };\n      d3_geo_projectLines = [];\n      return result;\n    }\n  };\n  var d3_geo_projectPolygon = {\n    polygonStart: d3_geo_projectNoop,\n    lineStart: d3_geo_projectNoop,\n    point: function(x, y) {\n      d3_geo_projectPoints.push([x, y]);\n    },\n    lineEnd: function() {\n      var n = d3_geo_projectPoints.length;\n      if (n) {\n        do d3_geo_projectPoints.push(d3_geo_projectPoints[0].slice()); while (++n < 4);\n        d3_geo_projectLines.push(d3_geo_projectPoints), d3_geo_projectPoints = [];\n      }\n    },\n    polygonEnd: d3_geo_projectNoop,\n    result: function() {\n      if (!d3_geo_projectLines.length) return null;\n      var polygons = [], holes = [];\n      d3_geo_projectLines.forEach(function(ring) {\n        if (d3_geo_projectClockwise(ring)) polygons.push([ring]); else holes.push(ring);\n      });\n      holes.forEach(function(hole) {\n        var point = hole[0];\n        polygons.some(function(polygon) {\n          if (d3_geo_projectContains(polygon[0], point)) {\n            polygon.push(hole);\n            return true;\n          }\n          return false;\n        }) || polygons.push([hole]);\n      });\n      d3_geo_projectLines = [];\n      return !polygons.length ? null : polygons.length > 1 ? {\n        type: \"MultiPolygon\",\n        coordinates: polygons\n      } : {\n        type: \"Polygon\",\n        coordinates: polygons[0]\n      };\n    }\n  };\n  var d3_geo_projectGeometryType = {\n    Point: d3_geo_projectPoint,\n    MultiPoint: d3_geo_projectPoint,\n    LineString: d3_geo_projectLine,\n    MultiLineString: d3_geo_projectLine,\n    Polygon: d3_geo_projectPolygon,\n    MultiPolygon: d3_geo_projectPolygon,\n    Sphere: d3_geo_projectPolygon\n  };\n  function d3_geo_projectNoop() {}\n  function d3_geo_projectClockwise(ring) {\n    if ((n = ring.length) < 4) return false;\n    var i = 0, n, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n    while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n    return area <= 0;\n  }\n  function d3_geo_projectContains(ring, point) {\n    var x = point[0], y = point[1], contains = false;\n    for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n      var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n      if (yi > y ^ yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi) contains = !contains;\n    }\n    return contains;\n  }\n  var ε = 1e-6, ε2 = ε * ε, π = Math.PI, halfπ = π / 2, sqrtπ = Math.sqrt(π), radians = π / 180, degrees = 180 / π;\n  function sinci(x) {\n    return x ? x / Math.sin(x) : 1;\n  }\n  function sgn(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n  function asin(x) {\n    return x > 1 ? halfπ : x < -1 ? -halfπ : Math.asin(x);\n  }\n  function acos(x) {\n    return x > 1 ? 0 : x < -1 ? π : Math.acos(x);\n  }\n  function asqrt(x) {\n    return x > 0 ? Math.sqrt(x) : 0;\n  }\n  var projection = d3.geoProjection, projectionMutator = d3.geoProjectionMutator;\n  d3.geoInterrupt = function(project) {\n    var lobes = [[[[-π, 0], [0, halfπ], [π, 0]]], [[[-π, 0], [0, -halfπ], [π, 0]]]];\n    var bounds;\n    function forward(λ, φ) {\n      var sign = φ < 0 ? -1 : +1, hemilobes = lobes[+(φ < 0)];\n      for (var i = 0, n = hemilobes.length - 1; i < n && λ > hemilobes[i][2][0]; ++i) ;\n      var coordinates = project(λ - hemilobes[i][1][0], φ);\n      coordinates[0] += project(hemilobes[i][1][0], sign * φ > sign * hemilobes[i][0][1] ? hemilobes[i][0][1] : φ)[0];\n      return coordinates;\n    }\n    function reset() {\n      bounds = lobes.map(function(hemilobes) {\n        return hemilobes.map(function(lobe) {\n          var x0 = project(lobe[0][0], lobe[0][1])[0], x1 = project(lobe[2][0], lobe[2][1])[0], y0 = project(lobe[1][0], lobe[0][1])[1], y1 = project(lobe[1][0], lobe[1][1])[1], t;\n          if (y0 > y1) t = y0, y0 = y1, y1 = t;\n          return [[x0, y0], [x1, y1]];\n        });\n      });\n    }\n    if (project.invert) forward.invert = function(x, y) {\n      var hemibounds = bounds[+(y < 0)], hemilobes = lobes[+(y < 0)];\n      for (var i = 0, n = hemibounds.length; i < n; ++i) {\n        var b = hemibounds[i];\n        if (b[0][0] <= x && x < b[1][0] && b[0][1] <= y && y < b[1][1]) {\n          var coordinates = project.invert(x - project(hemilobes[i][1][0], 0)[0], y);\n          coordinates[0] += hemilobes[i][1][0];\n          return pointEqual(forward(coordinates[0], coordinates[1]), [x, y]) ? coordinates : null;\n        }\n      }\n    };\n    var projection = d3.geoProjection(forward), stream_ = projection.stream;\n    projection.stream = function(stream) {\n      var rotate = projection.rotate(), rotateStream = stream_(stream), sphereStream = (projection.rotate([0, 0]),\n      stream_(stream));\n      projection.rotate(rotate);\n      rotateStream.sphere = function() {\n        d3.geoStream(sphere(), sphereStream);\n      };\n      return rotateStream;\n    };\n    projection.lobes = function(_) {\n      if (!arguments.length) return lobes.map(function(lobes) {\n        return lobes.map(function(lobe) {\n          return [[lobe[0][0] * 180 / π, lobe[0][1] * 180 / π], [lobe[1][0] * 180 / π, lobe[1][1] * 180 / π], [lobe[2][0] * 180 / π, lobe[2][1] * 180 / π]];\n        });\n      });\n      lobes = _.map(function(lobes) {\n        return lobes.map(function(lobe) {\n          return [[lobe[0][0] * π / 180, lobe[0][1] * π / 180], [lobe[1][0] * π / 180, lobe[1][1] * π / 180], [lobe[2][0] * π / 180, lobe[2][1] * π / 180]];\n        });\n      });\n      reset();\n      return projection;\n    };\n    function sphere() {\n      var ε = 1e-6, coordinates = [];\n      for (var i = 0, n = lobes[0].length; i < n; ++i) {\n        var lobe = lobes[0][i], λ0 = lobe[0][0] * 180 / π, φ0 = lobe[0][1] * 180 / π, φ1 = lobe[1][1] * 180 / π, λ2 = lobe[2][0] * 180 / π, φ2 = lobe[2][1] * 180 / π;\n        coordinates.push(resample([[λ0 + ε, φ0 + ε], [λ0 + ε, φ1 - ε], [λ2 - ε, φ1 - ε], [λ2 - ε, φ2 + ε]], 30));\n      }\n      for (var i = lobes[1].length - 1; i >= 0; --i) {\n        var lobe = lobes[1][i], λ0 = lobe[0][0] * 180 / π, φ0 = lobe[0][1] * 180 / π, φ1 = lobe[1][1] * 180 / π, λ2 = lobe[2][0] * 180 / π, φ2 = lobe[2][1] * 180 / π;\n        coordinates.push(resample([[λ2 - ε, φ2 - ε], [λ2 - ε, φ1 + ε], [λ0 + ε, φ1 + ε], [λ0 + ε, φ0 - ε]], 30));\n      }\n      return {\n        type: \"Polygon\",\n        coordinates: [d3.merge(coordinates)]\n      };\n    }\n    function resample(coordinates, m) {\n      var i = -1, n = coordinates.length, p0 = coordinates[0], p1, dx, dy, resampled = [];\n      while (++i < n) {\n        p1 = coordinates[i];\n        dx = (p1[0] - p0[0]) / m;\n        dy = (p1[1] - p0[1]) / m;\n        for (var j = 0; j < m; ++j) resampled.push([p0[0] + j * dx, p0[1] + j * dy]);\n        p0 = p1;\n      }\n      resampled.push(p1);\n      return resampled;\n    }\n    function pointEqual(a, b) {\n      return Math.abs(a[0] - b[0]) < ε && Math.abs(a[1] - b[1]) < ε;\n    }\n    return projection;\n  };\n  function airy(β) {\n    var tanβ_2 = Math.tan(.5 * β), B = 2 * Math.log(Math.cos(.5 * β)) / (tanβ_2 * tanβ_2);\n    function forward(λ, φ) {\n      var cosλ = Math.cos(λ), cosφ = Math.cos(φ), sinφ = Math.sin(φ), cosz = cosφ * cosλ, K = -((1 - cosz ? Math.log(.5 * (1 + cosz)) / (1 - cosz) : -.5) + B / (1 + cosz));\n      return [K * cosφ * Math.sin(λ), K * sinφ];\n    }\n    forward.invert = function(x, y) {\n      var ρ = Math.sqrt(x * x + y * y), z = β * -.5, i = 50, δ;\n      if (!ρ) return [0, 0];\n      do {\n        var z_2 = .5 * z, cosz_2 = Math.cos(z_2), sinz_2 = Math.sin(z_2), tanz_2 = Math.tan(z_2), lnsecz_2 = Math.log(1 / cosz_2);\n        z -= δ = (2 / tanz_2 * lnsecz_2 - B * tanz_2 - ρ) / (-lnsecz_2 / (sinz_2 * sinz_2) + 1 - B / (2 * cosz_2 * cosz_2));\n      } while (Math.abs(δ) > ε && --i > 0);\n      var sinz = Math.sin(z);\n      return [Math.atan2(x * sinz, ρ * Math.cos(z)), asin(y * sinz / ρ)];\n    };\n    return forward;\n  }\n  function airyProjection() {\n    var β = halfπ, m = projectionMutator(airy), p = m(β);\n    p.radius = function(_) {\n      if (!arguments.length) return β / π * 180;\n      return m(β = _ * π / 180);\n    };\n    return p;\n  }\n  (d3.geoAiry = airyProjection).raw = airy;\n  function aitoff(λ, φ) {\n    var cosφ = Math.cos(φ), sinciα = sinci(acos(cosφ * Math.cos(λ /= 2)));\n    return [2 * cosφ * Math.sin(λ) * sinciα, Math.sin(φ) * sinciα];\n  }\n  aitoff.invert = function(x, y) {\n    if (x * x + 4 * y * y > π * π + ε) return;\n    var λ = x, φ = y, i = 25;\n    do {\n      var sinλ = Math.sin(λ), sinλ_2 = Math.sin(λ / 2), cosλ_2 = Math.cos(λ / 2), sinφ = Math.sin(φ), cosφ = Math.cos(φ), sin_2φ = Math.sin(2 * φ), sin2φ = sinφ * sinφ, cos2φ = cosφ * cosφ, sin2λ_2 = sinλ_2 * sinλ_2, C = 1 - cos2φ * cosλ_2 * cosλ_2, E = C ? acos(cosφ * cosλ_2) * Math.sqrt(F = 1 / C) : F = 0, F, fx = 2 * E * cosφ * sinλ_2 - x, fy = E * sinφ - y, δxδλ = F * (cos2φ * sin2λ_2 + E * cosφ * cosλ_2 * sin2φ), δxδφ = F * (.5 * sinλ * sin_2φ - E * 2 * sinφ * sinλ_2), δyδλ = F * .25 * (sin_2φ * sinλ_2 - E * sinφ * cos2φ * sinλ), δyδφ = F * (sin2φ * cosλ_2 + E * sin2λ_2 * cosφ), denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n      if (!denominator) break;\n      var δλ = (fy * δxδφ - fx * δyδφ) / denominator, δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoAitoff = function() {\n    return projection(aitoff);\n  }).raw = aitoff;\n  function armadillo(φ0) {\n    var sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), sφ0 = φ0 > 0 ? 1 : -1, tanφ0 = Math.tan(sφ0 * φ0), k = (1 + sinφ0 - cosφ0) / 2;\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ), cosλ = Math.cos(λ /= 2);\n      return [(1 + cosφ) * Math.sin(λ), (sφ0 * φ > -Math.atan2(cosλ, tanφ0) - .001 ? 0 : -sφ0 * 10) + k + Math.sin(φ) * cosφ0 - (1 + cosφ) * sinφ0 * cosλ];\n    }\n    forward.invert = function(x, y) {\n      var λ = 0, φ = 0, i = 50;\n      do {\n        var cosλ = Math.cos(λ), sinλ = Math.sin(λ), cosφ = Math.cos(φ), sinφ = Math.sin(φ), A = 1 + cosφ, fx = A * sinλ - x, fy = k + sinφ * cosφ0 - A * sinφ0 * cosλ - y, δxδλ = .5 * A * cosλ, δxδφ = -sinλ * sinφ, δyδλ = .5 * sinφ0 * A * sinλ, δyδφ = cosφ0 * cosφ + sinφ0 * cosλ * sinφ, denominator = δxδφ * δyδλ - δyδφ * δxδλ, δλ = .5 * (fy * δxδφ - fx * δyδφ) / denominator, δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n        λ -= δλ, φ -= δφ;\n      } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n      return sφ0 * φ > -Math.atan2(Math.cos(λ), tanφ0) - .001 ? [λ * 2, φ] : null;\n    };\n    return forward;\n  }\n  function armadilloProjection() {\n    var φ0 = π / 9, sφ0 = φ0 > 0 ? 1 : -1, tanφ0 = Math.tan(sφ0 * φ0), m = projectionMutator(armadillo), p = m(φ0), stream_ = p.stream;\n    p.parallel = function(_) {\n      if (!arguments.length) return φ0 / π * 180;\n      tanφ0 = Math.tan((sφ0 = (φ0 = _ * π / 180) > 0 ? 1 : -1) * φ0);\n      return m(φ0);\n    };\n    p.stream = function(stream) {\n      var rotate = p.rotate(), rotateStream = stream_(stream), sphereStream = (p.rotate([0, 0]),\n      stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function() {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var λ = sφ0 * -180; sφ0 * λ < 180; λ += sφ0 * 90) sphereStream.point(λ, sφ0 * 90);\n        while (sφ0 * (λ -= φ0) >= -180) {\n          sphereStream.point(λ, sφ0 * -Math.atan2(Math.cos(λ * radians / 2), tanφ0) * degrees);\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  (d3.geoArmadillo = armadilloProjection).raw = armadillo;\n  function tanh(x) {\n    x = Math.exp(2 * x);\n    return (x - 1) / (x + 1);\n  }\n  function sinh(x) {\n    return .5 * (Math.exp(x) - Math.exp(-x));\n  }\n  function cosh(x) {\n    return .5 * (Math.exp(x) + Math.exp(-x));\n  }\n  function arsinh(x) {\n    return Math.log(x + asqrt(x * x + 1));\n  }\n  function arcosh(x) {\n    return Math.log(x + asqrt(x * x - 1));\n  }\n  function august(λ, φ) {\n    var tanφ = Math.tan(φ / 2), k = asqrt(1 - tanφ * tanφ), c = 1 + k * Math.cos(λ /= 2), x = Math.sin(λ) * k / c, y = tanφ / c, x2 = x * x, y2 = y * y;\n    return [4 / 3 * x * (3 + x2 - 3 * y2), 4 / 3 * y * (3 + 3 * x2 - y2)];\n  }\n  august.invert = function(x, y) {\n    x *= 3 / 8, y *= 3 / 8;\n    if (!x && Math.abs(y) > 1) return null;\n    var x2 = x * x, y2 = y * y, s = 1 + x2 + y2, sin3η = Math.sqrt(.5 * (s - Math.sqrt(s * s - 4 * y * y))), η = asin(sin3η) / 3, ξ = sin3η ? arcosh(Math.abs(y / sin3η)) / 3 : arsinh(Math.abs(x)) / 3, cosη = Math.cos(η), coshξ = cosh(ξ), d = coshξ * coshξ - cosη * cosη;\n    return [sgn(x) * 2 * Math.atan2(sinh(ξ) * cosη, .25 - d), sgn(y) * 2 * Math.atan2(coshξ * Math.sin(η), .25 + d)];\n  };\n  (d3.geoAugust = function() {\n    return projection(august);\n  }).raw = august;\n  var bakerφ = Math.log(1 + Math.SQRT2);\n  function baker(λ, φ) {\n    var φ0 = Math.abs(φ);\n    return φ0 < π / 4 ? [λ, Math.log(Math.tan(π / 4 + φ / 2))] : [λ * Math.cos(φ0) * (2 * Math.SQRT2 - 1 / Math.sin(φ0)), sgn(φ) * (2 * Math.SQRT2 * (φ0 - π / 4) - Math.log(Math.tan(φ0 / 2)))];\n  }\n  baker.invert = function(x, y) {\n    if ((y0 = Math.abs(y)) < bakerφ) return [x, 2 * Math.atan(Math.exp(y)) - halfπ];\n    var sqrt8 = Math.sqrt(8), φ = π / 4, i = 25, δ, y0;\n    do {\n      var cosφ_2 = Math.cos(φ / 2), tanφ_2 = Math.tan(φ / 2);\n      φ -= δ = (sqrt8 * (φ - π / 4) - Math.log(tanφ_2) - y0) / (sqrt8 - .5 * cosφ_2 * cosφ_2 / tanφ_2);\n    } while (Math.abs(δ) > ε2 && --i > 0);\n    return [x / (Math.cos(φ) * (sqrt8 - 1 / Math.sin(φ))), sgn(y) * φ];\n  };\n  (d3.geoBaker = function() {\n    return projection(baker);\n  }).raw = baker;\n  var berghausAzimuthalEquidistant = d3.geoAzimuthalEquidistant.raw;\n  function berghaus(n) {\n    var k = 2 * π / n;\n    function forward(λ, φ) {\n      var p = berghausAzimuthalEquidistant(λ, φ);\n      if (Math.abs(λ) > halfπ) {\n        var θ = Math.atan2(p[1], p[0]), r = Math.sqrt(p[0] * p[0] + p[1] * p[1]), θ0 = k * Math.round((θ - halfπ) / k) + halfπ, α = Math.atan2(Math.sin(θ -= θ0), 2 - Math.cos(θ));\n        θ = θ0 + asin(π / r * Math.sin(α)) - α;\n        p[0] = r * Math.cos(θ);\n        p[1] = r * Math.sin(θ);\n      }\n      return p;\n    }\n    forward.invert = function(x, y) {\n      var r = Math.sqrt(x * x + y * y);\n      if (r > halfπ) {\n        var θ = Math.atan2(y, x), θ0 = k * Math.round((θ - halfπ) / k) + halfπ, s = θ > θ0 ? -1 : 1, A = r * Math.cos(θ0 - θ), cotα = 1 / Math.tan(s * Math.acos((A - π) / Math.sqrt(π * (π - 2 * A) + r * r)));\n        θ = θ0 + 2 * Math.atan((cotα + s * Math.sqrt(cotα * cotα - 3)) / 3);\n        x = r * Math.cos(θ), y = r * Math.sin(θ);\n      }\n      return berghausAzimuthalEquidistant.invert(x, y);\n    };\n    return forward;\n  }\n  function berghausProjection() {\n    var n = 5, m = projectionMutator(berghaus), p = m(n), stream_ = p.stream, ε = .01, cr = -Math.cos(ε * radians), sr = Math.sin(ε * radians);\n    p.lobes = function(_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    p.stream = function(stream) {\n      var rotate = p.rotate(), rotateStream = stream_(stream), sphereStream = (p.rotate([0, 0]),\n      stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function() {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var i = 0, δ = 360 / n, δ0 = 2 * π / n, φ = 90 - 180 / n, φ0 = halfπ; i < n; ++i,\n        φ -= δ, φ0 -= δ0) {\n          sphereStream.point(Math.atan2(sr * Math.cos(φ0), cr) * degrees, asin(sr * Math.sin(φ0)) * degrees);\n          if (φ < -90) {\n            sphereStream.point(-90, -180 - φ - ε);\n            sphereStream.point(-90, -180 - φ + ε);\n          } else {\n            sphereStream.point(90, φ + ε);\n            sphereStream.point(90, φ - ε);\n          }\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  (d3.geoBerghaus = berghausProjection).raw = berghaus;\n  function mollweideBromleyθ(Cp) {\n    return function(θ) {\n      var Cpsinθ = Cp * Math.sin(θ), i = 30, δ;\n      do θ -= δ = (θ + Math.sin(θ) - Cpsinθ) / (1 + Math.cos(θ)); while (Math.abs(δ) > ε && --i > 0);\n      return θ / 2;\n    };\n  }\n  function mollweideBromley(Cx, Cy, Cp) {\n    var θ = mollweideBromleyθ(Cp);\n    function forward(λ, φ) {\n      return [Cx * λ * Math.cos(φ = θ(φ)), Cy * Math.sin(φ)];\n    }\n    forward.invert = function(x, y) {\n      var θ = asin(y / Cy);\n      return [x / (Cx * Math.cos(θ)), asin((2 * θ + Math.sin(2 * θ)) / Cp)];\n    };\n    return forward;\n  }\n  var mollweideθ = mollweideBromleyθ(π), mollweide = mollweideBromley(Math.SQRT2 / halfπ, Math.SQRT2, π);\n  (d3.geoMollweide = function() {\n    return projection(mollweide);\n  }).raw = mollweide;\n  function boggs(λ, φ) {\n    var k = 2.00276, θ = mollweideθ(φ);\n    return [k * λ / (1 / Math.cos(φ) + 1.11072 / Math.cos(θ)), (φ + Math.SQRT2 * Math.sin(θ)) / k];\n  }\n  boggs.invert = function(x, y) {\n    var k = 2.00276, ky = k * y, θ = y < 0 ? -π / 4 : π / 4, i = 25, δ, φ;\n    do {\n      φ = ky - Math.SQRT2 * Math.sin(θ);\n      θ -= δ = (Math.sin(2 * θ) + 2 * θ - π * Math.sin(φ)) / (2 * Math.cos(2 * θ) + 2 + π * Math.cos(φ) * Math.SQRT2 * Math.cos(θ));\n    } while (Math.abs(δ) > ε && --i > 0);\n    φ = ky - Math.SQRT2 * Math.sin(θ);\n    return [x * (1 / Math.cos(φ) + 1.11072 / Math.cos(θ)) / k, φ];\n  };\n  (d3.geoBoggs = function() {\n    return projection(boggs);\n  }).raw = boggs;\n  function parallel1Projection(projectAt) {\n    var φ0 = 0, m = projectionMutator(projectAt), p = m(φ0);\n    p.parallel = function(_) {\n      if (!arguments.length) return φ0 / π * 180;\n      return m(φ0 = _ * π / 180);\n    };\n    return p;\n  }\n  function sinusoidal(λ, φ) {\n    return [λ * Math.cos(φ), φ];\n  }\n  sinusoidal.invert = function(x, y) {\n    return [x / Math.cos(y), y];\n  };\n  (d3.geoSinusoidal = function() {\n    return projection(sinusoidal);\n  }).raw = sinusoidal;\n  function bonne(φ0) {\n    if (!φ0) return sinusoidal;\n    var cotφ0 = 1 / Math.tan(φ0);\n    function forward(λ, φ) {\n      var ρ = cotφ0 + φ0 - φ, E = ρ ? λ * Math.cos(φ) / ρ : ρ;\n      return [ρ * Math.sin(E), cotφ0 - ρ * Math.cos(E)];\n    }\n    forward.invert = function(x, y) {\n      var ρ = Math.sqrt(x * x + (y = cotφ0 - y) * y), φ = cotφ0 + φ0 - ρ;\n      return [ρ / Math.cos(φ) * Math.atan2(x, y), φ];\n    };\n    return forward;\n  }\n  (d3.geoBonne = function() {\n    return parallel1Projection(bonne).parallel(45);\n  }).raw = bonne;\n  var bromley = mollweideBromley(1, 4 / π, π);\n  (d3.geoBromley = function() {\n    return projection(bromley);\n  }).raw = bromley;\n  function chamberlin(points) {\n    points = points.map(function(p) {\n      return [p[0], p[1], Math.sin(p[1]), Math.cos(p[1])];\n    });\n    for (var a = points[2], b, i = 0; i < 3; ++i, a = b) {\n      b = points[i];\n      a.v = chamberlinDistanceAzimuth(b[1] - a[1], a[3], a[2], b[3], b[2], b[0] - a[0]);\n      a.point = [0, 0];\n    }\n    var β0 = chamberlinAngle(points[0].v[0], points[2].v[0], points[1].v[0]), β1 = chamberlinAngle(points[0].v[0], points[1].v[0], points[2].v[0]), β2 = π - β0;\n    points[2].point[1] = 0;\n    points[0].point[0] = -(points[1].point[0] = .5 * points[0].v[0]);\n    var mean = [points[2].point[0] = points[0].point[0] + points[2].v[0] * Math.cos(β0), 2 * (points[0].point[1] = points[1].point[1] = points[2].v[0] * Math.sin(β0))];\n    function forward(λ, φ) {\n      var sinφ = Math.sin(φ), cosφ = Math.cos(φ), v = new Array(3);\n      for (var i = 0; i < 3; ++i) {\n        var p = points[i];\n        v[i] = chamberlinDistanceAzimuth(φ - p[1], p[3], p[2], cosφ, sinφ, λ - p[0]);\n        if (!v[i][0]) return p.point;\n        v[i][1] = chamberlinLongitude(v[i][1] - p.v[1]);\n      }\n      var point = mean.slice();\n      for (var i = 0; i < 3; ++i) {\n        var j = i == 2 ? 0 : i + 1;\n        var a = chamberlinAngle(points[i].v[0], v[i][0], v[j][0]);\n        if (v[i][1] < 0) a = -a;\n        if (!i) {\n          point[0] += v[i][0] * Math.cos(a);\n          point[1] -= v[i][0] * Math.sin(a);\n        } else if (i == 1) {\n          a = β1 - a;\n          point[0] -= v[i][0] * Math.cos(a);\n          point[1] -= v[i][0] * Math.sin(a);\n        } else {\n          a = β2 - a;\n          point[0] += v[i][0] * Math.cos(a);\n          point[1] += v[i][0] * Math.sin(a);\n        }\n      }\n      point[0] /= 3, point[1] /= 3;\n      return point;\n    }\n    return forward;\n  }\n  function chamberlinProjection() {\n    var points = [[0, 0], [0, 0], [0, 0]], m = projectionMutator(chamberlin), p = m(points), rotate = p.rotate;\n    delete p.rotate;\n    p.points = function(_) {\n      if (!arguments.length) return points;\n      points = _;\n      var origin = d3.geoCentroid({\n        type: \"MultiPoint\",\n        coordinates: points\n      }), r = [-origin[0], -origin[1]];\n      rotate.call(p, r);\n      return m(points.map(d3.geoRotation(r)).map(chamberlinRadians));\n    };\n    return p.points([[-150, 55], [-35, 55], [-92.5, 10]]);\n  }\n  function chamberlinDistanceAzimuth(dφ, c1, s1, c2, s2, dλ) {\n    var cosdλ = Math.cos(dλ), r;\n    if (Math.abs(dφ) > 1 || Math.abs(dλ) > 1) {\n      r = acos(s1 * s2 + c1 * c2 * cosdλ);\n    } else {\n      var sindφ = Math.sin(.5 * dφ), sindλ = Math.sin(.5 * dλ);\n      r = 2 * asin(Math.sqrt(sindφ * sindφ + c1 * c2 * sindλ * sindλ));\n    }\n    if (Math.abs(r) > ε) {\n      return [r, Math.atan2(c2 * Math.sin(dλ), c1 * s2 - s1 * c2 * cosdλ)];\n    }\n    return [0, 0];\n  }\n  function chamberlinAngle(b, c, a) {\n    return acos(.5 * (b * b + c * c - a * a) / (b * c));\n  }\n  function chamberlinLongitude(λ) {\n    return λ - 2 * π * Math.floor((λ + π) / (2 * π));\n  }\n  function chamberlinRadians(point) {\n    return [point[0] * radians, point[1] * radians];\n  }\n  (d3.geoChamberlin = chamberlinProjection).raw = chamberlin;\n  function collignon(λ, φ) {\n    var α = asqrt(1 - Math.sin(φ));\n    return [2 / sqrtπ * λ * α, sqrtπ * (1 - α)];\n  }\n  collignon.invert = function(x, y) {\n    var λ = (λ = y / sqrtπ - 1) * λ;\n    return [λ > 0 ? x * Math.sqrt(π / λ) / 2 : 0, asin(1 - λ)];\n  };\n  (d3.geoCollignon = function() {\n    return projection(collignon);\n  }).raw = collignon;\n  function craig(φ0) {\n    var tanφ0 = Math.tan(φ0);\n    function forward(λ, φ) {\n      return [λ, (λ ? λ / Math.sin(λ) : 1) * (Math.sin(φ) * Math.cos(λ) - tanφ0 * Math.cos(φ))];\n    }\n    forward.invert = tanφ0 ? function(x, y) {\n      if (x) y *= Math.sin(x) / x;\n      var cosλ = Math.cos(x);\n      return [x, 2 * Math.atan2(Math.sqrt(cosλ * cosλ + tanφ0 * tanφ0 - y * y) - cosλ, tanφ0 - y)];\n    } : function(x, y) {\n      return [x, asin(x ? y * Math.tan(x) / x : y)];\n    };\n    return forward;\n  }\n  (d3.geoCraig = function() {\n    return parallel1Projection(craig);\n  }).raw = craig;\n  function craster(λ, φ) {\n    var sqrt3 = Math.sqrt(3);\n    return [sqrt3 * λ * (2 * Math.cos(2 * φ / 3) - 1) / sqrtπ, sqrt3 * sqrtπ * Math.sin(φ / 3)];\n  }\n  craster.invert = function(x, y) {\n    var sqrt3 = Math.sqrt(3), φ = 3 * asin(y / (sqrt3 * sqrtπ));\n    return [sqrtπ * x / (sqrt3 * (2 * Math.cos(2 * φ / 3) - 1)), φ];\n  };\n  (d3.geoCraster = function() {\n    return projection(craster);\n  }).raw = craster;\n  function cylindricalEqualArea(φ0) {\n    var cosφ0 = Math.cos(φ0);\n    function forward(λ, φ) {\n      return [λ * cosφ0, Math.sin(φ) / cosφ0];\n    }\n    forward.invert = function(x, y) {\n      return [x / cosφ0, asin(y * cosφ0)];\n    };\n    return forward;\n  }\n  (d3.geoCylindricalEqualArea = function() {\n    return parallel1Projection(cylindricalEqualArea);\n  }).raw = cylindricalEqualArea;\n  function cylindricalStereographic(φ0) {\n    var cosφ0 = Math.cos(φ0);\n    function forward(λ, φ) {\n      return [λ * cosφ0, (1 + cosφ0) * Math.tan(φ * .5)];\n    }\n    forward.invert = function(x, y) {\n      return [x / cosφ0, Math.atan(y / (1 + cosφ0)) * 2];\n    };\n    return forward;\n  }\n  (d3.geoCylindricalStereographic = function() {\n    return parallel1Projection(cylindricalStereographic);\n  }).raw = cylindricalStereographic;\n  function eckert1(λ, φ) {\n    var α = Math.sqrt(8 / (3 * π));\n    return [α * λ * (1 - Math.abs(φ) / π), α * φ];\n  }\n  eckert1.invert = function(x, y) {\n    var α = Math.sqrt(8 / (3 * π)), φ = y / α;\n    return [x / (α * (1 - Math.abs(φ) / π)), φ];\n  };\n  (d3.geoEckert1 = function() {\n    return projection(eckert1);\n  }).raw = eckert1;\n  function eckert2(λ, φ) {\n    var α = Math.sqrt(4 - 3 * Math.sin(Math.abs(φ)));\n    return [2 / Math.sqrt(6 * π) * λ * α, sgn(φ) * Math.sqrt(2 * π / 3) * (2 - α)];\n  }\n  eckert2.invert = function(x, y) {\n    var α = 2 - Math.abs(y) / Math.sqrt(2 * π / 3);\n    return [x * Math.sqrt(6 * π) / (2 * α), sgn(y) * asin((4 - α * α) / 3)];\n  };\n  (d3.geoEckert2 = function() {\n    return projection(eckert2);\n  }).raw = eckert2;\n  function eckert3(λ, φ) {\n    var k = Math.sqrt(π * (4 + π));\n    return [2 / k * λ * (1 + Math.sqrt(1 - 4 * φ * φ / (π * π))), 4 / k * φ];\n  }\n  eckert3.invert = function(x, y) {\n    var k = Math.sqrt(π * (4 + π)) / 2;\n    return [x * k / (1 + asqrt(1 - y * y * (4 + π) / (4 * π))), y * k / 2];\n  };\n  (d3.geoEckert3 = function() {\n    return projection(eckert3);\n  }).raw = eckert3;\n  function eckert4(λ, φ) {\n    var k = (2 + halfπ) * Math.sin(φ);\n    φ /= 2;\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      var cosφ = Math.cos(φ);\n      φ -= δ = (φ + Math.sin(φ) * (cosφ + 2) - k) / (2 * cosφ * (1 + cosφ));\n    }\n    return [2 / Math.sqrt(π * (4 + π)) * λ * (1 + Math.cos(φ)), 2 * Math.sqrt(π / (4 + π)) * Math.sin(φ)];\n  }\n  eckert4.invert = function(x, y) {\n    var A = .5 * y * Math.sqrt((4 + π) / π), k = asin(A), c = Math.cos(k);\n    return [x / (2 / Math.sqrt(π * (4 + π)) * (1 + c)), asin((k + A * (c + 2)) / (2 + halfπ))];\n  };\n  (d3.geoEckert4 = function() {\n    return projection(eckert4);\n  }).raw = eckert4;\n  function eckert5(λ, φ) {\n    return [λ * (1 + Math.cos(φ)) / Math.sqrt(2 + π), 2 * φ / Math.sqrt(2 + π)];\n  }\n  eckert5.invert = function(x, y) {\n    var k = Math.sqrt(2 + π), φ = y * k / 2;\n    return [k * x / (1 + Math.cos(φ)), φ];\n  };\n  (d3.geoEckert5 = function() {\n    return projection(eckert5);\n  }).raw = eckert5;\n  function eckert6(λ, φ) {\n    var k = (1 + halfπ) * Math.sin(φ);\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      φ -= δ = (φ + Math.sin(φ) - k) / (1 + Math.cos(φ));\n    }\n    k = Math.sqrt(2 + π);\n    return [λ * (1 + Math.cos(φ)) / k, 2 * φ / k];\n  }\n  eckert6.invert = function(x, y) {\n    var j = 1 + halfπ, k = Math.sqrt(j / 2);\n    return [x * 2 * k / (1 + Math.cos(y *= k)), asin((y + Math.sin(y)) / j)];\n  };\n  (d3.geoEckert6 = function() {\n    return projection(eckert6);\n  }).raw = eckert6;\n  function eisenlohr(λ, φ) {\n    var s0 = Math.sin(λ /= 2), c0 = Math.cos(λ), k = Math.sqrt(Math.cos(φ)), c1 = Math.cos(φ /= 2), t = Math.sin(φ) / (c1 + Math.SQRT2 * c0 * k), c = Math.sqrt(2 / (1 + t * t)), v = Math.sqrt((Math.SQRT2 * c1 + (c0 + s0) * k) / (Math.SQRT2 * c1 + (c0 - s0) * k));\n    return [eisenlohrK * (c * (v - 1 / v) - 2 * Math.log(v)), eisenlohrK * (c * t * (v + 1 / v) - 2 * Math.atan(t))];\n  }\n  eisenlohr.invert = function(x, y) {\n    var p = d3.geoAugust.raw.invert(x / 1.2, y * 1.065);\n    if (!p) return null;\n    var λ = p[0], φ = p[1], i = 20;\n    x /= eisenlohrK, y /= eisenlohrK;\n    do {\n      var _0 = λ / 2, _1 = φ / 2, s0 = Math.sin(_0), c0 = Math.cos(_0), s1 = Math.sin(_1), c1 = Math.cos(_1), cos1 = Math.cos(φ), k = Math.sqrt(cos1), t = s1 / (c1 + Math.SQRT2 * c0 * k), t2 = t * t, c = Math.sqrt(2 / (1 + t2)), v0 = Math.SQRT2 * c1 + (c0 + s0) * k, v1 = Math.SQRT2 * c1 + (c0 - s0) * k, v2 = v0 / v1, v = Math.sqrt(v2), vm1v = v - 1 / v, vp1v = v + 1 / v, fx = c * vm1v - 2 * Math.log(v) - x, fy = c * t * vp1v - 2 * Math.atan(t) - y, δtδλ = s1 && Math.SQRT1_2 * k * s0 * t2 / s1, δtδφ = (Math.SQRT2 * c0 * c1 + k) / (2 * (c1 + Math.SQRT2 * c0 * k) * (c1 + Math.SQRT2 * c0 * k) * k), δcδt = -.5 * t * c * c * c, δcδλ = δcδt * δtδλ, δcδφ = δcδt * δtδφ, A = (A = 2 * c1 + Math.SQRT2 * k * (c0 - s0)) * A * v, δvδλ = (Math.SQRT2 * c0 * c1 * k + cos1) / A, δvδφ = -(Math.SQRT2 * s0 * s1) / (k * A), δxδλ = vm1v * δcδλ - 2 * δvδλ / v + c * (δvδλ + δvδλ / v2), δxδφ = vm1v * δcδφ - 2 * δvδφ / v + c * (δvδφ + δvδφ / v2), δyδλ = t * vp1v * δcδλ - 2 * δtδλ / (1 + t2) + c * vp1v * δtδλ + c * t * (δvδλ - δvδλ / v2), δyδφ = t * vp1v * δcδφ - 2 * δtδφ / (1 + t2) + c * vp1v * δtδφ + c * t * (δvδφ - δvδφ / v2), denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n      if (!denominator) break;\n      var δλ = (fy * δxδφ - fx * δyδφ) / denominator, δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ;\n      φ = Math.max(-halfπ, Math.min(halfπ, φ - δφ));\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return Math.abs(Math.abs(φ) - halfπ) < ε ? [0, φ] : i && [λ, φ];\n  };\n  var eisenlohrK = 3 + 2 * Math.SQRT2;\n  (d3.geoEisenlohr = function() {\n    return projection(eisenlohr);\n  }).raw = eisenlohr;\n  function fahey(λ, φ) {\n    var t = Math.tan(φ / 2);\n    return [λ * faheyK * asqrt(1 - t * t), (1 + faheyK) * t];\n  }\n  fahey.invert = function(x, y) {\n    var t = y / (1 + faheyK);\n    return [x ? x / (faheyK * asqrt(1 - t * t)) : 0, 2 * Math.atan(t)];\n  };\n  var faheyK = Math.cos(35 * radians);\n  (d3.geoFahey = function() {\n    return projection(fahey);\n  }).raw = fahey;\n  function foucaut(λ, φ) {\n    var k = φ / 2, cosk = Math.cos(k);\n    return [2 * λ / sqrtπ * Math.cos(φ) * cosk * cosk, sqrtπ * Math.tan(k)];\n  }\n  foucaut.invert = function(x, y) {\n    var k = Math.atan(y / sqrtπ), cosk = Math.cos(k), φ = 2 * k;\n    return [x * sqrtπ * .5 / (Math.cos(φ) * cosk * cosk), φ];\n  };\n  (d3.geoFoucaut = function() {\n    return projection(foucaut);\n  }).raw = foucaut;\n  d3.geoGilbert = function(projection) {\n    var e = d3.geoEquirectangular().scale(degrees).translate([0, 0]);\n    function gilbert(coordinates) {\n      return projection([coordinates[0] * .5, asin(Math.tan(coordinates[1] * .5 * radians)) * degrees]);\n    }\n    if (projection.invert) gilbert.invert = function(coordinates) {\n      coordinates = projection.invert(coordinates);\n      coordinates[0] *= 2;\n      coordinates[1] = 2 * Math.atan(Math.sin(coordinates[1] * radians)) * degrees;\n      return coordinates;\n    };\n    gilbert.stream = function(stream) {\n      stream = projection.stream(stream);\n      var s = e.stream({\n        point: function(λ, φ) {\n          stream.point(λ * .5, asin(Math.tan(-φ * .5 * radians)) * degrees);\n        },\n        lineStart: function() {\n          stream.lineStart();\n        },\n        lineEnd: function() {\n          stream.lineEnd();\n        },\n        polygonStart: function() {\n          stream.polygonStart();\n        },\n        polygonEnd: function() {\n          stream.polygonEnd();\n        }\n      });\n      s.sphere = function() {\n        stream.sphere();\n      };\n      s.valid = false;\n      return s;\n    };\n    return gilbert;\n  };\n  var gingeryAzimuthalEquidistant = d3.geoAzimuthalEquidistant.raw;\n  function gingery(ρ, n) {\n    var k = 2 * π / n, ρ2 = ρ * ρ;\n    function forward(λ, φ) {\n      var p = gingeryAzimuthalEquidistant(λ, φ), x = p[0], y = p[1], r2 = x * x + y * y;\n      if (r2 > ρ2) {\n        var r = Math.sqrt(r2), θ = Math.atan2(y, x), θ0 = k * Math.round(θ / k), α = θ - θ0, ρcosα = ρ * Math.cos(α), k_ = (ρ * Math.sin(α) - α * Math.sin(ρcosα)) / (halfπ - ρcosα), s_ = arcLength_(α, k_), e = (π - ρ) / gingeryIntegrate(s_, ρcosα, π);\n        x = r;\n        var i = 50, δ;\n        do {\n          x -= δ = (ρ + gingeryIntegrate(s_, ρcosα, x) * e - r) / (s_(x) * e);\n        } while (Math.abs(δ) > ε && --i > 0);\n        y = α * Math.sin(x);\n        if (x < halfπ) y -= k_ * (x - halfπ);\n        var s = Math.sin(θ0), c = Math.cos(θ0);\n        p[0] = x * c - y * s;\n        p[1] = x * s + y * c;\n      }\n      return p;\n    }\n    forward.invert = function(x, y) {\n      var r2 = x * x + y * y;\n      if (r2 > ρ2) {\n        var r = Math.sqrt(r2), θ = Math.atan2(y, x), θ0 = k * Math.round(θ / k), dθ = θ - θ0, x = r * Math.cos(dθ);\n        y = r * Math.sin(dθ);\n        var x_halfπ = x - halfπ, sinx = Math.sin(x), α = y / sinx, δ = x < halfπ ? Infinity : 0, i = 10;\n        while (true) {\n          var ρsinα = ρ * Math.sin(α), ρcosα = ρ * Math.cos(α), sinρcosα = Math.sin(ρcosα), halfπ_ρcosα = halfπ - ρcosα, k_ = (ρsinα - α * sinρcosα) / halfπ_ρcosα, s_ = arcLength_(α, k_);\n          if (Math.abs(δ) < ε2 || !--i) break;\n          α -= δ = (α * sinx - k_ * x_halfπ - y) / (sinx - x_halfπ * 2 * (halfπ_ρcosα * (ρcosα + α * ρsinα * Math.cos(ρcosα) - sinρcosα) - ρsinα * (ρsinα - α * sinρcosα)) / (halfπ_ρcosα * halfπ_ρcosα));\n        }\n        r = ρ + gingeryIntegrate(s_, ρcosα, x) * (π - ρ) / gingeryIntegrate(s_, ρcosα, π);\n        θ = θ0 + α;\n        x = r * Math.cos(θ);\n        y = r * Math.sin(θ);\n      }\n      return gingeryAzimuthalEquidistant.invert(x, y);\n    };\n    return forward;\n  }\n  function arcLength_(α, k) {\n    return function(x) {\n      var y_ = α * Math.cos(x);\n      if (x < halfπ) y_ -= k;\n      return Math.sqrt(1 + y_ * y_);\n    };\n  }\n  function gingeryProjection() {\n    var n = 6, ρ = 30 * radians, cρ = Math.cos(ρ), sρ = Math.sin(ρ), m = projectionMutator(gingery), p = m(ρ, n), stream_ = p.stream, ε = .01, cr = -Math.cos(ε * radians), sr = Math.sin(ε * radians);\n    p.radius = function(_) {\n      if (!arguments.length) return ρ * degrees;\n      cρ = Math.cos(ρ = _ * radians);\n      sρ = Math.sin(ρ);\n      return m(ρ, n);\n    };\n    p.lobes = function(_) {\n      if (!arguments.length) return n;\n      return m(ρ, n = +_);\n    };\n    p.stream = function(stream) {\n      var rotate = p.rotate(), rotateStream = stream_(stream), sphereStream = (p.rotate([0, 0]),\n      stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function() {\n        sphereStream.polygonStart(), sphereStream.lineStart();\n        for (var i = 0, δ = 2 * π / n, φ = 0; i < n; ++i, φ -= δ) {\n          sphereStream.point(Math.atan2(sr * Math.cos(φ), cr) * degrees, Math.asin(sr * Math.sin(φ)) * degrees);\n          sphereStream.point(Math.atan2(sρ * Math.cos(φ - δ / 2), cρ) * degrees, Math.asin(sρ * Math.sin(φ - δ / 2)) * degrees);\n        }\n        sphereStream.lineEnd(), sphereStream.polygonEnd();\n      };\n      return rotateStream;\n    };\n    return p;\n  }\n  function gingeryIntegrate(f, a, b) {\n    var n = 50, h = (b - a) / n, s = f(a) + f(b);\n    for (var i = 1, x = a; i < n; ++i) s += 2 * f(x += h);\n    return s * .5 * h;\n  }\n  (d3.geoGingery = gingeryProjection).raw = gingery;\n  function ginzburgPolyconic(a, b, c, d, e, f, g, h) {\n    if (arguments.length < 8) h = 0;\n    function forward(λ, φ) {\n      if (!φ) return [a * λ / π, 0];\n      var φ2 = φ * φ, xB = a + φ2 * (b + φ2 * (c + φ2 * d)), yB = φ * (e - 1 + φ2 * (f - h + φ2 * g)), m = (xB * xB + yB * yB) / (2 * yB), α = λ * Math.asin(xB / m) / π;\n      return [m * Math.sin(α), φ * (1 + φ2 * h) + m * (1 - Math.cos(α))];\n    }\n    forward.invert = function(x, y) {\n      var λ = π * x / a, φ = y, δλ, δφ, i = 50;\n      do {\n        var φ2 = φ * φ, xB = a + φ2 * (b + φ2 * (c + φ2 * d)), yB = φ * (e - 1 + φ2 * (f - h + φ2 * g)), p = xB * xB + yB * yB, q = 2 * yB, m = p / q, m2 = m * m, dαdλ = Math.asin(xB / m) / π, α = λ * dαdλ;\n        xB2 = xB * xB, dxBdφ = (2 * b + φ2 * (4 * c + φ2 * 6 * d)) * φ, dyBdφ = e + φ2 * (3 * f + φ2 * 5 * g),\n        dpdφ = 2 * (xB * dxBdφ + yB * (dyBdφ - 1)), dqdφ = 2 * (dyBdφ - 1), dmdφ = (dpdφ * q - p * dqdφ) / (q * q),\n        cosα = Math.cos(α), sinα = Math.sin(α), mcosα = m * cosα, msinα = m * sinα, dαdφ = λ / π * (1 / asqrt(1 - xB2 / m2)) * (dxBdφ * m - xB * dmdφ) / m2,\n        fx = msinα - x, fy = φ * (1 + φ2 * h) + m - mcosα - y, δxδφ = dmdφ * sinα + mcosα * dαdφ,\n        δxδλ = mcosα * dαdλ, δyδφ = 1 + dmdφ - (dmdφ * cosα - msinα * dαdφ), δyδλ = msinα * dαdλ,\n        denominator = δxδφ * δyδλ - δyδφ * δxδλ;\n        if (!denominator) break;\n        λ -= δλ = (fy * δxδφ - fx * δyδφ) / denominator;\n        φ -= δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n      return [λ, φ];\n    };\n    return forward;\n  }\n  var ginzburg4 = ginzburgPolyconic(2.8284, -1.6988, .75432, -.18071, 1.76003, -.38914, .042555);\n  (d3.geoGinzburg4 = function() {\n    return projection(ginzburg4);\n  }).raw = ginzburg4;\n  var ginzburg5 = ginzburgPolyconic(2.583819, -.835827, .170354, -.038094, 1.543313, -.411435, .082742);\n  (d3.geoGinzburg5 = function() {\n    return projection(ginzburg5);\n  }).raw = ginzburg5;\n  var ginzburg6 = ginzburgPolyconic(5 / 6 * π, -.62636, -.0344, 0, 1.3493, -.05524, 0, .045);\n  (d3.geoGinzburg6 = function() {\n    return projection(ginzburg6);\n  }).raw = ginzburg6;\n  function ginzburg8(λ, φ) {\n    var λ2 = λ * λ, φ2 = φ * φ;\n    return [λ * (1 - .162388 * φ2) * (.87 - 952426e-9 * λ2 * λ2), φ * (1 + φ2 / 12)];\n  }\n  ginzburg8.invert = function(x, y) {\n    var λ = x, φ = y, i = 50, δ;\n    do {\n      var φ2 = φ * φ;\n      φ -= δ = (φ * (1 + φ2 / 12) - y) / (1 + φ2 / 4);\n    } while (Math.abs(δ) > ε && --i > 0);\n    i = 50;\n    x /= 1 - .162388 * φ2;\n    do {\n      var λ4 = (λ4 = λ * λ) * λ4;\n      λ -= δ = (λ * (.87 - 952426e-9 * λ4) - x) / (.87 - .00476213 * λ4);\n    } while (Math.abs(δ) > ε && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoGinzburg8 = function() {\n    return projection(ginzburg8);\n  }).raw = ginzburg8;\n  var ginzburg9 = ginzburgPolyconic(2.6516, -.76534, .19123, -.047094, 1.36289, -.13965, .031762);\n  (d3.geoGinzburg9 = function() {\n    return projection(ginzburg9);\n  }).raw = ginzburg9;\n  function quincuncialProjection(projectHemisphere) {\n    var dx = projectHemisphere(halfπ, 0)[0] - projectHemisphere(-halfπ, 0)[0];\n    function projection() {\n      var quincuncial = false, m = projectionMutator(projectAt), p = m(quincuncial);\n      p.quincuncial = function(_) {\n        if (!arguments.length) return quincuncial;\n        return m(quincuncial = !!_);\n      };\n      return p;\n    }\n    function projectAt(quincuncial) {\n      var forward = quincuncial ? function(λ, φ) {\n        var t = Math.abs(λ) < halfπ, p = projectHemisphere(t ? λ : λ > 0 ? λ - π : λ + π, φ);\n        var x = (p[0] - p[1]) * Math.SQRT1_2, y = (p[0] + p[1]) * Math.SQRT1_2;\n        if (t) return [x, y];\n        var d = dx * Math.SQRT1_2, s = x > 0 ^ y > 0 ? -1 : 1;\n        return [s * x - sgn(y) * d, s * y - sgn(x) * d];\n      } : function(λ, φ) {\n        var s = λ > 0 ? -.5 : .5, point = projectHemisphere(λ + s * π, φ);\n        point[0] -= s * dx;\n        return point;\n      };\n      if (projectHemisphere.invert) forward.invert = quincuncial ? function(x0, y0) {\n        var x = (x0 + y0) * Math.SQRT1_2, y = (y0 - x0) * Math.SQRT1_2, t = Math.abs(x) < .5 * dx && Math.abs(y) < .5 * dx;\n        if (!t) {\n          var d = dx * Math.SQRT1_2, s = x > 0 ^ y > 0 ? -1 : 1, x1 = -s * (x0 + (y > 0 ? 1 : -1) * d), y1 = -s * (y0 + (x > 0 ? 1 : -1) * d);\n          x = (-x1 - y1) * Math.SQRT1_2;\n          y = (x1 - y1) * Math.SQRT1_2;\n        }\n        var p = projectHemisphere.invert(x, y);\n        if (!t) p[0] += x > 0 ? π : -π;\n        return p;\n      } : function(x, y) {\n        var s = x > 0 ? -.5 : .5, location = projectHemisphere.invert(x + s * dx, y), λ = location[0] - s * π;\n        if (λ < -π) λ += 2 * π; else if (λ > π) λ -= 2 * π;\n        location[0] = λ;\n        return location;\n      };\n      return forward;\n    }\n    projection.raw = projectAt;\n    return projection;\n  }\n  function gringorten(λ, φ) {\n    var sλ = sgn(λ), sφ = sgn(φ), cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(sφ * φ);\n    λ = Math.abs(Math.atan2(y, z));\n    φ = asin(x);\n    if (Math.abs(λ - halfπ) > ε) λ %= halfπ;\n    var point = gringortenHexadecant(λ > π / 4 ? halfπ - λ : λ, φ);\n    if (λ > π / 4) z = point[0], point[0] = -point[1], point[1] = -z;\n    return point[0] *= sλ, point[1] *= -sφ, point;\n  }\n  gringorten.invert = function(x, y) {\n    var sx = sgn(x), sy = sgn(y), x0 = -sx * x, y0 = -sy * y, t = y0 / x0 < 1, p = gringortenHexadecantInvert(t ? y0 : x0, t ? x0 : y0), λ = p[0], φ = p[1];\n    if (t) λ = -halfπ - λ;\n    var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ);\n    return [sx * (Math.atan2(y, -z) + π), sy * asin(x)];\n  };\n  function gringortenHexadecant(λ, φ) {\n    if (φ === halfπ) return [0, 0];\n    var sinφ = Math.sin(φ), r = sinφ * sinφ, r2 = r * r, j = 1 + r2, k = 1 + 3 * r2, q = 1 - r2, z = asin(1 / Math.sqrt(j)), v = q + r * j * z, p2 = (1 - sinφ) / v, p = Math.sqrt(p2), a2 = p2 * j, a = Math.sqrt(a2), h = p * q;\n    if (λ === 0) return [0, -(h + r * a)];\n    var cosφ = Math.cos(φ), secφ = 1 / cosφ, drdφ = 2 * sinφ * cosφ, dvdφ = (-3 * r + z * k) * drdφ, dp2dφ = (-v * cosφ - (1 - sinφ) * dvdφ) / (v * v), dpdφ = .5 * dp2dφ / p, dhdφ = q * dpdφ - 2 * r * p * drdφ, dra2dφ = r * j * dp2dφ + p2 * k * drdφ, μ = -secφ * drdφ, ν = -secφ * dra2dφ, ζ = -2 * secφ * dhdφ, Λ = 4 * λ / π;\n    if (λ > .222 * π || φ < π / 4 && λ > .175 * π) {\n      var x = (h + r * asqrt(a2 * (1 + r2) - h * h)) / (1 + r2);\n      if (λ > π / 4) return [x, x];\n      var x1 = x, x0 = .5 * x, i = 50;\n      x = .5 * (x0 + x1);\n      do {\n        var g = Math.sqrt(a2 - x * x), f = x * (ζ + μ * g) + ν * asin(x / a) - Λ;\n        if (!f) break;\n        if (f < 0) x0 = x; else x1 = x;\n        x = .5 * (x0 + x1);\n      } while (Math.abs(x1 - x0) > ε && --i > 0);\n    } else {\n      var x = ε, i = 25, δ;\n      do {\n        var x2 = x * x, g = asqrt(a2 - x2), ζμg = ζ + μ * g, f = x * ζμg + ν * asin(x / a) - Λ, df = ζμg + (ν - μ * x2) / g;\n        x -= δ = g ? f / df : 0;\n      } while (Math.abs(δ) > ε && --i > 0);\n    }\n    return [x, -h - r * asqrt(a2 - x * x)];\n  }\n  function gringortenHexadecantInvert(x, y) {\n    var x0 = 0, x1 = 1, r = .5, i = 50;\n    while (true) {\n      var r2 = r * r, sinφ = Math.sqrt(r), z = Math.asin(1 / Math.sqrt(1 + r2)), v = 1 - r2 + r * (1 + r2) * z, p2 = (1 - sinφ) / v, p = Math.sqrt(p2), a2 = p2 * (1 + r2), h = p * (1 - r2), g2 = a2 - x * x, g = Math.sqrt(g2), y0 = y + h + r * g;\n      if (Math.abs(x1 - x0) < ε2 || --i === 0 || y0 === 0) break;\n      if (y0 > 0) x0 = r; else x1 = r;\n      r = .5 * (x0 + x1);\n    }\n    if (!i) return null;\n    var φ = Math.asin(sinφ), cosφ = Math.cos(φ), secφ = 1 / cosφ, drdφ = 2 * sinφ * cosφ, dvdφ = (-3 * r + z * (1 + 3 * r2)) * drdφ, dp2dφ = (-v * cosφ - (1 - sinφ) * dvdφ) / (v * v), dpdφ = .5 * dp2dφ / p, dhdφ = (1 - r2) * dpdφ - 2 * r * p * drdφ, ζ = -2 * secφ * dhdφ, μ = -secφ * drdφ, ν = -secφ * (r * (1 + r2) * dp2dφ + p2 * (1 + 3 * r2) * drdφ);\n    return [π / 4 * (x * (ζ + μ * g) + ν * Math.asin(x / Math.sqrt(a2))), φ];\n  }\n  d3.geoGringorten = quincuncialProjection(gringorten);\n  function ellipticJi(u, v, m) {\n    if (!u) {\n      var b = ellipticJ(v, 1 - m);\n      return [[0, b[0] / b[1]], [1 / b[1], 0], [b[2] / b[1], 0]];\n    }\n    var a = ellipticJ(u, m);\n    if (!v) return [[a[0], 0], [a[1], 0], [a[2], 0]];\n    var b = ellipticJ(v, 1 - m), denominator = b[1] * b[1] + m * a[0] * a[0] * b[0] * b[0];\n    return [[a[0] * b[2] / denominator, a[1] * a[2] * b[0] * b[1] / denominator], [a[1] * b[1] / denominator, -a[0] * a[2] * b[0] * b[2] / denominator], [a[2] * b[1] * b[2] / denominator, -m * a[0] * a[1] * b[0] / denominator]];\n  }\n  function ellipticJ(u, m) {\n    var ai, b, φ, t, twon;\n    if (m < ε) {\n      t = Math.sin(u);\n      b = Math.cos(u);\n      ai = .25 * m * (u - t * b);\n      return [t - ai * b, b + ai * t, 1 - .5 * m * t * t, u - ai];\n    }\n    if (m >= 1 - ε) {\n      ai = .25 * (1 - m);\n      b = cosh(u);\n      t = tanh(u);\n      φ = 1 / b;\n      twon = b * sinh(u);\n      return [t + ai * (twon - u) / (b * b), φ - ai * t * φ * (twon - u), φ + ai * t * φ * (twon + u), 2 * Math.atan(Math.exp(u)) - halfπ + ai * (twon - u) / b];\n    }\n    var a = [1, 0, 0, 0, 0, 0, 0, 0, 0], c = [Math.sqrt(m), 0, 0, 0, 0, 0, 0, 0, 0], i = 0;\n    b = Math.sqrt(1 - m);\n    twon = 1;\n    while (Math.abs(c[i] / a[i]) > ε && i < 8) {\n      ai = a[i++];\n      c[i] = .5 * (ai - b);\n      a[i] = .5 * (ai + b);\n      b = asqrt(ai * b);\n      twon *= 2;\n    }\n    φ = twon * a[i] * u;\n    do {\n      t = c[i] * Math.sin(b = φ) / a[i];\n      φ = .5 * (asin(t) + φ);\n    } while (--i);\n    return [Math.sin(φ), t = Math.cos(φ), t / Math.cos(φ - b), φ];\n  }\n  function ellipticFi(φ, ψ, m) {\n    var r = Math.abs(φ), i = Math.abs(ψ), sinhψ = sinh(i);\n    if (r) {\n      var cscφ = 1 / Math.sin(r), cotφ2 = 1 / (Math.tan(r) * Math.tan(r)), b = -(cotφ2 + m * sinhψ * sinhψ * cscφ * cscφ - 1 + m), c = (m - 1) * cotφ2, cotλ2 = .5 * (-b + Math.sqrt(b * b - 4 * c));\n      return [ellipticF(Math.atan(1 / Math.sqrt(cotλ2)), m) * sgn(φ), ellipticF(Math.atan(asqrt((cotλ2 / cotφ2 - 1) / m)), 1 - m) * sgn(ψ)];\n    }\n    return [0, ellipticF(Math.atan(sinhψ), 1 - m) * sgn(ψ)];\n  }\n  function ellipticF(φ, m) {\n    if (!m) return φ;\n    if (m === 1) return Math.log(Math.tan(φ / 2 + π / 4));\n    var a = 1, b = Math.sqrt(1 - m), c = Math.sqrt(m);\n    for (var i = 0; Math.abs(c) > ε; i++) {\n      if (φ % π) {\n        var dφ = Math.atan(b * Math.tan(φ) / a);\n        if (dφ < 0) dφ += π;\n        φ += dφ + ~~(φ / π) * π;\n      } else φ += φ;\n      c = (a + b) / 2;\n      b = Math.sqrt(a * b);\n      c = ((a = c) - b) / 2;\n    }\n    return φ / (Math.pow(2, i) * a);\n  }\n  function guyou(λ, φ) {\n    var k_ = (Math.SQRT2 - 1) / (Math.SQRT2 + 1), k = Math.sqrt(1 - k_ * k_), K = ellipticF(halfπ, k * k), f = -1;\n    var ψ = Math.log(Math.tan(π / 4 + Math.abs(φ) / 2)), r = Math.exp(f * ψ) / Math.sqrt(k_), at = guyouComplexAtan(r * Math.cos(f * λ), r * Math.sin(f * λ)), t = ellipticFi(at[0], at[1], k * k);\n    return [-t[1], (φ >= 0 ? 1 : -1) * (.5 * K - t[0])];\n  }\n  function guyouComplexAtan(x, y) {\n    var x2 = x * x, y_1 = y + 1, t = 1 - x2 - y * y;\n    return [.5 * ((x >= 0 ? halfπ : -halfπ) - Math.atan2(t, 2 * x)), -.25 * Math.log(t * t + 4 * x2) + .5 * Math.log(y_1 * y_1 + x2)];\n  }\n  function guyouComplexDivide(a, b) {\n    var denominator = b[0] * b[0] + b[1] * b[1];\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n  }\n  guyou.invert = function(x, y) {\n    var k_ = (Math.SQRT2 - 1) / (Math.SQRT2 + 1), k = Math.sqrt(1 - k_ * k_), K = ellipticF(halfπ, k * k), f = -1;\n    var j = ellipticJi(.5 * K - y, -x, k * k), tn = guyouComplexDivide(j[0], j[1]), λ = Math.atan2(tn[1], tn[0]) / f;\n    return [λ, 2 * Math.atan(Math.exp(.5 / f * Math.log(k_ * tn[0] * tn[0] + k_ * tn[1] * tn[1]))) - halfπ];\n  };\n  d3.geoGuyou = quincuncialProjection(guyou);\n  function hammerRetroazimuthal(φ0) {\n    var sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), rotate = hammerRetroazimuthalRotation(φ0);\n    rotate.invert = hammerRetroazimuthalRotation(-φ0);\n    function forward(λ, φ) {\n      var p = rotate(λ, φ);\n      λ = p[0], φ = p[1];\n      var sinφ = Math.sin(φ), cosφ = Math.cos(φ), cosλ = Math.cos(λ), z = acos(sinφ0 * sinφ + cosφ0 * cosφ * cosλ), sinz = Math.sin(z), K = Math.abs(sinz) > ε ? z / sinz : 1;\n      return [K * cosφ0 * Math.sin(λ), (Math.abs(λ) > halfπ ? K : -K) * (sinφ0 * cosφ - cosφ0 * sinφ * cosλ)];\n    }\n    forward.invert = function(x, y) {\n      var ρ = Math.sqrt(x * x + y * y), sinz = -Math.sin(ρ), cosz = Math.cos(ρ), a = ρ * cosz, b = -y * sinz, c = ρ * sinφ0, d = asqrt(a * a + b * b - c * c), φ = Math.atan2(a * c + b * d, b * c - a * d), λ = (ρ > halfπ ? -1 : 1) * Math.atan2(x * sinz, ρ * Math.cos(φ) * cosz + y * Math.sin(φ) * sinz);\n      return rotate.invert(λ, φ);\n    };\n    return forward;\n  }\n  function hammerRetroazimuthalRotation(φ0) {\n    var sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0);\n    return function(λ, φ) {\n      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ);\n      return [Math.atan2(y, x * cosφ0 - z * sinφ0), asin(z * cosφ0 + x * sinφ0)];\n    };\n  }\n  function hammerRetroazimuthalProjection() {\n    var φ0 = 0, m = projectionMutator(hammerRetroazimuthal), p = m(φ0), rotate_ = p.rotate, stream_ = p.stream, circle = d3.geoCircle();\n    p.parallel = function(_) {\n      if (!arguments.length) return φ0 / π * 180;\n      var r = p.rotate();\n      return m(φ0 = _ * π / 180).rotate(r);\n    };\n    p.rotate = function(_) {\n      if (!arguments.length) return _ = rotate_.call(p), _[1] += φ0 / π * 180, _;\n      rotate_.call(p, [_[0], _[1] - φ0 / π * 180]);\n      circle.center([-_[0], -_[1]]);\n      return p;\n    };\n    p.stream = function(stream) {\n      stream = stream_(stream);\n      stream.sphere = function() {\n        stream.polygonStart();\n        var ε = .01, ring = circle.radius(90 - ε)().coordinates[0], n = ring.length - 1, i = -1, p;\n        stream.lineStart();\n        while (++i < n) stream.point((p = ring[i])[0], p[1]);\n        stream.lineEnd();\n        ring = circle.radius(90 + ε)().coordinates[0];\n        n = ring.length - 1;\n        stream.lineStart();\n        while (--i >= 0) stream.point((p = ring[i])[0], p[1]);\n        stream.lineEnd();\n        stream.polygonEnd();\n      };\n      return stream;\n    };\n    return p;\n  }\n  (d3.geoHammerRetroazimuthal = hammerRetroazimuthalProjection).raw = hammerRetroazimuthal;\n  var hammerAzimuthalEqualArea = d3.geoAzimuthalEqualArea.raw;\n  function hammer(A, B) {\n    if (arguments.length < 2) B = A;\n    if (B === 1) return hammerAzimuthalEqualArea;\n    if (B === Infinity) return hammerQuarticAuthalic;\n    function forward(λ, φ) {\n      var coordinates = hammerAzimuthalEqualArea(λ / B, φ);\n      coordinates[0] *= A;\n      return coordinates;\n    }\n    forward.invert = function(x, y) {\n      var coordinates = hammerAzimuthalEqualArea.invert(x / A, y);\n      coordinates[0] *= B;\n      return coordinates;\n    };\n    return forward;\n  }\n  function hammerProjection() {\n    var B = 2, m = projectionMutator(hammer), p = m(B);\n    p.coefficient = function(_) {\n      if (!arguments.length) return B;\n      return m(B = +_);\n    };\n    return p;\n  }\n  function hammerQuarticAuthalic(λ, φ) {\n    return [λ * Math.cos(φ) / Math.cos(φ /= 2), 2 * Math.sin(φ)];\n  }\n  hammerQuarticAuthalic.invert = function(x, y) {\n    var φ = 2 * asin(y / 2);\n    return [x * Math.cos(φ / 2) / Math.cos(φ), φ];\n  };\n  (d3.geoHammer = hammerProjection).raw = hammer;\n  function hatano(λ, φ) {\n    var c = Math.sin(φ) * (φ < 0 ? 2.43763 : 2.67595);\n    for (var i = 0, δ; i < 20; i++) {\n      φ -= δ = (φ + Math.sin(φ) - c) / (1 + Math.cos(φ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [.85 * λ * Math.cos(φ *= .5), Math.sin(φ) * (φ < 0 ? 1.93052 : 1.75859)];\n  }\n  hatano.invert = function(x, y) {\n    var θ = Math.abs(θ = y * (y < 0 ? .5179951515653813 : .5686373742600607)) > 1 - ε ? θ > 0 ? halfπ : -halfπ : asin(θ);\n    return [1.1764705882352942 * x / Math.cos(θ), Math.abs(θ = ((θ += θ) + Math.sin(θ)) * (y < 0 ? .4102345310814193 : .3736990601468637)) > 1 - ε ? θ > 0 ? halfπ : -halfπ : asin(θ)];\n  };\n  (d3.geoHatano = function() {\n    return projection(hatano);\n  }).raw = hatano;\n  var healpixParallel = 41 + 48 / 36 + 37 / 3600;\n  function healpix(h) {\n    var lambert = d3.geoCylindricalEqualArea.raw(0), φ0 = healpixParallel * π / 180, dx0 = 2 * π, dx1 = d3.geoCollignon.raw(π, φ0)[0] - d3.geoCollignon.raw(-π, φ0)[0], y0 = lambert(0, φ0)[1], y1 = d3.geoCollignon.raw(0, φ0)[1], dy1 = d3.geoCollignon.raw(0, halfπ)[1] - y1, k = 2 * π / h;\n    function forward(λ, φ) {\n      var point, φ2 = Math.abs(φ);\n      if (φ2 > φ0) {\n        var i = Math.min(h - 1, Math.max(0, Math.floor((λ + π) / k)));\n        λ += π * (h - 1) / h - i * k;\n        point = d3.geoCollignon.raw(λ, φ2);\n        point[0] = point[0] * dx0 / dx1 - dx0 * (h - 1) / (2 * h) + i * dx0 / h;\n        point[1] = y0 + (point[1] - y1) * 4 * dy1 / dx0;\n        if (φ < 0) point[1] = -point[1];\n      } else {\n        point = lambert(λ, φ);\n      }\n      point[0] /= 2;\n      return point;\n    }\n    forward.invert = function(x, y) {\n      x *= 2;\n      var y2 = Math.abs(y);\n      if (y2 > y0) {\n        var i = Math.min(h - 1, Math.max(0, Math.floor((x + π) / k)));\n        x = (x + π * (h - 1) / h - i * k) * dx1 / dx0;\n        var point = d3.geoCollignon.raw.invert(x, .25 * (y2 - y0) * dx0 / dy1 + y1);\n        point[0] -= π * (h - 1) / h - i * k;\n        if (y < 0) point[1] = -point[1];\n        return point;\n      }\n      return lambert.invert(x, y);\n    };\n    return forward;\n  }\n  function healpixProjection() {\n    var n = 2, m = projectionMutator(healpix), p = m(n), stream_ = p.stream;\n    p.lobes = function(_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    p.stream = function(stream) {\n      var rotate = p.rotate(), rotateStream = stream_(stream), sphereStream = (p.rotate([0, 0]),\n      stream_(stream));\n      p.rotate(rotate);\n      rotateStream.sphere = function() {\n        d3.geoStream(sphere(), sphereStream);\n      };\n      return rotateStream;\n    };\n    function sphere() {\n      var step = 180 / n;\n      return {\n        type: \"Polygon\",\n        coordinates: [d3.range(-180, 180 + step / 2, step).map(function(x, i) {\n          return [x, i & 1 ? 90 - 1e-6 : healpixParallel];\n        }).concat(d3.range(180, -180 - step / 2, -step).map(function(x, i) {\n          return [x, i & 1 ? -90 + 1e-6 : -healpixParallel];\n        }))]\n      };\n    }\n    return p;\n  }\n  (d3.geoHealpix = healpixProjection).raw = healpix;\n  function hill(K) {\n    var L = 1 + K, sinβ = Math.sin(1 / L), β = asin(sinβ), A = 2 * Math.sqrt(π / (B = π + 4 * β * L)), B, ρ0 = .5 * A * (L + Math.sqrt(K * (2 + K))), K2 = K * K, L2 = L * L;\n    function forward(λ, φ) {\n      var t = 1 - Math.sin(φ), ρ, ω;\n      if (t && t < 2) {\n        var θ = halfπ - φ, i = 25, δ;\n        do {\n          var sinθ = Math.sin(θ), cosθ = Math.cos(θ), β_β1 = β + Math.atan2(sinθ, L - cosθ), C = 1 + L2 - 2 * L * cosθ;\n          θ -= δ = (θ - K2 * β - L * sinθ + C * β_β1 - .5 * t * B) / (2 * L * sinθ * β_β1);\n        } while (Math.abs(δ) > ε2 && --i > 0);\n        ρ = A * Math.sqrt(C);\n        ω = λ * β_β1 / π;\n      } else {\n        ρ = A * (K + t);\n        ω = λ * β / π;\n      }\n      return [ρ * Math.sin(ω), ρ0 - ρ * Math.cos(ω)];\n    }\n    forward.invert = function(x, y) {\n      var ρ2 = x * x + (y -= ρ0) * y, cosθ = (1 + L2 - ρ2 / (A * A)) / (2 * L), θ = acos(cosθ), sinθ = Math.sin(θ), β_β1 = β + Math.atan2(sinθ, L - cosθ);\n      return [asin(x / Math.sqrt(ρ2)) * π / β_β1, asin(1 - 2 * (θ - K2 * β - L * sinθ + (1 + L2 - 2 * L * cosθ) * β_β1) / B)];\n    };\n    return forward;\n  }\n  function hillProjection() {\n    var K = 1, m = projectionMutator(hill), p = m(K);\n    p.ratio = function(_) {\n      if (!arguments.length) return K;\n      return m(K = +_);\n    };\n    return p;\n  }\n  (d3.geoHill = hillProjection).raw = hill;\n  var sinuMollweideφ = .7109889596207567, sinuMollweideY = .0528035274542;\n  function sinuMollweide(λ, φ) {\n    return φ > -sinuMollweideφ ? (λ = mollweide(λ, φ), λ[1] += sinuMollweideY, λ) : sinusoidal(λ, φ);\n  }\n  sinuMollweide.invert = function(x, y) {\n    return y > -sinuMollweideφ ? mollweide.invert(x, y - sinuMollweideY) : sinusoidal.invert(x, y);\n  };\n  (d3.geoSinuMollweide = function() {\n    return projection(sinuMollweide).rotate([-20, -55]);\n  }).raw = sinuMollweide;\n  function homolosine(λ, φ) {\n    return Math.abs(φ) > sinuMollweideφ ? (λ = mollweide(λ, φ), λ[1] -= φ > 0 ? sinuMollweideY : -sinuMollweideY,\n    λ) : sinusoidal(λ, φ);\n  }\n  homolosine.invert = function(x, y) {\n    return Math.abs(y) > sinuMollweideφ ? mollweide.invert(x, y + (y > 0 ? sinuMollweideY : -sinuMollweideY)) : sinusoidal.invert(x, y);\n  };\n  (d3.geoHomolosine = function() {\n    return projection(homolosine);\n  }).raw = homolosine;\n  function kavrayskiy7(λ, φ) {\n    return [3 * λ / (2 * π) * Math.sqrt(π * π / 3 - φ * φ), φ];\n  }\n  kavrayskiy7.invert = function(x, y) {\n    return [2 / 3 * π * x / Math.sqrt(π * π / 3 - y * y), y];\n  };\n  (d3.geoKavrayskiy7 = function() {\n    return projection(kavrayskiy7);\n  }).raw = kavrayskiy7;\n  function lagrange(n) {\n    function forward(λ, φ) {\n      if (Math.abs(Math.abs(φ) - halfπ) < ε) return [0, φ < 0 ? -2 : 2];\n      var sinφ = Math.sin(φ), v = Math.pow((1 + sinφ) / (1 - sinφ), n / 2), c = .5 * (v + 1 / v) + Math.cos(λ *= n);\n      return [2 * Math.sin(λ) / c, (v - 1 / v) / c];\n    }\n    forward.invert = function(x, y) {\n      var y0 = Math.abs(y);\n      if (Math.abs(y0 - 2) < ε) return x ? null : [0, sgn(y) * halfπ];\n      if (y0 > 2) return null;\n      x /= 2, y /= 2;\n      var x2 = x * x, y2 = y * y, t = 2 * y / (1 + x2 + y2);\n      t = Math.pow((1 + t) / (1 - t), 1 / n);\n      return [Math.atan2(2 * x, 1 - x2 - y2) / n, asin((t - 1) / (t + 1))];\n    };\n    return forward;\n  }\n  function lagrangeProjection() {\n    var n = .5, m = projectionMutator(lagrange), p = m(n);\n    p.spacing = function(_) {\n      if (!arguments.length) return n;\n      return m(n = +_);\n    };\n    return p;\n  }\n  (d3.geoLagrange = lagrangeProjection).raw = lagrange;\n  function larrivee(λ, φ) {\n    return [λ * (1 + Math.sqrt(Math.cos(φ))) / 2, φ / (Math.cos(φ / 2) * Math.cos(λ / 6))];\n  }\n  larrivee.invert = function(x, y) {\n    var x0 = Math.abs(x), y0 = Math.abs(y), π_sqrt2 = π / Math.SQRT2, λ = ε, φ = halfπ;\n    if (y0 < π_sqrt2) φ *= y0 / π_sqrt2; else λ += 6 * acos(π_sqrt2 / y0);\n    for (var i = 0; i < 25; i++) {\n      var sinφ = Math.sin(φ), sqrtcosφ = asqrt(Math.cos(φ)), sinφ_2 = Math.sin(φ / 2), cosφ_2 = Math.cos(φ / 2), sinλ_6 = Math.sin(λ / 6), cosλ_6 = Math.cos(λ / 6), f0 = .5 * λ * (1 + sqrtcosφ) - x0, f1 = φ / (cosφ_2 * cosλ_6) - y0, df0dφ = sqrtcosφ ? -.25 * λ * sinφ / sqrtcosφ : 0, df0dλ = .5 * (1 + sqrtcosφ), df1dφ = (1 + .5 * φ * sinφ_2 / cosφ_2) / (cosφ_2 * cosλ_6), df1dλ = φ / cosφ_2 * (sinλ_6 / 6) / (cosλ_6 * cosλ_6), denom = df0dφ * df1dλ - df1dφ * df0dλ, dφ = (f0 * df1dλ - f1 * df0dλ) / denom, dλ = (f1 * df0dφ - f0 * df1dφ) / denom;\n      φ -= dφ;\n      λ -= dλ;\n      if (Math.abs(dφ) < ε && Math.abs(dλ) < ε) break;\n    }\n    return [x < 0 ? -λ : λ, y < 0 ? -φ : φ];\n  };\n  (d3.geoLarrivee = function() {\n    return projection(larrivee);\n  }).raw = larrivee;\n  function laskowski(λ, φ) {\n    var λ2 = λ * λ, φ2 = φ * φ;\n    return [λ * (.975534 + φ2 * (-.119161 + λ2 * -.0143059 + φ2 * -.0547009)), φ * (1.00384 + λ2 * (.0802894 + φ2 * -.02855 + λ2 * 199025e-9) + φ2 * (.0998909 + φ2 * -.0491032))];\n  }\n  laskowski.invert = function(x, y) {\n    var λ = sgn(x) * π, φ = y / 2, i = 50;\n    do {\n      var λ2 = λ * λ, φ2 = φ * φ, λφ = λ * φ, fx = λ * (.975534 + φ2 * (-.119161 + λ2 * -.0143059 + φ2 * -.0547009)) - x, fy = φ * (1.00384 + λ2 * (.0802894 + φ2 * -.02855 + λ2 * 199025e-9) + φ2 * (.0998909 + φ2 * -.0491032)) - y, δxδλ = .975534 - φ2 * (.119161 + 3 * λ2 * .0143059 + φ2 * .0547009), δxδφ = -λφ * (2 * .119161 + 4 * .0547009 * φ2 + 2 * .0143059 * λ2), δyδλ = λφ * (2 * .0802894 + 4 * 199025e-9 * λ2 + 2 * -.02855 * φ2), δyδφ = 1.00384 + λ2 * (.0802894 + 199025e-9 * λ2) + φ2 * (3 * (.0998909 - .02855 * λ2) - 5 * .0491032 * φ2), denominator = δxδφ * δyδλ - δyδφ * δxδλ, δλ = (fy * δxδφ - fx * δyδφ) / denominator, δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return i && [λ, φ];\n  };\n  (d3.geoLaskowski = function() {\n    return projection(laskowski);\n  }).raw = laskowski;\n  function littrow(λ, φ) {\n    return [Math.sin(λ) / Math.cos(φ), Math.tan(φ) * Math.cos(λ)];\n  }\n  littrow.invert = function(x, y) {\n    var x2 = x * x, y2 = y * y, y2_1 = y2 + 1, cosφ = x ? Math.SQRT1_2 * Math.sqrt((y2_1 - Math.sqrt(x2 * x2 + 2 * x2 * (y2 - 1) + y2_1 * y2_1)) / x2 + 1) : 1 / Math.sqrt(y2_1);\n    return [asin(x * cosφ), sgn(y) * acos(cosφ)];\n  };\n  (d3.geoLittrow = function() {\n    return projection(littrow);\n  }).raw = littrow;\n  function loximuthal(φ0) {\n    var cosφ0 = Math.cos(φ0), tanφ0 = Math.tan(π / 4 + φ0 / 2);\n    function forward(λ, φ) {\n      var y = φ - φ0, x = Math.abs(y) < ε ? λ * cosφ0 : Math.abs(x = π / 4 + φ / 2) < ε || Math.abs(Math.abs(x) - halfπ) < ε ? 0 : λ * y / Math.log(Math.tan(x) / tanφ0);\n      return [x, y];\n    }\n    forward.invert = function(x, y) {\n      var λ, φ = y + φ0;\n      return [Math.abs(y) < ε ? x / cosφ0 : Math.abs(λ = π / 4 + φ / 2) < ε || Math.abs(Math.abs(λ) - halfπ) < ε ? 0 : x * Math.log(Math.tan(λ) / tanφ0) / y, φ];\n    };\n    return forward;\n  }\n  (d3.geoLoximuthal = function() {\n    return parallel1Projection(loximuthal).parallel(40);\n  }).raw = loximuthal;\n  function miller(λ, φ) {\n    return [λ, 1.25 * Math.log(Math.tan(π / 4 + .4 * φ))];\n  }\n  miller.invert = function(x, y) {\n    return [x, 2.5 * Math.atan(Math.exp(.8 * y)) - .625 * π];\n  };\n  (d3.geoMiller = function() {\n    return projection(miller);\n  }).raw = miller;\n  function modifiedStereographic(C) {\n    var m = C.length - 1;\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ), k = 2 / (1 + cosφ * Math.cos(λ)), zr = k * cosφ * Math.sin(λ), zi = k * Math.sin(φ), i = m, w = C[i], ar = w[0], ai = w[1], t;\n      while (--i >= 0) {\n        w = C[i];\n        ar = w[0] + zr * (t = ar) - zi * ai;\n        ai = w[1] + zr * ai + zi * t;\n      }\n      ar = zr * (t = ar) - zi * ai;\n      ai = zr * ai + zi * t;\n      return [ar, ai];\n    }\n    forward.invert = function(x, y) {\n      var i = 20, zr = x, zi = y;\n      do {\n        var j = m, w = C[j], ar = w[0], ai = w[1], br = 0, bi = 0, t;\n        while (--j >= 0) {\n          w = C[j];\n          br = ar + zr * (t = br) - zi * bi;\n          bi = ai + zr * bi + zi * t;\n          ar = w[0] + zr * (t = ar) - zi * ai;\n          ai = w[1] + zr * ai + zi * t;\n        }\n        br = ar + zr * (t = br) - zi * bi;\n        bi = ai + zr * bi + zi * t;\n        ar = zr * (t = ar) - zi * ai - x;\n        ai = zr * ai + zi * t - y;\n        var denominator = br * br + bi * bi, δr, δi;\n        zr -= δr = (ar * br + ai * bi) / denominator;\n        zi -= δi = (ai * br - ar * bi) / denominator;\n      } while (Math.abs(δr) + Math.abs(δi) > ε * ε && --i > 0);\n      if (i) {\n        var ρ = Math.sqrt(zr * zr + zi * zi), c = 2 * Math.atan(ρ * .5), sinc = Math.sin(c);\n        return [Math.atan2(zr * sinc, ρ * Math.cos(c)), ρ ? asin(zi * sinc / ρ) : 0];\n      }\n    };\n    return forward;\n  }\n  var modifiedStereographicCoefficients = {\n    alaska: [[.9972523, 0], [.0052513, -.0041175], [.0074606, .0048125], [-.0153783, -.1968253], [.0636871, -.1408027], [.3660976, -.2937382]],\n    gs48: [[.98879, 0], [0, 0], [-.050909, 0], [0, 0], [.075528, 0]],\n    gs50: [[.984299, 0], [.0211642, .0037608], [-.1036018, -.0575102], [-.0329095, -.0320119], [.0499471, .1223335], [.026046, .0899805], [7388e-7, -.1435792], [.0075848, -.1334108], [-.0216473, .0776645], [-.0225161, .0853673]],\n    miller: [[.9245, 0], [0, 0], [.01943, 0]],\n    lee: [[.721316, 0], [0, 0], [-.00881625, -.00617325]]\n  };\n  function modifiedStereographicProjection() {\n    var coefficients = modifiedStereographicCoefficients.miller, m = projectionMutator(modifiedStereographic), p = m(coefficients);\n    p.coefficients = function(_) {\n      if (!arguments.length) return coefficients;\n      return m(coefficients = typeof _ === \"string\" ? modifiedStereographicCoefficients[_] : _);\n    };\n    return p;\n  }\n  (d3.geoModifiedStereographic = modifiedStereographicProjection).raw = modifiedStereographic;\n  function mtFlatPolarParabolic(λ, φ) {\n    var sqrt6 = Math.sqrt(6), sqrt7 = Math.sqrt(7), θ = Math.asin(7 * Math.sin(φ) / (3 * sqrt6));\n    return [sqrt6 * λ * (2 * Math.cos(2 * θ / 3) - 1) / sqrt7, 9 * Math.sin(θ / 3) / sqrt7];\n  }\n  mtFlatPolarParabolic.invert = function(x, y) {\n    var sqrt6 = Math.sqrt(6), sqrt7 = Math.sqrt(7), θ = 3 * asin(y * sqrt7 / 9);\n    return [x * sqrt7 / (sqrt6 * (2 * Math.cos(2 * θ / 3) - 1)), asin(Math.sin(θ) * 3 * sqrt6 / 7)];\n  };\n  (d3.geoMtFlatPolarParabolic = function() {\n    return projection(mtFlatPolarParabolic);\n  }).raw = mtFlatPolarParabolic;\n  function mtFlatPolarQuartic(λ, φ) {\n    var k = (1 + Math.SQRT1_2) * Math.sin(φ), θ = φ;\n    for (var i = 0, δ; i < 25; i++) {\n      θ -= δ = (Math.sin(θ / 2) + Math.sin(θ) - k) / (.5 * Math.cos(θ / 2) + Math.cos(θ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [λ * (1 + 2 * Math.cos(θ) / Math.cos(θ / 2)) / (3 * Math.SQRT2), 2 * Math.sqrt(3) * Math.sin(θ / 2) / Math.sqrt(2 + Math.SQRT2)];\n  }\n  mtFlatPolarQuartic.invert = function(x, y) {\n    var sinθ_2 = y * Math.sqrt(2 + Math.SQRT2) / (2 * Math.sqrt(3)), θ = 2 * asin(sinθ_2);\n    return [3 * Math.SQRT2 * x / (1 + 2 * Math.cos(θ) / Math.cos(θ / 2)), asin((sinθ_2 + Math.sin(θ)) / (1 + Math.SQRT1_2))];\n  };\n  (d3.geoMtFlatPolarQuartic = function() {\n    return projection(mtFlatPolarQuartic);\n  }).raw = mtFlatPolarQuartic;\n  function mtFlatPolarSinusoidal(λ, φ) {\n    var A = Math.sqrt(6 / (4 + π)), k = (1 + π / 4) * Math.sin(φ), θ = φ / 2;\n    for (var i = 0, δ; i < 25; i++) {\n      θ -= δ = (θ / 2 + Math.sin(θ) - k) / (.5 + Math.cos(θ));\n      if (Math.abs(δ) < ε) break;\n    }\n    return [A * (.5 + Math.cos(θ)) * λ / 1.5, A * θ];\n  }\n  mtFlatPolarSinusoidal.invert = function(x, y) {\n    var A = Math.sqrt(6 / (4 + π)), θ = y / A;\n    if (Math.abs(Math.abs(θ) - halfπ) < ε) θ = θ < 0 ? -halfπ : halfπ;\n    return [1.5 * x / (A * (.5 + Math.cos(θ))), asin((θ / 2 + Math.sin(θ)) / (1 + π / 4))];\n  };\n  (d3.geoMtFlatPolarSinusoidal = function() {\n    return projection(mtFlatPolarSinusoidal);\n  }).raw = mtFlatPolarSinusoidal;\n  function naturalEarth(λ, φ) {\n    var φ2 = φ * φ, φ4 = φ2 * φ2;\n    return [λ * (.8707 - .131979 * φ2 + φ4 * (-.013791 + φ4 * (.003971 * φ2 - .001529 * φ4))), φ * (1.007226 + φ2 * (.015085 + φ4 * (-.044475 + .028874 * φ2 - .005916 * φ4)))];\n  }\n  naturalEarth.invert = function(x, y) {\n    var φ = y, i = 25, δ;\n    do {\n      var φ2 = φ * φ, φ4 = φ2 * φ2;\n      φ -= δ = (φ * (1.007226 + φ2 * (.015085 + φ4 * (-.044475 + .028874 * φ2 - .005916 * φ4))) - y) / (1.007226 + φ2 * (.015085 * 3 + φ4 * (-.044475 * 7 + .028874 * 9 * φ2 - .005916 * 11 * φ4)));\n    } while (Math.abs(δ) > ε && --i > 0);\n    return [x / (.8707 + (φ2 = φ * φ) * (-.131979 + φ2 * (-.013791 + φ2 * φ2 * φ2 * (.003971 - .001529 * φ2)))), φ];\n  };\n  (d3.geoNaturalEarth = function() {\n    return projection(naturalEarth);\n  }).raw = naturalEarth;\n  function nellHammer(λ, φ) {\n    return [λ * (1 + Math.cos(φ)) / 2, 2 * (φ - Math.tan(φ / 2))];\n  }\n  nellHammer.invert = function(x, y) {\n    var p = y / 2;\n    for (var i = 0, δ = Infinity; i < 10 && Math.abs(δ) > ε; i++) {\n      var c = Math.cos(y / 2);\n      y -= δ = (y - Math.tan(y / 2) - p) / (1 - .5 / (c * c));\n    }\n    return [2 * x / (1 + Math.cos(y)), y];\n  };\n  (d3.geoNellHammer = function() {\n    return projection(nellHammer);\n  }).raw = nellHammer;\n  var pattersonK1 = 1.0148, pattersonK2 = .23185, pattersonK3 = -.14499, pattersonK4 = .02406, pattersonC1 = pattersonK1, pattersonC2 = 5 * pattersonK2, pattersonC3 = 7 * pattersonK3, pattersonC4 = 9 * pattersonK4, pattersonYmax = 1.790857183;\n  function patterson(λ, φ) {\n    var φ2 = φ * φ;\n    return [λ, φ * (pattersonK1 + φ2 * φ2 * (pattersonK2 + φ2 * (pattersonK3 + pattersonK4 * φ2)))];\n  }\n  patterson.invert = function(x, y) {\n    if (y > pattersonYmax) y = pattersonYmax; else if (y < -pattersonYmax) y = -pattersonYmax;\n    var yc = y, δ;\n    do {\n      var y2 = yc * yc;\n      yc -= δ = (yc * (pattersonK1 + y2 * y2 * (pattersonK2 + y2 * (pattersonK3 + pattersonK4 * y2))) - y) / (pattersonC1 + y2 * y2 * (pattersonC2 + y2 * (pattersonC3 + pattersonC4 * y2)));\n    } while (Math.abs(δ) > ε);\n    return [x, yc];\n  };\n  (d3.geoPatterson = function() {\n    return projection(patterson);\n  }).raw = patterson;\n  var peirceQuincuncialProjection = quincuncialProjection(guyou);\n  (d3.geoPeirceQuincuncial = function() {\n    return peirceQuincuncialProjection().quincuncial(true).rotate([-90, -90, 45]).clipAngle(180 - 1e-6);\n  }).raw = peirceQuincuncialProjection.raw;\n  function polyconic(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var tanφ = Math.tan(φ), k = λ * Math.sin(φ);\n    return [Math.sin(k) / tanφ, φ + (1 - Math.cos(k)) / tanφ];\n  }\n  polyconic.invert = function(x, y) {\n    if (Math.abs(y) < ε) return [x, 0];\n    var k = x * x + y * y, φ = y * .5, i = 10, δ;\n    do {\n      var tanφ = Math.tan(φ), secφ = 1 / Math.cos(φ), j = k - 2 * y * φ + φ * φ;\n      φ -= δ = (tanφ * j + 2 * (φ - y)) / (2 + j * secφ * secφ + 2 * (φ - y) * tanφ);\n    } while (Math.abs(δ) > ε && --i > 0);\n    tanφ = Math.tan(φ);\n    return [(Math.abs(y) < Math.abs(φ + 1 / tanφ) ? asin(x * tanφ) : sgn(x) * (acos(Math.abs(x * tanφ)) + halfπ)) / Math.sin(φ), φ];\n  };\n  (d3.geoPolyconic = function() {\n    return projection(polyconic);\n  }).raw = polyconic;\n  function rectangularPolyconic(φ0) {\n    var sinφ0 = Math.sin(φ0);\n    function forward(λ, φ) {\n      var A = sinφ0 ? Math.tan(λ * sinφ0 / 2) / sinφ0 : λ / 2;\n      if (!φ) return [2 * A, -φ0];\n      var E = 2 * Math.atan(A * Math.sin(φ)), cotφ = 1 / Math.tan(φ);\n      return [Math.sin(E) * cotφ, φ + (1 - Math.cos(E)) * cotφ - φ0];\n    }\n    forward.invert = function(x, y) {\n      if (Math.abs(y += φ0) < ε) return [sinφ0 ? 2 * Math.atan(sinφ0 * x / 2) / sinφ0 : x, 0];\n      var k = x * x + y * y, φ = 0, i = 10, δ;\n      do {\n        var tanφ = Math.tan(φ), secφ = 1 / Math.cos(φ), j = k - 2 * y * φ + φ * φ;\n        φ -= δ = (tanφ * j + 2 * (φ - y)) / (2 + j * secφ * secφ + 2 * (φ - y) * tanφ);\n      } while (Math.abs(δ) > ε && --i > 0);\n      var E = x * (tanφ = Math.tan(φ)), A = Math.tan(Math.abs(y) < Math.abs(φ + 1 / tanφ) ? asin(E) * .5 : acos(E) * .5 + π / 4) / Math.sin(φ);\n      return [sinφ0 ? 2 * Math.atan(sinφ0 * A) / sinφ0 : 2 * A, φ];\n    };\n    return forward;\n  }\n  (d3.geoRectangularPolyconic = function() {\n    return parallel1Projection(rectangularPolyconic);\n  }).raw = rectangularPolyconic;\n  var robinsonConstants = [[.9986, -.062], [1, 0], [.9986, .062], [.9954, .124], [.99, .186], [.9822, .248], [.973, .31], [.96, .372], [.9427, .434], [.9216, .4958], [.8962, .5571], [.8679, .6176], [.835, .6769], [.7986, .7346], [.7597, .7903], [.7186, .8435], [.6732, .8936], [.6213, .9394], [.5722, .9761], [.5322, 1]];\n  robinsonConstants.forEach(function(d) {\n    d[1] *= 1.0144;\n  });\n  function robinson(λ, φ) {\n    var i = Math.min(18, Math.abs(φ) * 36 / π), i0 = Math.floor(i), di = i - i0, ax = (k = robinsonConstants[i0])[0], ay = k[1], bx = (k = robinsonConstants[++i0])[0], by = k[1], cx = (k = robinsonConstants[Math.min(19, ++i0)])[0], cy = k[1], k;\n    return [λ * (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2), (φ > 0 ? halfπ : -halfπ) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2)];\n  }\n  robinson.invert = function(x, y) {\n    var yy = y / halfπ, φ = yy * 90, i = Math.min(18, Math.abs(φ / 5)), i0 = Math.max(0, Math.floor(i));\n    do {\n      var ay = robinsonConstants[i0][1], by = robinsonConstants[i0 + 1][1], cy = robinsonConstants[Math.min(19, i0 + 2)][1], u = cy - ay, v = cy - 2 * by + ay, t = 2 * (Math.abs(yy) - by) / u, c = v / u, di = t * (1 - c * t * (1 - 2 * c * t));\n      if (di >= 0 || i0 === 1) {\n        φ = (y >= 0 ? 5 : -5) * (di + i);\n        var j = 50, δ;\n        do {\n          i = Math.min(18, Math.abs(φ) / 5);\n          i0 = Math.floor(i);\n          di = i - i0;\n          ay = robinsonConstants[i0][1];\n          by = robinsonConstants[i0 + 1][1];\n          cy = robinsonConstants[Math.min(19, i0 + 2)][1];\n          φ -= (δ = (y >= 0 ? halfπ : -halfπ) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2) - y) * degrees;\n        } while (Math.abs(δ) > ε2 && --j > 0);\n        break;\n      }\n    } while (--i0 >= 0);\n    var ax = robinsonConstants[i0][0], bx = robinsonConstants[i0 + 1][0], cx = robinsonConstants[Math.min(19, i0 + 2)][0];\n    return [x / (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2), φ * radians];\n  };\n  (d3.geoRobinson = function() {\n    return projection(robinson);\n  }).raw = robinson;\n  function satelliteVertical(P) {\n    function forward(λ, φ) {\n      var cosφ = Math.cos(φ), k = (P - 1) / (P - cosφ * Math.cos(λ));\n      return [k * cosφ * Math.sin(λ), k * Math.sin(φ)];\n    }\n    forward.invert = function(x, y) {\n      var ρ2 = x * x + y * y, ρ = Math.sqrt(ρ2), sinc = (P - Math.sqrt(1 - ρ2 * (P + 1) / (P - 1))) / ((P - 1) / ρ + ρ / (P - 1));\n      return [Math.atan2(x * sinc, ρ * Math.sqrt(1 - sinc * sinc)), ρ ? asin(y * sinc / ρ) : 0];\n    };\n    return forward;\n  }\n  function satellite(P, ω) {\n    var vertical = satelliteVertical(P);\n    if (!ω) return vertical;\n    var cosω = Math.cos(ω), sinω = Math.sin(ω);\n    function forward(λ, φ) {\n      var coordinates = vertical(λ, φ), y = coordinates[1], A = y * sinω / (P - 1) + cosω;\n      return [coordinates[0] * cosω / A, y / A];\n    }\n    forward.invert = function(x, y) {\n      var k = (P - 1) / (P - 1 - y * sinω);\n      return vertical.invert(k * x, k * y * cosω);\n    };\n    return forward;\n  }\n  function satelliteProjection() {\n    var P = 1.4, ω = 0, m = projectionMutator(satellite), p = m(P, ω);\n    p.distance = function(_) {\n      if (!arguments.length) return P;\n      return m(P = +_, ω);\n    };\n    p.tilt = function(_) {\n      if (!arguments.length) return ω * 180 / π;\n      return m(P, ω = _ * π / 180);\n    };\n    return p;\n  }\n  (d3.geoSatellite = satelliteProjection).raw = satellite;\n  function times(λ, φ) {\n    var t = Math.tan(φ / 2), s = Math.sin(π / 4 * t);\n    return [λ * (.74482 - .34588 * s * s), 1.70711 * t];\n  }\n  times.invert = function(x, y) {\n    var t = y / 1.70711, s = Math.sin(π / 4 * t);\n    return [x / (.74482 - .34588 * s * s), 2 * Math.atan(t)];\n  };\n  (d3.geoTimes = function() {\n    return projection(times);\n  }).raw = times;\n  function twoPointEquidistant(z0) {\n    if (!z0) return d3.geoAzimuthalEquidistant.raw;\n    var λa = -z0 / 2, λb = -λa, z02 = z0 * z0, tanλ0 = Math.tan(λb), S = .5 / Math.sin(λb);\n    function forward(λ, φ) {\n      var za = acos(Math.cos(φ) * Math.cos(λ - λa)), zb = acos(Math.cos(φ) * Math.cos(λ - λb)), ys = φ < 0 ? -1 : 1;\n      za *= za, zb *= zb;\n      return [(za - zb) / (2 * z0), ys * asqrt(4 * z02 * zb - (z02 - za + zb) * (z02 - za + zb)) / (2 * z0)];\n    }\n    forward.invert = function(x, y) {\n      var y2 = y * y, cosza = Math.cos(Math.sqrt(y2 + (t = x + λa) * t)), coszb = Math.cos(Math.sqrt(y2 + (t = x + λb) * t)), t, d;\n      return [Math.atan2(d = cosza - coszb, t = (cosza + coszb) * tanλ0), (y < 0 ? -1 : 1) * acos(Math.sqrt(t * t + d * d) * S)];\n    };\n    return forward;\n  }\n  function twoPointEquidistantProjection() {\n    var points = [[0, 0], [0, 0]], m = projectionMutator(twoPointEquidistant), p = m(0), rotate = p.rotate;\n    delete p.rotate;\n    p.points = function(_) {\n      if (!arguments.length) return points;\n      points = _;\n      var interpolate = d3.geoInterpolate(_[0], _[1]), origin = interpolate(.5), p = d3.geoRotation([-origin[0], -origin[1]])(_[0]), b = interpolate.distance * .5, γ = -asin(Math.sin(p[1] * radians) / Math.sin(b));\n      if (p[0] > 0) γ = π - γ;\n      rotate.call(p, [-origin[0], -origin[1], -γ * degrees]);\n      return m(b * 2);\n    };\n    return p;\n  }\n  (d3.geoTwoPointEquidistant = twoPointEquidistantProjection).raw = twoPointEquidistant;\n  function twoPointAzimuthal(d) {\n    var cosd = Math.cos(d);\n    function forward(λ, φ) {\n      var coordinates = d3.geoGnomonic.raw(λ, φ);\n      coordinates[0] *= cosd;\n      return coordinates;\n    }\n    forward.invert = function(x, y) {\n      return d3.geoGnomonic.raw.invert(x / cosd, y);\n    };\n    return forward;\n  }\n  function twoPointAzimuthalProjection() {\n    var points = [[0, 0], [0, 0]], m = projectionMutator(twoPointAzimuthal), p = m(0), rotate = p.rotate;\n    delete p.rotate;\n    p.points = function(_) {\n      if (!arguments.length) return points;\n      points = _;\n      var interpolate = d3.geoInterpolate(_[0], _[1]), origin = interpolate(.5), p = d3.geoRotation([-origin[0], -origin[1]])(_[0]), b = interpolate.distance * .5, γ = -asin(Math.sin(p[1] * radians) / Math.sin(b));\n      if (p[0] > 0) γ = π - γ;\n      rotate.call(p, [-origin[0], -origin[1], -γ * degrees]);\n      return m(b);\n    };\n    return p;\n  }\n  (d3.geoTwoPointAzimuthal = twoPointAzimuthalProjection).raw = twoPointAzimuthal;\n  function vanDerGrinten(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = Math.abs(φ / halfπ), θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, sgn(φ) * π * Math.tan(θ / 2)];\n    var cosθ = Math.cos(θ), A = Math.abs(π / λ - λ / π) / 2, A2 = A * A, G = cosθ / (sinθ + cosθ - 1), P = G * (2 / sinθ - 1), P2 = P * P, P2_A2 = P2 + A2, G_P2 = G - P2, Q = A2 + G;\n    return [sgn(λ) * π * (A * G_P2 + Math.sqrt(A2 * G_P2 * G_P2 - P2_A2 * (G * G - P2))) / P2_A2, sgn(φ) * π * (P * Q - A * Math.sqrt((A2 + 1) * P2_A2 - Q * Q)) / P2_A2];\n  }\n  vanDerGrinten.invert = function(x, y) {\n    if (Math.abs(y) < ε) return [x, 0];\n    if (Math.abs(x) < ε) return [0, halfπ * Math.sin(2 * Math.atan(y / π))];\n    var x2 = (x /= π) * x, y2 = (y /= π) * y, x2_y2 = x2 + y2, z = x2_y2 * x2_y2, c1 = -Math.abs(y) * (1 + x2_y2), c2 = c1 - 2 * y2 + x2, c3 = -2 * c1 + 1 + 2 * y2 + z, d = y2 / c3 + (2 * c2 * c2 * c2 / (c3 * c3 * c3) - 9 * c1 * c2 / (c3 * c3)) / 27, a1 = (c1 - c2 * c2 / (3 * c3)) / c3, m1 = 2 * Math.sqrt(-a1 / 3), θ1 = acos(3 * d / (a1 * m1)) / 3;\n    return [π * (x2_y2 - 1 + Math.sqrt(1 + 2 * (x2 - y2) + z)) / (2 * x), sgn(y) * π * (-m1 * Math.cos(θ1 + π / 3) - c2 / (3 * c3))];\n  };\n  (d3.geoVanDerGrinten = function() {\n    return projection(vanDerGrinten);\n  }).raw = vanDerGrinten;\n  function vanDerGrinten2(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = Math.abs(φ / halfπ), θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, sgn(φ) * π * Math.tan(θ / 2)];\n    var cosθ = Math.cos(θ), A = Math.abs(π / λ - λ / π) / 2, A2 = A * A, x1 = cosθ * (Math.sqrt(1 + A2) - A * cosθ) / (1 + A2 * sinθ * sinθ);\n    return [sgn(λ) * π * x1, sgn(φ) * π * asqrt(1 - x1 * (2 * A + x1))];\n  }\n  vanDerGrinten2.invert = function(x, y) {\n    if (!x) return [0, halfπ * Math.sin(2 * Math.atan(y / π))];\n    var x1 = Math.abs(x / π), A = (1 - x1 * x1 - (y /= π) * y) / (2 * x1), A2 = A * A, B = Math.sqrt(A2 + 1);\n    return [sgn(x) * π * (B - A), sgn(y) * halfπ * Math.sin(2 * Math.atan2(Math.sqrt((1 - 2 * A * x1) * (A + B) - x1), Math.sqrt(B + A + x1)))];\n  };\n  (d3.geoVanDerGrinten2 = function() {\n    return projection(vanDerGrinten2);\n  }).raw = vanDerGrinten2;\n  function vanDerGrinten3(λ, φ) {\n    if (Math.abs(φ) < ε) return [λ, 0];\n    var sinθ = φ / halfπ, θ = asin(sinθ);\n    if (Math.abs(λ) < ε || Math.abs(Math.abs(φ) - halfπ) < ε) return [0, π * Math.tan(θ / 2)];\n    var A = (π / λ - λ / π) / 2, y1 = sinθ / (1 + Math.cos(θ));\n    return [π * (sgn(λ) * asqrt(A * A + 1 - y1 * y1) - A), π * y1];\n  }\n  vanDerGrinten3.invert = function(x, y) {\n    if (!y) return [x, 0];\n    var y1 = y / π, A = (π * π * (1 - y1 * y1) - x * x) / (2 * π * x);\n    return [x ? π * (sgn(x) * Math.sqrt(A * A + 1) - A) : 0, halfπ * Math.sin(2 * Math.atan(y1))];\n  };\n  (d3.geoVanDerGrinten3 = function() {\n    return projection(vanDerGrinten3);\n  }).raw = vanDerGrinten3;\n  function vanDerGrinten4(λ, φ) {\n    if (!φ) return [λ, 0];\n    var φ0 = Math.abs(φ);\n    if (!λ || φ0 === halfπ) return [0, φ];\n    var B = φ0 / halfπ, B2 = B * B, C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)), C2 = C * C, BC = B * C, B_C2 = B2 + C2 + 2 * BC, B_3C = B + 3 * C, λ0 = λ / halfπ, λ1 = λ0 + 1 / λ0, D = sgn(Math.abs(λ) - halfπ) * Math.sqrt(λ1 * λ1 - 4), D2 = D * D, F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + 12 * BC * C2 + 4 * C2 * C2), x1 = (D * (B_C2 + C2 - 1) + 2 * asqrt(F)) / (4 * B_C2 + D2);\n    return [sgn(λ) * halfπ * x1, sgn(φ) * halfπ * asqrt(1 + D * Math.abs(x1) - x1 * x1)];\n  }\n  vanDerGrinten4.invert = function(x, y) {\n    if (!x || !y) return [x, y];\n    y /= π;\n    var x1 = sgn(x) * x / halfπ, D = (x1 * x1 - 1 + 4 * y * y) / Math.abs(x1), D2 = D * D, B = 2 * y, i = 50;\n    do {\n      var B2 = B * B, C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)), C_ = (3 * B - B2 * B - 10) / (2 * B2 * B), C2 = C * C, BC = B * C, B_C = B + C, B_C2 = B_C * B_C, B_3C = B + 3 * C, F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + C2 * (12 * BC + 4 * C2)), F_ = -2 * B_C * (4 * BC * C2 + (1 - 4 * B2 + 3 * B2 * B2) * (1 + C_) + C2 * (-6 + 14 * B2 - D2 + (-8 + 8 * B2 - 2 * D2) * C_) + BC * (-8 + 12 * B2 + (-10 + 10 * B2 - D2) * C_)), sqrtF = Math.sqrt(F), f = D * (B_C2 + C2 - 1) + 2 * sqrtF - x1 * (4 * B_C2 + D2), f_ = D * (2 * C * C_ + 2 * B_C * (1 + C_)) + F_ / sqrtF - 8 * B_C * (D * (-1 + C2 + B_C2) + 2 * sqrtF) * (1 + C_) / (D2 + 4 * B_C2);\n      B -= δ = f / f_;\n    } while (δ > ε && --i > 0);\n    return [sgn(x) * (Math.sqrt(D * D + 4) + D) * π / 4, halfπ * B];\n  };\n  (d3.geoVanDerGrinten4 = function() {\n    return projection(vanDerGrinten4);\n  }).raw = vanDerGrinten4;\n  var wagner4 = function() {\n    var A = 4 * π + 3 * Math.sqrt(3), B = 2 * Math.sqrt(2 * π * Math.sqrt(3) / A);\n    return mollweideBromley(B * Math.sqrt(3) / π, B, A / 6);\n  }();\n  (d3.geoWagner4 = function() {\n    return projection(wagner4);\n  }).raw = wagner4;\n  function wagner6(λ, φ) {\n    return [λ * Math.sqrt(1 - 3 * φ * φ / (π * π)), φ];\n  }\n  wagner6.invert = function(x, y) {\n    return [x / Math.sqrt(1 - 3 * y * y / (π * π)), y];\n  };\n  (d3.geoWagner6 = function() {\n    return projection(wagner6);\n  }).raw = wagner6;\n  function wagner7(λ, φ) {\n    var s = .90631 * Math.sin(φ), c0 = Math.sqrt(1 - s * s), c1 = Math.sqrt(2 / (1 + c0 * Math.cos(λ /= 3)));\n    return [2.66723 * c0 * c1 * Math.sin(λ), 1.24104 * s * c1];\n  }\n  wagner7.invert = function(x, y) {\n    var t1 = x / 2.66723, t2 = y / 1.24104, p = Math.sqrt(t1 * t1 + t2 * t2), c = 2 * asin(p / 2);\n    return [3 * Math.atan2(x * Math.tan(c), 2.66723 * p), p && asin(y * Math.sin(c) / (1.24104 * .90631 * p))];\n  };\n  (d3.geoWagner7 = function() {\n    return projection(wagner7);\n  }).raw = wagner7;\n  function wiechel(λ, φ) {\n    var cosφ = Math.cos(φ), sinφ = Math.cos(λ) * cosφ, sin1_φ = 1 - sinφ, cosλ = Math.cos(λ = Math.atan2(Math.sin(λ) * cosφ, -Math.sin(φ))), sinλ = Math.sin(λ);\n    cosφ = asqrt(1 - sinφ * sinφ);\n    return [sinλ * cosφ - cosλ * sin1_φ, -cosλ * cosφ - sinλ * sin1_φ];\n  }\n  wiechel.invert = function(x, y) {\n    var w = -.5 * (x * x + y * y), k = Math.sqrt(-w * (2 + w)), b = y * w + x * k, a = x * w - y * k, D = Math.sqrt(a * a + b * b);\n    return [Math.atan2(k * b, D * (1 + w)), D ? -asin(k * a / D) : 0];\n  };\n  (d3.geoWiechel = function() {\n    return projection(wiechel);\n  }).raw = wiechel;\n  function winkel3(λ, φ) {\n    var coordinates = aitoff(λ, φ);\n    return [(coordinates[0] + λ / halfπ) / 2, (coordinates[1] + φ) / 2];\n  }\n  winkel3.invert = function(x, y) {\n    var λ = x, φ = y, i = 25;\n    do {\n      var cosφ = Math.cos(φ), sinφ = Math.sin(φ), sin_2φ = Math.sin(2 * φ), sin2φ = sinφ * sinφ, cos2φ = cosφ * cosφ, sinλ = Math.sin(λ), cosλ_2 = Math.cos(λ / 2), sinλ_2 = Math.sin(λ / 2), sin2λ_2 = sinλ_2 * sinλ_2, C = 1 - cos2φ * cosλ_2 * cosλ_2, E = C ? acos(cosφ * cosλ_2) * Math.sqrt(F = 1 / C) : F = 0, F, fx = .5 * (2 * E * cosφ * sinλ_2 + λ / halfπ) - x, fy = .5 * (E * sinφ + φ) - y, δxδλ = .5 * F * (cos2φ * sin2λ_2 + E * cosφ * cosλ_2 * sin2φ) + .5 / halfπ, δxδφ = F * (sinλ * sin_2φ / 4 - E * sinφ * sinλ_2), δyδλ = .125 * F * (sin_2φ * sinλ_2 - E * sinφ * cos2φ * sinλ), δyδφ = .5 * F * (sin2φ * cosλ_2 + E * sin2λ_2 * cosφ) + .5, denominator = δxδφ * δyδλ - δyδφ * δxδλ, δλ = (fy * δxδφ - fx * δyδφ) / denominator, δφ = (fx * δyδλ - fy * δxδλ) / denominator;\n      λ -= δλ, φ -= δφ;\n    } while ((Math.abs(δλ) > ε || Math.abs(δφ) > ε) && --i > 0);\n    return [λ, φ];\n  };\n  (d3.geoWinkel3 = function() {\n    return projection(winkel3);\n  }).raw = winkel3;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/d3.geoProjection.js","import * as utils from \"base/utils\";\nimport Class from \"base/class\";\nimport cssEscape from \"css.escape\";\n\nimport { close as iconClose } from \"base/iconset\";\n\nconst label = function(context) {\n\n  return (function d3_label() {\n\n    const _this = context;\n\n    let _cssPrefix;\n    label.setCssPrefix = function(cssPrefix) {\n      _cssPrefix = cssPrefix;\n      return label;\n    };\n\n    const labelDragger = d3.drag()\n      .on(\"start\", (d, i) => {\n        d3.event.sourceEvent.stopPropagation();\n        const KEY = _this.KEY;\n      })\n      .on(\"drag\", function(d, i) {\n        const KEY = _this.KEY;\n        if (!_this.model.ui.chart.labels.dragging) return;\n        if (!this.druging) _this.druging = d[KEY];\n        const cache = _this.cached[d[KEY]];\n        cache.labelFixed = true;\n\n        const viewWidth = _this.context.width;\n        const viewHeight = _this.context.height;\n\n        cache.labelX_ += d3.event.dx / viewWidth;\n        cache.labelY_ += d3.event.dy / viewHeight;\n\n        const resolvedX = _this.xScale(cache.labelX0) + cache.labelX_ * viewWidth;\n        const resolvedY = _this.yScale(cache.labelY0) + cache.labelY_ * viewHeight;\n\n        const resolvedX0 = _this.xScale(cache.labelX0);\n        const resolvedY0 = _this.yScale(cache.labelY0);\n\n        const lineGroup = _this.entityLines.filter(f => f[KEY] == d[KEY]);\n\n        label._repositionLabels(d, i, this, resolvedX, resolvedY, resolvedX0, resolvedY0, 0, null, lineGroup);\n      })\n      .on(\"end\", (d, i) => {\n        const KEY = _this.KEY;\n        if (_this.druging) {\n          const cache = _this.cached[d[KEY]];\n          _this.druging = null;\n          cache.labelOffset[0] = cache.labelX_;\n          cache.labelOffset[1] = cache.labelY_;\n          _this.model.marker.setLabelOffset(d, [cache.labelX_, cache.labelY_]);\n        }\n      });\n\n    function label(container) {\n      container\n        .call(labelDragger)\n        .each(function(d, index) {\n          const view = d3.select(this);\n\n          // Ola: Clicking bubble label should not zoom to countries boundary #811\n          // It's too easy to accidentally zoom\n          // This feature will be activated later, by making the label into a \"context menu\" where users can click Split, or zoom,.. hide others etc....\n\n          view.append(\"rect\")\n            .attr(\"class\", \"vzb-label-glow\")\n            .attr(\"filter\", \"url(\" + location.pathname + \"#vzb-glow-filter)\");\n          view.append(\"rect\")\n            .attr(\"class\", \"vzb-label-fill vzb-tooltip-border\");\n          //          .on(\"click\", function(d, i) {\n          //            //default prevented is needed to distinguish click from drag\n          //            if(d3.event.defaultPrevented) return;\n          //\n          //            var maxmin = _this.cached[d[KEY]].maxMinValues;\n          //            var radius = utils.areaToRadius(_this.sScale(maxmin.valueSmax));\n          //            _this._panZoom._zoomOnRectangle(_this.element,\n          //              _this.xScale(maxmin.valueXmin) - radius,\n          //              _this.yScale(maxmin.valueYmin) + radius,\n          //              _this.xScale(maxmin.valueXmax) + radius,\n          //              _this.yScale(maxmin.valueYmax) - radius,\n          //              false, 500);\n          //          });\n\n          const text = view.append(\"text\").attr(\"class\", _cssPrefix + \"-label-content stroke\");\n          if (!view.style(\"paint-order\").length) {\n            view.insert(\"text\", `.${_cssPrefix}-label-content`)\n              .attr(\"class\", _cssPrefix + \"-label-content \" + _cssPrefix + \"-label-shadow vzb-noexport\");\n\n            text.classed(\"stroke\", false);\n          }\n\n          const cross = view.append(\"g\").attr(\"class\", _cssPrefix + \"-label-x vzb-transparent\");\n          utils.setIcon(cross, iconClose);\n\n          cross.insert(\"circle\", \"svg\");\n\n          cross.select(\"svg\")\n            .attr(\"class\", _cssPrefix + \"-label-x-icon\")\n            .attr(\"width\", \"0px\")\n            .attr(\"height\", \"0px\");\n\n          cross.on(\"click\", () => {\n            //default prevented is needed to distinguish click from drag\n            if (d3.event.defaultPrevented) return;\n            d3.event.stopPropagation();\n            _this.model.marker.clearHighlighted();\n            _this.model.marker.selectMarker(d);\n          });\n\n        })\n        .on(\"mouseover\", function(d) {\n          if (utils.isTouchDevice()) return;\n          _this.model.marker.highlightMarker(d);\n          const KEY = _this.KEY || _this.model.entities.getDimension();\n          // hovered label should be on top of other labels: if \"a\" is not the hovered element \"d\", send \"a\" to the back\n          _this.entityLabels.sort((a, b) => a[KEY] != d[KEY] ? -1 : 1);\n          d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\")\n            .classed(\"vzb-transparent\", false);\n        })\n        .on(\"mouseout\", function(d) {\n          if (utils.isTouchDevice()) return;\n          _this.model.marker.clearHighlighted();\n          d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\")\n            .classed(\"vzb-transparent\", true);\n        })\n        .on(\"click\", function(d) {\n          if (!utils.isTouchDevice()) return;\n          const cross = d3.select(this).selectAll(\".\" + _cssPrefix + \"-label-x\");\n          const KEY = _this.KEY || _this.model.entities.getDimension();\n          const hidden = cross.classed(\"vzb-transparent\");\n          if (hidden) {\n            // hovered label should be on top of other labels: if \"a\" is not the hovered element \"d\", send \"a\" to the back\n            _this.entityLabels.sort((a, b) => a[KEY] != d[KEY] ? -1 : 1);\n            _this.showCloseCross(null, false);\n          }\n          cross.classed(\"vzb-transparent\", !hidden);\n          if (!_this.options.SUPPRESS_HIGHLIGHT_DURING_PLAY || !_this.model.time.playing) {\n            if (hidden) {\n              _this.model.marker.setHighlight(d);\n            } else {\n              _this.model.marker.clearHighlighted();\n            }\n          }\n        });\n\n      return label;\n    }\n\n    label.line = function(container) {\n      container.append(\"line\").attr(\"class\", _cssPrefix + \"-label-line\");\n    };\n\n\n    label._repositionLabels = _repositionLabels;\n    function _repositionLabels(d, i, labelContext, _X, _Y, _X0, _Y0, duration, showhide, lineGroup) {\n\n      const cache = _this.cached[d[_this.KEY]];\n\n      const labelGroup = d3.select(labelContext);\n\n      //protect label and line from the broken data\n      const brokenInputs = !_X && _X !== 0 || !_Y && _Y !== 0 || !_X0 && _X0 !== 0 || !_Y0 && _Y0 !== 0;\n      if (brokenInputs) {\n        labelGroup.classed(\"vzb-invisible\", brokenInputs);\n        lineGroup.classed(\"vzb-invisible\", brokenInputs);\n        return;\n      }\n\n      const viewWidth = _this.context.width;\n      const viewHeight = _this.context.height;\n      const rectBBox = cache.rectBBox;\n      const width = rectBBox.width;\n      const height = rectBBox.height;\n\n      //apply limits so that the label doesn't stick out of the visible field\n      if (_X - width <= 0) { //check left\n        _X = width;\n        cache.labelX_ = (_X - _this.xScale(cache.labelX0)) / viewWidth;\n      } else if (_X + 5 > viewWidth) { //check right\n        _X = viewWidth - 5;\n        cache.labelX_ = (_X - _this.xScale(cache.labelX0)) / viewWidth;\n      }\n      if (_Y - height * 0.75 <= 0) { // check top\n        _Y = height * 0.75;\n        cache.labelY_ = (_Y - _this.yScale(cache.labelY0)) / viewHeight;\n      } else if (_Y + height * 0.35 > viewHeight) { //check bottom\n        _Y = viewHeight - height * 0.35;\n        cache.labelY_ = (_Y - _this.yScale(cache.labelY0)) / viewHeight;\n      }\n\n      if (duration == null) duration = _this.context.duration;\n      if (cache._new) {\n        duration = 0;\n        delete cache._new;\n      }\n      if (duration) {\n        if (showhide && !d.hidden) {\n          //if need to show label\n\n          labelGroup.classed(\"vzb-invisible\", d.hidden);\n          labelGroup\n            .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\")\n            .style(\"opacity\", 0)\n            .transition().duration(duration).ease(d3.easeExp)\n            .style(\"opacity\", 1)\n          //i would like to set opactiy to null in the end of transition.\n          //but then fade in animation is not working for some reason\n            .on(\"interrupt\", () => {\n              labelGroup\n                .style(\"opacity\", 1);\n            });\n          lineGroup.classed(\"vzb-invisible\", d.hidden);\n          lineGroup\n            .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\")\n            .style(\"opacity\", 0)\n            .transition().duration(duration).ease(d3.easeExp)\n            .style(\"opacity\", 1)\n          //i would like to set opactiy to null in the end of transition.\n          //but then fade in animation is not working for some reason\n            .on(\"interrupt\", () => {\n              lineGroup\n                .style(\"opacity\", 1);\n            });\n\n        } else if (showhide && d.hidden) {\n          //if need to hide label\n\n          labelGroup\n            .style(\"opacity\", 1)\n            .transition().duration(duration).ease(d3.easeExp)\n            .style(\"opacity\", 0)\n            .on(\"end\", () => {\n              labelGroup\n                .style(\"opacity\", 1) //i would like to set it to null. but then fade in animation is not working for some reason\n                .classed(\"vzb-invisible\", d.hidden);\n            });\n          lineGroup\n            .style(\"opacity\", 1)\n            .transition().duration(duration).ease(d3.easeExp)\n            .style(\"opacity\", 0)\n            .on(\"end\", () => {\n              lineGroup\n                .style(\"opacity\", 1) //i would like to set it to null. but then fade in animation is not working for some reason\n                .classed(\"vzb-invisible\", d.hidden);\n            });\n\n        } else {\n          // just update the position\n\n          labelGroup\n            .transition().duration(duration).ease(d3.easeLinear)\n            .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\");\n          lineGroup\n            .transition().duration(duration).ease(d3.easeLinear)\n            .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\");\n        }\n\n      } else {\n        labelGroup\n          .interrupt()\n          .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\")\n          .transition();\n        lineGroup\n          .interrupt()\n          .attr(\"transform\", \"translate(\" + _X + \",\" + _Y + \")\")\n          .transition();\n        if (showhide) labelGroup.classed(\"vzb-invisible\", d.hidden);\n        if (showhide) lineGroup.classed(\"vzb-invisible\", d.hidden);\n      }\n\n      const diffX1 = _X0 - _X;\n      const diffY1 = _Y0 - _Y;\n      const textBBox = labelGroup.select(\"text\").node().getBBox();\n      let diffX2 = -textBBox.width * 0.5;\n      let diffY2 = -height * 0.2;\n      const labels = _this.model.ui.chart.labels;\n\n      const bBox = labels.removeLabelBox ? textBBox : rectBBox;\n\n      const FAR_COEFF = _this.activeProfile.labelLeashCoeff || 0;\n\n      const lineHidden = circleRectIntersects({ x: diffX1, y: diffY1, r: cache.scaledS0 },\n        { x: diffX2, y: diffY2, width: (bBox.height * 2 * FAR_COEFF + bBox.width), height: (bBox.height * (2 * FAR_COEFF + 1)) });\n      lineGroup.select(\"line\").classed(\"vzb-invisible\", lineHidden);\n      if (lineHidden) return;\n\n      if (labels.removeLabelBox) {\n        const angle = Math.atan2(diffX1 - diffX2, diffY1 - diffY2) * 180 / Math.PI;\n        const deltaDiffX2 = (angle >= 0 && angle <= 180) ? (bBox.width * 0.5) : (-bBox.width * 0.5);\n        const deltaDiffY2 = (Math.abs(angle) <= 90) ? (bBox.height * 0.55) : (-bBox.height * 0.45);\n        diffX2 += Math.abs(diffX1 - diffX2) > textBBox.width * 0.5 ? deltaDiffX2 : 0;\n        diffY2 += Math.abs(diffY1 - diffY2) > textBBox.height * 0.5 ? deltaDiffY2 : (textBBox.height * 0.05);\n      }\n\n      const longerSideCoeff = Math.abs(diffX1) > Math.abs(diffY1) ? Math.abs(diffX1) : Math.abs(diffY1);\n      lineGroup.select(\"line\").style(\"stroke-dasharray\", \"0 \" + (cache.scaledS0) + \" \" + ~~(longerSideCoeff) * 2);\n\n      lineGroup.selectAll(\"line\")\n        .attr(\"x1\", diffX1)\n        .attr(\"y1\", diffY1)\n        .attr(\"x2\", diffX2)\n        .attr(\"y2\", diffY2);\n\n    }\n\n    /*\n    * Adapted from\n    * http://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection\n    *\n    * circle {\n    *  x: center X\n    *  y: center Y\n    *  r: radius\n    * }\n    *\n    * rect {\n    *  x: center X\n    *  y: center Y\n    *  width: width\n    *  height: height\n    * }\n    */\n    function circleRectIntersects(circle, rect) {\n      const circleDistanceX = Math.abs(circle.x - rect.x);\n      const circleDistanceY = Math.abs(circle.y - rect.y);\n      const halfRectWidth = rect.width * 0.5;\n      const halfRectHeight = rect.height * 0.5;\n\n      if (circleDistanceX > (halfRectWidth + circle.r)) { return false; }\n      if (circleDistanceY > (halfRectHeight + circle.r)) { return false; }\n\n      if (circleDistanceX <= halfRectWidth) { return true; }\n      if (circleDistanceY <= halfRectHeight) { return true; }\n\n      const cornerDistance_sq = Math.pow(circleDistanceX - halfRectWidth, 2) +\n                          Math.pow(circleDistanceY - halfRectHeight, 2);\n\n      return (cornerDistance_sq <= Math.pow(circle.r, 2));\n    }\n\n    return label;\n  })();\n};\n\nconst OPTIONS = {\n  LABELS_CONTAINER_CLASS: \"\",\n  LINES_CONTAINER_CLASS: \"\",\n  LINES_CONTAINER_SELECTOR: \"\",\n  CSS_PREFIX: \"\",\n  SUPPRESS_HIGHLIGHT_DURING_PLAY: true\n};\n\nconst Labels = Class.extend({\n\n  init(context, conditions) {\n    const _this = this;\n    this.context = context;\n\n    this.options = utils.extend({}, OPTIONS);\n    this.label = label(this);\n    this._xScale = null;\n    this._yScale = null;\n    this._closeCrossHeight = 0;\n    this.labelSizeTextScale = null;\n  },\n\n  ready() {\n    this.KEY = this.context.model.entities.getDimension();\n    this.updateIndicators();\n    this.updateLabelSizeLimits();\n    //this.updateLabelsOnlyTextSize();\n  },\n\n  readyOnce() {\n    const _this = this;\n\n    this.model = this.context.model;\n\n    this.model.on(\"change:marker.select\", () => {\n      if (!_this.context._readyOnce) return;\n      //console.log(\"EVENT change:entities:select\");\n      _this.selectDataPoints();\n    });\n\n    if (this.model.marker.size_label)\n      this.model.on(\"change:marker.size_label.extent\", (evt, path) => {\n        //console.log(\"EVENT change:marker:size:max\");\n        if (!_this.context._readyOnce) return;\n        _this.updateLabelSizeLimits();\n        if (_this.model.time.splash) return;\n        _this.updateLabelsOnlyTextSize();\n      });\n\n    if (this.model.ui.chart.labels.hasOwnProperty(\"removeLabelBox\"))\n      this.model.on(\"change:ui.chart.labels.removeLabelBox\", (evt, path) => {\n        //console.log(\"EVENT change:marker:size:max\");\n        if (!_this.context._readyOnce) return;\n        _this.updateLabelsOnlyTextSize();\n      });\n\n    this.KEY = this.context.model.entities.getDimension();\n\n    this.cached = {};\n\n    this.label.setCssPrefix(this.options.CSS_PREFIX);\n\n    this.rootEl = this.context.root.element instanceof Array ? this.context.root.element : d3.select(this.context.root.element);\n    this.labelsContainer = this.rootEl.select(\".\" + this.options.LABELS_CONTAINER_CLASS);\n    this.linesContainer = this.rootEl.select(\".\" + this.options.LINES_CONTAINER_CLASS);\n    this.updateIndicators();\n    this.updateSize();\n    this.selectDataPoints();\n  },\n\n  config(newOptions) {\n    utils.extend(this.options, newOptions);\n  },\n\n  updateLabelSizeLimits() {\n    const _this = this;\n    if (!this.model.marker.size_label) return;\n    const extent = this.model.marker.size_label.extent || [0, 1];\n\n    const minLabelTextSize = this.activeProfile.minLabelTextSize;\n    const maxLabelTextSize = this.activeProfile.maxLabelTextSize;\n    const minMaxDelta = maxLabelTextSize - minLabelTextSize;\n\n    this.minLabelTextSize = Math.max(minLabelTextSize + minMaxDelta * extent[0], minLabelTextSize);\n    this.maxLabelTextSize = Math.max(minLabelTextSize + minMaxDelta * extent[1], minLabelTextSize);\n\n    if (this.model.marker.size_label.use == \"constant\") {\n      // if(!this.model.marker.size_label.which) {\n      //   this.maxLabelTextSize = this.activeProfile.defaultLabelTextSize;\n      //   this.model.marker.size_label.set({'domainMax': (this.maxLabelTextSize - minLabelTextSize) / minMaxDelta, 'which': '_default'});\n      //   return;\n      // }\n      this.minLabelTextSize = this.maxLabelTextSize;\n    }\n\n    if (this.model.marker.size_label.scaleType !== \"ordinal\" || this.model.marker.size_label.use == \"constant\") {\n      this.labelSizeTextScale.range([_this.minLabelTextSize, _this.maxLabelTextSize]);\n    } else {\n      this.labelSizeTextScale.rangePoints([_this.minLabelTextSize, _this.maxLabelTextSize], 0).range();\n    }\n\n  },\n\n  updateIndicators() {\n    const _this = this;\n\n    //scales\n    if (this.model.marker.size_label) {\n      this.labelSizeTextScale = this.model.marker.size_label.getScale();\n    }\n  },\n\n  setScales(xScale, yScale) {\n    this._xScale = xScale;\n    this._yScale = yScale;\n  },\n\n  setCloseCrossHeight(closeCrossHeight) {\n    if (this._closeCrossHeight != closeCrossHeight) {\n      this._closeCrossHeight = closeCrossHeight;\n      this.updateLabelCloseGroupSize(this.entityLabels.selectAll(\".\" + this.options.CSS_PREFIX + \"-label-x\"), this._closeCrossHeight);\n    }\n  },\n\n  xScale(x) {\n    return this._xScale ? this._xScale(x) : (x * this.context.width);\n  },\n\n  yScale(y) {\n    return this._yScale ? this._yScale(y) : (y * this.context.height);\n  },\n\n  selectDataPoints() {\n    const _this = this;\n    const KEY = this.KEY;\n    const _cssPrefix = this.options.CSS_PREFIX;\n\n    this.entityLabels = this.labelsContainer.selectAll(\".\" + _cssPrefix + \"-entity\")\n      .data(_this.model.marker.select, d => (d[KEY]));\n    this.entityLines = this.linesContainer.selectAll(\"g.entity-line.\" + _cssPrefix + \"-entity\")\n      .data(_this.model.marker.select, d => (d[KEY]));\n\n    this.entityLabels.exit()\n      .each(d => {\n        if (_this.cached[d[KEY]] != null) {\n          _this.cached[d[KEY]] = void 0;\n        }\n      })\n      .remove();\n    this.entityLines.exit()\n      .remove();\n\n    this.entityLines = this.entityLines\n      .enter().insert(\"g\", function(d) {\n        return this.querySelector(\".\" + _this.options.LINES_CONTAINER_SELECTOR_PREFIX + cssEscape(d[KEY]));\n      })\n      .attr(\"class\", (d, index) => _cssPrefix + \"-entity entity-line line-\" + d[KEY])\n      .each(function(d, index) {\n        _this.label.line(d3.select(this));\n      })\n      .merge(this.entityLines);\n\n    this.entityLabels = this.entityLabels\n      .enter().append(\"g\")\n      .attr(\"class\", (d, index) => _cssPrefix + \"-entity label-\" + d[KEY])\n      .each(function(d, index) {\n        _this.cached[d[KEY]] = { _new: true };\n        _this.label(d3.select(this));\n      })\n      .merge(this.entityLabels);\n  },\n\n  showCloseCross(d, show) {\n    const KEY = this.KEY;\n    //show the little cross on the selected label\n    this.entityLabels\n      .filter(f => d ? f[KEY] == d[KEY] : true)\n      .select(\".\" + this.options.CSS_PREFIX + \"-label-x\")\n      .classed(\"vzb-transparent\", !show);\n  },\n\n  highlight(d, highlight) {\n    const KEY = this.KEY;\n    let labels = this.entityLabels;\n    if (d) {\n      labels = labels.filter(f => d ? f[KEY] == d[KEY] : true);\n    }\n    labels.classed(\"vzb-highlighted\", highlight);\n  },\n\n  updateLabel(d, index, cache, valueX, valueY, valueS, valueC, valueL, valueLST, duration, showhide) {\n    const _this = this;\n    const KEY = this.KEY;\n    if (d[KEY] == _this.druging)\n      return;\n\n    const _cssPrefix = this.options.CSS_PREFIX;\n\n    // only for selected entities\n    if (_this.model.marker.isSelected(d) && _this.entityLabels != null) {\n      if (_this.cached[d[KEY]] == null) this.selectDataPoints();\n\n      const cached = _this.cached[d[KEY]];\n      if (cache) utils.extend(cached, cache);\n\n\n      if (cached.scaledS0 == null || cached.labelX0 == null || cached.labelY0 == null) { //initialize label once\n        if (valueS || valueS === 0) cached.scaledS0 = utils.areaToRadius(this.context.sScale(valueS));\n        cached.labelX0 = valueX;\n        cached.labelY0 = valueY;\n        cached.valueLST = valueLST;\n        cached.scaledC0 = valueC != null ? this.context.cScale(valueC) : this.context.COLOR_WHITEISH;\n      }\n\n      if (cached.labelX_ == null || cached.labelY_ == null)\n      {\n        const select = utils.find(_this.model.marker.select, f => f[KEY] == d[KEY]);\n        cached.labelOffset = select.labelOffset || [0, 0];\n      }\n\n      const brokenInputs = !cached.labelX0 && cached.labelX0 !== 0 || !cached.labelY0 && cached.labelY0 !== 0 || !cached.scaledS0 && cached.scaledS0 !== 0;\n\n      const lineGroup = _this.entityLines.filter(f => f[KEY] == d[KEY]);\n      // reposition label\n      _this.entityLabels.filter(f => f[KEY] == d[KEY])\n        .each(function(groupData) {\n\n          const labelGroup = d3.select(this);\n\n          if (brokenInputs) {\n            labelGroup.classed(\"vzb-invisible\", brokenInputs);\n            lineGroup.classed(\"vzb-invisible\", brokenInputs);\n            return;\n          }\n\n          const text = labelGroup.selectAll(\".\" + _cssPrefix + \"-label-content\")\n            .text(valueL);\n\n          _this._updateLabelSize(d, index, labelGroup, valueLST, text);\n\n          _this.positionLabel(d, index, this, duration, showhide, lineGroup);\n        });\n    }\n  },\n\n  _updateLabelSize(d, index, labelGroup, valueLST, text) {\n    const _this = this;\n    const KEY = this.KEY;\n    const cached = _this.cached[d[KEY]];\n\n\n    const _cssPrefix = this.options.CSS_PREFIX;\n\n    const labels = _this.model.ui.chart.labels || {};\n    labelGroup.classed(\"vzb-label-boxremoved\", labels.removeLabelBox);\n\n    const _text = text || labelGroup.selectAll(\".\" + _cssPrefix + \"-label-content\");\n\n    if (_this.labelSizeTextScale) {\n      if (valueLST != null) {\n        const range = _this.labelSizeTextScale.range();\n        const fontSize = range[0] + Math.sqrt((_this.labelSizeTextScale(valueLST) - range[0]) * (range[1] - range[0]));\n        _text.attr(\"font-size\", fontSize + \"px\");\n      } else {\n        _text.attr(\"font-size\", \"\");\n      }\n    }\n\n    const contentBBox = _text.node().getBBox();\n\n    const rect = labelGroup.selectAll(\"rect\");\n\n    if (!cached.textWidth || cached.textWidth != contentBBox.width) {\n      cached.textWidth = contentBBox.width;\n\n      const labelCloseHeight = _this._closeCrossHeight || contentBBox.height;//_this.activeProfile.infoElHeight * 1.2;//contentBBox.height;\n\n      const isRTL = _this.model.locale.isRTL();\n      const labelCloseGroup = labelGroup.select(\".\" + _cssPrefix + \"-label-x\")\n        .attr(\"transform\", \"translate(\" + (isRTL ? -contentBBox.width - 4 : 4) + \",\" + (-contentBBox.height * 0.85) + \")\");\n\n      this.updateLabelCloseGroupSize(labelCloseGroup, labelCloseHeight);\n\n      rect.attr(\"width\", contentBBox.width + 8)\n        .attr(\"height\", contentBBox.height * 1.2)\n        .attr(\"x\", -contentBBox.width - 4)\n        .attr(\"y\", -contentBBox.height * 0.85)\n        .attr(\"rx\", contentBBox.height * 0.2)\n        .attr(\"ry\", contentBBox.height * 0.2);\n\n      //cache label bound rect for reposition\n      cached.rectBBox = rect.node().getBBox();\n      //cached.moveX = 5;\n      //cached.moveY = contentBBox.height * .3;\n    }\n\n    const glowRect = labelGroup.select(\".vzb-label-glow\");\n    if (glowRect.attr(\"stroke\") !== cached.scaledC0) {\n      glowRect.attr(\"stroke\", cached.scaledC0);\n    }\n  },\n\n  updateLabelCloseGroupSize(labelCloseGroup, labelCloseHeight) {\n    labelCloseGroup.select(\"circle\")\n      .attr(\"cx\", /*contentBBox.height * .0 + */ 0)\n      .attr(\"cy\", 0)\n      .attr(\"r\", labelCloseHeight * 0.5);\n\n    labelCloseGroup.select(\"svg\")\n      .attr(\"x\", -labelCloseHeight * 0.5)\n      .attr(\"y\", labelCloseHeight * -0.5)\n      .attr(\"width\", labelCloseHeight)\n      .attr(\"height\", labelCloseHeight);\n\n  },\n\n  updateLabelsOnlyTextSize() {\n    const _this = this;\n    const KEY = this.KEY;\n\n    this.entityLabels.each(function(d, index) {\n      const cached = _this.cached[d[KEY]];\n      _this._updateLabelSize(d, index, d3.select(this), _this.context.frame.size_label[d[KEY]]);\n      const lineGroup = _this.entityLines.filter(f => f[KEY] == d[KEY]);\n      _this.positionLabel(d, index, this, 0, null, lineGroup);\n    });\n  },\n\n  updateLabelOnlyPosition(d, index, cache) {\n    const _this = this;\n    const KEY = this.KEY;\n    const cached = this.cached[d[KEY]];\n    if (cache) utils.extend(cached, cache);\n\n    const lineGroup = _this.entityLines.filter(f => f[KEY] == d[KEY]);\n\n    this.entityLabels.filter(f => f[KEY] == d[KEY])\n      .each(function(groupData) {\n        _this.positionLabel(d, index, this, 0, null, lineGroup);\n      });\n  },\n\n  updateLabelOnlyColor(d, index, cache) {\n    const _this = this;\n    const KEY = this.KEY;\n    const cached = this.cached[d[KEY]];\n    if (cache) utils.extend(cached, cache);\n\n    const labelGroup = _this.entityLabels.filter(f => f[KEY] == d[KEY]);\n\n    _this._updateLabelSize(d, index, labelGroup, null);\n\n  },\n\n  positionLabel(d, index, context, duration, showhide, lineGroup) {\n    const KEY = this.KEY;\n    const cached = this.cached[d[KEY]];\n\n    const viewWidth = this.context.width;\n    const viewHeight = this.context.height;\n\n    const resolvedX0 = this.xScale(cached.labelX0);\n    const resolvedY0 = this.yScale(cached.labelY0);\n\n    if (!cached.labelOffset) cached.labelOffset = [0, 0];\n    cached.labelX_ = cached.labelOffset[0] || (-cached.scaledS0 * 0.75 - 5) / viewWidth;\n    cached.labelY_ = cached.labelOffset[1] || (-cached.scaledS0 * 0.75 - 11) / viewHeight;\n\n    //check default label position and switch to mirror position if position\n    //does not bind to visible field\n\n    let resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n    if (cached.labelOffset[0] == 0) {\n      if (resolvedX - cached.rectBBox.width <= 0) { //check left\n        cached.labelX_ = (cached.scaledS0 * 0.75 + cached.rectBBox.width) / viewWidth;\n        resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n      } else if (resolvedX + 15 > viewWidth) { //check right\n        cached.labelX_ = (viewWidth - 15 - resolvedX0) / viewWidth;\n        resolvedX = resolvedX0 + cached.labelX_ * viewWidth;\n      }\n    }\n    let resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n    if (cached.labelOffset[1] == 0) {\n      if (resolvedY - cached.rectBBox.height <= 0) { // check top\n        cached.labelY_ = (cached.scaledS0 * 0.75 + cached.rectBBox.height) / viewHeight;\n        resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n      } else if (resolvedY + 10 > viewHeight) { //check bottom\n        cached.labelY_ = (viewHeight - 10 - resolvedY0) / viewHeight;\n        resolvedY = resolvedY0 + cached.labelY_ * viewHeight;\n      }\n    }\n    this.label._repositionLabels(d, index, context, resolvedX, resolvedY, resolvedX0, resolvedY0, duration, showhide, lineGroup);\n  },\n\n  updateSize() {\n    const profiles = {\n      small: {\n        minLabelTextSize: 7,\n        maxLabelTextSize: 21,\n        defaultLabelTextSize: 12,\n        labelLeashCoeff: 0.4\n      },\n      medium: {\n        minLabelTextSize: 7,\n        maxLabelTextSize: 30,\n        defaultLabelTextSize: 15,\n        labelLeashCoeff: 0.3\n      },\n      large: {\n        minLabelTextSize: 6,\n        maxLabelTextSize: 48,\n        defaultLabelTextSize: 20,\n        labelLeashCoeff: 0.2\n      }\n    };\n\n    const presentationProfiles = {\n      medium: {\n        minLabelTextSize: 15,\n        maxLabelTextSize: 35,\n        defaultLabelTextSize: 15,\n        labelLeashCoeff: 0.3\n      },\n      large: {\n        minLabelTextSize: 20,\n        maxLabelTextSize: 55,\n        defaultLabelTextSize: 20,\n        labelLeashCoeff: 0.2\n      }\n    };\n\n    this.activeProfile = this.context.getActiveProfile(profiles, presentationProfiles);\n    this.updateLabelSizeLimits();\n  }\n\n});\n\nexport default Labels;\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/labels.js","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css.escape/css.escape.js\n// module id = 400\n// module chunks = 0","import Class from 'base/class';\n\nvar prefix = \"\";\nvar deleteClasses = [];\nvar SVGHEADER = '<?xml version=\"1.0\" encoding=\"utf-8\"?>';\n\nexport default Class.extend({\n\n  init: function(context) {\n    this.context = context;\n    this.shapes = [];\n    this.groups = [];\n    this.counter = 0;\n    this.name = \"\";\n    this.label = \"\";\n  },\n\n  reset: function() {\n    this.container.remove();\n    this.context.element.selectAll(\".vzb-export-redball\").remove();\n    this.context.element.selectAll(\".vzb-export-counter\").remove();\n    this.counter = 0;\n  },\n\n  prefix: function(arg) {\n    if (!arguments.length) return prefix;\n    prefix = arg;\n    return this;\n  },\n  deleteClasses: function(arg) {\n    if (!arguments.length) return deleteClasses;\n    deleteClasses = arg;\n    return this;\n  },\n\n  open: function(element, name) {\n    var _this = this;\n\n    //reset if some exports exists on opening\n    if (this.svg) this.reset();\n\n    if (!element) element = this.context.element;\n    if (!name) name = this.context.name;\n    this.name = name;\n\n    var width = parseInt(element.style(\"width\"), 10) || 0;\n    var height = parseInt(element.style(\"height\"), 10) || 0;\n\n    this.container = element.append(\"div\").attr(\"class\", \"vzb-svg-export\");\n    this.svg = this.container.node().appendChild(element.select(\"svg\").node().cloneNode(true));\n    this.svg = d3.select(this.svg);\n    this.svg\n      .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\n      .attr(\"version\", \"1.1\")\n      .attr(\"param1\", \"http://www.w3.org/2000/svg\")\n      .attr(\"param2\", \"http://www.w3.org/1999/xlink\")\n      .attr(\"x\", \"0px\")\n      .attr(\"y\", \"0px\")\n      .attr(\"style\", \"enable-background:new \" + \"0 0 \" + width + \" \" + height)\n      .attr(\"xml:space\", \"preserve\");\n\n    this.redBall = element.append(\"div\")\n      .attr(\"class\", \"vzb-export-redball\")\n      .style(\"position\", \"absolute\")\n      .style(\"top\", \"20px\")\n      .style(\"right\", \"20px\")\n      .style(\"width\", \"20px\")\n      .style(\"height\", \"20px\")\n      .style(\"background\", \"red\")\n      .style(\"color\", \"white\")\n      .style(\"text-align\", \"center\")\n      .style(\"border-radius\", \"10px\")\n      .style(\"font-size\", \"14px\")\n      .style(\"line-height\", \"20px\")\n      .style(\"opacity\", .8)\n      .style(\"cursor\", \"pointer\")\n      .on(\"mouseover\", function() {\n        d3.select(this).style(\"opacity\", 1).text(\"▼\");\n        _this.counterEl.text(\"Download\");\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this).style(\"opacity\", .8).text(\"\");\n        _this.counterEl.text(_this.label);\n      })\n      .on(\"click\", function() {\n        _this.close();\n      });\n\n    this.counterEl = element.append(\"div\")\n      .attr(\"class\", \"vzb-export-counter\")\n      .style(\"position\", \"absolute\")\n      .style(\"top\", \"20px\")\n      .style(\"right\", \"45px\")\n      .style(\"color\", \"red\")\n      .style(\"opacity\", .8)\n      .style(\"line-height\", \"20px\")\n      .style(\"font-size\", \"14px\")\n      .style(\"text-align\", \"center\");\n\n\n    this.root = this.svg.select(\".\" + prefix + \"graph\");\n\n    this.root.selectAll(\"g, text, svg, line, rect\")\n      .filter(function() {\n        var view = d3.select(this);\n        var result = false;\n        deleteClasses.forEach(function(one) {\n          result = result || view.classed(one);\n        });\n        return result;\n      })\n      .remove();\n\n    this.svg.selectAll(\".tick line\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#999\");\n    this.svg.selectAll(\".\" + prefix + \"axis-x path\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#999\");\n    this.svg.selectAll(\".\" + prefix + \"axis-y path\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#999\");\n  },\n\n  write: function(me) {\n    var groupBy = \"time\";\n\n    if (!this.root) this.open();\n\n    //avoid writing the same thing again\n    if (this.shapes.indexOf(me.id + \"_\" + me.time) > -1) return;\n\n    this.shapes.push(me.id + \"_\" + me.time);\n\n\n    // check if need to create a new group and do so\n    if (this.groups.indexOf(me[groupBy]) == -1) {\n      this.root.append(\"g\").attr(\"id\", \"g_\" + me[groupBy]);\n      this.groups.push(me[groupBy]);\n    }\n\n    // put a marker into the group\n    if (me.opacity == null) me.opacity = .5;\n    if (me.fill == null) me.fill = \"#ff80dd\";\n\n    var marker = this.root.select(\"#g_\" + me[groupBy])\n      .append(me.type)\n      .attr(\"id\", me.id + \"_\" + me.time)\n      .style(\"fill\", me.fill)\n      .style(\"opacity\", me.opacity);\n\n    switch (me.type) {\n      case \"path\":\n        marker\n          .attr(\"d\", me.d);\n        break;\n\n      case \"circle\":\n        marker\n          .attr(\"cx\", me.cx)\n          .attr(\"cy\", me.cy)\n          .attr(\"r\", me.r);\n        break;\n    }\n\n    this.counter++;\n    this.redBall.style(\"opacity\", this.counter % 10 / 12 + .2);\n    this.label = me.type + \" shapes: \" + this.counter;\n    this.counterEl.text(this.label);\n  },\n\n  close: function() {\n\n    var result = SVGHEADER + \" \" + this.container.node().innerHTML\n      .replace(\"param1\", \"xmlns\")\n      .replace(\"param2\", \"xmlns:xlink\")\n      //round all numbers in SVG code\n      .replace(/\\d+(\\.\\d+)/g, function(x) {\n        return Math.round(+x * 100) / 100 + \"\";\n      });\n\n\n    if (result.length / 1024 / 1024 > 2) {\n\n      alert(\"The file size is \" + Math.round(result.length / 1024) +\n        \"kB, which is too large to download. Will try to print it in the console instead...\");\n      console.log(result);\n\n    } else {\n\n      var link = document.createElement('a');\n      link.download = this.name + \" \" + this.counter + \" shapes\" + \".svg\";\n      link.href = 'data:,' + result;\n      link.click();\n    }\n  }\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/svgexport.js","import Class from \"base/class\";\n\nconst TextEllipsis = Class.extend({\n\n  init(context) {\n    this.context = context;\n    this.interact = this._createInteract();\n  },\n\n  setTooltip(tooltip) {\n    this.tooltip = tooltip;\n  },\n\n  _createInteract() {\n    const _this = this;\n    return {\n      mouseOver() {\n        const evt = d3.event;\n        const mouse = d3.mouse(_this.context.element.node());\n        _this._setTooltip(d3.select(evt.srcElement).attr(\"data-text\"), mouse[0], mouse[1]);\n      },\n      mouseOut() {\n        _this._setTooltip();\n      },\n      tap() {\n\n      }\n    };\n  },\n\n  _setTooltip(tooltipText, x, y) {\n    if (tooltipText) {\n\n      //position tooltip\n      this.tooltip.classed(\"vzb-hidden\", false)\n      //.attr(\"style\", \"left:\" + (mouse[0] + 50) + \"px;top:\" + (mouse[1] + 50) + \"px\")\n        .selectAll(\"text\")\n        .text(tooltipText);\n\n      const contentBBox = this.tooltip.select(\"text\").node().getBBox();\n      if (x - contentBBox.width < 0) {\n        x += contentBBox.width + 5; // corrective to the block Radius and text padding\n      } else {\n        x -= 5; // corrective to the block Radius and text padding\n      }\n      if (y - contentBBox.height < 0) {\n        y += contentBBox.height;\n      } else {\n        y -= 11; // corrective to the block Radius and text padding\n      }\n\n      this.tooltip.attr(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n\n      this.tooltip.selectAll(\"rect\")\n        .attr(\"width\", contentBBox.width + 8)\n        .attr(\"height\", contentBBox.height * 1.2)\n        .attr(\"x\", -contentBBox.width - 4)\n        .attr(\"y\", -contentBBox.height * 0.85)\n        .attr(\"rx\", contentBBox.height * 0.2)\n        .attr(\"ry\", contentBBox.height * 0.2);\n\n    } else {\n      this.tooltip.classed(\"vzb-hidden\", true);\n    }\n  },\n\n  clear(selection) {\n    selection.attr(\"data-text\", null);\n  },\n\n  wrap(_this, width) {\n    const textEl = d3.select(_this);\n\n    const abs = Math.abs;\n    let initialText = textEl.attr(\"data-text\");\n    if (!initialText) {\n      initialText = textEl.text();\n      textEl.attr(\"data-text\", initialText);\n    }\n    textEl.text(initialText);\n    let text = initialText;\n    let textLength = text.length;\n    let textWidth = textEl.node().getComputedTextLength();\n\n    while (width - textWidth <= 0 && text !== \"\") {\n      text = (textWidth >= width) ? text.slice(0, -abs(textLength * 0.5)) : initialText.slice(0, abs(textLength * 0.5));\n      textEl.text(text + \"…\");\n      textWidth = textEl.node().getComputedTextLength();\n      textLength = text.length;\n    }\n\n    if (text !== initialText) {\n      if (text === \"\") {\n        textEl.text(initialText[0]);\n      }\n      textEl\n        .on(\"mouseover.tooltip\", this.interact.mouseOver)\n        .on(\"mouseout.tooltip\", this.interact.mouseOut)\n        .style(\"pointer-events\", \"all\");\n    } else {\n      textEl\n        .on(\"mouseover.tooltip\", null)\n        .on(\"mouseout.tooltip\", null)\n        .style(\"pointer-events\", null);\n    }\n  }\n\n});\n\nexport default TextEllipsis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/textEllipsis.js","// topojson\nexport default(function() {\n  var topojson = {\n    version: \"1.6.19\",\n    mesh: function(topology) {\n       return object(topology, meshArcs.apply(this, arguments));\n    },\n    meshArcs: meshArcs,\n    merge: function(topology) {\n      return object(topology, mergeArcs.apply(this, arguments));\n    },\n    mergeArcs: mergeArcs,\n    feature: featureOrCollection,\n    neighbors: neighbors,\n    presimplify: presimplify\n  };\n\n  function stitchArcs(topology, arcs) {\n    var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n    // Stitch empty arcs first, since they may be subsumed by other arcs.\n    arcs.forEach(function(i, j) {\n      var arc = topology.arcs[i < 0 ? ~i : i],\n        t;\n      if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n        t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n      }\n    });\n\n    arcs.forEach(function(i) {\n      var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n      if (f = fragmentByEnd[start]) {\n        delete fragmentByEnd[f.end];\n        f.push(i);\n        f.end = end;\n        if (g = fragmentByStart[end]) {\n          delete fragmentByStart[g.start];\n          var fg = g === f ? f : f.concat(g);\n          fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n        } else {\n          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n        }\n      } else if (f = fragmentByStart[end]) {\n        delete fragmentByStart[f.start];\n        f.unshift(i);\n        f.start = start;\n        if (g = fragmentByEnd[start]) {\n          delete fragmentByEnd[g.end];\n          var gf = g === f ? f : g.concat(f);\n          fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n        } else {\n          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n        }\n      } else {\n        f = [i];\n        fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n      }\n    });\n\n    function ends(i) {\n      var arc = topology.arcs[i < 0 ? ~i : i],\n        p0 = arc[0],\n        p1;\n      if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) {\n        p1[0] += dp[0], p1[1] += dp[1];\n      });\n      else p1 = arc[arc.length - 1];\n      return i < 0 ? [p1, p0] : [p0, p1];\n    }\n\n    function flush(fragmentByEnd, fragmentByStart) {\n      for (var k in fragmentByEnd) {\n        var f = fragmentByEnd[k];\n        delete fragmentByStart[f.start];\n        delete f.start;\n        delete f.end;\n        f.forEach(function(i) {\n          stitchedArcs[i < 0 ? ~i : i] = 1;\n        });\n        fragments.push(f);\n      }\n    }\n\n    flush(fragmentByEnd, fragmentByStart);\n    flush(fragmentByStart, fragmentByEnd);\n    arcs.forEach(function(i) {\n      if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]);\n    });\n\n    return fragments;\n  }\n\n  function meshArcs(topology, o, filter) {\n    var arcs = [];\n\n    function arc(i) {\n      var j = i < 0 ? ~i : i;\n      (geomsByArc[j] || (geomsByArc[j] = [])).push({\n        i: i,\n        g: geom\n      });\n    }\n\n    function line(arcs) {\n      arcs.forEach(arc);\n    }\n\n    function polygon(arcs) {\n      arcs.forEach(line);\n    }\n\n    function geometry(o) {\n      if (o.type === \"GeometryCollection\") o.geometries.forEach(geometry);\n      else if (o.type in geometryType) geom = o, geometryType[o.type](o.arcs);\n    }\n\n    if (arguments.length > 1) {\n      var geomsByArc = [],\n        geom;\n\n      var geometryType = {\n        LineString: line,\n        MultiLineString: polygon,\n        Polygon: polygon,\n        MultiPolygon: function(arcs) {\n          arcs.forEach(polygon);\n        }\n      };\n\n      geometry(o);\n\n      geomsByArc.forEach(arguments.length < 3 ? function(geoms) {\n        arcs.push(geoms[0].i);\n      } : function(geoms) {\n        if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i);\n      });\n    } else {\n      for (var i = 0, n = topology.arcs.length; i < n; ++i) arcs.push(i);\n    }\n\n    return {\n      type: \"MultiLineString\",\n      arcs: stitchArcs(topology, arcs)\n    };\n  }\n\n  function mergeArcs(topology, objects) {\n    var polygonsByArc = {},\n      polygons = [],\n      components = [];\n\n    objects.forEach(function(o) {\n      if (o.type === \"Polygon\") register(o.arcs);\n      else if (o.type === \"MultiPolygon\") o.arcs.forEach(register);\n    });\n\n    function register(polygon) {\n      polygon.forEach(function(ring) {\n        ring.forEach(function(arc) {\n          (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n        });\n      });\n      polygons.push(polygon);\n    }\n\n    function exterior(ring) {\n      return cartesianRingArea(object(topology, {\n        type: \"Polygon\",\n        arcs: [ring]\n      }).coordinates[0]) > 0; // TODO allow spherical?\n    }\n\n    polygons.forEach(function(polygon) {\n      if (!polygon._) {\n        var component = [],\n          neighbors = [polygon];\n        polygon._ = 1;\n        components.push(component);\n        while (polygon = neighbors.pop()) {\n          component.push(polygon);\n          polygon.forEach(function(ring) {\n            ring.forEach(function(arc) {\n              polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n                if (!polygon._) {\n                  polygon._ = 1;\n                  neighbors.push(polygon);\n                }\n              });\n            });\n          });\n        }\n      }\n    });\n\n    polygons.forEach(function(polygon) {\n      delete polygon._;\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      arcs: components.map(function(polygons) {\n        var arcs = [];\n\n        // Extract the exterior (unique) arcs.\n        polygons.forEach(function(polygon) {\n          polygon.forEach(function(ring) {\n            ring.forEach(function(arc) {\n              if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n                arcs.push(arc);\n              }\n            });\n          });\n        });\n\n        // Stitch the arcs into one or more rings.\n        arcs = stitchArcs(topology, arcs);\n\n        // If more than one ring is returned,\n        // at most one of these rings can be the exterior;\n        // this exterior ring has the same winding order\n        // as any exterior ring in the original polygons.\n        if ((n = arcs.length) > 1) {\n          var sgn = exterior(polygons[0][0]);\n          for (var i = 0, t; i < n; ++i) {\n            if (sgn === exterior(arcs[i])) {\n              t = arcs[0], arcs[0] = arcs[i], arcs[i] = t;\n              break;\n            }\n          }\n        }\n\n        return arcs;\n      })\n    };\n  }\n\n  function featureOrCollection(topology, o) {\n    return o.type === \"GeometryCollection\" ? {\n      type: \"FeatureCollection\",\n      features: o.geometries.map(function(o) {\n        return feature(topology, o);\n      })\n    } : feature(topology, o);\n  }\n\n  function feature(topology, o) {\n    var f = {\n      type: \"Feature\",\n      id: o.id,\n      properties: o.properties || {},\n      geometry: object(topology, o)\n    };\n    if (o.id == null) delete f.id;\n    return f;\n  }\n\n  function object(topology, o) {\n    var absolute = transformAbsolute(topology.transform),\n      arcs = topology.arcs;\n\n    function arc(i, points) {\n      if (points.length) points.pop();\n      for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length, p; k < n; ++k) {\n        points.push(p = a[k].slice());\n        absolute(p, k);\n      }\n      if (i < 0) reverse(points, n);\n    }\n\n    function point(p) {\n      p = p.slice();\n      absolute(p, 0);\n      return p;\n    }\n\n    function line(arcs) {\n      var points = [];\n      for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n      if (points.length < 2) points.push(points[0].slice());\n      return points;\n    }\n\n    function ring(arcs) {\n      var points = line(arcs);\n      while (points.length < 4) points.push(points[0].slice());\n      return points;\n    }\n\n    function polygon(arcs) {\n      return arcs.map(ring);\n    }\n\n    function geometry(o) {\n      var t = o.type;\n      return t === \"GeometryCollection\" ? {\n        type: t,\n        geometries: o.geometries.map(geometry)\n      } : t in geometryType ? {\n        type: t,\n        coordinates: geometryType[t](o)\n      } : null;\n    }\n\n    var geometryType = {\n      Point: function(o) {\n        return point(o.coordinates);\n      },\n      MultiPoint: function(o) {\n        return o.coordinates.map(point);\n      },\n      LineString: function(o) {\n        return line(o.arcs);\n      },\n      MultiLineString: function(o) {\n        return o.arcs.map(line);\n      },\n      Polygon: function(o) {\n        return polygon(o.arcs);\n      },\n      MultiPolygon: function(o) {\n        return o.arcs.map(polygon);\n      }\n    };\n\n    return geometry(o);\n  }\n\n  function reverse(array, n) {\n    var t, j = array.length,\n      i = j - n;\n    while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n  }\n\n  function bisect(a, x) {\n    var lo = 0,\n      hi = a.length;\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (a[mid] < x) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function neighbors(objects) {\n    var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() {\n        return [];\n      });\n\n    function line(arcs, i) {\n      arcs.forEach(function(a) {\n        if (a < 0) a = ~a;\n        var o = indexesByArc[a];\n        if (o) o.push(i);\n        else indexesByArc[a] = [i];\n      });\n    }\n\n    function polygon(arcs, i) {\n      arcs.forEach(function(arc) {\n        line(arc, i);\n      });\n    }\n\n    function geometry(o, i) {\n      if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) {\n        geometry(o, i);\n      });\n      else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n    }\n\n    var geometryType = {\n      LineString: line,\n      MultiLineString: polygon,\n      Polygon: polygon,\n      MultiPolygon: function(arcs, i) {\n        arcs.forEach(function(arc) {\n          polygon(arc, i);\n        });\n      }\n    };\n\n    objects.forEach(geometry);\n\n    for (var i in indexesByArc) {\n      for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n        for (var k = j + 1; k < m; ++k) {\n          var ij = indexes[j],\n            ik = indexes[k],\n            n;\n          if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n          if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n        }\n      }\n    }\n\n    return neighbors;\n  }\n\n  function presimplify(topology, triangleArea) {\n    var absolute = transformAbsolute(topology.transform),\n      relative = transformRelative(topology.transform),\n      heap = minAreaHeap();\n\n    if (!triangleArea) triangleArea = cartesianTriangleArea;\n\n    topology.arcs.forEach(function(arc) {\n      var triangles = [],\n        maxArea = 0,\n        triangle;\n\n      // To store each point鈥檚 effective area, we create a new array rather than\n      // extending the passed-in point to workaround a Chrome/V8 bug (getting\n      // stuck in smi mode). For midpoints, the initial effective area of\n      // Infinity will be computed in the next step.\n      for (var i = 0, n = arc.length, p; i < n; ++i) {\n        p = arc[i];\n        absolute(arc[i] = [p[0], p[1], Infinity], i);\n      }\n\n      for (var i = 1, n = arc.length - 1; i < n; ++i) {\n        triangle = arc.slice(i - 1, i + 2);\n        triangle[1][2] = triangleArea(triangle);\n        triangles.push(triangle);\n        heap.push(triangle);\n      }\n\n      for (var i = 0, n = triangles.length; i < n; ++i) {\n        triangle = triangles[i];\n        triangle.previous = triangles[i - 1];\n        triangle.next = triangles[i + 1];\n      }\n\n      while (triangle = heap.pop()) {\n        var previous = triangle.previous,\n          next = triangle.next;\n\n        // If the area of the current point is less than that of the previous point\n        // to be eliminated, use the latter's area instead. This ensures that the\n        // current point cannot be eliminated without eliminating previously-\n        // eliminated points.\n        if (triangle[1][2] < maxArea) triangle[1][2] = maxArea;\n        else maxArea = triangle[1][2];\n\n        if (previous) {\n          previous.next = next;\n          previous[2] = triangle[2];\n          update(previous);\n        }\n\n        if (next) {\n          next.previous = previous;\n          next[0] = triangle[0];\n          update(next);\n        }\n      }\n\n      arc.forEach(relative);\n    });\n\n    function update(triangle) {\n      heap.remove(triangle);\n      triangle[1][2] = triangleArea(triangle);\n      heap.push(triangle);\n    }\n\n    return topology;\n  }\n\n  function cartesianRingArea(ring) {\n    var i = -1,\n      n = ring.length,\n      a,\n      b = ring[n - 1],\n      area = 0;\n\n    while (++i < n) {\n      a = b;\n      b = ring[i];\n      area += a[0] * b[1] - a[1] * b[0];\n    }\n\n    return area * .5;\n  }\n\n  function cartesianTriangleArea(triangle) {\n    var a = triangle[0],\n      b = triangle[1],\n      c = triangle[2];\n    return Math.abs((a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]));\n  }\n\n  function compareArea(a, b) {\n    return a[1][2] - b[1][2];\n  }\n\n  function minAreaHeap() {\n    var heap = {},\n      array = [],\n      size = 0;\n\n    heap.push = function(object) {\n      up(array[object._ = size] = object, size++);\n      return size;\n    };\n\n    heap.pop = function() {\n      if (size <= 0) return;\n      var removed = array[0],\n        object;\n      if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n      return removed;\n    };\n\n    heap.remove = function(removed) {\n      var i = removed._,\n        object;\n      if (array[i] !== removed) return; // invalid request\n      if (i !== --size) object = array[size], (compareArea(object, removed) < 0 ? up : down)(array[object._ = i] =\n        object, i);\n      return i;\n    };\n\n    function up(object, i) {\n      while (i > 0) {\n        var j = ((i + 1) >> 1) - 1,\n          parent = array[j];\n        if (compareArea(object, parent) >= 0) break;\n        array[parent._ = i] = parent;\n        array[object._ = i = j] = object;\n      }\n    }\n\n    function down(object, i) {\n      while (true) {\n        var r = (i + 1) << 1,\n          l = r - 1,\n          j = i,\n          child = array[j];\n        if (l < size && compareArea(array[l], child) < 0) child = array[j = l];\n        if (r < size && compareArea(array[r], child) < 0) child = array[j = r];\n        if (j === i) break;\n        array[child._ = i] = child;\n        array[object._ = i = j] = object;\n      }\n    }\n\n    return heap;\n  }\n\n  function transformAbsolute(transform) {\n    if (!transform) return noop;\n    var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n    return function(point, i) {\n      if (!i) x0 = y0 = 0;\n      point[0] = (x0 += point[0]) * kx + dx;\n      point[1] = (y0 += point[1]) * ky + dy;\n    };\n  }\n\n  function transformRelative(transform) {\n    if (!transform) return noop;\n    var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n    return function(point, i) {\n      if (!i) x0 = y0 = 0;\n      var x1 = (point[0] - dx) / kx | 0,\n        y1 = (point[1] - dy) / ky | 0;\n      point[0] = x1 - x0;\n      point[1] = y1 - y0;\n      x0 = x1;\n      y0 = y1;\n    };\n  }\n\n  function noop() {}\n\n  return topojson;\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/topojson.js"],"sourceRoot":""}